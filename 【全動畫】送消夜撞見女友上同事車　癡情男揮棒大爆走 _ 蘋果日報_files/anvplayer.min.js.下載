/*!
 * Anvato Universal Player v3.2.8
 * anvplayer.min.js
 * Copyright 2018-2019
 */
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.0+f9a5575b
 */

/*!
   * Copyright Mathias Bynens <https://mathiasbynens.be/>
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   *
   */

/*!
   * MIT License
   * Copyright (c) 2017 Behnam Mohammadi
   * Permission is hereby granted, free of charge, to any person obtaining a
   * copy of this software and associated documentation files (the "Software"),
   * to deal in the Software without restriction, including without limitation
   * the rights to use, copy, modify, merge, publish, distribute, sublicense,
   * and/or sell copies of the Software, and to permit persons to whom the
   * Software is furnished to do so, subject to the following conditions: The
   * above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED
   * "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT
   * NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
   * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
   * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
   * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
   * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   */

/*!
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2015 Richard Moore
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 */

/*!
       * A fast MD5 JavaScript implementation
       * Copyright (c) 2012 Joseph Myers
       * http://www.myersdaily.org/joseph/javascript/md5-text.html
       *
       * Permission to use, copy, modify, and distribute this software
       * and its documentation for any purposes and without
       * fee is hereby granted provided that this copyright notice
       * appears in all copies.
       *
       * Of course, this soft is provided "as is" without express or implied
       * warranty of any kind.
       */

/**
     * sets mediaKeys and populates browsers support for various license servers
     * @param id
     * @param supported
     * @param video
     * @returns {Promise}
     */

// tkx will not reveal the license server type

/**
         * Sets mediaKeys and populates browsers support for various license
         * servers
         * @param {String} id DRM provider id
         * @param {Object} supported Map for keeping the DRM provider support
         * @param {HTMLElement} video Video element
         * @param {Boolean} detectionOnly flag set to prevent reject to get all drm
         * support
         * @returns {Promise}
         */

// TODO: looks like only message handler is varying between license

// This takes the place of a license server.

// Parse the clearkey license request.

// A real license server could easily serve multiple keys.

// If you had a license server, you would make an asynchronous

// session.update(). Instead, we will generate the license

// tkx will not reveal the license server type since it can

/*

 Copyright 2016 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/

/*!
 * https://github.com/mikach/requirejs-babel/blob/master/package.json@2dd98b8
 * "author": "Michael <mikach27@gmail.com>",
 * "license": "MIT"
 */

/*!
 * clipboard.js v1.7.1
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT Â© Zeno Rocha
 */

/*!
 * Mediator.js Library v0.9.5
 * https://github.com/ajacksified/Mediator.js
 *
 * Copyright 2013, Jack Lawson
 * MIT Licensed (http://www.opensource.org/licenses/mit-license.php)
 *
 * For more information:
 * http://thejacklawson.com/2011/06/mediators-for-modularized-asynchronous-programming-in-javascript/index.html
 * Project on GitHub: https://github.com/ajacksified/Mediator.js
 *
 * Last update: June 13 2013
 */

/**
 * Copyright 2017 Google Inc. All Rights Reserved.
 * @author daxisc@google.com (Daxi Li)
 */

// TODO: make sure the following is MIT license and convert to /*! notation

// to preserve the license Joyent copyright applies to readFloat and

// Copyright Joyent, Inc. and other Node contributors.

// distribute, sublicense, and/or sell copies of the Software, and to permit

// The above copyright notice and this permission notice shall be included

function bind(e,t,n,r){e.addEventListener?(r=void 0!==r&&r,e.addEventListener(t,n,r)):e.attachEvent("on"+t,n)}function merge(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r}var requirejs,require,define;!function(e){function t(e,t){return m.call(e,t)}function n(e,t){var n,r,i,a,o,s,l,A,d,c,u=t&&t.split("/"),g=p.map,f=g&&g["*"]||{};if(e&&"."===e.charAt(0))if(t){for(u=u.slice(0,u.length-1),e=u.concat(e.split("/")),A=0;A<e.length;A+=1)if("."===(c=e[A]))e.splice(A,1),A-=1;else if(".."===c){if(1===A&&(".."===e[2]||".."===e[0]))break;A>0&&(e.splice(A-1,2),A-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((u||f)&&g){for(n=e.split("/"),A=n.length;A>0;A-=1){if(r=n.slice(0,A).join("/"),u)for(d=u.length;d>0;d-=1)if((i=g[u.slice(0,d).join("/")])&&(i=i[r])){a=i,o=A;break}if(a)break;!s&&f&&f[r]&&(s=f[r],l=A)}!a&&s&&(a=s,o=l),a&&(n.splice(0,o,a),e=n.join("/"))}return e}function r(t,n){return function(){return d.apply(e,E.call(arguments,0).concat([t,n]))}}function i(e){return function(t){return n(t,e)}}function a(e){return function(t){g[e]=t}}function o(n){if(t(f,n)){var r=f[n];delete f[n],h[n]=!0,A.apply(e,r)}if(!t(g,n)&&!t(h,n))throw new Error("No "+n);return g[n]}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function l(e){return function(){return p&&p.config&&p.config[e]||{}}}var A,d,c,u,g={},f={},p={},h={},m=Object.prototype.hasOwnProperty,E=[].slice;c=function(e,t){var r,a=s(e),l=a[0];return e=a[1],l&&(l=n(l,t),r=o(l)),l?e=r&&r.normalize?r.normalize(e,i(t)):n(e,t):(e=n(e,t),a=s(e),l=a[0],e=a[1],l&&(r=o(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:r}},u={require:function(e){return r(e)},exports:function(e){var t=g[e];return void 0!==t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:l(e)}}},A=function(n,i,s,l){var A,d,p,m,E,I,y=[];if(l=l||n,"function"==typeof s){for(i=!i.length&&s.length?["require","exports","module"]:i,E=0;E<i.length;E+=1)if(m=c(i[E],l),"require"===(d=m.f))y[E]=u.require(n);else if("exports"===d)y[E]=u.exports(n),I=!0;else if("module"===d)A=y[E]=u.module(n);else if(t(g,d)||t(f,d)||t(h,d))y[E]=o(d);else{if(!m.p)throw new Error(n+" missing "+d);m.p.load(m.n,r(l,!0),a(d),{}),y[E]=g[d]}p=s.apply(g[n],y),n&&(A&&A.exports!==e&&A.exports!==g[n]?g[n]=A.exports:p===e&&I||(g[n]=p))}else n&&(g[n]=s)},requirejs=require=d=function(t,n,r,i,a){return"string"==typeof t?u[t]?u[t](n):o(c(t,n).f):(t.splice||(p=t,n.splice?(t=n,n=r,r=null):t=e),n=n||function(){},"function"==typeof r&&(r=i,i=a),i?A(e,t,n,r):setTimeout(function(){A(e,t,n,r)},4),d)},d.config=function(e){return p=e,p.deps&&d(p.deps,p.callback),d},requirejs._defined=g,define=function(e,n,r){n.splice||(r=n,n=[]),t(g,e)||t(f,e)||(f[e]=[e,n,r])},define.amd={jQuery:!0}}(),define("almond",function(){}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Promise",t):e.ES6Promise=t()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(e){V=e}function r(e){H=e}function i(){return void 0!==G?function(){G(o)}:a()}function a(){var e=setTimeout;return function(){return e(o,1)}}function o(){for(var e=0;e<x;e+=2){(0,W[e])(W[e+1]),W[e]=void 0,W[e+1]=void 0}x=0}function s(e,t){var n=arguments,r=this,i=new this.constructor(A);void 0===i[Z]&&T(i);var a=r._state;return a?function(){var e=n[a-1];H(function(){return w(a,i,e,r._result)})}():v(r,i,e,t),i}function l(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(A);return m(n,e),n}function A(){}function d(){return new TypeError("You cannot resolve a promise with itself")}function c(){return new TypeError("A promises callback cannot return that same promise.")}function u(e){try{return e.then}catch(e){return te.error=e,te}}function g(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function f(e,t,n){H(function(e){var r=!1,i=g(n,t,function(n){r||(r=!0,t!==n?m(e,n):I(e,n))},function(t){r||(r=!0,y(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,y(e,i))},e)}function p(e,t){t._state===$?I(e,t._result):t._state===ee?y(e,t._result):v(t,void 0,function(t){return m(e,t)},function(t){return y(e,t)})}function h(e,n,r){n.constructor===e.constructor&&r===s&&n.constructor.resolve===l?p(e,n):r===te?(y(e,te.error),te.error=null):void 0===r?I(e,n):t(r)?f(e,n,r):I(e,n)}function m(t,n){t===n?y(t,d()):e(n)?h(t,n,u(n)):I(t,n)}function E(e){e._onerror&&e._onerror(e._result),C(e)}function I(e,t){e._state===X&&(e._result=t,e._state=$,0!==e._subscribers.length&&H(C,e))}function y(e,t){e._state===X&&(e._state=ee,e._result=t,H(E,e))}function v(e,t,n,r){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+$]=n,i[a+ee]=r,0===a&&e._state&&H(C,e)}function C(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,a=e._result,o=0;o<t.length;o+=3)r=t[o],i=t[o+n],r?w(n,r,i,a):i(a);e._subscribers.length=0}}function b(){this.error=null}function B(e,t){try{return e(t)}catch(e){return ne.error=e,ne}}function w(e,n,r,i){var a=t(r),o=void 0,s=void 0,l=void 0,A=void 0;if(a){if(o=B(r,i),o===ne?(A=!0,s=o.error,o.error=null):l=!0,n===o)return void y(n,c())}else o=i,l=!0;n._state!==X||(a&&l?m(n,o):A?y(n,s):e===$?I(n,o):e===ee&&y(n,o))}function S(e,t){try{t(function(t){m(e,t)},function(t){y(e,t)})}catch(t){y(e,t)}}function Q(){return re++}function T(e){e[Z]=re++,e._state=void 0,e._result=void 0,e._subscribers=[]}function D(e,t){this._instanceConstructor=e,this.promise=new e(A),this.promise[Z]||T(this.promise),U(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?I(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&I(this.promise,this._result))):y(this.promise,k())}function k(){return new Error("Array Methods must be provided an Array")}function R(e){return new D(this,e).promise}function _(e){var t=this;return new t(U(e)?function(n,r){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function M(e){var t=this,n=new t(A);return y(n,e),n}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function L(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function O(e){this[Z]=Q(),this._result=this._state=void 0,this._subscribers=[],A!==e&&("function"!=typeof e&&N(),this instanceof O?S(this,e):L())}function P(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=O}var F=void 0;F=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var U=F,x=0,G=void 0,V=void 0,H=function(e,t){W[x]=e,W[x+1]=t,2===(x+=2)&&(V?V(o):z())},j="undefined"!=typeof window?window:void 0,Y=j||{},K=Y.MutationObserver||Y.WebKitMutationObserver,J="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,W=new Array(1e3),z=void 0;z=J?function(){return function(){return process.nextTick(o)}}():K?function(){var e=0,t=new K(o),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():q?function(){var e=new MessageChannel;return e.port1.onmessage=o,function(){return e.port2.postMessage(0)}}():void 0===j&&"function"==typeof require?function(){try{var e=require,t=e("vertx");return G=t.runOnLoop||t.runOnContext,i()}catch(e){return a()}}():a();var Z=Math.random().toString(36).substring(16),X=void 0,$=1,ee=2,te=new b,ne=new b,re=0;return D.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===X&&n<e;n++)this._eachEntry(t[n],n)},D.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===l){var i=u(e);if(i===s&&e._state!==X)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===O){var a=new n(A);h(a,e,i),this._willSettleAt(a,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},D.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===X&&(this._remaining--,e===ee?y(r,n):this._result[t]=n),0===this._remaining&&I(r,this._result)},D.prototype._willSettleAt=function(e,t){var n=this;v(e,void 0,function(e){return n._settledAt($,t,e)},function(e){return n._settledAt(ee,t,e)})},O.all=R,O.race=_,O.resolve=l,O.reject=M,O._setScheduler=n,O._setAsap=r,O._asap=H,O.prototype={constructor:O,then:s,catch:function(e){return this.then(null,e)}},O.polyfill=P,O.Promise=O,O.polyfill(),O}),function(e){function t(){Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice}),String.prototype.repeat||function(){var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),t=function(e){if(null==this)throw TypeError();var t=String(this),n=e?Number(e):0;if(n!=n&&(n=0),n<0||n==1/0)throw RangeError();for(var r="";n;)n%2==1&&(r+=t),n>1&&(t+=t),n>>=1;return r};e?e(String.prototype,"repeat",{value:t,configurable:!0,writable:!0}):String.prototype.repeat=t}(),String.prototype.padEnd||(String.prototype.padEnd=function(e,t){return e>>=0,t=String(void 0!==t?t:" "),this.length>e?String(this):(e-=this.length,e>t.length&&(t+=t.repeat(e/t.length)),String(this)+t.slice(0,e))})}var n={applyAll:t};"undefined"!=typeof exports?module.exports=n:"function"==typeof define&&define.amd?define("polyfill",n):(e.polyfills&&(n._polyfills=e.polyfills),e.polyfills=n)}(this),function(e){function t(e){return parseInt(e)===e}function n(e){if(!t(e.length))return!1;for(var n=0;n<e.length;n++)if(!t(e[n])||e[n]<0||e[n]>255)return!1;return!0}function r(e,r){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return r&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(t(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function i(e){return new Uint8Array(e)}function a(e,t,n,r,i){null==r&&null==i||(e=e.slice?e.slice(r,i):Array.prototype.slice.call(e,r,i)),t.set(e,n)}function o(e){for(var t=[],n=0;n<e.length;n+=4)t.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return t}function s(e){e=r(e,!0);var t=16-e.length%16,n=i(e.length+t);a(e,n);for(var o=e.length;o<n.length;o++)n[o]=t;return n}function l(e){if(e=r(e,!0),e.length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var n=e.length-t,o=0;o<t;o++)if(e[n+o]!==t)throw new Error("PKCS#7 invalid padding byte");var s=i(n);return a(e,s,0,0,n),s}var A=function(){function e(e){var t=[],n=0;for(e=encodeURI(e);n<e.length;){var i=e.charCodeAt(n++);37===i?(t.push(parseInt(e.substr(n,2),16)),n+=2):t.push(i)}return r(t)}function t(e){for(var t=[],n=0;n<e.length;){var r=e[n];r<128?(t.push(String.fromCharCode(r)),n++):r>191&&r<224?(t.push(String.fromCharCode((31&r)<<6|63&e[n+1])),n+=2):(t.push(String.fromCharCode((15&r)<<12|(63&e[n+1])<<6|63&e[n+2])),n+=3)}return t.join("")}return{toBytes:e,fromBytes:t}}(),d=function(){function e(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t}function t(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];t.push(n[(240&i)>>4]+n[15&i])}return t.join("")}var n="0123456789abcdef";return{toBytes:e,fromBytes:t}}(),c={16:10,24:12,32:14
},u=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],g=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],h=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],m=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],E=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],I=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],y=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],v=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],C=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],b=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],B=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],w=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],S=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925],Q=function(e){
if(!(this instanceof Q))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:r(e,!0)}),this._prepare()};Q.prototype._prepare=function(){var e=c[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var n,r=4*(e+1),i=this.key.length/4,a=o(this.key),t=0;t<i;t++)n=t>>2,this._Ke[n][t%4]=a[t],this._Kd[e-n][t%4]=a[t];for(var s,l=0,A=i;A<r;){if(s=a[i-1],a[0]^=g[s>>16&255]<<24^g[s>>8&255]<<16^g[255&s]<<8^g[s>>24&255]^u[l]<<24,l+=1,8!=i)for(var t=1;t<i;t++)a[t]^=a[t-1];else{for(var t=1;t<i/2;t++)a[t]^=a[t-1];s=a[i/2-1],a[i/2]^=g[255&s]^g[s>>8&255]<<8^g[s>>16&255]<<16^g[s>>24&255]<<24;for(var t=i/2+1;t<i;t++)a[t]^=a[t-1]}for(var d,f,t=0;t<i&&A<r;)d=A>>2,f=A%4,this._Ke[d][f]=a[t],this._Kd[e-d][f]=a[t++],A++}for(var d=1;d<e;d++)for(var f=0;f<4;f++)s=this._Kd[d][f],this._Kd[d][f]=b[s>>24&255]^B[s>>16&255]^w[s>>8&255]^S[255&s]},Q.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,n=[0,0,0,0],r=o(e),a=0;a<4;a++)r[a]^=this._Ke[0][a];for(var s=1;s<t;s++){for(var a=0;a<4;a++)n[a]=p[r[a]>>24&255]^h[r[(a+1)%4]>>16&255]^m[r[(a+2)%4]>>8&255]^E[255&r[(a+3)%4]]^this._Ke[s][a];r=n.slice()}for(var l,A=i(16),a=0;a<4;a++)l=this._Ke[t][a],A[4*a]=255&(g[r[a]>>24&255]^l>>24),A[4*a+1]=255&(g[r[(a+1)%4]>>16&255]^l>>16),A[4*a+2]=255&(g[r[(a+2)%4]>>8&255]^l>>8),A[4*a+3]=255&(g[255&r[(a+3)%4]]^l);return A},Q.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,n=[0,0,0,0],r=o(e),a=0;a<4;a++)r[a]^=this._Kd[0][a];for(var s=1;s<t;s++){for(var a=0;a<4;a++)n[a]=I[r[a]>>24&255]^y[r[(a+3)%4]>>16&255]^v[r[(a+2)%4]>>8&255]^C[255&r[(a+1)%4]]^this._Kd[s][a];r=n.slice()}for(var l,A=i(16),a=0;a<4;a++)l=this._Kd[t][a],A[4*a]=255&(f[r[a]>>24&255]^l>>24),A[4*a+1]=255&(f[r[(a+3)%4]>>16&255]^l>>16),A[4*a+2]=255&(f[r[(a+2)%4]>>8&255]^l>>8),A[4*a+3]=255&(f[255&r[(a+1)%4]]^l);return A};var T=function(e){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new Q(e)};T.prototype.encrypt=function(e){if(e=r(e),e.length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=i(e.length),n=i(16),o=0;o<e.length;o+=16)a(e,n,0,o,o+16),n=this._aes.encrypt(n),a(n,t,o);return t},T.prototype.decrypt=function(e){if(e=r(e),e.length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=i(e.length),n=i(16),o=0;o<e.length;o+=16)a(e,n,0,o,o+16),n=this._aes.decrypt(n),a(n,t,o);return t};var D=function(e,t){if(!(this instanceof D))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=i(16);this._lastCipherblock=r(t,!0),this._aes=new Q(e)};D.prototype.encrypt=function(e){if(e=r(e),e.length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=i(e.length),n=i(16),o=0;o<e.length;o+=16){a(e,n,0,o,o+16);for(var s=0;s<16;s++)n[s]^=this._lastCipherblock[s];this._lastCipherblock=this._aes.encrypt(n),a(this._lastCipherblock,t,o)}return t},D.prototype.decrypt=function(e){if(e=r(e),e.length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=i(e.length),n=i(16),o=0;o<e.length;o+=16){a(e,n,0,o,o+16),n=this._aes.decrypt(n);for(var s=0;s<16;s++)t[o+s]=n[s]^this._lastCipherblock[s];a(e,this._lastCipherblock,0,o,o+16)}return t};var k=function(e,t,n){if(!(this instanceof k))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=i(16);n||(n=1),this.segmentSize=n,this._shiftRegister=r(t,!0),this._aes=new Q(e)};k.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,n=r(e,!0),i=0;i<n.length;i+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)n[i+o]^=t[o];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(n,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return n},k.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,n=r(e,!0),i=0;i<n.length;i+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)n[i+o]^=t[o];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(e,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return n};var R=function(e,t){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=i(16);this._lastPrecipher=r(t,!0),this._lastPrecipherIndex=16,this._aes=new Q(e)};R.prototype.encrypt=function(e){for(var t=r(e,!0),n=0;n<t.length;n++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[n]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},R.prototype.decrypt=R.prototype.encrypt;var _=function(e){if(!(this instanceof _))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=i(16),this.setValue(e)):this.setBytes(e)};_.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");if(e>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var t=15;t>=0;--t)this._counter[t]=e%256,e=parseInt(e/256)},_.prototype.setBytes=function(e){if(e=r(e,!0),16!=e.length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},_.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var M=function(e,t){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof _||(t=new _(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Q(e)};M.prototype.encrypt=function(e){for(var t=r(e,!0),n=0;n<t.length;n++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[n]^=this._remainingCounter[this._remainingCounterIndex++];return t},M.prototype.decrypt=M.prototype.encrypt;var N={AES:Q,Counter:_,ModeOfOperation:{ecb:T,cbc:D,cfb:k,ofb:R,ctr:M},utils:{hex:d,utf8:A},padding:{pkcs7:{pad:s,strip:l}},_arrayTest:{coerceArray:r,createArray:i,copyArray:a}};"undefined"!=typeof exports?module.exports=N:"function"==typeof define&&define.amd?define("aesjs",N):(e.aesjs&&(N._aesjs=e.aesjs),e.aesjs=N)}(this),define("util",["polyfill","aesjs"],function(e,t){function n(e,t){var r,i={};if(e&&e.constructor==Object)for(r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.constructor==Object)for(r in t)t.hasOwnProperty(r)&&(r in i&&i[r]&&i[r].constructor==Object&&t[r]&&t[r].constructor==Object?i[r]=n(i[r],t[r]):i[r]=t[r]);return i}function r(e){var t=!1;return!Fe.facebookForAndroid&&!Fe.androidWebview&&(e.requestFullScreen?t=!0:e.webkitEnterFullScreen?t=!0:e.mozRequestFullScreen?t=!0:e.webkitRequestFullscreen?t=!0:e.msRequestFullscreen&&(t=!0),t)}function i(e){e.requestFullScreen?e.requestFullScreen():e.webkitEnterFullScreen?e.webkitEnterFullScreen(Element.ALLOW_KEYBOARD_INPUT):e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Fe.safari?void 0:Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen&&e.msRequestFullscreen(e)}function a(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=s(n,r,i,a,t[0],7,-680876936),a=s(a,n,r,i,t[1],12,-389564586),i=s(i,a,n,r,t[2],17,606105819),r=s(r,i,a,n,t[3],22,-1044525330),n=s(n,r,i,a,t[4],7,-176418897),a=s(a,n,r,i,t[5],12,1200080426),i=s(i,a,n,r,t[6],17,-1473231341),r=s(r,i,a,n,t[7],22,-45705983),n=s(n,r,i,a,t[8],7,1770035416),a=s(a,n,r,i,t[9],12,-1958414417),i=s(i,a,n,r,t[10],17,-42063),r=s(r,i,a,n,t[11],22,-1990404162),n=s(n,r,i,a,t[12],7,1804603682),a=s(a,n,r,i,t[13],12,-40341101),i=s(i,a,n,r,t[14],17,-1502002290),r=s(r,i,a,n,t[15],22,1236535329),n=l(n,r,i,a,t[1],5,-165796510),a=l(a,n,r,i,t[6],9,-1069501632),i=l(i,a,n,r,t[11],14,643717713),r=l(r,i,a,n,t[0],20,-373897302),n=l(n,r,i,a,t[5],5,-701558691),a=l(a,n,r,i,t[10],9,38016083),i=l(i,a,n,r,t[15],14,-660478335),r=l(r,i,a,n,t[4],20,-405537848),n=l(n,r,i,a,t[9],5,568446438),a=l(a,n,r,i,t[14],9,-1019803690),i=l(i,a,n,r,t[3],14,-187363961),r=l(r,i,a,n,t[8],20,1163531501),n=l(n,r,i,a,t[13],5,-1444681467),a=l(a,n,r,i,t[2],9,-51403784),i=l(i,a,n,r,t[7],14,1735328473),r=l(r,i,a,n,t[12],20,-1926607734),n=A(n,r,i,a,t[5],4,-378558),a=A(a,n,r,i,t[8],11,-2022574463),i=A(i,a,n,r,t[11],16,1839030562),r=A(r,i,a,n,t[14],23,-35309556),n=A(n,r,i,a,t[1],4,-1530992060),a=A(a,n,r,i,t[4],11,1272893353),i=A(i,a,n,r,t[7],16,-155497632),r=A(r,i,a,n,t[10],23,-1094730640),n=A(n,r,i,a,t[13],4,681279174),a=A(a,n,r,i,t[0],11,-358537222),i=A(i,a,n,r,t[3],16,-722521979),r=A(r,i,a,n,t[6],23,76029189),n=A(n,r,i,a,t[9],4,-640364487),a=A(a,n,r,i,t[12],11,-421815835),i=A(i,a,n,r,t[15],16,530742520),r=A(r,i,a,n,t[2],23,-995338651),n=d(n,r,i,a,t[0],6,-198630844),a=d(a,n,r,i,t[7],10,1126891415),i=d(i,a,n,r,t[14],15,-1416354905),r=d(r,i,a,n,t[5],21,-57434055),n=d(n,r,i,a,t[12],6,1700485571),a=d(a,n,r,i,t[3],10,-1894986606),i=d(i,a,n,r,t[10],15,-1051523),r=d(r,i,a,n,t[1],21,-2054922799),n=d(n,r,i,a,t[8],6,1873313359),a=d(a,n,r,i,t[15],10,-30611744),i=d(i,a,n,r,t[6],15,-1560198380),r=d(r,i,a,n,t[13],21,1309151649),n=d(n,r,i,a,t[4],6,-145523070),a=d(a,n,r,i,t[11],10,-1120210379),i=d(i,a,n,r,t[2],15,718787259),r=d(r,i,a,n,t[9],21,-343485551),e[0]=h(n,e[0]),e[1]=h(r,e[1]),e[2]=h(i,e[2]),e[3]=h(a,e[3])}function o(e,t,n,r,i,a){return t=h(h(t,e),h(r,a)),h(t<<i|t>>>32-i,n)}function s(e,t,n,r,i,a,s){return o(t&n|~t&r,e,t,i,a,s)}function l(e,t,n,r,i,a,s){return o(t&r|n&~r,e,t,i,a,s)}function A(e,t,n,r,i,a,s){return o(t^n^r,e,t,i,a,s)}function d(e,t,n,r,i,a,s){return o(n^(t|~r),e,t,i,a,s)}function c(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)a(r,u(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(a(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,a(r,i),r}function u(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function g(e){for(var t="",n=0;n<4;n++)t+=xe[e>>8*n+4&15]+xe[e>>8*n&15];return t}function f(e){for(var t=0;t<e.length;t++)e[t]=g(e[t]);return e.join("")}function p(e){return f(c(e))}function h(e,t){return e+t&4294967295}function m(e,t){var n=[],r=0,i=e.length;t&&(i>32&&(e=e.slice(0,32)),i<16?r=16-e.length:i<24?r=24-e.length:i<32&&(r=32-e.length));for(var a=0,o=e.length;a<o;a++)n.push(e.charCodeAt(a));for(;r;)n.push(0),r--;return n}function E(e){for(var t,n=[],r=0,i=e.length;r<i;r++)t=e[r].toString(16),1==t.length&&(t="0"+t),n.push(t);return n.join("-")}function I(e,t){for(var n=[],r=0,i=e.length;r<i;r++)!e[r]&&t||n.push(String.fromCharCode(e[r]));return n.join("")}function y(e){var t=[];e=atob(e);for(var n=0,r=e.length;n<r;n++)t[n]=e.charCodeAt(n);return t}function v(e){for(var t=atob(e),n=t.length,r=new Uint8Array(new ArrayBuffer(n)),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}function C(e){for(var t,n,r,i,a,o,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",A="",d=0;d<e.length;)t=e[d++],n=e[d++],r=e[d++],i=t>>2,a=(3&t)<<4|n>>4,o=(15&n)<<2|r>>6,s=63&r,isNaN(n)?o=s=64:isNaN(r)&&(s=64),A=A+l.charAt(i)+l.charAt(a)+l.charAt(o)+l.charAt(s);return A}function b(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return n}function B(e,t,n){var r=n;if(e&&e in t)return t[e];if(e){var i=1,a=e.toString().trim().split(".");for(var o in t)if(t.hasOwnProperty(o)){var s=0,l=o.trim().split(".");for(s=0;s<a.length&&(void 0!==l[s]&&a[s]==l[s]);s++);s>=i&&(i=s,r=o)}}return t[r]}function w(e){for(var t=e.length;--t&&0==e[t];);return e=e.slice(0,t+1)}function S(e){var t;if(e.length%16==0)return e;for(t=16-e.length%16;t>0&&t--;)e.push(0);return e}function Q(e,n,r,i,a,o){var s,l,A=m(r),d=fe(n),c={},u={};if(c[Ge.ZERO]=S,c[Ge.PKCS7]=t.padding.pkcs7.pad,u[Ge.ZERO]=w,u[Ge.PKCS7]=t.padding.pkcs7.strip,void 0===o&&(o=Ge.ZERO),n=m(d),"string"==typeof a&&(a=m(a)),!(e in t.ModeOfOperation))throw new Error("Specified AES mode of operation is not supported/valid");return l=new t.ModeOfOperation[e](A,a),s=l.encrypt(c[o](n)),"hex"==i?E(s,!0):"base64"==i?C(s):I(s,!0)}function T(e,n,r,i,a,o){var s,l,A,d,c={},u={};if(c[Ge.ZERO]=S,c[Ge.PKCS7]=t.padding.pkcs7.pad,u[Ge.ZERO]=w,u[Ge.PKCS7]=t.padding.pkcs7.strip,void 0===o&&(o=Ge.ZERO),s="hex"==i?D(n):"base64"==i?y(n):m(n),"string"==typeof a&&(a=m(a)),l=m(r),e in t.ModeOfOperation)return A=new t.ModeOfOperation[e](l,a),d=A.decrypt(s),d=u[o](d),t.utils.utf8.fromBytes(d);throw new Error("Specified AES mode of operation is not supported/valid")}function D(e){for(var t,n=[],r=0,i=e.length;r<i/2;r++)t=parseInt(e[2*r]+e[2*r+1],16),n.push(t);return n}function k(e){return(e<10?"0":"")+e}function R(e,t){var n=new Date,r=["Sun","Mon","Tue","Wed","Thr","Fri","Sat"],i=new Date(e),a=i.getDate(),o=i.getMonth(),s=i.getFullYear(),l=i.getHours(),A=i.getMinutes(),d=i.getSeconds(),c=i.getMilliseconds(),u=!1,g=!1,f="";t&&(u=n.getDate()==a&&n.getMonth()==o&&n.getFullYear()==s,g=n.getDate()+1==a&&n.getMonth()==o&&n.getFullYear()==s,f=u&&"Today"||g&&"Tomorrow"||"");var p,h=f||r[i.getDay()];return o=k(o),a=k(a),l=k(l),A=k(A),d=k(d),p=l+":"+A+" "+(f||o+"/"+a+"/"+s),{string:p,hour:l+":"+A,hourDetailed:[l,A,d,c].join(":"),year:s,month:o,day:a,hours:l,minutes:A,dayOfWeek:h}}function _(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",r=new RegExp(n),i=r.exec(t||window.location.search);return null==i?null:decodeURIComponent(i[1])}function M(e,t){var n,r;if(/^(https*:\/\/|\/\/)/.test(t))return t;n=e.split("/"),r=t.split("/"),""===n[n.length-1]&&n.pop();for(var i=0,a=r.length;i<a;i++)".."==r[i]?n.pop():"."!=r[i]&&n.push(r[i]);return n.join("/")}function N(e,t){var n,r,i=window.location.href+"";if(/^(https*:\/\/|\/\/)/.test(e)||(n=document.createElement("a"),n.href="./",r=n.href,e=M(r,e)),i.match(/https/)){var a=e.match(/http:\/\/(.*)\.s3.amazonaws.com\/(.*)/);a&&(e="https://s3.amazonaws.com/"+a[1]+"/"+a[2])}var o=document.getElementsByTagName("body")[0],s=document.createElement("script");s.type="text/javascript",t&&(s.onload=t),s.src=e,o.appendChild(s)}function L(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=1;return t}function O(e){var t=0,n=[];for(var r in e)e.hasOwnProperty(r)&&(n[t]=r,t++);return n}function P(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n];r in t?(t[r].constructor!==Array&&(t[r]=[t[r]]),t[r]=t[r].concat(n)):t[r]=n}),t}function F(e){var t,n,r,i,a,o,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",A="",d=0;for(e=fe(e);d<e.length;)t=e.charCodeAt(d++),n=e.charCodeAt(d++),r=e.charCodeAt(d++),i=t>>2,a=(3&t)<<4|n>>4,o=(15&n)<<2|r>>6,s=63&r,isNaN(n)?o=s=64:isNaN(r)&&(s=64),A=A+l.charAt(i)+l.charAt(a)+l.charAt(o)+l.charAt(s);return A}function U(e){var t,n,r,i,a,o,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",A="",d=0,c=e.length,u=c%4;if(u)for(u=4-u;u--;)e+="=";for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)i=l.indexOf(e.charAt(d++)),a=l.indexOf(e.charAt(d++)),o=l.indexOf(e.charAt(d++)),s=l.indexOf(e.charAt(d++)),t=i<<2|a>>4,n=(15&a)<<4|o>>2,r=(3&o)<<6|s,A+=String.fromCharCode(t),64!=o&&(A+=String.fromCharCode(n)),64!=s&&(A+=String.fromCharCode(r));return A=pe(A)}function x(e){return J(G(K(e),e.length*He))}function G(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n=Array(80),r=1732584193,i=-271733879,a=-1732584194,o=271733878,s=-1009589776,l=0;l<e.length;l+=16){for(var A=r,d=i,c=a,u=o,g=s,f=0;f<80;f++){n[f]=f<16?e[l+f]:Y(n[f-3]^n[f-8]^n[f-14]^n[f-16],1);var p=j(j(Y(r,5),V(f,i,a,o)),j(j(s,n[f]),H(f)));s=o,o=a,a=Y(i,30),i=r,r=p}r=j(r,A),i=j(i,d),a=j(a,c),o=j(o,u),s=j(s,g)}return Array(r,i,a,o,s)}function V(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function H(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function j(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function Y(e,t){return e<<t|e>>>32-t}function K(e){for(var t=Array(),n=(1<<He)-1,r=0;r<e.length*He;r+=He)t[r>>5]|=(e.charCodeAt(r/He)&n)<<32-He-r%32;return t}function J(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=0;r<4*e.length;r+=3)for(var i=(e[r>>2]>>8*(3-r%4)&255)<<16|(e[r+1>>2]>>8*(3-(r+1)%4)&255)<<8|e[r+2>>2]>>8*(3-(r+2)%4)&255,a=0;a<4;a++)8*r+6*a>32*e.length?n+=Ve:n+=t.charAt(i>>6*(3-a)&63);return n}function q(e){var t,n,r,i,a=[],o=new Date;return n=x(o.toISOString()+1e3*Math.round(Math.random())+"There is more than words"),i=F(n),r=o.toISOString(),t=x(n+r+e),a[0]=i,a[1]=r,a[2]=t,a}function W(e,t){var n=q(t);return'UsernameToken Username="'+e+'", PasswordDigest="'+n[2]+'", Created="'+n[1]+'", Nonce="'+n[0]+'"'}function z(e){var t,n=/^((http[s]?|ftp)?:)?\/\/([^:\/\s]+)((:)([0-9]+))?((\/\w+)*\/)?([\w\-\.]+[^#?\s]+)?(.*)?(#[\w\-]+)?$/;return e&&(t=n.exec(e)),t&&t.length>11?{url:t[0],protocol:t[2],host:t[3],port:t[6],path:t[7],file:t[9],query:t[10],hash:t[11]}:{}}function Z(e,t,n){if(arguments.length>2)for(var r=new RegExp(t,"i"),i=2,a=arguments.length;i<a;i++)e=e.replace(r,arguments[i]);return e}function X(){return window.location.protocol.indexOf("https")>-1}function $(){var e=document.createElement("video");return e.muted=!0,e.muted}function ee(){return"playsInline"in document.createElement("video")}function te(e,t){"error"==e?oe():"ended"!=e||je.evaluationCompleted||ie(t)}function ne(e,t,n,r){var i,a,o;i=document.createElement("video"),a=document.createElement("source"),i.appendChild(a),i.setAttribute("playsinline",""),t&&(i.muted=!0),a.src=e,a.type="video/mp4",i.onerror=te.bind(null,"error",t),a.onerror=te.bind(null,"error",t),i.onended=te.bind(null,"ended",t),i.load(),void 0!==(o=i.play())&&o.then(n.bind(null,t)).catch(r.bind(null,e,t))}function re(e,t,n,r){var i=document.createElement("script");i.type="text/javascript",i.async=!1,i.onload=n,i.onerror=r,X()&&(e=e.replace(/^https*:\/\//,"https://")),i.src=e,document.getElementsByTagName(t)[0].appendChild(i)}function ie(e){e?je.mutedAutoPlay=!0:je.unmutedAutoPlay=!0,oe()}function ae(e,t){t?(je.mutedAutoPlay=!1,oe()):(je.unmutedAutoPlay=!1,ne(e,!0,ie,ae))}function oe(){var e;if(!je.evaluationCompleted)for(je.evaluationCompleted=!0;Ye.length;)e=Ye.shift(),"function"==typeof e.fn&&e.fn.apply(null,e.args)}function se(e,t){Ye.push({fn:e,args:t})}function le(){return je}function Ae(){var e=document.createElement("video");return e.volume=0,!e.volume}function de(){var e=document.createElement("video");return e.crossOrigin="anonymous",e.hasAttribute("crossorigin")}function ce(){var e,t,n=!1;try{t=document.createElement("canvas"),e=t.getContext("webgl")}catch(t){e=null}if(null==e)try{e=t.getContext("experimental-webgl"),n=!0}catch(t){e=null}return!!e&&{isExperimental:n}}function ue(e){for(var t={},n=[],r=0,i=e.length;r<i;++r)t.hasOwnProperty(e[r])||(n.push(e[r]),t[e[r]]=1);return n}function ge(e){var t;if(e.length%16!=0)return e;if((t=e.charCodeAt(e.length-1))>=16)return e;for(var n=e.length.length-1;n>e.length-t;n--)if(e.charCodeAt(n)!=t)return e;return e.slice(0,e.length-t)}function fe(e){var t="";if("function"==typeof unescape)return unescape(encodeURIComponent(e));e=e.replace(/\x0d\x0a/g,"\n");for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}function pe(e){for(var t,n="",r=0,i=0,a=0;r<e.length;)i=e.charCodeAt(r),i<128?(n+=String.fromCharCode(i),r++):i>191&&i<224?(a=e.charCodeAt(r+1),n+=String.fromCharCode((31&i)<<6|63&a),r+=2):(a=e.charCodeAt(r+1),t=e.charCodeAt(r+2),n+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&t),r+=3);return n}function he(e,t){var n,r,i=[];for(var a in e)e.hasOwnProperty(a)&&(n=t?a:encodeURIComponent(a),r=t?e[a]:encodeURIComponent(e[a]),r||null!==r&&void 0!==r||(r=""),i.push(n+"="+r));return i.join("&")}function me(e){var t,n=/.*(\?.*)/,r=n.exec(e),i={};if(r){r=r[1].replace(/\?/,""),t=r.split("&"),t=t.map(function(e){return e.split("=")});for(var a=0,o=t.length;a<o;a++)t[a]&&t[a].length&&t[a][0]&&t[a][0].length&&(i[t[a][0]]=t[a][1])}return i}function Ee(e){var t=/([^\?]*)[\?]?.*/.exec(e);return t.length>1?t[1]:-1}function Ie(e,t,n,r){var i,a=/([^\?]*)(.*)/,o=me(e);return i=a.exec(e),i=i&&i.length>1?i[1]:e,n?o[t]=n:o&&delete o[t],o=he(o,r),i+(o.length?"?":"")+o}function ye(){"undefined"==typeof ActiveXObject&&"undefined"==typeof XDomainRequest||(XMLHttpRequest=function(){try{return new Oe}catch(e){console.log("IEXMLHttpRequest failed")}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){console.log('ActiveXObject("Msxml2.XMLHTTP.6.0") failed')}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){console.log('ActiveXObject("Msxml2.XMLHTTP.6.0") failed')}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){console.log('ActiveXObject("Msxml2.XMLHTTP.6.0") failed')}throw new Error("This browser does not support XMLHttpRequest.")})}function ve(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Ce(e,t,n){n&&(t="anv-"+t),e.className+=" "+t}function be(e){return String(e).replace(/[&<>"'\/`=]/g,function(e){return Pe[e]})}function Be(e,t,n){var r,i;for(r in n)if(n.hasOwnProperty(r))switch(r){case"text":e.innerHTML=be(n[r]);break;case"location":i=n.location.toLowerCase(),e.style[i.indexOf("l")>-1?"left":"right"]="0",e.style[i.indexOf("b")>-1?"bottom":"top"]="0",e.style[i.indexOf("r")>-1?"left":"right"]="",e.style[i.indexOf("t")>-1?"bottom":"top"]="";break;case"sizeFactor":e.style.fontSize=parseFloat(n.sizeFactor)*(11+7*(parseInt(t)-225)/575)+"px";break;default:e.style[r]=n[r]}}function we(e,t,n,r,i){var a,o,s;if(a=document.createElement(t),n&&(a.id=e.id+"-"+n),r)for(o=r.split(" "),s=0;s<o.length;s++)Ce(a,o[s],!0);return i&&(a.innerHTML=i),e.appendChild(a),a}function Se(e,t,n,r){e.addEventListener?(r=void 0!==r&&r,e.addEventListener(t,n,r)):e.attachEvent("on"+t,n)}function Qe(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)}function Te(e,t){"onoffline"in window?(e&&Se(window,"online",e),t&&Se(window,"offline",t)):De(e,t)}function De(e,t){var n;n=navigator&&"onLine"in navigator?navigator.onLine:ke(),window.anvOnline!=n&&void 0!==window.anvOnline&&(n?e&&e():t&&t()),window.anvOnline=n,setTimeout(function(){De(e,t)},3e4)}function ke(){var e=new(window.ActiveXObject||XMLHttpRequest)("Microsoft.XMLHTTP");e.open("HEAD","//"+window.location.hostname+"/?rand="+Math.floor(65536*(1+Math.random())),!1);try{return e.send(),e.status>=200&&(e.status<300||304===e.status)}catch(e){return!1}}function Re(){return document.hidden||document.msHidden||document.webkitHidden}function _e(e,t){var n,r;return function(){clearTimeout(r),n=arguments,r=setTimeout(function(){e.apply(null,n),n=null,r=null},t)}}function Me(e){return e==e.toUpperCase()}function Ne(e){var t=0,n=[];if(e.indexOf("_")>-1)return e;for(var r=0,i=e.length;r<i;r++)Me(e[r])&&r&&(n.push(e.slice(t,r).toUpperCase()),t=r),r==i-1&&n.push(e.slice(t-i).toUpperCase());return n.join("_")}function Le(e,t,n){var r,i,a=/(.*)\[\[(.*)\]\](.*)/;for(var o in e)e.hasOwnProperty(o)&&(i=a.exec(e[o]))&&i.length>3&&i[2]in t&&(r=i[1]+(t[i[2]]||null)+i[3],e[o]=n?encodeURIComponent(r):r);return e}e.applyAll();var Oe=window.XDomainRequest&&function(){var e=new XDomainRequest;if(!e)return null;var t,n=function(e){e!==t.readyState&&(t.readyState=e,t.onreadystatechange&&t.onreadystatechange())};return e.onerror=function(){t.status=500,t.statusText="ERROR",n(4)},e.ontimeout=function(){t.status=408,t.statusText="TIMEOUT",n(4)},e.onprogress=function(){n(3)},e.onload=function(){t.status=200,t.statusText="OK",t.responseText=e.responseText,t.responseXML=new ActiveXObject("Microsoft.XMLDOM"),t.responseXML.async="false",t.responseXML.loadXML(e.responseText),n(4)},t={open:function(t,r,i,a,o){e.open(t,r.replace(/^https*:\/\//,X()?"https://":"http://")),n(1)},setRequestHeader:function(){},send:function(t){e.send(t),n(2)},abort:function(){e.abort()},status:"",statusText:"",getResponseHeader:function(){},getAllResponseHeaders:function(){},responseText:"",responseXML:"",readyState:0,onreadystatechange:null}},Pe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},Fe=function(){var e,t,n="undefined",r=window,i=document,a=navigator,o=typeof i.getElementById!=n&&typeof i.getElementsByTagName!=n&&typeof i.createElement!=n,s=a.userAgent.toLowerCase(),l=a.platform.toLowerCase(),A=a.vendor,d=/win/.test(l?l:s),c=/mac/.test(l?l:s),u=/iphone/.test(l?l:s),g=/ipad/.test(l?l:s),f=/ipod/.test(l?l:s),p=!!l&&/cros/.test(l),h=/nexus player/.test(s),m=/amazonwebappplatform|aft\w+/.test(s),E=/android/.test(l?l:s),E=E||/linux arm/.test(l?l:s),E=E||/linux.+arch/.test(l?l:s),E=E||/android/.test(s),E=E&&!p,E=E&&!m,E=E&&!h,I=m||h,y=/windows phone/.test(s),v=/bb10|black.*berry/.test(s),C=/(smart.*tv|maple)/.test(s),b=!!/webkit/.test(s)&&parseFloat(s.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),B=!1,w=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,S="undefined"!=typeof InstallTrigger,S=S||(g||u)&&/fxios/.test(s),Q=/^((?!chrome|android).)*safari/.test(s)&&A&&/apple/i.test(A)||Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,T=!!window.chrome&&!w,B=!!document.documentMode,B=B||/msie|trident/.test(s),D=/edge/.test(s),k=/fb4a/.test(s),R=[0,0,0],_=E&&/version\//.test(s),M=null,N=function(){var e,t=navigator.userAgent,n=navigator.appName,r=t.match(/(opera|chrome|safari|firefox|msie|trident)\/?\s*([\d\.]+)/i)||[];return r=r[2]?[r[1],r[2]]:[n,navigator.appVersion,"-?"],r&&null!=(e=t.match(/version\/([\.\d]+)/i))&&(r[2]=e[1]),r.length>1&&"trident"==r[0]&&(r[0]="msie",r[1]=parseInt(r[1])+4),r}();if(typeof a.plugins!=n&&"object"==typeof a.plugins["Shockwave Flash"])!(M=a.plugins["Shockwave Flash"].description)||typeof a.mimeTypes!=n&&a.mimeTypes["application/x-shockwave-flash"]&&!a.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(!0,M=M.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),R[0]=parseInt(M.replace(/^(.*)\..*$/,"$1"),10),R[1]=parseInt(M.replace(/^.*\.(.*)\s.*$/,"$1"),10),R[2]=/[a-zA-Z]/.test(M)?parseInt(M.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof r.ActiveXObject!=n)try{var L=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");L&&(M=L.GetVariable("$version"))&&(B=!0,M=M.split(" ")[1].split(","),R=[parseInt(M[0],10),parseInt(M[1],10),parseInt(M[2],10)])}catch(e){}return t=m||u||g||f||E||y||v,e=t?m?"firetv":h?"androidtv":g?"tablet":u||f||y||v?"phone":window.devicePixelRatio&&screen.width&&screen.width/window.devicePixelRatio>=700?"tablet":"phone":"desktop",{browserInfo:N,w3:o,pv:R,wk:b,ie:B,edge:D,win:d,mac:c,iphone:u,ipad:g,ipod:f,android:E&!v&&!y&&!C,windowsPhone:y,blackberry:v,smartTV:C,isMobileBrowser:t,deviceType:e,firefox:S,safari:Q,chrome:T,opera:w,firetv:m,androidTV:h,ott:I,facebookForAndroid:k,androidWebview:_}}(),Ue={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,r,i,a){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var o="";if(n)switch(n.constructor){case Number:o=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:o="; expires="+n;break;case Date:o="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+o+(i?"; domain="+i:"")+(r?"; path="+r:"")+(a?"; secure":""),!0},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},expireItem:function(e,t,n){return!(!e||!new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},removeItem:function(e,t,n){var r,i,a;if(t)return Ue.expireItem(e,t,n);if(!(r=location.pathname))return!1;r=r.replace(/^\/|\/$/g,""),i=r.split("/"),a="",Ue.expireItem(e),Ue.expireItem(e,"/",n);for(var o=0;o<i.length;o++)a+="/"+i[o],Ue.expireItem(e,a,n);return!0},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e}},xe="0123456789abcdef".split("");"5d41402abc4b2a76b9719d911017c592"!=p("hello")&&(h=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n});var Ge={ZERO:0,PKCS7:1},Ve="=",He=8,je={evaluationCompleted:!1},Ye=[];return function(){
ne("data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAABIltZGF03gIATGF2YzU3LjkzLjEwMABCIAjBGDghEARgjBwAAABLBgRHtQAxR0E5NAPU//yUIP2cIPyAgP2AgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgP+AAAACaQYF//9l3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDEyMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTEgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0xIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTYgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MCBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MCB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz04IHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTAgd2VpZ2h0cD0yIGtleWludD0xNTAga2V5aW50X21pbj0yNSBzY2VuZWN1dD0wIGludHJhX3JlZnJlc2g9MCByYz0ycGFzcyBtYnRyZWU9MCBiaXRyYXRlPTEyMDAgcmF0ZXRvbD0xLjAgcWNvbXA9MC42MCBxcG1pbj0xMCBxcG1heD01MSBxcHN0ZXA9NCBjcGx4Ymx1cj0yMC4wIHFibHVyPTAuNSBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAABnmWIhD/+2+gEqfgU2VgP++gqR0L7aDULYnT4iugAAAMAAAMAAAMAAAMAAKIwmzvGytzHNAAAAwAAAwAAMCAAABFQAAAIWAAABqAAAAZIAAAHEAAAB/AAAAmQAAAQ0AAAICAAADFAAAB2AAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAAICSEQBGCMHAAABO9tb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAARgABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAACA3RyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAARgAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC4AAAQAAAEAAAAAAXttZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAMAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEmbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADqc3RibAAAAGpzdHNkAAAAAAAAAAEAAABabXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAA2ZXNkcwAAAAADgICAJQABAASAgIAXQBUAAAAAAfQAAAAPswWAgIAFEhBW5QAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAwAABAAAAAAoc3RzYwAAAAAAAAACAAAAAQAAAAIAAAABAAAAAgAAAAEAAAABAAAAIHN0c3oAAAAAAAAAAAAAAAMAAAAXAAAABgAAAAYAAAAYc3RjbwAAAAAAAAACAAAAMAAABKsAAAIWdHJhawAAAFx0a2hkAAAAAwAAAAAAAAAAAAAAAgAAAAAAAAAqAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAeAAAAEOAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAAAKgAAAAAAAQAAAAABjm1kaWEAAAAgbWRoZAAAAAAAAAAAAAAAAABMS0AAAzRQVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAATltaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAD5c3RibAAAAJVzdHNkAAAAAAAAAAEAAACFYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAeABDgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAC9hdmNDAWQAKP/hABdnZAAorLQDwBE/LCAAZbmgExLQAeMGVAEABWjvMsiwAAAAGHN0dHMAAAAAAAAAAQAAAAEAAzRQAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAABF4AAAABAAAAFHN0Y28AAAAAAAAAAQAAAE0AAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU3LjcyLjEwMQ==",!1,ie,ae),setTimeout(oe,1500)}(),{requestFullScreen:i,checkFullscreen:r,cancelFullScreen:function(){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},log:function(e,t){var n,r;n=1,">"===e.charAt(0)&&(r=e.slice(1),n=2);var i=Array.prototype.slice.call(arguments,n);r?console.log("["+r+"] ",i.join(" ")):console.log(i.join(" "))},getWindowSize:function(){return{w:screen.width,h:screen.height}},getCumulativeOffset:function(e){var t,n,r;if(t=n=0,window.self!==window.top&&e.offsetWidth<e.clientWidth&&e.getBoundingClientRect().width<100)r=e.getBoundingClientRect(),n=100*r.top,t=100*r.left;else if(e.offsetParent)do{t+=e.offsetLeft,n+=e.offsetTop}while(e=e.offsetParent);return{x:t,y:n}},getRelativeOffset:function(e,t){var n,r;if(n=r=0,e.offsetParent)for(;e&&e!=t;)n+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{x:n,y:r}},getBitrateForScreenSize:function(e,t,n){return.5*e*t*n},postMessage:function(e){parent.window.postMessage(e,"*")},getDeviceInfo:Fe,node2Obj:function(e){return{getNode:function(){return e},getLayout:function(){}}},download:function(e,t,n,r,i,a,o,s){var l,A=0==e.indexOf("file:")||0==window.location.href.indexOf("file:")&&-1==e.indexOf("http:"),d={};ye(),t&&(e+="?"+("object"==typeof t?he(t):t));var c=new XMLHttpRequest;X()&&(e=e.replace(/^https*:\/\//,"https://"));try{if(c.open("GET",e),a&&(c.withCredentials=!0),s&&(c.responseType=s),i)for(var u in i)i.hasOwnProperty(u)&&c.setRequestHeader(u,i[u])}catch(e){return r&&r(0,"Problem opening request"),!1}c.onreadystatechange=function(){4==c.readyState&&(200==c.status||A&&0==c.status?("function"==typeof c.getAllResponseHeaders&&(l=c.getAllResponseHeaders()),d.url=e,d.responseUrl=c.responseURL,"arraybuffer"==s?n(c.response,l,d):n(c.responseText,l,d)):r&&r(c.status,c.responseText))};try{return c.send(),!0}catch(e){return r&&r(0,"Problem sending request"),!1}},parseDFXP:function(e){function t(e){var t,n;if(e){if(t=e.split(":"),n=0,t.length<=3)for(var r=t.length-1,i=0;r>=0;r--,i++)n+=parseFloat(t[r])*Math.pow(60,i);else if(4==t.length){for(var r=2,i=0;r>=0;r--,i++)n+=parseFloat(t[r])*Math.pow(60,i);n+=parseFloat(t[3])/100}else n=parseFloat(e);return n}return null}var n,r=this.str2XML(e),i=[];n=r.getElementsByTagName("p");for(var a=0,o=n.length;a<o;a++){var s,l=n[a],A=t(l.getAttribute("begin")),d=t(l.getAttribute("end"));s={id:a,begin:A,end:d,text:l.textContent||l.innerText},i.push(s)}return i},parseJSON:function(e){for(var t=JSON.parse(e),n=0,r=t.length,i=[];n<r;n++){var a=n+1,o=parseFloat(t[n].ts),s=o+parseFloat(t[n].dur),l=t[n].line,A={id:a,begin:o,end:s,text:l};i.push(A)}return i},parseVTT:function(e){function t(e){var t,n,r,i,a,o=e.split(":"),s=0;return 3==o.length?(t=o[0],n=o[1],r=o[2]):(t=0,n=o[0],r=o[1]),r=r.split(/\s+/),i=r.splice(0,1)[0],i=i.split(/\.|,/),a=parseFloat(i[1]),i=i[0],s+=3600*parseFloat(t),s+=60*parseFloat(n),s+=parseFloat(i),a&&(s+=a/1e3),s}var n,r,i,a,o=[],s=e.split("\n"),l="",A=1,d=s.length;for(String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});A<d;A++)if(l=s[A].trim()){for(-1==l.indexOf("--\x3e")&&(a=l,l=s[++A].trim()),n={id:a},r=l.split(" --\x3e "),n.begin=t(r[0]),n.end=t(r[1]),i=[];s[++A]&&(l=s[A].trim());)i.push(l);n.text=i.join("<br/>"),o.push(n)}return o},str2XML:function(e){var t,n;return window.DOMParser?(n=new DOMParser,t=n.parseFromString(e,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e)),t},generateChild:function(e,t,n,r,i){return we(e,t,n,r,i)},generateEmptyImg:function(e,t,n){var r=we(e,"img",t,n);return r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r},addClass:function(e,t,n){Ce(e,t,n)},removeClass:function(e,t,n){n&&(t="anv-"+t),e.className=e.className.split(" ").filter(function(e){return e!==t}).join(" ")},capitalize:function(e){return ve(e)},styleComponent:Be,sendPostRequest:function(e,t,n,r,i,a,o,s){var l,A=0===e.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===e.indexOf("http:"),d={};ye();var c=new XMLHttpRequest;X()&&(e=e.replace(/^https*:\/\//,"https://"));try{if(c.open("POST",e,!0),a&&(c.withCredentials=!0),s&&(c.responseType=s),i)for(var u in i)i.hasOwnProperty(u)&&c.setRequestHeader(u,i[u]);o?"arraybuffer"!=o&&c.setRequestHeader("Content-type",o):c.setRequestHeader("Content-type","application/x-www-form-urlencoded")}catch(e){r&&(r(e.message||e.description),console.error("POST request error",e))}c.onreadystatechange=function(){4===c.readyState&&(200===c.status||A&&0===c.status?("function"==typeof c.getAllResponseHeaders&&(l=c.getAllResponseHeaders()),d.url=e,d.responseUrl=c.responseURL,"arraybuffer"==s?n(c.response,l,d):n(c.responseText,l,d)):r&&r(c.status))},o||"object"!=typeof t||(t=he(t));try{c.send(t)}catch(e){r&&(r(e.message||e.description),console.error("POST request error",e))}},openURIInNewWindow:function(e,t){var n=window.open(e,t||"_blank");return n&&n.focus&&n.focus(),n},setFloat:function(e,t){e.style.cssFloat=t,e.style.styleFloat=t},encodeURLParams:he,decodeURLParams:me,updateURLParam:Ie,getBaseUrl:Ee,sec2TimeString:function(e){var t,n="",r="";return e<0&&(n="-",e*=-1),t=parseInt(e/60,10),e=parseInt(e%60,10),t>=60&&(r=parseInt(t/60,10),t=parseInt(t%60,10),r=k(r),r+=":"),n+r+k(t)+":"+k(e)},timeString2Sec:function(e){var t,n,r,i;return t=e.split(":"),t.length>2?(n=parseInt(t[0]),r=parseInt(t[1]),i=parseInt(t[2])):(n=0,r=parseInt(t[0]),i=parseInt(t[1])),3600*n+60*r+i},timeString2Millisecond:function(e){var t,n,r,i,a,o=0;if("string"==typeof e)for(t=e.split(":"),n=t.length,r=n,a=t[r-1].length>2,i=a?1:1e3;r&&r--;)o+=parseInt(t[r])*i,i*=r==n-1&&a?1e3:60;return o},preventDefaultMouseDown:function(e){for(var t=0;t<e.length;t++)Se(e[t],"mousedown",function(e){e.preventDefault()},!1)},merge:n,cacheImages:function(e,t,n){for(var r=0,i=e.length,a=[];r<i;r++)a[r]=new Image,function(e){Se(a[e],"load",function(){t(this,e)},!1)}(r),n&&function(e){Se(a[r],"error",function(){n(this,e)},!1)}(r),e[r]?a[r].src=e[r]:function(e){t(a[e],e)}(r)},base64ToUint8Array:v,base64Encode:F,base64Decode:U,uTF8Encode:function(e){return fe(e)},uTF8Decode:function(e){return pe(e)},addEventListener:function(e,t,n,r){Se(e,t,n,r)},removeEventListener:function(e,t,n){Qe(e,t,n)},setReadOnly:function(e,t,n){t||(n?(Se(e,"keydown",function(e){e.preventDefault()},!1),Se(e,"cut",function(e){e.preventDefault()},!1)):e.readOnly=!0)},createUUID:function(){for(var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=t,r=new Array(36),i=0,a=0;a<36;a++)8==a||13==a||18==a||23==a?r[a]="-":14==a?r[a]="4":(i<=2&&(i=33554432+16777216*Math.random()|0),e=15&i,i>>=4,r[a]=n[19==a?3&e|8:e]);return r.join("")},touchURL:function(e,t,n){var r=new Image;"function"==typeof t&&(r.onload=t),"function"==typeof n&&(r.onerror=n),r.src=e},isSecureSocket:X,setCookie:Ue.setItem,removeCookie:Ue.removeItem,getCookie:Ue.getItem,setCookies:function(e){for(var t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&Ue.setItem(t,e[t])},removeCookies:function(e){for(var t in e)Ue.removeItem(t)},getCookies:function(e){var t={};for(var n in e){var r=Ue.getItem(n);t[n]=r}return t},deepCopy:function(e){return JSON.parse(JSON.stringify(e))},md5:p,aesStdEncrypt:Q,aesStdDecrypt:T,prettifyDate:R,getParameterByName:_,getJsonp:N,loadJS:N,loadExternalJS:re,array2Object:L,object2Array:O,invertObjectKeysAndValues:P,generateWsseHeader:W,getUrlParts:z,replaceAll:Z,isWebGLSupported:ce,isWebGLCorsSupported:de,isVideoVolumeSetSupported:Ae,isVideoMutedSupported:$,isInlineVideoSupported:ee,getAutoPlaySupport:le,getArrayUnique:ue,stringToUint16Array:b,uint8ArrayToBase64:C,getClosestVersion:B,registerAutoPlayDetectionCallback:se,stripPkcs7:ge,paddingSchemes:Ge,getScaledFontSize:function(e){return 11+7*(parseInt(e)-225)/575},getConnectionStatus:Te,isDocumentHidden:Re,debounce:_e,convertToUnderscore:Ne,populateMacros:Le,makeAbsoluteUrl:M}}),define("configurator",["util"],function(e){function t(e,t,n){console.error("@swapKeys",e,t,n);var r={},i=n?a:o;for(var s in t)t.hasOwnProperty(s)&&i[e]&&(r[i[e][s]||s]=t[s]);return r}function n(e){i("@convertToV4",JSON.stringify(e,null,3));var n={};return"4"!=e.version?(n.api=t("api",e.api,!0),n.plugins=t("plugins",e.plugins,!0),n.plugins.adobepass=t("adobepass",e.plugins.adobepass,!0),n):(i("Config version is already 4"),e)}function r(n){i("@convertToV3",JSON.stringify(n,null,3));var r={};return"4"==n.version?(r.api=t("api",n.api,!1),r.plugins=t("plugins",n.plugins,!1),r.plugins.adobepass=t("adobepass",n.plugins.adobepass,!1),n.plugins.freewheel&&n.plugins.freewheel.serverSide&&(r.plugins.freewheel=n.plugins.freewheel.serverSide),n.plugins.dfp&&n.plugins.dfp.serverSide&&(r.plugins.dfp=t("dfp",n.plugins.dfp.serverSide,!1),r.plugins.dfp.parameters&&(r.plugins.dfp=e.merge(r.plugins.dfp,r.plugins.dfp.parameters),delete r.plugins.dfp.parameters),r.plugins.dfp.cust_params&&(r.plugins.dfp.cust_params=e.encodeURLParams(r.plugins.dfp.cust_params,!0),r.plugins.dfp.cust_params=encodeURIComponent(r.plugins.dfp.cust_params,!0))),r):(i("Config version is already < 4"),n)}var i="undefined"!=typeof logger?logger.getLogFn("Configurator"):function(){console.log.apply(console,["[!Configurator!]\t"].concat(Array.prototype.slice.call(arguments)))},a={api:{event_metadata_by_mcpeventid:"eventByMcpId",event_metadata_by_upid:"eventByUpId",schedule:"eventNow",seckey:"encryptionKey"},plugins:{},freewheel:{},dfp:{server_url:"serverUrl",cust_params:"customParameters"},adobepass:{adobepass_password:"password",server_url:"serverUrl",resource_id:"resource",temp_pass_short:"long",temp_pass_long:"short"}},o={};for(var s in a)if(a.hasOwnProperty(s))for(var l in a[s])a[s].hasOwnProperty(l)&&(o[s]=o[s]||{},o[s][a[s][l]]=l);return{convertToV3:r,convertToV4:n}}),define("tveapi",["util","configurator"],function(e,t){function n(n,r,i){function a(t){var n=(new Date).getTime()+Ie,r=n.toString()+"~"+e.md5(t)+"~",i=e.md5(n.toString()),a=Math.max(64-r.length,0);return i=i.slice(0,a),r+=i,r=e.aesStdEncrypt("ecb",r,"31c242849e73a0ce","base64")}function o(t,n,r){if(he("@getConfig",t),ge.getConfigError=r,ge.getConfigSuccess=n,se=t,re!=ne.length&&t){var i=ne[re].replace(Ee.anvack,se);he("selected url:",i);try{e.download(i,null,d,u)}catch(e){he("Error while downloading config:",e.message)}}else d(ce)}function s(t,n,r){he("@getConfigV4"),ge.getConfigError=r||ge.getConfigError,ge.getConfigSuccess=n||ge.getConfigSuccess,se=se||t;var i="https://tkx2-stage.anvato.net/rest/v2/access/appcfg?anvack="+t;try{e.download(i,null,l,A)}catch(e){he("Error while downloading config:",e.message)}}function l(n){he("@onGetConfigV4Success",n);var r,i;n="string"==typeof n?JSON.parse(n):n,r=n.server_time,n.encrypted&&(i=e.md5(oe[se]).slice(0,16),he("@onGetConfigV4Success key:",i),n=e.aesStdDecrypt("ecb",n.appcfg,i,"base64"),n="string"==typeof n?JSON.parse(n):n),r&&(n.server_time=r,le=!0,Ie=1e3*n.server_time-(new Date).getTime(),he("@onGetConfigV4Success server time:",n.server_time)),he("@onGetConfigV4Success",JSON.stringify(n,null,3)),n=t.convertToV3(n),he("@onGetConfigV4Success translated",JSON.stringify(n,null,3)),d(n)}function A(e){he("error:",e),s()}function d(t){he("@onGetConfigSuccess"),re=0,ne=e.deepCopy(ie),ue=0,he(t),he(ie),(t="string"==typeof t?JSON.parse(t):t)&&t.api&&(me[se]={},t.api.event_metadata_by_mcpeventid&&(me[se].eventId=t.api.event_metadata_by_mcpeventid),t.api.event_metadata_by_upid&&(me[se].upid=t.api.event_metadata_by_upid),t.api.video_metadata_by_mcpvideoid&&(me[se].videoMetadata=t.api.video_metadata_by_mcpvideoid),t.api.tve&&(me[se].tve=t.api.tve),t.api.time&&(me[se].time=t.api.time),t.api.schedule&&(me[se].schedule=t.api.schedule),t.api.video&&(me[se].video=t.api.video),t.api.seckey&&(me[se].decryptionKey=t.api.seckey),t.api.tpi&&(me[se].tpi=t.api.tpi));for(var n in me[se])me[se].hasOwnProperty(n)&&me[se][n]&&/^\/\//.test(me[se][n])&&(me[se][n]=me[se][n].replace(/^\/\//i,e.isSecureSocket()?"https://":"http://"));le||!se?(ge.getConfigSuccess&&(ge.getConfigSuccess(t),delete ge.getConfigSuccess),fe.getConfig&&fe.getConfig.apply(null,pe.getConfig)):(Ae=ge.getConfigSuccess,de=arguments,R(se))}function c(t,r){var i;return me&&me[t]&&me[t][r]?(i=["w",n.revision,e.md5(Date.now().toString()).slice(-24)].join(""),e.updateURLParam(me[t][r],"anvtrid",i,!0)):null}function u(e,t){he("Fail to retrieve config using "+ne[re]),re++,o(se,ge.getConfigSuccess,ge.getConfigError)}function g(){var e=Math.floor(10*Math.random())%ne.length;return ne[e]}function f(t,n,r,i){he("@getTpiToken",t);var a,o=c(t,ae.TPI),s=z(t),l=e.deepCopy(n);he("@getTpiToken",JSON.stringify(s,null,3)),l.api=s.api,ge.getTpiSuccess=r,ge.getTpiError=i,a=o.replace(Ee.anvack,t),e.sendPostRequest(a,JSON.stringify(l),p,h)}function p(e){ge.getTpiSuccess&&ge.getTpiSuccess(e)}function h(e){ge.getTpiError&&ge.getTpiError(e)}function m(t,n,r,i,a){var o,s,l;if(ge.getMetadataSuccess=i,ge.getMetadataError=a,r?(o=c(t,ae.UPID),s=Ee.upid,l=r):(o=c(t,ae.EVENT_ID),s=Ee.eventId,l=n),he(o,s,l),o){var A=o.replace(s,l);A=A.replace(Ee.anvack,t),he(">> URL:",A),e.sendPostRequest(A,null,E,I)}else console.warn("Metadata lookup service URL is not available.")}function E(e){var t;he("metadata",e),e=JSON.parse(e),e.server_time&&(N(e.server_time),he("timeDelta:",Ie)),e.exception?(t=e.exception.user_msg,ge.getMetadataError&&ge.getMetadataError(t)):ge.getMetadataSuccess&&ge.getMetadataSuccess(e)}function I(e){he("ERROR @getMetadata",e),ge.getMetadataError&&ge.getMetadataError(e)}function y(t,n,r,i){var a,o;if(ge.getVideoMetadataSuccess=r,ge.getVideoMetadataError=i,a=c(t,ae.VIDEO_METADATA),o=Ee.videoId,!a)throw new Error("No templateURL to generate metadata lookup URL.");var s=a.replace(o,n);s=s.replace(Ee.anvack,t),he(">> URL:",s),e.download(s,null,v,C)}function v(e){var t;he("metadata",e),e=JSON.parse(e),e.server_time&&(N(e.server_time),he("timeDelta:",Ie)),e.exception?(t=e.exception.user_msg,ge.getVideoMetadataError&&ge.getVideoMetadataError(t)):ge.getVideoMetadataSuccess&&ge.getVideoMetadataSuccess(e)}function C(e){he("ERROR @getMetadata",e),ge.getVideoMetadataError&&ge.getVideoMetadataError(e)}function b(t){return e.md5(t)}function B(t,n,r){var i;if(oe[t])return i=[t,n,r,oe[t]].join("|"),e.md5(i)}function w(){return e.md5(String((new Date).getTime()*Math.random())).slice(0,30)}function S(t,n,r,i,a){var o=z(t,n,r);o=JSON.stringify(o);var s=c(t,ae.SCHEDULE);s&&s.length?(s=s.replace(Ee.videoId,n.video),s=s.replace(Ee.anvack,t),he("scheduleURL:",s),ge.getScheduleSuccess=i,ge.getScheduleError=a,e.sendPostRequest(s,o,D,k)):k("No schedule service")}function Q(e){var t,n,r={};for(var i in e)e.hasOwnProperty(i)&&(t=e[i].name,n=e[i].value,r[t]=n);return r}function T(t){var n;for(var r in t)if("object"==typeof t[r]&&"length"in t[r])for(var i=0,a=t[r].length;i<a;i++)n=t[r][i],n.custom_metadata_map=e.deepCopy(Q(n.custom_metadata)),delete n.custom_metadata;else n=t[r],n.custom_metadata_map=e.deepCopy(Q(n.custom_metadata)),delete n.custom_metadata;return t}function D(e){he("onScheduleSuccess"),e?(e=JSON.parse(e),e=e.schedule,e=T(e),e.server_time&&(N(e.server_time),he("timeDelta:",Ie)),ge.getScheduleSuccess&&ge.getScheduleSuccess(e)):k("Schedule service returned an empty response")}function k(e){ge.getScheduleError&&ge.getScheduleError(e)}function R(t,n,r){var i=c(t,ae.TIME).replace(Ee.anvack,t);B(t,null,null),e.download(i,null,M,L),ge.getTimeSuccess=n,ge.getTimeError=r}function _(){return Ie}function M(e){le=!0,e=JSON.parse(e),Ie=1e3*e.server_time-(new Date).getTime(),he("server time:",e.server_time),he("time delta:",Ie),ge.getTimeSuccess&&ge.getTimeSuccess(1e3*e.server_time,Ie),Ae&&(Ae.apply(null,Array.prototype.slice.call(de)),Ae=null)}function N(e){Ie=1e3*e-(new Date).getTime()}function L(e){ge.getTimeError&&ge.getTimeError(e),le=!0,Ie=0,Ae&&(Ae.apply(null,Array.prototype.slice.call(de)),Ae=null)}function O(t,n,r){ge.getLogosSuccess=n,ge.getLogosError=r,t.station.logo_url?e.download(t.station.logo_url,null,P,F):F("There is no logo url in schedule JSON")}function P(e){e=JSON.parse(e),ge.getLogosSuccess&&ge.getLogosSuccess(e)}function F(e){ge.getLogosError&&ge.getLogosError(e)}function U(t,n,r,i,s){var l,A,d,u,g,f,p={};if(delete fe.getConfig,n&&n.accessKey&&n.secretKey&&!oe[n.accessKey]&&(oe[n.accessKey]=n.secretKey),l=z(t,n,r),ge.getVideoJSONSuccess=i,ge.getVideoJSONError=s,l&&l.api&&(l.api.anvstk||l.api.anvstk2))if(me[t]){if(f=l.api.anvrid,l=JSON.stringify(l),u="adBreakDetail"in n&&n.adBreakDetail||!("adBreakDetail"in n)?"fp":"plan",n.video||n.xUrl){var h=c(t,ae.VIDEO);h=n.xUrl?h.replace(Ee.videoId,"xurl"):h.replace(Ee.videoId,n.video),h=h.replace(Ee.anvack,t),he("videoURL:",h),A=a(h),g=h.indexOf("?")>-1?"&":"?",p.rtyp=u,p["X-Anvato-Adst-Auth"]=A,n.debug&&(p.anvsrt="375231e94afeb649223f2e67e05fba3d"),h+=g+e.encodeURLParams(p,!1),n.rstv&&(n.rstv.event?(g=h.indexOf("?")>-1?"&":"?",h+=g+"rstv_event="+n.rstv.event):n.rstv.dvr&&(g=h.indexOf("?")>-1?"&":"?",h+=g+"rstv_drv="+n.rstv.dvr)),e.sendPostRequest(h,l,V.bind(null,{anvrid:f,videoId:n.video}),Y)}}else fe.getConfig=U,pe.getConfig=arguments,o(t,null,null);else d={cause:{dev_msg:"Failed to generate security token"},code:99,sdkErrorCode:"ACTRL070",type:"exception",user_msg:"Failed to generate security token"},Y(d)}function x(e,t,n){he("@generateVideoJsonFromContentType",t,n);var r={"application/x-mpegurl":"m3u8-variant","application/dash+xml":"dash"};return n in r?{upload_id:e.videoId,def_title:"",published_urls:[{format:r[n],embed_url:t}]}:null}function G(e){for(var t,n={},r=e.split("\n"),i=0,a=r.length;i<a;i++)t=r[i].split(":"),2==t.length&&(n[t[0].trim().toLowerCase()]=t[1].trim().toLowerCase());return n}function V(t,r,i,a){var o,s,l,A,d="_vpng=",c=/_vpng=[0-9]/,u=/dcs-.*\.apis/,g=!("clientSideAdTracking"in n)||n.clientSideAdTracking;r=r.replace(/anvatoVideoJSONLoaded *\( */,""),r=r.replace(/\} *\)/,"}");try{r=JSON.parse(r)}catch(e){if("string"==typeof i&&(i=G(i)),!(r=x(t,a.responseUrl||a.url,i["content-type"])))return void console.error("Failed to parse videoJSON.");console.warn("Found a manifest while expecting a videoJSON. \nProceeding with the videoJSON generated from this manifest URL...")}if(A="2"==r.video_type,d+=g?A?"{{NEED_SERVER_SIDE_AD_TRACKING}}":0:1,r.published_urls&&r.published_urls.length){r.resolvedUrls={};for(var f=0,p=r.published_urls.length;f<p;f++)if(o={},"format"in r.published_urls[f]&&"embed_url"in r.published_urls[f]&&r.published_urls[f].format in{"m3u8-variant":1,dash:1}){o.primary=r.published_urls[f].embed_url,o.backup=r.published_urls[f].backup_url;for(var h in o)o.hasOwnProperty(h)&&u.test(o[h])&&"string"==typeof o[h]&&(s=o[h].indexOf("?")>-1?"&":"?",c.test(o[h])?o[h]=o[h].replace(c,d):o[h]+=s+d);he("for",r.published_urls[f].format,"pushing",o),r.published_urls[f].embed_url=o.primary,r.published_urls[f].backup_url=o.backup,r.resolvedUrls[e.md5(r.published_urls[f].embed_url)]=o,r.published_urls[f].replaced=!1,r.published_urls[f].anvrid=t.anvrid}}else r.exception=r.exception||{cause:{dev_msg:"Failed to retrieve the video publish URLs."},code:99,type:"exception",user_msg:"Failed to retrieve publish URLs."};if(r.exception)Y(r.exception);else if(ge.getVideoJSONSuccess)if(r.atvm){he("@onGetVideoJSONSuccess resolved",JSON.stringify(r.resolvedUrls,null,3));for(var m in r.resolvedUrls)r.resolvedUrls.hasOwnProperty(m)&&(l=r.resolvedUrls[m].primary,he("@onGetVideoJSONSuccess detected atvm entry, entering atvm flow for",l),he("@onGetVideoJSONSuccess request ad break info",l),e.download(l,null,H.bind(null,r,m),j.bind(null,r)))}else ge.getVideoJSONSuccess(r)}function H(t,n,r){var i=!0;he("@onAdBreakInfo",n);try{r=JSON.parse(r)}catch(e){return void j(t,"Malformed ad break info; resuming without ad presentation")}if(r&&"master_m3u8"in r){r.interstitials=r.interstitials||{cues:[]};for(var a=0,o=t.published_urls.length;a<o;a++)(t.published_urls[a].format.indexOf("m3u8")>-1||t.published_urls[a].format.indexOf("dash")>-1)&&(n==e.md5(t.published_urls[a].embed_url)&&(he("@onAdBreakInfo replacing",t.published_urls[a].embed_url,"with",r.master_m3u8),t.published_urls[a].embed_url=r.master_m3u8,t.published_urls[a].adBreakInfo=r,t.published_urls[a].replaced=!0),"replaced"in t.published_urls[a]&&!1===t.published_urls[a].replaced&&(i=!1))}else t.exception={cause:{dev_msg:"Failed to retrieve the video publish URLs."},code:99,type:"exception",user_msg:"Failed to retrieve publish URLs."};i&&(t.exception?Y(t.exception):ge.getVideoJSONSuccess&&ge.getVideoJSONSuccess(t))}function j(e,t){console.error(t||"Error while getting ad info, resuming without ad presentation"),ge.getVideoJSONSuccess&&ge.getVideoJSONSuccess(e)}function Y(e){ge.getVideoJSONError&&ge.getVideoJSONError(e)}function K(t,n,r,i,a){var o=z(t,n,r);o=JSON.stringify(o);var s={schedule:!1},l=c(t,ae.TVE)+"&"+e.encodeURLParams(s);l=l.replace(Ee.anvack,t),ge.tveCheckSuccess=i,ge.tveCheckError=a,e.sendPostRequest(l,o,J,q)}function J(e){var t={current:{},next:{}};e=JSON.parse(e),e.user&&(t.tveAuthorized=e.user["tve-authorized"],t.notAuthorizedCode=e.user.not_authorized_code,t.notAuthorizedReason=e.user.not_authorized_reason,e.user["home-station"]&&(t.hasHomeStationRights=e.user["home-station"].has_tve_rights),e.user["geo-station"]&&(t.hasGeoStationRights=e.user["geo-station"].has_tve_rights)),e.station&&(t.callsign=e.station.callsign,e.station.current_event&&e.station.current_event.title&&e.station.current_event.event_id&&(t.current.title=e.station.current_event.title,t.current.id=e.station.current_event.event_id),e.station.next_event&&e.station.next_event.title&&e.station.next_event.event_id&&(t.next.title=e.station.next_event.title,t.next.id=e.station.next_event.event_id)),e.server_time&&(N(e.server_time),he("timeDelta:",Ie)),he("@onTVECheckSuccess:",t),ge.tveCheckSuccess&&ge.tveCheckSuccess(t)}function q(e){he("@onTVECheckError:",e),ge.tveCheckError&&ge.tveCheckError(e)}function W(e){he("@generateVerificationObject",e);var t=w(),n=(new Date).getTime()+Ie,r=Math.round(n/1e3),i={};return i.api={anvrid:t,anvstk:B(e,t,r),anvts:r},i.user={anvkey:e,secret:oe[e]},i}function z(e,t,n){he("@generatePostObject static:",JSON.stringify(t,null,3)),he("@generatePostObject dynamic:",JSON.stringify(n,null,3));var r=w(),i=(new Date).getTime()+Ie,a=X(t,n),o=Math.round(i/1e3);return a=a||{},a.api={anvrid:r,anvstk:B(e,r,o),anvts:o},(t.token||n.tkxToken)&&(delete a.api.anvstk,a.api.anvstk2=n.tkxToken||t.token),a}function Z(e,t){t.video_asset_id=t.videoAssetId||e.caid,t.site_section_id=t.siteSectionId||e.csid,t.network_id=t.networkId||e.fwNetwork,t.profile_id=t.profileId||e.fwProf,t.server_url=t.serverUrl||t.serverURL||e.fwServerUrl,t.event_type=t.eventType||e.fwEventType,t.companion=t.companion||e.fwCompanion,t.mvpd=t.mvpd||e.mvpd,delete t.videoAssetId,delete t.siteSectionId,delete t.networkId,delete t.profileId,delete t.serverUrl,delete t.eventType}function X(t,n){var r={};return t&&t.plugins&&t.plugins.freewheel&&t.plugins.freewheel.serverSide&&(r=e.deepCopy(t.plugins.freewheel.serverSide)),t&&t.plugins&&t.plugins.dfp&&t.plugins.dfp.serverSide&&n.adKeyValues&&(t.plugins.dfp.serverSide=e.merge(t.plugins.dfp.serverSide,n.adKeyValues)),t=t||{},n=n||{},Z(t,r),{ads:{freewheel:r,dfp:t&&t.plugins&&t.plugins.dfp&&t.plugins.dfp.serverSide?t.plugins.dfp.serverSide:void 0},content:{mcp_video_id:t.video,mpx_guid:t.mpx?t.video:"",video_type:t.xUrl?t.live?"2":"1":void 0,xurl:t.xUrl,xurlAdTag:t.xUrlAdTag,video_format:t.xUrl?"hls":void 0,def_title:t.title,extarnal_id:t.xUrl?"123456":void 0},user:{glg:"",glt:"",gst:"",gzip:t.geozip||n.geoZip||(t.user?t.user.geoZip:""),hst:"",hzip:(t.user?t.user.homeZip:"")||n.homeZip,ehzip:(t.user?t.user.encryptedHomeZip:"")||n.encryptedZip,device:e.getDeviceInfo.ott?"ftv":"web",device_id:t.deviceId,sdkver:[t.version,t.built,t.revision].join("."),sdkenv:t.desktop?"desktop":"html5",host:t.host,referrer:t.referrer,adobepass:t.accessControl&&"alternate"==t.accessControl.authenticator?{}:{mvpd:n.provider||(t.accessControl?t.accessControl.mvpd:void 0),max_rating:n.maxRating,requestor:n.requestor,resource:n.resource,short_token:t.accessControl&&t.accessControl.token?t.accessControl.token:n.token?decodeURIComponent(n.token):void 0,environment:t.accessControl?t.accessControl.environment:void 0,server_url:t.accessControl?t.accessControl.serverUrl:void 0},mvpd_authorization:t.accessControl&&"alternate"==t.accessControl.authenticator?{mvpd:t.accessControl?t.accessControl.mvpd:void 0,token:t.accessControl?t.accessControl.token:void 0,max_rating:t.user?t.user.maxRating:void 0}:{},mvpd:n.provider||(t.accessControl?t.accessControl.mvpd:t.user?t.user.mvpd:void 0)}}}function $(t,n,r,i){var a,o;ge.getDecryptionKeySuccess=r,ge.getDecryptionKeyError=i,se=se||t,(a=c(t,ae.DECRYPTION_KEY))&&(o=a.replace(Ee.anvack,se),o=o.replace(Ee.refKey,encodeURIComponent(n)),e.download(o,null,ee,function(e){te(n,e)}))}function ee(e){ge.getDecryptionKeySuccess&&ge.getDecryptionKeySuccess(e)}function te(e,t){ge.getDecryptionKeyError&&ge.getDecryptionKeyError(e,t)}var ne=["https://access-prod.apis.anvato.net/anvacks/{{ANVACK}}?apikey=3hwbSuqqT690uxjNYBktSQpa5ZrpYYR0Iofx7NcJHyA","//anvato-api-config.s3.amazonaws.com/anvacks/{{ANVACK}}.json"],re=0,ie=e.deepCopy(ne),ae={TPI:"tpi",UPID:"upid",EVENT_ID:"eventId",VIDEO_METADATA:"videoMetadata",SCHEDULE:"schedule",TIME:"time",VIDEO:"video",TVE:"tve",DECRYPTION_KEY:"decryptionKey"
},oe="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";n.accessKey&&function(){var t;if("string"==typeof oe)if(n.token||n.secretKey)oe={};else try{t=[n.hashPrefix,"anvrocks"].join("~"),t=e.md5(t).slice(-16),oe=e.aesStdDecrypt("ecb",oe,t,"base64"),oe=JSON.parse(oe)}catch(e){console.error("Error decrypting/parsing the ACCESS_KEY_MAP",e,e.message),oe={}}}();var se,le,Ae,de,ce=null,ue=0,ge={},fe={},pe={},he=void 0!==r?r.getLogFn("TVEAPI"):function(){console.log.apply(console,["[!TVEAPI!]\t"].concat(Array.prototype.slice.call(arguments)))},me={},Ee={upid:"{{UPID}}",eventId:"{{MCP_EVENT_ID}}",anvack:"{{ANVACK}}",videoId:"{{VIDEO_ID}}",refKey:"{{KEYREF}}"},Ie=0;return n&&n.accessKey&&n.secretKey&&!oe[n.accessKey]&&(oe[n.accessKey]=n.secretKey),he("TVE API initialized"),{getConfig:o,getConfigV4:s,getRandomConfigURL:g,getMetadata:m,getVideoMetadata:y,md5:b,generateSecurityToken:B,generatePostObject:z,getSchedule:S,tveCheck:K,getVideoJSON:U,getTime:R,getTimeDelta:_,getLogos:O,getDecryptionKey:$,getTpiToken:f,getVerificationObject:W}}return n}),define("DataAPI",["util"],function(e){function t(t){function n(t,n,a,o,d){c("@getMediaJSON",t);var u,g,f=t.split(":");f.length>0&&(t=f[f.length-1]),A.getMediaJSONSuccess=n,A.getMediaJSONError=a,u=s.replace(l.media,t),c("url:",u),g={email:o,password:d},e.download(u,g,r,i,!1)}function r(e){c("@onMedia");var t;try{t=JSON.parse(e)}catch(e){return void i("Invalid Media returned")}c("media:",t),"published_urls"in t&&(t=a(t)),A.getMediaJSONSuccess&&A.getMediaJSONSuccess(t)}function i(e){A.getMediaJSONError&&A.getMediaJSONError(e)}function a(e){var t;c("@transformPublishedURLs",e);for(var n=0,r=e.published_urls.length;n<r;n++){t=e.published_urls[n];for(var i in t)t.hasOwnProperty(i)&&i.indexOf("url")>-1&&"string"==typeof t[i]&&-1==t[i].indexOf("//")&&(t[i]=o+t[i],c("transformPublishedURLs",t[i]))}return e}var o="http://api.anvato.net",s="http://api.anvato.net/v1/media/{{MEDIA}}",l={media:"{{MEDIA}}"},A={},d=!1,c=void 0!==t?t.getLogFn("DataAPI"):function(){console.log.apply(console,["[!DataAPI!]\t"].concat(Array.prototype.slice.call(arguments)))};return{getMediaJSON:n,logout:function(){c("@logout")},setBlocked:function(e){d=e},getBlocked:function(){return d}}}return t}),define("ProviderMenu",["util"],function(e){function t(t,n,r){function i(t){C("@init"),v=t,a(),e.addEventListener(b.downButton,"click",f),e.addEventListener(b.upButton,"click",f),e.addEventListener(b.secondaryBackBtn,"click",d),e.addEventListener(b.moreButton,"click",d)}function a(){var t=b;t.main=e.generateChild(n,"div","provider-main","provider-main"),t.secondary=e.generateChild(n,"div","provider-secondary","provider-secondary"),t.secondaryHeader=e.generateChild(t.secondary,"div","secondary-provider-header","secondary-provider-header"),t.secondaryBackBtn=e.generateChild(t.secondaryHeader,"div","secondary-provider-back-btn","secondary-provider-back-btn","Back"),t.secondaryTitle=e.generateChild(t.secondaryHeader,"div","secondary-provider-title","secondary-provider-title","Select your TV provider to watch live and full episodes"),t.secondaryFrame=e.generateChild(t.secondary,"div","secondary-provider-frame","secondary-provider-frame"),t.header=e.generateChild(t.main,"div","provider-header","provider-header","Select your TV provider to watch live and full episodes"),t.up=e.generateChild(t.main,"div","provider-up","provider-up"),t.frame=e.generateChild(t.main,"div","provider-frame","provider-frame"),t.tabs=e.generateChild(t.frame,"div","provider-tabs","provider-tabs"),t.down=e.generateChild(t.main,"div","provider-down","provider-down"),t.upButton=e.generateChild(t.up,"div","provider-up-btn","provider-up-btn"),t.downButton=e.generateChild(t.down,"div","provider-down-btn","provider-down-btn"),t.moreButton=e.generateChild(t.down,"div","provider-more-btn","provider-more-btn","Show more")}function o(t){var n,r,i,a,o,s,l,A,d,c=t.length,g=B/w;I=Math.ceil(c/B),y=0,b.tabs.innerHTML="",b.tabs.style.width=100*I+"%",E=t;for(var f=0;f<c;f++)r=Math.floor(f/B),a=Math.floor(f%B/g),r!=n&&(C("tab change"),n=r,o=e.generateChild(b.tabs,"div","provider-tab"+n,"provider-tab"),o.style.width=100/I+"%"),a!=i&&(C("row change"),i=a,s=e.generateChild(o,"div","provider-row"+i,"provider-row"),s.style.height=Math.floor(100/w-2)+"%",s.style.marginBottom="1%"),l=e.generateChild(s,"div","provider-item"+f,"provider-item"),l.style.width=100/g+"%",e.addEventListener(l,"click",u),A=e.generateChild(l,"div","provider-item-content"+f,"provider-item-content"),C(n,i,f),d=e.generateChild(A,"img","provider-logo"+f,"provider-logo"),d.src=t[f].logoURL,d.onload=function(){this.style.display="block"};p()}function s(t){C("@setProviders"),"object"==typeof t&&t.length?(o(t),Q=!1):"string"==typeof t&&t.length&&(Q=!0,e.download(t,null,l))}function l(e){primaryList=[],secondaryList=[],e=JSON.parse(e),C("provider list fetched whiteList #:",e.mvpdWhitelist.length);var t,n,r=e.basePath.pickerImage;if("mvpdWhitelist"in e)for(var i=0,a=e.mvpdWhitelist.length;i<a;i++)n=e.mvpdWhitelist[i],t={ID:n.mvpdId,displayName:n.displayName,logoURL:r+n.pickerImage.ipadLowRes,loggedInImage:r+n.loggedInImage.ipadLowRes},1==n.tier?primaryList.push(t):secondaryList.push(t);C("primaryList",primaryList.length),C("secondaryList",secondaryList.length),o(primaryList),A(secondaryList)}function A(t){var n,r,i,a,o;b.secondaryFrame.innerHTML="",b.secondary.style.visibility="hidden",b.secondaryHeader.style.lineHeight=b.secondaryHeader.clientHeight+"px";for(var s=0,l=t.length;s<l;s++)i=Math.floor(s/S),i!=r&&(r=i,n=e.generateChild(b.secondaryFrame,"div","secondary-provider-row","secondary-provider-row"),n.style.height=Math.floor(100/w/2)+"%"),o=o||n.clientHeight+"px",a=e.generateChild(n,"div","secondary-provider-item"+s,"secondary-provider-item",t[s].displayName),a.style.width=Math.floor(100/S-8-2)+"%",a.style.padding="0 4%",a.style.margin="1%",a.style.height="98%",a.style.lineHeight=o,e.addEventListener(a,"click",g)}function d(){"hidden"==b.secondary.style.visibility?(b.main.style.display="none",b.secondary.style.visibility="visible"):(b.main.style.display="block",b.secondary.style.visibility="hidden")}function c(e){var t=b.frame.clientWidth;y=(e+y)%I,y<0&&(y=I-1),b.frame.scrollLeft=y*t,b.upButton.style.display=0==y?"none":"block",y==I-1&&Q?(b.downButton.style.display="none",b.moreButton.style.display="block",b.moreButton.style.lineHeight=b.down.clientHeight+"px"):(b.downButton.style.display="block",b.moreButton.style.display="none")}function u(){var e=/provider-item([0-9]+)/.exec(this.id),t=e[1];C("selected provider",t,JSON.stringify(E[t])),v&&v(E[t]),h()}function g(){var e=/secondary-provider-item([0-9]+)/.exec(this.id),t=e[1];C("selected provider",t,JSON.stringify(secondaryList[t])),v&&v(secondaryList[t]),h()}function f(e){var t=e.target.className,n=t.indexOf("down")>-1?1:-1;C("delta:",n),c(n)}function p(){C("@show"),n.style.visibility="visible",n.style.display="block"}function h(){C("@hide"),n.style.visibility="hidden",n.style.display="none"}function m(e){v=e}var E,I,y,v,C=r?r.getLogFn("ProviderMenu"):function(){console.log.apply(console,["[!ProviderMenu!]\t"].concat(Array.prototype.slice.call(arguments)))},b={},B=9,w=3,S=2,Q=!1;return{init:i,setProviders:s,show:p,hide:h,switchTab:c,setSelectionCallback:m}}return t}),define("ProxyAdobePass",["util","ProviderMenu"],function(e,t){function n(e,n,r,i,a,o){function s(e,t){M("Dispatching event",e,typeof r);var n=Array.prototype.slice.call(arguments,1);if(a){for(var i=0,s=L.length;i<s;i++)a(L[i]),o(L[i].name,L[i].args);L=[],a({name:e,time:r&&r.getTime?r.getTime():"",info:N[e],args:n}),o(e,n)}else L.push({name:e,time:r&&r.getTime?r.getTime():"",info:N[e],args:n})}function l(t,r,a){M("@init pInstance:",n);var o=document.getElementsByTagName("head")[0],s=document.createElement("link");s.href=i.baseURL+"anvprovidermenu.css",s.type="text/css",s.rel="stylesheet",o.appendChild(s),e.send(n,"remoteAgent","entitlement",{object:"AdobePass",args:[t]}),e.send(n,"remoteAgent","entitlement",{fn:"init",args:[{autoLogin:r,debug:i.debug,parentalControl:a,useFlash:!(!i||!i.accessControl)&&i.accessControl.useFlash,accessEnablerLoaderPath:i&&i.accessControl?i.accessControl.accessEnablerLoaderPath:"",environment:i&&i.accessControl?i.accessControl.environment:"production",refreshless:!(!i||!i.accessControl)&&i.accessControl.refreshless,zipDecryption:!(!i||!i.accessControl)&&i.accessControl.zipDecryption}]})}function A(){e.send(n,"remoteAgent","entitlement",{fn:"checkAuthentication",args:Array.prototype.slice.call(arguments)})}function d(){M("@authorize"),e.send(n,"remoteAgent","entitlement",{fn:"authorize",args:Array.prototype.slice.call(arguments)})}function c(){e.send(n,"remoteAgent","entitlement",{fn:"getSelectedProviderInfo",args:[]})}function u(){e.send(n,"remoteAgent","entitlement",{fn:"getReuseStatus",args:[]})}function g(e){var n=document.createElement("div"),i=document.body;k=e,s("PICKER_REQUESTED"),M("defaultPicker:",R),R&&(void 0===Q&&(n.style.width=Math.min(640,i.clientWidth)+"px",n.style.height=Math.min(360,i.clientHeight)+"px",n.style.position="absolute",n.style.margin="auto",n.style.top="0",n.style.bottom="0",n.style.left="0",n.style.right="0",n.style.zIndex="2147483649",i.style.position="relative",n.id="anv-provider-menu",n.className="anv-provider-menu",i.appendChild(n),Q=new t(null,n,r),Q.init(f)),Q.setProviders("https://storage.googleapis.com/anvato-cdn-west/resource/mvpd.json"),s("PICKER_DISPLAYED"),n.style.display="block")}function f(t,r){M("@sendSelectedProviderInfo",T[t.ID]);var a;r||t.ID in T&&("false"!=T[t.ID].iFrameRequired&&"iFrameRequired"in T[t.ID]?(t.iFrameRequired=!0,i&&i.accessControl&&"iFramedLoginPlaceholderId"in i.accessControl&&(s("PROVIDER_IFRAME_INJECTED",t.ID,i.accessControl.iFramedLoginPlaceholderId,parseInt(T[t.ID].iFrameWidth),parseInt(T[t.ID].iFrameHeight)),t.iFramedLoginPlaceholderId=i.accessControl.iFramedLoginPlaceholderId)):(M("@setSelectedProviderInfo",T[t.ID].iFrameRequired),!O&&i&&i.accessControl&&i.accessControl.refreshless&&(a=!0,E(t,r)))),M("@sendSelectedProviderInfo before polling",k),!a&&(R||t.iFrameRequired||r)&&(k&&e.send(n,"remoteAgent","entitlement",{fn:"resetProvider",args:Array.prototype.slice.call(arguments)}),e.send(n,"remoteAgent","entitlement",{fn:"setSelectedProviderInfo",args:Array.prototype.slice.call(arguments)}))}function p(){s("PROVIDER_IFRAME_REMOVED",i.accessControl.iFramedLoginPlaceholderId)}function h(){s("POPUP_BLOCKED")}function m(){s("POPUP_DISPLAYED")}function E(t,r){var a,o;a=i&&i.accessControl&&i.accessControl.environment&&"staging"==i.accessControl.environment?"https://entitlement.auth-staging.adobe.com":"https://entitlement.auth.adobe.com",
o=window.open(a,"mvpdwindow"),M("@pollForPopup",t,r,o),o?(s("POPUP_DISPLAYED"),o.focus(),k&&e.send(n,"remoteAgent","entitlement",{fn:"resetProvider",args:Array.prototype.slice.call(arguments)}),e.send(n,"remoteAgent","entitlement",{fn:"setSelectedProviderInfo",args:Array.prototype.slice.call(arguments)}),clearTimeout(_.popup),delete _.popup):(_.popup||s("POPUP_BLOCKED"),_.popup=setTimeout(function(){E(t,r)},500))}function I(e){M("@onProviderSelected",e)}function y(e,t,n){M("@authorizationCallback")}function v(e){D=e,M("@onReadyCallback",D),D&&(c(),Q&&Q.hide())}function C(e){M("@authenticate",e),g(e)}function b(){}function B(e){s("PROVIDER_LIST_SET",e),T=e}function w(t){M("@checkPreauthorizedResources",t),e.send(n,"remoteAgent","entitlement",{fn:"checkPreauthorizedResources",args:Array.prototype.slice.call(arguments)})}function S(e){return T[e]&&T[e].displayName||e}var Q,T,D=!1,k=!1,R=i.accessControl&&"defaultPicker"in i.accessControl&&i.accessControl.defaultPicker||i.accessControl&&!("defaultPicker"in i.accessControl),_={},M=r?r.getLogFn("ProxyAdobePass"):function(){console.log.apply(console,["[!ProxyAdobePass!]\t"].concat(Array.prototype.slice.call(arguments)))},N={},L=[],O=!!(i&&i.accessControl&&i.accessControl.useFlash)&&i.accessControl.useFlash;return function(){M("registering events"),N.PICKER_REQUESTED="MVPD picker has been requested",N.PICKER_DISPLAYED="MVPD picker has been displayed",N.POPUP_BLOCKED="Browser has blocked the popup",N.POPUP_DISPLAYED="Browser has allowed the popup",N.PROVIDER_LIST_SET="Provider list is available",N.PROVIDER_IFRAME_INJECTED="Provider IFrame has been injected",N.PROVIDER_IFRAME_REMOVED="Provider IFrame has been removed"}(),{init:l,onReadyCallback:v,sendSelectedProviderInfo:f,onProviderIFrameDestroyed:p,onProviderPopupBlocked:h,onProviderPopupDisplayed:m,onProviderSelected:I,checkAuthentication:A,authenticate:C,authorize:d,checkPreauthorizedResources:w,setMetadataStatus:b,authorizationCallback:y,getSelectedProviderInfo:c,getReuseStatus:u,getMvpdDisplayName:S,showPicker:g,setConfig:B}}return n}),define("pluginThePlatform",["util"],function(e){function t(t,n,r,i,a,o){function s(e){switch(Oe("@evaluateEntitlement"),X.profile){case"nbc":return"auth"==e.pl1$entitlement;case"fox":return e.fsmobile$authenticated;case"fs-rsn":return!1}}function l(t){ie=t,Oe("Requesting token for user object:",JSON.stringify($,null,3)),a&&r.accessKey?(Oe("using tve tpi service via accessControl"),a(r.accessKey,$,A,d)):e.sendPostRequest(_e,JSON.stringify($),A,d)}function A(t){t=JSON.parse(t),Oe("@onTokenResponse",JSON.stringify(t)),t.signInResponse&&t.signInResponse.token?(ee=t.signInResponse.token,Oe("token:",ee,new Date((new Date).getTime()+t.signInResponse.duration)),($&&"attributes"in $&&$.attributes.afterPreflight||"alternate"==X.authenticator)&&(new Date,e.setCookie("token",ee,new Date((new Date).getTime()+t.signInResponse.duration))),"function"==typeof ie&&ie(ee)):(t.error&&q("PLAYER_ERROR","MPX002",t.error,!0),Oe("Failed to receive the token"))}function d(){q("PLAYER_ERROR","MPX003","Failed to retrieve the token",!0)}function c(t){ee?(ae=t,e.download(Me+ee,null,u,g)):Oe("No token available!")}function u(e){e=JSON.parse(e),Oe("@onResourcesResponse",JSON.stringify(e)),e.getSelfResponse&&e.getSelfResponse.attributes?(te=e.getSelfResponse,ne=f(e),Oe("candidateResources:",ne.join("|")),"function"==typeof ae&&ae(ne)):(Oe("No resources available"),g())}function g(){q("PLAYER_ERROR","MPX004","Failed to retrieve the resources (getSelf object)",!0)}function f(e){var t=e.getSelfResponse.attributes.homeAffiliateResources?e.getSelfResponse.attributes.homeAffiliateResources.split("|"):[],n=e.getSelfResponse.attributes.homeNationalResources?e.getSelfResponse.attributes.homeNationalResources.split("|"):[],r=e.getSelfResponse.attributes.homeRSNResources?e.getSelfResponse.attributes.homeRSNResources.split("|"):[],i=e.getSelfResponse.attributes.geoAffiliateResources?e.getSelfResponse.attributes.geoAffiliateResources.split("|"):[],a=e.getSelfResponse.attributes.geoNationalResources?e.getSelfResponse.attributes.geoNationalResources.split("|"):[],o=e.getSelfResponse.attributes.geoRSNResources?e.getSelfResponse.attributes.geoRSNResources.split("|"):[];return 1==e.getSelfResponse.attributes.subscriber?(Oe("@generateResourcesFromSelf generating resources from home resources"),t.concat(n).concat(r)):(Oe("@generateResourcesFromSelf generating resources from geo resources"),i.concat(a).concat(o))}function p(e){ne=[];for(var t=0,n=e.length;t<n;t++)ne[t]=e[t]}function h(t){var n=e.getCookie("user_object");try{n=JSON.parse(n)}catch(e){console.error("Invalid userobject format from cached userObject")}if(t)return delete $.attributes.beforePreflight,$.attributes.afterPreflight=1,$.attributes.authorizedResources=t.join("|"),null!=$.attributes.serviceZip&&/service/i.test($.attributes.serviceZip)&&n&&n.attributes&&n.attributes.serviceZip?Oe("@generateFinalUserObject ",$.attributes.serviceZip):(Oe("@generateFinalUserObject caching user object"),e.setCookie("user_object",JSON.stringify($),1/0),/service/i.test($.attributes.serviceZip)&&(Oe("@generateFinalUserObject proceeding with invalid service zip",$.attributes.serviceZip),q("PLAYER_ERROR","MPX020","Received an invalid service zip from Adobe Pass and there is no cached service zip from previous sessions.",!1))),$}function m(){if(Oe("@generateFeedURL",X.profile),Oe("@generateFeedURL chunkIndex:",Le),"nbc"==X.profile)ge=pe+fe[X.profile]+"/"+X.playlist+"?form=cjson&count=true&params=manifest%3Dm3u%26format&byCustomValue={entitlement}{auth}";else if("fs-rsn"==X.profile)ge=pe+fe[X.profile]+"/"+X.playlist+"?form=cjson&count=true&params=manifest%3Dm3u%26format",Oe("@generateFeedURL",ge);else{var e=[];e.push(te.attributes.geoAffiliateCallsigns),e.push(te.attributes.geoNationalCallsigns),e.push(te.attributes.geoRSNCallsigns),1==te.attributes.subscriber&&(Oe("@generateFeedURL generating callsigns from both geo and home"),e.push(te.attributes.homeAffiliateCallsigns),e.push(te.attributes.homeNationalCallsigns),e.push(te.attributes.homeRSNCallsigns)),e=e.join("|"),ge=E(e,te.attributes.authorizedResources),Oe("feedURL:",ge)}return ge}function E(e,t){Oe("@filterRequest",Le);var n=Re?pe+fe[X.profile]+"/"+X.playlist:"http://feed.theplatform.com/f/fs2go-staging/xRBZLs4etm__",r=X.playlistChunk||360,i=Le*r+1+"-"+(Le+1)*r,a="?range="+i+"&form=cjson&count=true&byCustomValue={device}{web},{delivery}{Live},{operatingUnit},{channelID}";return a=a.replace(",{operatingUnit}",",{operatingUnit}{"+e+"}"),a=a.replace(",{channelID}",t?",{channelID}{"+t+"}":""),a=n+a,Oe("@filterRequest:",a),a}function I(t){oe=t,e.download(ge,null,y,C)}function y(e){Ae=JSON.parse(e),Ae.entryCount?(Oe("There are",Ae.entryCount,"items in the feed"),v()):q("PLAYER_ERROR","MPX001","No items in the feed",!0)}function v(){var t,n,r,i,a=new Date,o=a.getDate(),s=a.getMonth(),l=a.getFullYear();if(X.playlist&&X.playlistChunk&&X.playlistDays){Oe("@evaluatePlaylistChunkStatus",o,s,l,"delta",24*X.playlistDays*36e5),n=new Date(l,s,o).getTime()+24*X.playlistDays*36e5,r=e.deepCopy(Ae),r.entries=[];for(var A=0,d=Ae.entries.length;A<d;A++){if(t=Ae.entries[A].fsmobile$eventStartTime,Oe("@evaluatePlaylistChunkStatus",t<n,t,n),!(t<n)){Ne=!0;break}r.entries.push(Ae.entries[A])}Ae=r,i=Ne||(Le+1)*X.playlistChunk+1>=Ae.totalResults,oe&&oe(Ae,i),Le++,Oe("totalResults:",Ae.totalResults,"(chunkIndex * chunk + 1)",Le*X.playlistChunk+1),!i&&oe?B(oe):Ne=!1}else oe&&oe(Ae,!0)}function C(){q("PLAYER_ERROR","MPX005","Failed to fetch the feed",!0)}function b(n,r){function i(e){c(a)}function a(e){e=X.channels||e,o(e)}function o(e){p(e),h(e),l(s)}function s(e){try{u&&(u=JSON.parse(u))}catch(e){console.error("Invalid userobject format from selfResponse")}g&&u&&$.attributes.adobeMvpdId==u.attributes.adobeMvpdId?(Oe("cached selfResponse",JSON.stringify(u,null,3)),te=u,ne=f({getSelfResponse:te}),A()):c(A)}function A(t){e.removeCookie("self_response"),e.setCookie("self_response",JSON.stringify(te)),Oe("@onPostFlightResources",JSON.stringify(te,null,3)),d(r)}function d(t){Oe("@getItem");var r=pe+fe[X.profile]+"/"+X.playlist+"?";Oe("@getItem:",r),oe=t,e.download(r+"byGuid="+n+"&form=cjson",null,y,C)}var u,g;"alternate"!=X.authenticator&&(g=e.getCookie("token"),u=e.getCookie("self_response")),Oe("@getItemWithGuid"),Oe("activating alternate authentication flow?",X.authenticator),"alternate"==X.authenticator?(Oe("activating alternate authentication flow"),function(){delete $.beforePreflight,$.attributes.adobeMvpdId=t.mvpdID,$.attributes.VOD=!1,$.attributes.serviceZip=t.zip,$.attributes.maxrating=t.maxRating,$.attributes.authorizedResources=t.channels.join("|"),$.mvpdToken=t.token,Oe("alternate user object",JSON.stringify($))}(),g?(ee=g,Oe("cached token",JSON.stringify(g,null,3)),s(ee)):l(s)):ye.userObject?l(i):d(r)}function B(n){function r(e){c(i)}function i(e){Oe("onPreflightResources",e.join("|")),e=X.channels||e,o&&o.preauth?o.preauth(e,a):a(e)}function a(e){Oe("@onPreflightAuthorized",e.join("|")),p(e),Oe("@onPreflightAuthorized",e.join("|")),h(e),d(ee,s)}function s(){Oe("Final token:",ee),c(A)}function A(t){re||(re=Y(te.attributes.authorizedResources.split("|")),q("CHANNEL_LIST_AVAILABLE",re)),e.setCookie("self_response",JSON.stringify(te),(new Date).getTime()+1e4),Oe("@onPostFlightResources",JSON.stringify(te,null,3)),Oe("feed URL:",m()),I(n)}function d(t,n){Oe("@signOut",t),C=n;e.download("https://euid.theplatform.com/idm/web/Authentication/signOut?schema=1.0&form=json&_token="+t,void 0,u,g)}function u(){Oe("@onSignOut",ee),l(C)}function g(){Oe("@onSignOutError",ee),l(C)}var E,y,v,C;if(Oe("@getFeed"),Oe("activating alternate authentication flow?",X.authenticator),"alternate"==X.authenticator)Oe("activating alternate authentication flow"),function(){delete $.beforePreflight,$.attributes.adobeMvpdId=t.mvpdID,$.attributes.VOD=t.vod,$.attributes.serviceZip=t.zip,$.attributes.maxrating=t.maxRating,$.attributes.authorizedResources=t.channels.join("|"),$.mvpdToken=t.token,Oe("alternate user object",JSON.stringify($))}(),l(s);else if(ye.userObject){v=e.getCookie("token"),y=e.getCookie("user_object"),E=e.getCookie("self_response");try{y=JSON.parse(y),E&&(E=JSON.parse(E))}catch(e){console.error("Invalid userobject format from selfResponse",y,y.length,typeof y)}y&&(Oe("@getFeed evaluating to use cached userobject",y.attributes.serviceZip,"->",$.attributes.serviceZip),Oe("@getFeed evaluating to use cached userobject decision",null==y.attributes.serviceZip||!(!/service/i.test($.attributes.serviceZip)&&/service/i.test(y.attributes.serviceZip)))),v&&y&&$.attributes.adobeMvpdId==y.attributes.adobeMvpdId&&(null==y.attributes.serviceZip||/service/i.test($.attributes.serviceZip)||!/service/i.test(y.attributes.serviceZip))?(ee=v,$=y,Oe("using cached values",ee,y,JSON.stringify(y,null,3)),E?(Oe("using cached selfResponse"),te=E,ne=f({getSelfResponse:te}),A()):d(v,s)):v||ee?d(v||ee,r):l(r)}else A()}function w(e){for(var t=[],n=0,r=Ae.entries.length;n<r;n++){var i=Ae.entries[n];i.fsmobile$channelID==e&&t.push(i)}return t}function S(t,n,r){var i=n||i.entries;if(t<i.length){var a,o=i[t];se=r;for(var s=0,l=o[ye.contentKey].length;s<l;s++)"M3U"==o[ye.contentKey][s][ye.formatKey]&&(a=o[ye.contentKey][s][ye.urlKey]);e.download(a+ee?"&token="+ee:"",null,Q,T)}}function Q(e){Oe("SMIL CONTENT:",e),se&&se(e)}function T(){q("PLAYER_ERROR","MPX006","Failed to retrieve the smil source",!0)}function D(e,t){var n,r={};if(e){n=e.split("|");for(var i=0,a=n.length;i<a;i++)"function"==typeof t?r[t(n[i])]=1:r[n[i]]=1}return r}function k(e,t,n){Oe("@applyProgramPriority",t,n,"timeDelta",he);for(var r,i=(new Date).getTime()+he,a=[],o=[],s=0,l=e.length;s<l;s++)r=e[s],r.startTime<i&&r.endTime>i&&(Oe("@applyProgramPriority live now",s,r.sponsorEnabled,r.channelId),a.push(r),o.push(s));a.sort(function(e,n){return e.upload_id==t?-1:n.upload_id==t?1:e.sponsorEnabled?-1:n.sponsorEnabled?1:void 0});for(var s=0,l=a.length;s<l;s++)e[o[s]]=a[s],Oe("@applyProgramPriority live now",s,a[s].upload_id,a[s].sponsorEnabled,a[s].channelId);return a.length&&(Oe("@applyProgramPriority prioritized:",e[0].upload_id,e[0].sponsorEnabled,e[0].channelId),e[0].sponsorEnabled&&q("SPONSORED_PROGRAM",e[0].upload_id),t&&(e[0].upload_id==t?q("DEEPLINKED_PROGRAM",e[0].upload_id):q("PLAYER_ERROR","MPX010","Deeplinked item is not available now",!1))),e}function R(t,n,i){Oe("@getSmilPlaylist totalPreload:",n);var a=(new Date).getTime()+he;t=t||Ae.entries,we=[];var o=D(te.attributes.geoNationalCallsigns,function(e){return e.toLowerCase()}),l=D(te.attributes.geoAffiliateCallsigns),A=D(te.attributes.homeAffiliateCallsigns),d=e.array2Object(ne),c={firstRule:!1,secondRule:!1,thirdRule:!1};c.firstRule="fsgo"in d;for(var u=0,g=t.length;u<g;u++){var f,p,h,m,E,I={M3U:"m3u8",MPEG4:"mp4"},y=[],v=ye.contentKey,C=ye.urlKey,b=ye.formatKey,B=t[u];Oe("contentKey:",v),Oe("item[contentKey]:",JSON.stringify(B[v],null,3));for(var w=0,S=B[v].length;w<S;w++)B[v][w][b]in{M3U:1,MPEG4:1}&&(f=B[v][w][C],p=I[B[v][w][b]],h={embed_url:f,cdn_name:"akamai",format:"smil",expectedFormat:p,protocol:"http",upload_id:"0",kbps:B[v][w].bitrate/1e3},y.push(h)),m=X.profile in{fox:1,"fs-rsn":1}?B.thumbnails&&B.thumbnails.length&&B.thumbnails[0].url?B.thumbnails[0].url:L(B):"nbc"==X.profile&&B.defaultThumbnailUrl?B.defaultThumbnailUrl:"",Oe("posterImage:",m);var Q={video_type:B[ye.deliveryKey]&&"live"==B[ye.deliveryKey].toLowerCase()?2:1,formats:y,exception:null,upload_id:B.fsmobile$mcpid,captions:null,duration:B[v].length&&B[v][0].duration?B[v][0].duration:null,previews:null,pvw_matrices:null,src_image_url:m,thumbnailMd5:e.md5(m),channelLogo:B.fsmobile$channelID?N(B.fsmobile$channelID):null,def_title:B.title,def_description:B.description,recommendations:null,startTime:B.fsmobile$eventStartTime||void 0,endTime:B.fsmobile$eventEndTime||void 0,airDate:B.fsmobile$airDate,seriesName:B.fsmobile$seriesName,operatingUnit:B.fsmobile$operatingUnit,sportName:B.fsmobile$sportName,tvSeason:B.fsmobile$tvSeason,tvSeries:B.fsmobile$tvSeries,episode:B.episode,authenticated:B.fsmobile$authenticated,authenticate:"0"!=$.attributes.subscriber&&!!$.attributes.subscriber,mvpd:$.attributes.adobeMvpdId,id:B.guid,channelId:B.fsmobile$channelID,sponsor:B.fsmobile$sponsor,categories:_(B),authentication:s(B),authorization:s(B),teamNames:B.fsmobile$teamNames,leagueNames:B.fsmobile$leagueNames,geoAffiliate:B.fsmobile$operatingUnit in l};if("string"==typeof Q.upload_id&&-1==Q.upload_id.indexOf("e")&&(Q.upload_id="e"+Q.upload_id),Q.sponsor&&(Q.sponsor=Q.sponsor.toLowerCase(),c.firstRule&&Q.sponsor in o&&(c.secondRule=!0,c.thirdRule=!0,Q.sponsor in d||ne.push(Q.sponsor),Q.channelId=Q.sponsor,Q.sponsorEnabled=!0,Q.authentication=!1,Q.authorization=!1),Oe("channelId - authorization:",Q.channelId,Q.upload_id,Q.authorization)),Oe("sponsorInfo.firstRule applied",JSON.stringify(c,null,3)),Oe("push to smil playlist:",new Date(Q.endTime),Q.endTime>a,ye.vod,!Q.endTime),B.ratings&&r&&r.accessControl&&r.accessControl.parentalControl)for(var T=0,R=B.ratings.length;T<R;T++)if("scheme"in B.ratings[T]&&"rating"in B.ratings[T]&&B.ratings[T].scheme){Q.rating=B.ratings[T].rating;break}r&&r.debug&&(Q.def_title=r.debug+Q.def_title),"fbc-fox"==Q.channelId&&"1"==$.attributes.subscriber?(Oe(">>>event operating Unit ",Q.operatingUnit),E=Q.operatingUnit in A,Oe("fbc-fox check fbcGeoCheckPassed?",E),"NFL"==Q.sportName?(E=Q.operatingUnit in l,Oe("nfl check fbcGeoCheckPassed?",E)):Q.sportName in{NBA:1,MLB:1}&&(E=Q.operatingUnit in A,Oe("nba check fbcGeoCheckPassed?",E))):E=!0,!(Q.endTime>a||ye.vod)&&Q.endTime||r.blackList&&Q.channelId in r.blackList||!E||we.push(Q)}if(Oe("total items in smil playlist:",we.length),n="totalPreload"in ye?ye.totalPreload:n,r&&!Qe&&(we=k(we,r.deepLinkId,r.deepLinkChannelId),Qe=!0),Se=Se.concat(we),Oe("smilPlaylistCache size",Se.length,we.length),void 0!=n&&i){for(var M=0,P=n;M<we.length&&we[M].endTime<a;)M++;Te=M,P=Math.min(we.length,M+n),Oe("calling preloadSmilResources with index,",M,"limit",P),M<P?O(P,i,M):i(we,Le)}return we.length||q("PLAYER_ERROR","MPX007","No valid items in the feed",!0),we}function _(e){Oe("@generateCategories");var t=[];if(e&&"categories"in e){if(M(e.categories)){for(var n=0,r=e.categories.length;n<r;n++)"name"in e.categories[n]&&t.push(e.categories[n].name);return Oe("@generateCategories",t),t}return[]}return[]}function M(e){return null!=e&&"object"==typeof e&&"splice"in e&&"join"in e}function N(e){return r&&r.channelLogoUrl?r.channelLogoUrl+e+".png":null}function L(e){var t,n=r.thumbnailBaseUrl||"http://thumbs.staging-data.foxsports.com/thumbs/";if(e.fsmobile$tvSeries&&me.shows[e.fsmobile$tvSeries]&&(t=me.shows[e.fsmobile$tvSeries]),!t&&e.title)for(var i in me.strings)if(me.strings.hasOwnProperty(i)&&e.title.toLowerCase().indexOf(i.toLowerCase())>-1){t=me.strings[i];break}if(!t&&e.fsmobile$sportName)for(var a in me.sports)if(me.sports.hasOwnProperty(a)&&e.fsmobile$sportName.toLowerCase().indexOf(a.toLowerCase())>-1){t=me.sports[a];break}return t||(t="chip_channel_fs"),n+t+".png"}function O(e,t,n){ce=e,ue=ue||t,F(we[n].formats[0].embed_url,P)}function P(e){Oe("@preloadSmilItemCallback");var t=we[Te];t.exception=e.exception,t.exception&&De<5?(De++,Oe("Exception observed in smil resource #",De)):(De=0,t.formats[0].embed_url=e.formats[0].embed_url,t.formats[0].format=t.formats[0].expectedFormat,Te++),Te<ce?O(ce,null,Te):(Oe("length of smilPlaylist:",we.length),ue&&ue(we),ce=0,Te=0)}function F(t,n,r){var i;Oe("@getSmilResource",t,r),le=n,i=U(t,r),Oe("@getSmilResource param:",i),e.download(i,null,x)}function U(e,t){switch(Oe("@evaluateTokenSuffix",t),X.profile){case"nbc":return t?e+"&auth="+t:e;case"fox":return e+"&token="+ee+"&format=smil";case"fs-rsn":return(e=e.replace("&format",""))+"&format=smil"}}function x(e){Oe("@onGetSmilResponse");var t=j(e);return Oe("onGetSmilResponse",JSON.stringify(t,null,3)),Oe("@onGetSmilResponse calling getSmilResponseCallback? ",!!le),t.exception?(q("PLAYER_ERROR","MPX008",t.exception,!1),o&&o.block&&o.block(t.exception)):le&&le(t),t}function G(e,t){Oe("@transfromFeed"),e=e||Ae.entries,"object"==typeof t?(t.formats[0].kbps=e[Ce][contentKey][0].bitrate/1e3,t.startTime=e[Ce].fsmobile$eventStartTime||void 0,t.endTime=e[Ce].fsmobile$eventEndTime||void 0,t.def_title=e[Ce].title,t.def_description=e[Ce].description,t.video_type=e[Ce].fsmobile$delivery&&"live"==e[Ce].fsmobile$delivery.toLowerCase()?2:1,t.id=e[Ce].guid,t.src_image_url=e[Ce].fsmobile$channelID in ke?ke[e[Ce].fsmobile$channelID]:"http://msn.foxsports.com/foxsportsgo/img/header_logo.png",t.channelId=e[Ce].fsmobile$channelID,Be.push(t),Ce++,Ce<e.length?S(Ce,e,V):(H(Be),Ce=0,ve=!1,be=null)):("function"==typeof t&&(de=t),Ce=0,ve=!0,Be=[],be=e,S(0,e,V))}function V(e){var t=j(e);G(be,t)}function H(e){de&&de(e)}function j(e){Oe("@transform",e);var t={video_type:1,formats:[{embed_url:"",cdn_name:"akamai",format:"m3u8",protocol:"http",upload_id:"0",kbps:"0"}],exception:null,upload_id:null,captions:null,duration:null,previews:null,pvw_matrices:null,src_image_url:null,def_title:null,def_description:null,recommendations:null};window.DOMParser?(parser=new DOMParser,xmlDoc=parser.parseFromString(e,"text/xml")):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async=!1,xmlDoc.loadXML(e));var n=xmlDoc.getElementsByTagName("video")[0],r=xmlDoc.getElementsByTagName("ref")[0];return n?t.formats[0].embed_url=n.getAttribute("src"):r&&(t.exception=r.getAttribute("title")),t}function Y(e){Oe("@getChannelObj"),e=e||ne;for(var t=[],n={},r=0,i=e.length;r<i;r++){var a={},o=e[r];n[o]||(n[o]=1,a.callSign=o.toUpperCase(),a.channelId=o,a.logo=N(o),Oe("@getChannelObj",o),t.push(a))}return t}function K(e){for(var t={},n=[],r=0,i=e.length;r<i;r++)t[e[r]]=1;for(var a=0,o=Be.length;a<o;a++)Be[a].channelId in t&&n.push(Be[a]);return n}function J(e){for(var t={},n=[],r=0,i=e.length;r<i;r++)t[e[r]]=1;for(var a=0,o=we.length;a<o;a++)we[a].channelId in t&&n.push(we[a]);return n}function q(e,t){Oe("Dispatching event",e,typeof n);var r=Array.prototype.slice.call(arguments,1);i?(Ie=[],i({name:e,time:n&&n.getTime?n.getTime():"",info:Ee[e],args:r})):Ie.push({name:e,time:n&&n.getTime?n.getTime():"",info:Ee[e],args:r})}function W(e){X.playlistDays=e}function z(e){X.playlistChunk=e}function Z(e,t){Oe("@lookupItem",e,t);var n;e=e.replace("e","");for(var r=0,i=Se.length;r<i;r++)if(n=Se[r],e==n.upload_id&&t==n.operatingUnit)return Oe("@lookupItem found!",e,t),n;return null}var X={environment:t.environment,profile:t.profile,playlist:t.playlist,video:t.video,authenticator:t.authenticator,token:t.token,channels:t.channels,zip:t.zip,maxRating:t.maxRating,vod:t.vod,mvpdID:t.mvpdID,playlistDays:t.playlistDays,playlistChunk:t.playlistChunk},$={userName:e.getCookie("user_name")||e.createUUID(),attributes:{adobeMvpdId:X.mvpdID||"fstve",device:"web",VOD:X.vod||0,subscriber:1,version:2,serviceZip:X.zip||null,beforePreflight:1,maxrating:X.maxRating||"TV-Y"}};e.setCookie("user_name",$.userName,new Date((new Date).getTime()+2592e6));var ee,te,ne,re,ie,ae,oe,se,le,Ae,de,ce,ue,ge,fe={"fs-rsn":"fs-rsn",fox:"fKc3BC",nbc:"HNK2IC"},pe="http://feed.theplatform.com/f/",he=o&&"getTimeDelta"in o&&o.getTimeDelta?o.getTimeDelta():0,me=r.thumbnailFallbackDictionary||{shows:{10516630:"chip_MLBWhipAround",388834:"chip_Central_FOX",9993683:"chip_FOX_Para_TOdos",236733:"chip_FOX_Gol_Mexico",375797:"chip_El_Show_de_Copa_Libertadores",422760:"chip_La_Ultima_Palabra",191260:"chip_sport_Baloncesto_Universitario",3552373:"chip_La_Previa_Copa_Libertadores",7871891:"chip_nascarRaceHub",10084805:"chip_foxFootballDaily",10084795:"chip_crowdGoesWild",1:"chip_foxCollegeFootballExtra",10385632:"chip_sport_NCAABB",10321304:"chip_foxCollegeHoopsExtra",2:"chip_foxCollegeSaturdayExtra",3:"chip_foxCollegeThursday",4:"chip_foxNFLKickoff",5:"chip_foxSoccerDaily",10083627:"chip_foxSports1on1",10120144:"chip_fslive",12:"chip_foxSportsMorning",11:"chip_MLBPregame",267354:"chip_sport_NASCAR",267380:"chip_nascarRaceday",267388:"chip_NASCARVictoryLane",10:"chip_UEFAchampionsLeagueHighlights",308818:"chip_UFCCountdown",7944088:"chip_theBestOfPride",7:"chip_ufcRoadToTheOctagon",8:"chip_sport_UFC",8999447:"chip_UFCWeighin",8999424:"chip_UFCTonight",9027568:"chip_ufcUltimateInsider",10385646:"chip_UFCtheUltimateFighter",10614843:"chip_foxSportsSaluteTheTroops"},sports:{NBA:"chip_sport_NBA",NFL:"chip_sport_NFL",MLB:"chip_sport_MLB",GOLF:"chip_sport_golf",NASCAR:"chip_sport_NASCAR",CBK:"chip_sport_NCAABB",CFB:"chip_sport_NCAAFB",WCBK:"chip_sport_NCAAWB",NHL:"chip_sport_NHL",SOCCER:"chip_sport_soccer",TENNIS:"chip_sport_tennis",UFC:"chip_sport_UFC",WNBA:"chip_sport_WNBA"},strings:{UFC:"chip_sport_UFC",NASCAR:"chip_sport_NASCAR",UEFA:"chip_sport_soccer","UEFA Champions":"chip_sport_uefaCL","UEFA Europa":"chip_sport_uefaEuropa","A-League":"chip_sport_soccer","College Baseball":"chip_sport_NCAA_Baseball","College Basketball":"chip_sport_NCAABB",Burton:"chip_sport_Burton","Monster Jam":"chip_sport_MonsterJam","Motorcycle Racing":"chip_sport_Motor_Racing","Motorcycle Racing - Monster Energy Supercross":"chip_sport_Monster_Supercross","Monster Cup":"chip_sport_Monster_Cup",Monster:"chip_sport_Monster","Red Bull":"chip_sport_Red_Bull",Boxing:"chip_sport_Boxing",Boxeo:"chip_sport_Boxeo",Rugby:"chip_sport_Rugby","World Poker Tour":"chip_sport_Poker","AFL Premiership":"chip_sport_soccer","Golden Boy Promotions":"chip_sport_Boxing","Table Tennis":"chip_sport_Table_Tennis","Auto Racing":"chip_sport_Auto_Racing"}},Ee={},Ie=[],ye={},ve=!1,Ce=0,be=null,Be=[],we=[],Se=[],Qe=!1,Te=0,De=0,ke={fs1:"http://up.anv.bz/demo/imgfox/fs1.png",fs2:"http://up.anv.bz/demo/imgfox/fs2.png"},Re="stage"!=X.environment,_e=Re?"http://tpi.fs.anvato.net/tpa":"http://tpistage.fs.anvato.net/tpa",Me="https://euid.theplatform.com/idm/web/Self/getSelf?schema=1.0&form=json&token=",Ne=!1,Le=0,Oe=void 0!==n?n.getLogFn("ThePlatform"):function(){console.log.apply(console,["[!ThePlatform!]\t"].concat(Array.prototype.slice.call(arguments)))};return Oe("initializing pluginThePlatform"),function(){Oe("registering events"),Ee.PLAYER_ERROR="Player has thrown an error",Ee.CHANNEL_LIST_AVAILABLE="Live channel list is available",Ee.SPONSORED_PROGRAM="The initial item is a sponsored item",Ee.DEEPLINKED_PROGRAM="The initial item is a deeplinked item"}(),function(){Oe("@applyProfile",JSON.stringify(X,null,3)),"nbc"==X.profile?(ye.vod=!0,ye.userObject=!1,ye.token=!1,ye.totalPreload=0,ye.contentKey="content",ye.urlKey="url",ye.formatKey="format"):"fox"==X.profile?(ye.vod=!1,ye.userObject=!0,ye.token=!0,ye.totalPreload=0,ye.contentKey="content",ye.urlKey="url",ye.formatKey="format",ye.deliveryKey="fsmobile$delivery"):"fs-rsn"==X.profile&&(ye.vod=!1,ye.userObject=!1,ye.token=!1,ye.totalPreload=0,ye.contentKey="content",ye.urlKey="url",ye.formatKey="format",ye.deliveryKey="pl1$delivery"),Oe("@applyProfile",JSON.stringify(ye,null,3))}(),{setZipcode:function(e){$.attributes.serviceZip=e},setMaxRating:function(e){$.attributes.maxrating=e},setMVPDID:function(e){$.attributes.adobeMvpdId=e||"fstve",$.attributes.subscriber=e?1:0},setVOD:function(e){$.attributes.VOD=e},getUserObject:function(){return $},setToken:function(){return ee},getToken:function(){return ee},requestToken:l,requestResources:c,getResources:function(){return ne},getChannelObj:Y,filterTransformedPlaylist:K,filterSmilPlaylist:J,updateResources:p,generateFinalUserObject:h,generateFeedURL:m,requestFeed:I,getFeed:B,filterFeed:w,requestItemSource:S,transformFeed:G,getSmilPlaylist:R,getSmilResource:F,getItemWithGuid:b,setPlaylistDays:W,setPlaylistChunk:z,lookupItem:Z}}return t}),define("TempPass",["util"],function(e){function t(t,n,r,i,a){function o(e,t){R("Dispatching event",e,typeof n,JSON.stringify(arguments));var i=Array.prototype.slice.call(arguments,1);n?(D=[],n({name:e,time:r&&r.getTime?r.getTime():"",info:w[e],args:i})):D.push({name:e,time:r&&r.getTime?r.getTime():"",info:w[e],args:i})}function s(e,t){return R("@isValid",e,t),e in C&&t in C&&t in b[e]}function l(e,n,r){R("@updateState",e,n,r);var i;if(B=!0,e)switch(n){case t.short:i=C.SHORT;break;case t.long:i=C.LONG;break;default:i=C.ENTITLEMENT}else k?i=C.PASSIVE:(i=C.START,f()),n=null,r=null;R("nextState",i),s(y,i)?(y=i,y==C.LONG||y==C.SHORT?(c(y,r),A(r)):d(),o(S.PREVIEW_STATUS,i,n,r)):y!=i&&y!=C.ENTITLEMENT&&o(S.PLAYER_ERROR,Q.TMPP001,T.TMPP001)}function A(e){R("@startAuthorizationCycle",a),i.authorize("preview",null),v.authZTimer=setTimeout(A,1e3*(t.checkPeriod||60))}function d(){R("@resetTimers");for(var e in v)v.hasOwnProperty(e)&&clearTimeout(v[e])}function c(t,n){var r,i,a,o,s,l=24*(t==C.LONG?1e5:1)*3600*1e3;"string"==typeof t&&(o="anv_tp_"+t[0].toLowerCase(),a=(new Date).getTime(),i=e.md5(o+"|Congrats"),R("key:",i),s={ttl:n},r=e.aesStdEncrypt("ecb",JSON.stringify(s),i,"base64"),r=encodeURIComponent(r),e.setCookie(o,r,new Date(a+l)),R("Cookie written for",t,r))}function g(t){var n,r,i,a,s;if("string"==typeof t){if(s="anv_tp_"+t[0].toLowerCase(),n=e.getCookie(s)){a=e.md5(s+"|Congrats"),R("key:",a),i=decodeURIComponent(n),r=e.aesStdDecrypt("ecb",i,a,"base64"),R("Cookie read for",t,r);try{r=JSON.parse(r)}catch(e){return o(S.PLAYER_ERROR,Q.TMPP002,T.TMPP002),-1}return r.ttl?parseInt(r.ttl):null==r.ttl?-1:(o(S.PLAYER_ERROR,Q.TMPP002,T.TMPP002),-1)}return null}return null}function f(){R("@performTransition state:",y);var n=g(C.LONG),r=g(C.SHORT),a=!1,s=!1,l=(new Date).getTime();y==C.PASSIVE||y==C.START||y==C.ENTITLEMENT?(R("------------------- applying preview cookie logic ------------"),R("1st RULE for LONG; basic expiration:",n<l),R("2nd RULE for LONG; cookie manipulated",-1==n),R("3rd RULE for LONG; cookie missing",!n),n&&-1!=n?n<l&&(a=!0):a=-1==n,R("longExpired?",a),R("now:",e.prettifyDate(l).string),R("shortTTL value\t\t:",r?e.prettifyDate(r).string:r),R("shortTTL + 24-hour\t:",r?e.prettifyDate(r+864e5).string:r),R("longTTL value\t\t:",n?e.prettifyDate(n).string:n),R("longTTL + 24-hour\t:",n?e.prettifyDate(n+864e5).string:n),a?(o(S.PREVIEW_EXPIRED,"LONG"),R("1st RULE for SHORT; basic expiration:",r<l),R("2nd RULE for SHORT; inside 24-hour range after previous Short TTL:",l<r+864e5),R("3rd RULE for SHORT; cookie manipulated",-1==r),R("4th RULE for SHORT; cookie missing",!r),R("5th RULE for SHORT; inside 24-hour range after previous LONG TTL",n>-1&&l<n+864e5),s=r&&-1!=r?r<l&&l<r+864e5:-1==r,s&&o(S.PREVIEW_EXPIRED,"SHORT"),R("shortExpired?",s),s||n>-1&&l<n+864e5?(i&&i.authenticate&&i.authenticate(!0),R("time to start entitlement")):(c(C.SHORT,l),i&&i.sendSelectedProviderInfo&&i.sendSelectedProviderInfo({ID:t.short},!0),R("time to call short preview"))):(c(C.LONG,l),R("time to call long preview",t.long,!!i,!!i.sendSelectedProviderInfo),i&&i.sendSelectedProviderInfo&&i.sendSelectedProviderInfo({ID:t.long},!0)),R("------------------- end of preview cookie logic ------------")):p()}function p(){(y==C.LONG||y==C.SHORT)&&i&&i.authenticate&&(o(S.PREVIEW_EXPIRED,y),i.authenticate(!0),d()),R("time to start entitlement")}function h(e){return e==t.long||e==t.short}function m(){return y}function E(){return k}function I(){y==C.PASSIVE&&B&&f()}u=e;var y="START",v={},C={START:"START",PASSIVE:"PASSIVE",LONG:"LONG",SHORT:"SHORT",ENTITLEMENT:"ENTITLEMENT"},b={START:{START:1,PASSIVE:1,LONG:1,SHORT:1,ENTITLEMENT:1},PASSIVE:{PASSIVE:1,LONG:1,SHORT:1,ENTITLEMENT:1},LONG:{PASSIVE:1,START:1,SHORT:1,ENTITLEMENT:1},SHORT:{START:1,PASSIVE:1,ENTITLEMENT:1},ENTITLEMENT:{START:1,PASSIVE:1}},B=!1,w={},S={PLAYER_ERROR:"PLAYER_ERROR",PREVIEW_STARTED:"PREVIEW_STARTED",PREVIEW_STATUS:"PREVIEW_STATUS",PREVIEW_EXPIRED:"PREVIEW_EXPIRED"},Q={TMPP001:"TMPP001",TMPP002:"TMPP002"},T={TMPP001:"Invalid preview state transition",TMPP002:"Manipulated preview cookie value / device info"},D=[],k=!("passive"in t)||t.passive,R=r?r.getLogFn("TempPass"):function(){console.log.apply(console,["[!TempPass!]\t"].concat(Array.prototype.slice.call(arguments)))};return R("TempPass init completed"),o("PREVIEW_STARTED",y),function(){R("registering events"),w.PLAYER_ERROR="Player has thrown an error",w.PREVIEW_STARTED="Live preview has started",w.PREVIEW_STATUS="Live preview state has changed",w.PREVIEW_EXPIRED="Live preview has expired"}(),{isValid:s,getState:function(){return y},onAuthenticationRequested:d,updateState:l,onUserInteraction:I,onAuthorizationFailure:p,isPreviewID:h,getPreviewState:m,getPassive:E}}return t}),define("AccessControl",["util","ProxyAdobePass","pluginThePlatform","TempPass"],function(e,t,n,r){function i(i,a,o,s,l){function A(e,t){Je[e]=t,Ke[e]=e}function d(e,t,n){We[e]={code:e,info:t,isCritical:n}}function c(e,t){e in We&&(u(Ke.PLAYER_ERROR,We[e].code,t||We[e].info,We[e].isCritical),We[e].isCritical?console.error(["PLAYER_ERROR"].concat([We[e].code,t||We[e].info,We[e].isCritical]).join(", ")):console.warn(["PLAYER_ERROR"].concat([We[e].code,t||We[e].info,We[e].isCritical]).join(", ")))}function u(e,t){Ne("Dispatching event",e,typeof i,!!_e);var n=Array.prototype.slice.call(arguments,1);if(_e){for(var r=0,a=qe.length;r<a;r++)_e(qe[r]);qe=[],_e({name:e,time:i&&i.getTime?i.getTime():"",info:Je[e],args:n}),g(e,n)}else Ne("deciding to call notifyEvent",window.top===window.self),window.top===window.self?g(e,n):(Ne("pushing event to the queue",e),qe.push({name:e,time:i&&i.getTime?i.getTime():"",info:Je[e],args:n}))}function g(e,t){var n;if(Ne("@notifyEvent",!!Re),Re&&Re.notifyEvent){if(ze)for(;ze.length;)n=ze.shift(),Ne("@notifyEvent from queue",n.name,n.args),Re.notifyEvent(n.name,n.args);Re.notifyEvent(e,t),Ne("@notifyEvent ",e,t)}else Ne("notifyEvent API method is not available on player adding to the queue"),ze.push({name:e,args:t})}function f(e){Ne("@init"),be=e,be?(p(be),h(be)):(be=window.iFrameConfig,window.anvLoader.load())}function p(e){Ne("@evaluateMergedConfig",!!e),Le.dataSource=e.mcp||e.media?Fe:Ue;var n=!e.accessControl||!e.accessControl.preview;if(window.anvLoader.setTVEInstance(s),e.profile)switch(Le.profile=e.profile,Le.preview=!!e.accessControl&&e.accessControl.preview,e.profile){case"nbc":break;case"fox":Le.authenticator=xe,Le.authorizer=xe,
Le.dataSource=Ue,Ce=new t(a,o,i,e,_e,g)}e.accessControl&&(Le.geoLocation=e.accessControl.geoLocation,Le.authenticator=e.accessControl.authenticator?e.accessControl.authenticator.toLowerCase():null,Le.authorizer=e.accessControl.authorizer?e.accessControl.authorizer.toLowerCase():null,Le.onDemand=!!e.accessControl.onDemand&&e.accessControl.onDemand,Le.selective=!!e.accessControl.selective&&e.accessControl.selective,e.accessControl.token&&e.accessControl.mvpd&&(Ne("token and mvpd detected",e.accessControl.token,e.accessControl.mvpd),Le.authenticator=null,Le.authorizer=null),Le.requestor=e.accessControl.requestor,Le.resource=e.accessControl.resourceId,Le.preview=e.accessControl.preview,Le.parentalControl=e.accessControl.parentalControl,e.user&&"maxRating"in e.user&&(Le.maxRating=e.user.maxRating),Le.timeOut=e.accessControl.timeOut&&e.accessControl.timeOut>60?e.accessControl.timeOut:60,Le.authenticator==xe&&(Ce=new t(a,o,i,e,_e,g))),Le.authenticator&&Le.authenticator==xe?(e&&e.accessControl&&!e.accessControl.token&&!e.accessControl.useFlash&&window.anvLoader.check3rdPartyCookies(e.pInstance),Ce.init(Le.requestor,n,Le.parentalControl),Ne("setting timeout for adobeReady"),Oe.adobeReady=setTimeout(function(){c(We.ACTRL050.code),L(We.ACTRL050.info)},1e3*Le.timeOut),Le.preview?(Ne("Initializing PreviewController: TempPass..."),Me=new r(Le.preview,_e,i,{sendSelectedProviderInfo:Ae,authenticate:ee,authorize:te},s&&"getTimeDelta"in s?s.getTimeDelta():null),Ne("Initialized PreviewController: TempPass"),window.anvLoader.load(e)):(Le.onDemand||Le.selective)&&window.anvLoader.load(e)):Le.dataSource==Fe?(Ne("loading mergedConfig"),e.media&&window.anvLoader.setDataAPIInstance(l),window.anvLoader.load(e)):Le.dataSource==Ue&&window.anvLoader.load(e),Le.preview,Ne("mergedConfig:",JSON.stringify(e))}function h(t){var n={},r={};if(m()&&t.preview){for(var i in t.preview)t.preview.hasOwnProperty(i)&&(n["anv"+e.capitalize(i)]=t.preview[i]);r=e.getCookies(n),Ne("old:",JSON.stringify(r)),Ne("new:",JSON.stringify(n)),e.setCookies(n)}}function m(){document.cookie="anvCookieCheck=1";var e=document.cookie.length>1&&document.cookie.indexOf("anvCookieCheck=1")>-1;return document.cookie="anvCookieCheck=1;expires="+new Date(1976,8,16).toUTCString(),e}function E(){var e=be.accessKey&&be.accessKey.indexOf("stage")>-1?"stage":"prod",t=(s&"getTpiToken"in s&&s.getTpiToken,Le.authenticator==xe?ye:void 0);Ne("@processMpxRequest"),Pe.platform=new n({environment:e,profile:be.mpx,playlist:be.playlist,playlistDays:be.playlistDays,playlistChunk:be.playlistChunk,video:be.video,channels:be.channels,authenticator:Le.authenticator,token:be.accessControl?be.accessControl.token:null,zip:Le.homeZip||be.homezip,maxRating:Le.maxRating||"TV-Y",vod:!1,mvpdID:Le.provider||be.mvpd},i,be,_e,s.getTpiToken,{preauth:t,block:L,getTimeDelta:s&&"getTimeDelta"in s?s.getTimeDelta.bind(s):void 0})}function I(e){Ne("@getFeed"),je?(Ne("@getFeed",JSON.stringify(Le,null,3)),Le.fetchedHomeZips&&Le.fetchedHomeZips.length&&Le.fetchedHomeZips[0]?Pe.platform.setZipcode(Le.fetchedHomeZips[0]):Le.fetchedEncryptedHomeZips&&Le.fetchedEncryptedHomeZips.length&&Le.fetchedEncryptedHomeZips[0]&&Pe.platform.setZipcode(Le.fetchedEncryptedHomeZips[0]),Pe.platform.setMaxRating(Le.maxRating),Pe.platform.setMVPDID(Le.provider),Pe.platform.setVOD(0),Pe.platform.getFeed(e)):(Ne("deferring call to getFeed until onReadyCallback"),Se=I,Qe=arguments)}function y(e,t){Ne("@getItemWithGuid guid=",e),Pe.platform.getItemWithGuid(e,t)}function v(e,t,n){return Ne("@getSmilPlaylist"),Pe.platform.getSmilPlaylist(e,t,n)}function C(e,t,n,r,i,a){Ne("@getSmilResource authorizationNeeded",n),Le.resource=r||Le.resource,Le.adKeyValues=a,Le.programRating="NR"==i?"TV-Y":i,Ne("@getSmilResource SESSION: ",JSON.stringify(Le,null,3)),Le.geoLocation&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(Z,X,{maximumAge:6e4}),Be=b,we=arguments,Le.authorizer&&!Le.onDemand?te(Le.resource,Le.programRating):Le.onDemand&&n?(Ne("TODO: check authentication and authorize for ",Le.resource,"authN",Le.isAuthenticated,"authZ",Le.isAuthorized,"authorizationNeeded",n),Le.isAuthenticated?(Ne("@getSmilResource calling authorize",JSON.stringify(Le,null,3)),te(Le.resource,Le.programRating)):ee(!0)):(He=!0,Be(e,t,n))}function b(e,t,n){Ne("@secureGetSmilResource",JSON.stringify(we,null,3)),Ne("@secureGetSmilResource arguments",JSON.stringify(arguments,null,3),arguments[2],n),Ne("@secureGetSmilResource session:",JSON.stringify(Le,null,3)),(Le.authorizer&&Le.isAuthorized||!Le.authorizer||!n)&&(Ne("@secureGetSmilResource",Le.authorizer&&Le.isAuthorized,!Le.authorizer,!n),Pe.platform.getSmilResource.apply(null,Array.prototype.slice.call(we).concat([Le.token]))),Be=null,we=null}function B(){return Pe.platform.getChannelObj()}function w(e){return Pe.platform.filterSmilPlaylist(e)}function S(e){Ne("@onReadyCallback",JSON.stringify(Le,null,3),typeof e);var t;Le.authorizationInProgress=!1,Le.isAuthenticated=e,Le.fetchedHomeZips=[],Le.fetchedEncryptedHomeZips=[],je=!0,Oe.adobeReady?(Ne("clearTimeout for adobeReady"),clearTimeout(Oe.adobeReady),delete Oe.adobeReady):(Oe.adobeAuthorize&&Oe.adobeAuthorize.length&&(t=Oe.adobeAuthorize.shift(),Ne("clearTimeout"),clearTimeout(t)),Ne("timers.adobeAuthorize timer #",Oe.adobeAuthorize?Oe.adobeAuthorize.length:"")),u("AUTHENTICATION_STATUS",e,Le.authenticator),Ce.onReadyCallback.apply(null,Array.prototype.slice.call(arguments)),e?O():Le.preview?(Me.updateState(Le.isAuthenticated,Le.provider,Le.TTL_AUTHN),Me.getPassive()||L()):Le.onDemand||Le.selective?(Ne("Ready for onDemand authN and authZ"),Se&&Qe&&(Se.apply(null,Qe),Se=null,Qe=null)):(c(We.ACTRL030.code),Ce.authenticate(),L())}function Q(e){Ne("@onProviderSelected",JSON.stringify(e));var t;Le.provider=e.ID,be.mvpd=e.ID,be.mvpdDisplayName=Ce&&Ce.getMvpdDisplayName&&Ce.getMvpdDisplayName(e.ID),u("PROVIDER_SELECTED",e.ID),Le.isAuthenticated&&Le.preview&&(t=Me.isPreviewID(Le.provider),t?Me.updateState(Le.isAuthenticated,Le.provider,Le.TTL_AUTHN):te(Le.resource,Le.programRating,be.video)),Ce.onProviderSelected.apply(null,Array.prototype.slice.call(arguments)),Le.preview||Le.onDemand||window.anvLoader.load(be),(1==Le.fetchedEncryptedHomeZips.length&&Le.fetchedEncryptedHomeZips[0]||1==Le.fetchedHomeZips.length&&Le.fetchedHomeZips[0]||Le.fetchedEncryptedHomeZips.length+Le.fetchedHomeZips.length>=2)&&Le.onDemand&&Se&&Qe&&(Ne("@onProviderSelected having evaluated home zips, gotten the provider calling authN callback"),Se.apply(null,Qe),Se=null,Qe=null)}function T(e,t,n,r){Ne("@authorizationCallback");var i,a;Le.authorizationInProgress=!1,Le.isAuthorized=e,Le.token=t,Le.authorizationError=n,Le.authorizationErrorDetail=r,Ne("session:",JSON.stringify(Le,null,3)),Ne("tve available:",!!s),Ne("tveCheck set:",be.accessControl.tveCheck),Ne("parentalControl set:",be.accessControl.parentalControl),Ne("accessKey:",be.accessKey),Oe.adobeAuthorize&&Oe.adobeAuthorize.length&&(a=Oe.adobeAuthorize.shift(),Ne("clearTimeout for authZ"),clearTimeout(a)),Ne("timers.adobeAuthorize timer #",Oe.adobeAuthorize?Oe.adobeAuthorize.length:""),Le.isAuthorized||(Le.fetchedHomeZips=[],Le.fetchedEncryptedHomeZips=[],We.ACTRL031.info=r||n,c(We.ACTRL031.code)),Le.preview&&(i=Me.isPreviewID(Le.provider)),!Le.isAuthorized||!s||void 0!==be.accessControl.tveCheck&&!be.accessControl.tveCheck||!be.accessKey||Le.preview&&(!Le.preview||i&&"ENTITLEMENT"!=Me.getState())?N():(Le.tveCheckInProgress=!0,Ne("@authorizationCallback calling evaluateHomeZip"),D())}function D(){var e=Le.fetchedHomeZips.length,t=Le.fetchedEncryptedHomeZips.length;Ne("@evaluateHomeZip"),Ne("@evaluateHomeZip",JSON.stringify(Le.fetchedHomeZips),JSON.stringify(Le.fetchedEncryptedHomeZips)),Ne("session.tveCheckInProgress:",Le.tveCheckInProgress),(1==e&&Le.fetchedHomeZips[0]||2==e)&&Le.tveCheckInProgress&&(void 0===be.accessControl.tveCheck||be.accessControl.tveCheck)&&(Ne("@evaluateHomeZip calling tveCheck",JSON.stringify(Le.fetchedHomeZips)),s.tveCheck(be.accessKey,be,Le,k,R),Le.tveCheckInProgress=!1),(1==t&&Le.fetchedEncryptedHomeZips[0]||t>=2)&&Le.tveCheckInProgress&&(void 0===be.accessControl.tveCheck||be.accessControl.tveCheck)&&(Ne("@evaluateHomeZip calling tveCheck",JSON.stringify(Le.fetchedEncryptedHomeZips)),s.tveCheck(be.accessKey,be,Le,k,R),Le.tveCheckInProgress=!1),(1==t&&Le.fetchedEncryptedHomeZips[0]||1==e&&Le.fetchedHomeZips[0]||t+e>=2)&&Le.onDemand&&Se&&Qe&&(Ne("executing deferred authenticationCallbackFn",Se.toString()),t>=1&&!Le.fetchedEncryptedHomeZips[t-1]&&e>=1&&!Le.fetchedHomeZips[e-1]&&c(We.ACTRL060.code),Le.provider&&(Ne("@evaluateHomezips having gotten the provider, evaluated home zips calling authN callback"),Se.apply(null,Qe),Se=null,Qe=null))}function k(e){Ne("@onTVECheckSuccess",JSON.stringify(e,null,3));var t;e&&(Le.isAuthorized=e.tveAuthorized,Le.authorizedStation=e.callsign,Le.isAuthorized||(t=e.notAuthorizedCode&&e.notAuthorizedReason?[e.notAuthorizedCode,e.notAuthorizedReason].join(" | "):void 0,!e.hasHomeStationRights&&e.hasGeoStationRights?(c(We.ACTRL041.code,t),Le.authorizationError=e.notAuthorizedReason||"The user doesn't have home station rights."):!e.hasGeoStationRights&&e.hasHomeStationRights?(c(We.ACTRL042.code,t),Le.authorizationError=e.notAuthorizedReason||"The user doesn't have geo station rights."):e.notAuthorizedCode?(e.notAuthorizedCode in We&&d("ACTRL"+e.notAuthorizedCode,t,!0),c("ACTRL"+e.notAuthorizedCode)):(c(We.ACTRL043.code,t),Le.authorizationError=e.notAuthorizedReason||"The user doesn't have TVE rights."))),N()}function R(){N()}function _(){var e,t,n;be.accessControl.parentalControl&&(!Le.preview||Le.preview&&"ENTITLEMENT"==Me.getState())&&(Ne("@checkParentalControl parentalControl set",JSON.stringify(Le,null,3),Le.programRating,Le.maxRating),t=Le.maxRating||"TV-MA",t=/[TV]*-*(\w+)-*/.exec(t),t=t.length>1?t[1]:"Y",n=Le.programRating||"TV-Y",n=/[TV]*-*(\w+)-*/.exec(n),n=n.length>1?n[1]:"Y",e={Y:1,Y7:2,G:3,PG:4,14:5,MA:6},Le.isAuthorized&&t in e&&n in e?(Le.isAuthorized=e[t]>=e[n],Ne("@checkParentalControl",e[t],e[n]),Le.isAuthorized||(Le.authorizationError=We.ACTRL020.info,c(We.ACTRL020.code))):Le.isAuthorized&&c(We.ACTRL021.code))}function M(){Ne("@checkGeoRights"),Le.isAuthorized&&Le.currentStationInfo&&Le.authorizedStation&&(Ne("@checkGeoRights",Le.authorizedStation,Le.currentStationInfo.channel),Le.isAuthorized=Le.authorizedStation==Le.currentStationInfo.channel,Le.isAuthorized||(Le.authorizationError=We.ACTRL040.info,c(We.ACTRL040.code)))}function N(){var e;_(),M(),u("AUTHORIZATION_STATUS",Le.isAuthorized,Le.authorizer,Le.token,Le.authorizationError,Le.authorizationErrorDetail),Ce&&Ce.authorizationCallback&&Ce.authorizationCallback.apply(null,Array.prototype.slice.call(arguments)),He=!0,Le.preview?(e=Me.isPreviewID(Le.provider),e||Me.updateState(Le.isAuthorized,Le.provider,Le.TTL_AUTHN),!Le.isAuthorized&&Me&&Me.onAuthorizationFailure&&Me.onAuthorizationFailure()):Be&&(Le.geoLocation?Ve&&(Ne("calling authorizationCallbackFn from authorizationCallback"),Be.apply(null,Array.prototype.slice.call(we)),Ve=!1):(Ne("calling authorizationCallbackFn from authorizationCallback"),Be.apply(null,Array.prototype.slice.call(we)),He=!1),Be=null),Le.isAuthorized?(Ne("hiding slate, player instance available?",!!Re),O(),"programReauthorized"in Le&&!Le.programReauthorized&&!e&&(Ne("possible adobe pass latency, reauthorizing with rating"),te(Le.resource,Le.programRating,be.video),Le.programReauthorized=!0)):(Ne("showing slate, player instance available?",!!Re),L())}function L(e){Ne("@blockContent"),Ne("clearTimeout for unblockTimer"),clearTimeout(Oe.unblockTimer),Re&&Re.block?(Ne("blocking"),Re.block(e||"You are not authorized to watch the current program."),Ye=!0):Oe.blockTimer=setTimeout(L,2e3)}function O(){Ne("@unblockContent"),Ne("clearTimeout for blockTimer"),clearTimeout(Oe.blockTimer),Re&&Re.unblock?Ye&&(Ne("unblocking"),Re.unblock(e.md5("anvrocks")),Ye=!1):Oe.unblockTimer=setTimeout(O,2e3)}function P(e,t){switch(Ne("@setMetadataSatus",e,t),Le[e]=t,e){case"homeZip":Le.fetchedHomeZips=Le.fetchedHomeZips||[],Le.fetchedHomeZips.length<2&&Le.fetchedHomeZips.push(t),Ne("@setMetadataSatus fetchedHomeZips",JSON.stringify(Le.fetchedHomeZips)),u("HOMEZIP_DETECTED",t),Ne("@setMetadataStatus calling evaluateHomeZip"),D();break;case"encryptedZip":Le.fetchedEncryptedHomeZips=Le.fetchedEncryptedHomeZips||[],Le.fetchedHomeZips.length<2&&Le.fetchedEncryptedHomeZips.push(t),Ne("@setMetadataSatus fetchedEncryptedHomeZips",JSON.stringify(Le.fetchedEncryptedHomeZips)),u("ENCRYPTED_HOMEZIP_DETECTED",t),D();break;case"maxRating":t&&(Le.maxRating="VCHIP"in t?t.VCHIP:t),u("MAX_RATING_DETECTED",Le.maxRating);break;case"TTL_AUTHN":Ne("TTL_AUTHN:",new Date(t))}}function F(){Ne("showPicker"),Ce.showPicker(!0)}function U(){return Le}function x(e){Ne("@registerPlayer"),Re=e}function G(e,t,n,r,i){Ne("@getMediaJSON".media),l.getMediaJSON(e,t,n,r,i)}function V(e){Ne("@getEntitlementRequirement",e),s&&s.getVideoMetadata(be.accessKey,e,j,H)}function H(e){c(We.ACTRL002.code),j()}function j(e){Le.entitlementReqInfo={authenticationNeeded:!(e&&"video"in e&&"authorization"in e.video&&"mvpd"in e.video.authorization)||e.video.authorization.mvpd},Te&&De&&Te.apply(null,De)}function Y(e,t,n,r,i,a,o){if(Ne("@loadVideoJSON",e,t,n,r,i,a),Ne("SESSION: ",JSON.stringify(Le,null,3)),Le.selective){if(!Le.entitlementReqInfo)return Te=Y,De=arguments,void V(n);if(Le.entitlementReqInfo.authenticationNeeded){if(!Le.isAuthenticated)return Qe=arguments,Se=Y,void(!1===Le.isAuthenticated&&ee(!0));Le.selectiveByPass=!1}else Le.selectiveByPass=!0}n==Le.failoverChannel&&(Ne("setting session.failoverChannelRequested = true"),Le.failoverChannelRequested=!0),be&&(be.video=n),a?Le.tkxToken=a:delete Le.tkxToken,Le.geoLocation&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(Z,X,{maximumAge:6e4}),Be=K,we=arguments,Le.selectiveByPass||Le.failoverChannelRequested||Le.authorizer!=xe||Le.preview&&(!Le.preview||"ENTITLEMENT"!=Me.getState())?(Le.authenticator==Ge&&be.accessControl&&be.accessControl.token&&(Le.token=be.accessControl.token),Ne("token:",Le.token),He=!0,Le.geoLocation||Be.apply(null,Array.prototype.slice.call(we))):te(Le.resource,Le.programRating,be.video)}function K(e,t,n,r,i,a,o){Ne("@secureLoadVideoJSON"),Ne("SESSION:",JSON.stringify(Le,null,3)),window.anvLoader.setTVEInstance(s),window.anvLoader.loadVideoJSON.apply(null,Array.prototype.slice.call(we)),s&&be.accessKey&&s.getVideoJSON(be.accessKey,be,Le,q,W.bind(null,o))}function J(e,t,n){be&&(be.video=e),Ne("@getVideoJSON",JSON.stringify(Le,null,3)),s&&be.accessKey&&s.getVideoJSON(be.accessKey,be,Le,t,n)}function q(e){Ne("@onVideoJSON",e),window.anvatoVideoJSONLoaded(e)}function W(e,t){Ne("@onVideoJSONError",JSON.stringify(t,null,3));var n={10:"ACTRL071",711:"ACTRL072"};"object"==typeof t?t.sdkErrorCode?c(t.sdkErrorCode):t.code in n?c(n[t.code]):c("ACTRL079","Generic backend error | "+t.user_msg):"string"==typeof t&&c("ACTRL079","Generic backend error | "+t),"function"==typeof e&&e()}function z(){Ne("@getSchedule"),s&&be.accessKey&&s.getSchedule(be.accessKey,be,Le,ie,ae)}function Z(e){var t=e.coords.latitude,n=e.coords.longitude;Le.latitude=t,Le.longitude=n,Ne("COORDINATES:",t,n),u("GEOLOCATION_STATUS",n,t,null),$()}function X(e){1==e&&Ne("User did not allow geoLocation service"),u("GEOLOCATION_STATUS",null,null,"geoLocation failed to get coordinates"),Le.latitude="",Le.longitude="",$()}function $(){Ve=!0,Be&&He&&(Ne("calling authorizationCallback from geoCallback"),Be(),Ve=!1,He=!1)}function ee(e){Ne("@authenticate",e);Le.preview&&Me&&Me.onAuthenticationRequested(),Ce&&Ce.authenticate(e)}function te(e,t,n){Ne("@authorize",e,t,n);var r;Le.authorizer&&Ce&&!Le.authorizationInProgress?(Le.authorizationInProgress=!0,Ce.authorize(e,t,n),Oe.adobeAuthorize=Oe.adobeAuthorize||[],Ne("setting timeout for authZ"),r=setTimeout(function(){c(We.ACTRL052.code),L(We.ACTRL052.info)},1e3*Le.timeOut),Oe.adobeAuthorize.push(r),Ne("timers.adobeAuthorize timer #",Oe.adobeAuthorize?Oe.adobeAuthorize.length:"")):Le.authorizationInProgress&&Ne("cancelling authorize call since one is in progress now")}function ne(e){_e=e}function re(e,t){Ne("@onProgramChanged",e,t),(!Le.fetchingMetadata&&e||t&&t>10)&&(Le.eventId=e,Le.upid=t,s?(Le.fetchingMetadata=!0,s.getMetadata(be.accessKey,e,t,oe,se),s.getSchedule(be.accessKey,be,Le,ie,ae)):(Le.fetchingMetadata=!1,oe()))}function ie(e){var t,n,r,i,a={current_event:"PROGRAM_CHANGED",next_event:"NEXT_PROGRAM"};for(var o in a)a.hasOwnProperty(o)&&(r=e&&e[o]?e[o]:null,i=e&&e[o]?{title:e[o].def_title||e[o].title}:{},t=e&&e[o]?e[o].event_id:null,n=e&&e[o]?e[o].upid:null,e&&e[o]&&e[o].custom_metadata_map&&(i.description=e[o].custom_metadata_map.rovi_long_description,i.rating=e[o].custom_metadata_map.rovi_tv_rating,i.mvpdAuthenticationNeeded="yes"==e[o].custom_metadata_map.authenticated,i.tveCheckNeeded="yes"==e[o].custom_metadata_map.tveauthorized)),"PROGRAM_CHANGED"==a[o]&&(Re&&"updateMetadata"in Re?Re.updateMetadata(t,n,i,r,"schedule"):Ne("playerObject is not ready/registered for updateMetadata call!")),"NEXT_PROGRAM"==a[o]&&u(a[o],t,n,i,r);Ne("@onSchedule",JSON.stringify(e,null,3))}function ae(e){Ne("@onScheduleError",e)}function oe(e){Le.fetchingMetadata=!1,Ne("@onMetadata",JSON.stringify(e,null,3));var t,n=e&&e.event?e.event:null,r=e&&e.event?{title:e.event.def_title}:{};be.debug&&(n.def_title=be.debug+n.def_title,r.title=be.debug+r.title),e&&e.event&&e.event.custom_metadata_map&&(r.description=e.event.custom_metadata_map.rovi_long_description,r.rating=e.event.custom_metadata_map.rovi_tv_rating,r.mvpdAuthenticationNeeded="yes"==e.event.custom_metadata_map.authenticated,r.tveCheckNeeded="yes"==e.event.custom_metadata_map.tveauthorized,Le.callsign=e.event.def_callsign),Le.programRating=r.rating,Ne("@onMetadata session:",JSON.stringify(Le,null,3)),Re?Re.parentNode?(window.proxyDispatcher&&"dispatch"in window.proxyDispatcher&&window.proxyDispatcher.dispatch({name:"PROGRAM_CHANGED",info:"Live program has changed",args:[Le.eventId,Le.upid,r,n]}),g("PROGRAM_CHANGED",[Le.eventId,Le.upid,r,n])):"updateMetadata"in Re&&Re.updateMetadata(Le.eventId,Le.upid,r,n,"metadata"):console.error("Failed to update metadata; playerObject is not available"),Le.programReauthorized=!1,Le.onDemand||Le.preview&&(!Le.preview||"ENTITLEMENT"!=Me.getState())||(te(Le.resource,r.rating,be.video),Le.programReauthorized=!0),Le.onDemand&&(Ne("@onMetadata",Le.eventId,Le.callsign),(t=Pe.platform.lookupItem(Le.eventId,Le.callsign))&&(Le.programRating="NR"==t.rating?"TV-Y":t.rating,Ne("@onMetadata item found",!!t,Le.programRating,t.authenticated),t.authenticated&&(te(Le.resource,t.programRating),Le.programReauthorized=!0))),Le.authenticator!=xe&&r.tveCheckNeeded&&(Ne("@onMetadata calling evaluateHomeZip directly:",Le.authenticator!=xe,r.tveCheckNeeded),Le.maxRating=be.user?be.user.maxRating:null,Le.fetchedHomeZips=[be.user?be.user.homeZip:null],Le.fetchedEncryptedHomeZips=[be.user?be.user.encryptedHomeZip:null],Le.tveCheckInProgress=!0,D())}function se(e){Le.fetchingMetadata=!1,u(Ke.PLAYER_ERROR,We.ACTRL001.code,We.ACTRL001.info,We.ACTRL001.isCritical)}function le(){Ne("@onUserInteraction"),Me&&Me.onUserInteraction()}function Ae(e,t){Ne("@sendSelectedProviderInfo",e.ID,t,!!Ce,!!Ce.sendSelectedProviderInfo),Ce&&Ce.sendSelectedProviderInfo(e,t)}function de(){Ce&&Ce.onProviderIFrameDestroyed()}function ce(){Ce&&Ce.onProviderPopupBlocked()}function ue(){Ce&&Ce.onProviderPopupDisplayed()}function ge(e,t){Ne("@setSelectedProvider",e,t),Ae({ID:e},t)}function fe(e){Ce&&Ce.setConfig(e)}function pe(e){Le.currentStationInfo=e}function he(){return Me?Me.getPreviewState():null}function me(e){Ne("@setFailoverChannel",e),Le.failoverChannel=e}function Ee(e){be.accessControl.token=e,Ne("token updated")}function Ie(e){be.accessControl.mvpd=e,Ne("mvpd updated")}function ye(e,t){Ne("@checkPreauthorizedResources",e),ke=t,je&&Le.isAuthenticated?Ce.checkPreauthorizedResources(e):ve(e)}function ve(e){Ne("@onPreauthorizedResources",e),ke&&ke(e)}var Ce,be,Be,we,Se,Qe,Te,De,ke,Re,_e,Me,Ne=i?i.getLogFn("AccessControl"):function(){console.log.apply(console,["[!AccessControl!]\t"].concat(Array.prototype.slice.call(arguments)))},Le={geoLocation:!1,requestor:null,provider:null,profile:null,authenticator:null,authorizer:null,isAuthenticated:null,resource:null,isAuthorized:null,token:null,eventId:null,dataSource:null,preview:!1},Oe={},Pe={},Fe="mcp",Ue="mpx",xe="adobepass",Ge="alternate",Ve=!1,He=!1,je=!1,Ye=!1,Ke={},Je={},qe=[],We={},ze=[];return function(){Ne("registering events"),A("PROGRAM_CHANGED","Live program has changed"),A("NEXT_PROGRAM","Next program information has arrived"),A("AUTHENTICATION_STATUS","Authentication status has changed"),A("AUTHORIZATION_STATUS","Authorization status has changed"),A("HOMEZIP_DETECTED","Userâs home zip detected"),A("ENCRYPTED_HOMEZIP_DETECTED","Userâs home zip detected"),A("MAX_RATING_DETECTED","Userâs allowed max rating detected"),A("PROVIDER_SELECTED","User selected a provider/previously selected provider has been set"),A("GEOLOCATION_STATUS","Userâs geolocation information updated"),A("PLAYER_ERROR","Player has thrown an error")}(),function(){Ne("registering errors"),d("ACTRL001","Failed to retrieve the metadata",!1),d("ACTRL002","Failed to retrieve the video metadata",!1),d("ACTRL010","Failed to retrieve the TVE rights",!1),d("ACTRL020","The user's maximum allowed rating is smaller than program's rating",!0),d("ACTRL021","Provided rating string does not have the standard format",!1),d("ACTRL030","Adobe Pass authentication failed",!0),d("ACTRL031","Adobe Pass authorization failed",!0),d("ACTRL040","The user's geo-station doesn't match the streaming station",!0),d("ACTRL041","The user doesn't have home station rights.",!0),d("ACTRL042","The user doesn't have geo station rights.",!0),d("ACTRL043","The user doesn't have TVE rights.",!0),d("ACTRL050","Adobe Pass failed to respond within the specified time out limit.",!0),d("ACTRL051","Adobe Pass failed to check authentication within the specified time out limit.",!0),d("ACTRL052","Adobe Pass failed to check authorization within the specified time out limit.",!0),d("ACTRL060","Adobe Pass did not return any valid service zip",!1),d("ACTRL070","Failed to generate security token. Possible reason: accessKey is not recognized",!0),d("ACTRL071","Failed to retrieve the content. Possible reason: the content is either invalid or not provisioned for the accessKey",!0),d("ACTRL072","Cannot access this video or channel.",!0),d("ACTRL079","Generic backend error",!0)}(),window.onProgramChanged=re,{init:f,isCookiesEnabled:m,setListener:ne,registerPlayer:x,onProgramChanged:re,setStationInfo:pe,setFailoverChannel:me,processMpxRequest:E,getSmilPlaylist:v,getFeed:I,getItemWithGuid:y,getSmilResource:C,getChannelObj:B,filterSmilPlaylist:w,loadVideoJSON:Y,getVideoJSON:J,getSchedule:z,onReadyCallback:S,preauthorizedResources:ve,onProviderSelected:Q,authorizationCallback:T,setMetadataStatus:P,onProviderIFrameDestroyed:de,onProviderPopupBlocked:ce,onProviderPopupDisplayed:ue,showPicker:F,sendSelectedProviderInfo:Ae,setSelectedProvider:ge,setConfig:fe,getSession:U,authenticate:ee,authorize:te,onUserInteraction:le,getPreviewState:he,getMediaJSON:G,setToken:Ee,setMVPD:Ie}}return i}),define("Logger",["util"],function(e){function t(t,n,r,i,a,o){function s(n,r){var i;t&&(n in u?i=u[n]:(i=e.md5(n),i="#7"+i.substr(3,5),u[n]=i),(!E||E&&n in E)&&console.log("%c "+r,"color: "+i)),h&&h(r),g>=p&&(c.shift(),g--),c.push(r),g++,++f%p==0&&o&&a.dispatchEvent({name:"LOG_CHUNK",info:"Player has sent a key-value pair",time:l(),args:[Math.floor(f)/p,c]})}function l(e){var t,n,r,a,o,s,l;return t=e?i?new Date(e):e:new Date,i?(n=t.getHours(),r=t.getMinutes(),a=t.getSeconds(),o=t.getMilliseconds()):(s=t-m,n=Math.floor(s/1e3/60/60),s-=1e3*n*60*60,r=Math.floor(s/1e3/60),s-=1e3*r*60,a=Math.floor(s/1e3),s-=1e3*a,o=s),n<10&&(n="0"+n),r<10&&(r="0"+r),a<10&&(a="0"+a),o<10?o="00"+o:o<100&&(o="0"+o),l=[r,a,o],i&&l.unshift(n),"("+l.join(":")+")"}function A(){var e=Array.prototype.slice.call(arguments,1),t=n?l():"",r="["+arguments[0]+"] \t"+e.join(" ")+"\t "+t;s(arguments[0],r)}function d(){return c}var c=[],u={PluginLoader:"#0000ff"},g=0,f=0,p=r||50,h=null,m=(new Date).getTime(),E=!1;return{getLogFn:function(e){return function(){var t=[e].concat(Array.prototype.slice.call(arguments));A.apply(null,t)}},on:function(e){if("object"==typeof e&&e.length){E=[];for(var n=0,r=e.length;n<r;n++)E[e[n]]=1}t=!0},off:function(){t=!1},displayLogs:function(){for(var e=0;e<g;e++)console.log(c[e])},getTotalLogs:function(){return g},setExposeFn:function(e){h=e},getTime:function(e){return l(e).replace("(","").replace(")","")},getInitialOffset:function(){return m},getLogs:d}}return t}),define("PlayerSelector",["util"],function(e){function t(n,r,i,a,o){function s(){E={},E[I.players.MSE]={},E[I.players.HTML5]={},E[I.players.FLASH]={},E[I.players.DASH]={},E[I.players.SHAKA]={},E[I.players.AUDIO]={},E[I.players.AUDIO][I.formats.MP3]=!0,E[I.players.AUDIO][I.formats.AAC]=l(I.formats.AAC),E[I.players.MSE][I.formats.HLS_LIVE]=!!window.MediaSource,E[I.players.MSE][I.formats.HLS_VOD]=!!window.MediaSource,E[I.players.MSE][I.formats.MP4_BP]=!1,E[I.players.MSE][I.formats.MP4]=!1,E[I.players.MSE][I.formats.DASH_VOD]=!1,E[I.players.MSE][I.formats.DASH_LIVE]=!1,E[I.players.MSE][I.formats.HDS]=!1,E[I.players.FLASH][I.formats.HLS_LIVE]=h,E[I.players.FLASH][I.formats.HLS_VOD]=h,E[I.players.FLASH][I.formats.MP4_BP]=h,E[I.players.FLASH][I.formats.MP4]=h,E[I.players.FLASH][I.formats.DASH_VOD]=!1,E[I.players.FLASH][I.formats.DASH_LIVE]=!1,E[I.players.FLASH][I.formats.HDS]=!0,E[I.players.HTML5][I.formats.HLS_LIVE]=l(I.formats.HLS_LIVE),E[I.players.HTML5][I.formats.HLS_VOD]=l(I.formats.HLS_VOD),E[I.players.HTML5][I.formats.MP4]=l(I.formats.MP4),E[I.players.HTML5][I.formats.MP4_BP]=l(I.formats.MP4_BP),E[I.players.HTML5][I.formats.DASH_VOD]=!1,E[I.players.HTML5][I.formats.DASH_LIVE]=!1,E[I.players.HTML5][I.formats.HDS]=!1,o.excludedModules&&"DashVideo"in o.excludedModules?delete I.players.DASH:(E[I.players.DASH][I.formats.HLS_LIVE]=!1,E[I.players.DASH][I.formats.HLS_VOD]=!1,E[I.players.DASH][I.formats.MP4]=!1,E[I.players.DASH][I.formats.MP4_BP]=!1,E[I.players.DASH][I.formats.DASH_LIVE]=!0,E[I.players.DASH][I.formats.DASH_VOD]=!1,E[I.players.DASH][I.formats.HDS]=!1),o.excludedModules&&"ShakaVideo"in o.excludedModules?delete I.players.SHAKA:(E[I.players.SHAKA][I.formats.HLS_LIVE]=!1,E[I.players.SHAKA][I.formats.HLS_VOD]=!1,E[I.players.SHAKA][I.formats.MP4]=!1,E[I.players.SHAKA][I.formats.MP4_BP]=!1,E[I.players.SHAKA][I.formats.DASH_LIVE]=!1,E[I.players.SHAKA][I.formats.DASH_VOD]=!0,E[I.players.SHAKA][I.formats.HDS]=!1),r&&"tagName"in r&&"VIDEO"==r.tagName||(r=document.createElement("video"))}function l(e,t,n){var a,o;e?o=y[e]:t&&(a=(t.split("?")[0].match(/.*\.(.*)$/)||[])[1],o=n||m[a]||[]),o=o.constructor===Array?o:[o];for(var s=0,l=o.length;s<l;s++)if(/audio/.test(o[s])&&i.canPlayType){if(f("evaluating",o[s],i.canPlayType(o[s])),""!=i.canPlayType(o[s]))return f("Native player can play",e,"with codec",o[s]),!0}else if(r.canPlayType&&(f("evaluating",o[s],r.canPlayType(o[s])),""!=r.canPlayType(o[s])))return f("Native player can play",e,"with codec",o[s]),!0;return f("Native player can NOT play",e,"with any codecs listed"),!1}function A(e,n,r,i){f("@getSelection selectionType:",n);var a,o,s;if(n==t.SelectionTypes.PLAYER_PRIORITY){for(a in I.players)if(I.players.hasOwnProperty(a))for(o in I.formats)if(I.formats.hasOwnProperty(o)&&(r&&o in r||!r)){if(e.isLive&&o==I.formats.HLS_VOD||!e.isLive&&o==I.formats.HLS_LIVE)continue;if(E[a][o])return{selectedPlayer:a,selectedFormat:o}}}else if(n==t.SelectionTypes.FORMAT_PRIORITY){for(o in I.formats)if(I.formats.hasOwnProperty(o)&&(r&&o in r||!r))for(a in I.players)if(I.players.hasOwnProperty(a)){if(e.isLive&&o==I.formats.HLS_VOD||!e.isLive&&o==I.formats.HLS_LIVE)continue;if(E[a][o])return{selectedFormat:o,selectedPlayer:a}}}else if(n==t.SelectionTypes.STRICT_MEDIA_URL_ORDER)for(var l=0,A=i.length;l<A;l++){s=i[l].convertedFormatName;for(a in I.players)if(I.players.hasOwnProperty(a)&&(r&&s in r||!r)){if(e.isLive&&s==I.formats.HLS_VOD||!e.isLive&&s==I.formats.HLS_LIVE)continue;if(E[a][s])return{selectedPlayer:a,selectedFormat:s,selectedFormatIndex:l}}}return null}function d(e,t){f("@blackListCapability",e,t),E[e][t]=!1}function c(e){var t={m3u8:/\.m3u8/,mp4:/\.mp4/,mp3:/\.mp3/,dash:/\.mpd/,aac:/\.aac/,hds:/\.hds/};if(e.format)return e.format;for(var n in t)if(t.hasOwnProperty(n)&&t[n].test(e.embed_url))return n}function u(t,n){for(var r,i,a,s={},l=[],A=0,d=t.length;A<d;A++)if(r=t[A],f("format",r.format),r.format||(r.format=c(r)),r.format){if(r.format=r.format.toLowerCase(),r.format.indexOf("m3u8")>-1)i=n?I.formats.HLS_LIVE:I.formats.HLS_VOD,e.getDeviceInfo.safari&&(o.drm||"license_url"in r||o.nativeHlsOnSafari||o.nativeHlsOnSafariForVod&&!n||o.nativeHlsOnSafariForLive&&n)&&(E[I.players.MSE][i]=!1);else if(/mp4.*bp/.test(r.format))i=I.formats.MP4_BP;else if(r.format.indexOf("mp4")>-1)i=I.formats.MP4;else if(/dash|mpd/.test(r.format))i=n?I.formats.DASH_LIVE:I.formats.DASH_VOD;else if(/hds/.test(r.format))i=I.formats.HDS;else if(/mp3/.test(r.format))i=I.formats.MP3;else{if(!/aac/.test(r.format)){f("skipping unrecognized format:",r.format);continue}i=I.formats.AAC}a=!1;for(var u in I.players)I.players.hasOwnProperty(u)&&(E[u][i]?(a=!0,s[i]||(s[i]={canPlay:E[u][i]})):f("skipping",i,"addition to filtered for",u));a&&(r.convertedFormatName=i,l.push(r))}return{filtered:l,filteredTypes:s}}function g(e,t,n){E[e][t]=n}var f=a?a.getLogFn("PlayerSelector"):function(){console.log.apply(console,["[!PlayerSelector!]\t"].concat(Array.prototype.slice.call(arguments)))},p=e.getDeviceInfo,h=!!(p.pv&&p.pv[0]&&p.pv[0]>=11),m={mp4:["avc1.42E01E","avc1.58A01E","avc1.4D401E","avc1.64001E","mp4v.20.8","mp4v.20.240","mp4a.40.2"].map(function(e){return'video/mp4; codecs="'+e+'"'}),ogg:['video/ogg; codecs="theora, vorbis"','video/ogg; codecs="dirac"','video/ogg; codecs="theora, speex"'],"3gpp":['video/3gpp; codecs="mp4v.20.8, samr"'],webm:['video/webm; codecs="vp8, vorbis"'],mkv:['video/x-matroska; codecs="theora, vorbis"'],m3u8:["application/x-mpegurl"]};m.ogv=m.ogg,m["3gp"]=m["3gpp"];var E,I={players:{SHAKA:"SHAKA",DASH:"DASH",MSE:"MSE",HTML5:"HTML5",FLASH:"FLASH",AUDIO:"AUDIO"},formats:{DASH_VOD:"DASH_VOD",DASH_LIVE:"DASH_LIVE",HLS_LIVE:"HLS_LIVE",HLS_VOD:"HLS_VOD",MP4_BP:"MP4_BP",MP4:"MP4",HDS:"HDS",MP3:"MP3",AAC:"AAC"}},y={HLS_LIVE:["application/x-mpegurl"],HLS_VOD:["application/x-mpegurl"],MP4_BP:['video/mp4; codecs="avc1.42E01E, mp4a.40.2"','video/mp4; codecs="avc1.58A01E, mp4a.40.2"'],MP4:m.mp4,AAC:["audio/aac"]};return s(),f("mimetypes:",JSON.stringify(m,null,3)),f("capabilityLookup:",JSON.stringify(E,null,3)),{canPlayType:l,filterPublishedUrls:u,getSelection:A,blackListCapability:d,resetCapabilities:s,overrideCapability:g}}return t.SelectionTypes={PLAYER_PRIORITY:0,FORMAT_PRIORITY:1,STRICT_MEDIA_URL_ORDER:2},t}),define("Video",["util"],function(e){function t(t,n,r,i){function a(e){Te("@onWaiting",e.type)}function o(e){Te("@onStalled",e.type)}function s(e){Te("@onEmptied",e.type)}function l(t,n,r){"string"==typeof t&&(t=document.getElementById(t)),Te("initializing video"),t.width=t.parentNode.clientWidth,t.height=t.parentNode.clientHeight,t.style.display="block",me=t;for(var i in ke)ke.hasOwnProperty(i)&&e.addEventListener(me,i,ke[i],!1);Te("video initialized")}function A(e){var t=new Uint16Array(e.buffer);return String.fromCharCode.apply(null,t)}function d(e){Te("@extractContentId",e);var t=A(e);return t=t.replace(/.*skd:\/\//g,"")}function c(t){var n,r,i,a,o,s,l=0;return"string"==typeof t.id&&(t.id=e.stringToUint16Array(t.id)),r=t.initData.byteLength+4+t.id.byteLength+4+t.cert.byteLength,n=new ArrayBuffer(r),i=new DataView(n),a=new Uint8Array(n,0,t.initData.byteLength),a.set(t.initData),l+=t.initData.byteLength,i.setUint32(l,t.id.byteLength,!0),l+=4,o=new Uint16Array(n,l,t.id.length),o.set(t.id),l+=o.byteLength,
i.setUint32(l,t.cert.byteLength,!0),l+=4,s=new Uint8Array(n,l,t.cert.byteLength),s.set(t.cert),new Uint8Array(n,0,n.byteLength)}function u(n,r){function a(n){Te("@handleMessage");var r=n.target,i={spc:e.uint8ArrayToBase64(n.message),assetid:o};Te("@handleMessage",JSON.stringify(i,null,3)),e.sendPostRequest(_e.servers["com.apple.fps.1_0"],JSON.stringify(i),function(n){Te("license server response:",n,typeof n);try{n=JSON.parse(n)}catch(e){console.error("Failed to parse fairplay license server response")}var i=n.ckc.trim(),a=e.base64ToUint8Array(i);try{r.update(a)}catch(e){t.publish("streamError","DRM020")}},null,null,null,"application/json"),Te("Requesting license")}var o=d(r),s=ye||i.drm&&i.drm.certificate;s||(s="MIIE6jCCA9KgAwIBAgIILoPvydLY59owDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTYwNTAzMTQzNjEzWhcNMTgwNTA0MTQzNjEzWjB6MQswCQYDVQQGEwJVUzEgMB4GA1UECgwXTkJDVW5pdmVyc2FsIE1lZGlhLCBMTEMxEzARBgNVBAsMClZGQlNEM0VWSjMxNDAyBgNVBAMMK0ZhaXJQbGF5IFN0cmVhbWluZzogTkJDVW5pdmVyc2FsIE1lZGlhLCBMTEMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMKj63AuNhgETv/0jXkE5Ha0AFXQZbakNHAcChVtgNbZ40YCzckDTo6h0xojoLSIRP5y+ZoFbsYud/JKm7zGXb6rPriWXc0UbemiXBe4KOMbpfbJZG5XNEDKfqQT1a4GAQGrMeQYGwZlEL1pJ+/bSEQwP67OnCCCtk+1W7uJtG8NAgMBAAGjggHxMIIB7TAdBgNVHQ4EFgQUZfwXeHSN9LSnRF2UopFDq1D8JlwwDAYDVR0TAQH/BAIwADAfBgNVHSMEGDAWgBRj5EdUy4VxWUYsg6zMRDFkZwMsvjCB4gYDVR0gBIHaMIHXMIHUBgkqhkiG92NkBQEwgcYwgcMGCCsGAQUFBwICMIG2DIGzUmVsaWFuY2Ugb24gdGhpcyBjZXJ0aWZpY2F0ZSBieSBhbnkgcGFydHkgYXNzdW1lcyBhY2NlcHRhbmNlIG9mIHRoZSB0aGVuIGFwcGxpY2FibGUgc3RhbmRhcmQgdGVybXMgYW5kIGNvbmRpdGlvbnMgb2YgdXNlLCBjZXJ0aWZpY2F0ZSBwb2xpY3kgYW5kIGNlcnRpZmljYXRpb24gcHJhY3RpY2Ugc3RhdGVtZW50cy4wNQYDVR0fBC4wLDAqoCigJoYkaHR0cDovL2NybC5hcHBsZS5jb20va2V5c2VydmljZXMuY3JsMA4GA1UdDwEB/wQEAwIFIDBFBgsqhkiG92NkBg0BAwEB/wQzAW0wZ3U1aHFsaWtzZ3RwejV2dzZ6NjAxYmt0a3N1eXRsaDV5c2dwanVqcmFhM3J3cmpkMCoGCyqGSIb3Y2QGDQEEAQH/BBgBYWJnZDBzZWJ4YW1yamdzZDBzcHYxYWcwDQYJKoZIhvcNAQEFBQADggEBAA/Plel/Jqzsuu/z4bK7/n2lPeAXr0cyebPO/rTSD75JsQScgF5vkEUqzYxGoJhDovWadr/VK5QCfRs3ms1WKIyMJm4rbTFs6VTxtprBBSeTQbWJcmN7bhvkykcr9CA7PDKO/qEkn2j6qAUTA4Zc7d/Y3fge6NlGwjv2yuEufjhNekpZXXZ/Pw5ldaQstHHezAYamkAnPheKIjcjoMfuQ0/AzlcLBFAUEIbYrDE1UHn0mJS2BatlK6HczRnhzukioy3h4VCwWIqUVcUlkQ+6Gm/zNQVuPdq/329IrZh8rg63yIfNC7rKDUORZPiF2XSR3uUg0QxYtJUrpG/f+M9yN9Q=",t.publish("backupFairplayCertUsed"));var l=c({id:o,initData:r,cert:e.base64ToUint8Array(s)}),A=n.webkitKeys.createSession("video/mp4",l);if(!A)return void console.error("[JSHls] Failed create session on webkitKeys");A.addEventListener("webkitkeymessage",a),A.addEventListener("webkitkeyadded",function(){Te("createFairplaySession->webkitkeyadded",event)}),A.addEventListener("webkitkeyerror",function(){Te("createFairplaySession->webkitkeyerror",event)})}function g(e,t,n,r){Te("@initMediaKeys",e,JSON.stringify(t,null,3),85);var i=[{initDataTypes:["keyids","mp4","cenc","webm"],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"',robustness:""}],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.64001e"',robustness:""}]}];return t&&(t[e]=!1),new Promise(function(a,o){if(Te("@Promise",e),"com.apple.fps.1_0"==e)"WebKitMediaKeys"in window?r&&!n?(t&&(t[e]=!0),a()):n&&(n.webkitKeys||n.webkitSetMediaKeys(new window.WebKitMediaKeys(e)),n.webkitKeys?(t&&(t[e]=!0),a()):r?a():o()):r?a():o();else{if(Te("non-fairplay"),!(navigator&&"requestMediaKeySystemAccess"in navigator))return Te("non-fairplay not supported"),void(r?a():o());navigator.requestMediaKeySystemAccess(e,i).then(function(e){return Te("returning keySystemAccess.createMediaKeys"),e.createMediaKeys()},function(e){Te("@rejected",e)}).then(function(r){if(Te("createdMediaKeys"),t&&(t[e]=!0),n){var i=n.src;n.src="",n.setMediaKeys(null).then(function(){n.src=i,n.setMediaKeys(r).then(a)})}}).catch(function(t){Te("ERROR"),n?(Te("Not supported DRM: "+e),r?a():o()):a()})}})}function f(){Te("detectDrmSupport"),Me={},g("com.apple.fps.1_0",Me,null,!0).then(function(){g("com.microsoft.playready",Me,null,!0).then(function(){g("com.widevine.alpha",Me,null,!0).then(function(){Te("@detectDrmSupport",JSON.stringify(Me,null,3))})})})}function p(e){Te("@onEncrypted",JSON.stringify(Me,null,3))}function h(e){Te("@onWebkitNeedKey",e,e.initData);try{u(me,e.initData)}catch(e){console.error("Failed to create session",e)}}function m(n,r){ye=null,be.lastPosition=0,be.marked=0,be.persistCounter=0,Ne=0,Le=-1,Te("@setSource with",JSON.stringify(n)),me.innerHTML="",me.removeAttribute("src");var a,o,s=document.createElement("source"),l=!1;De=!1;var A=function(){Te("supported drms",JSON.stringify(Me,null,3)),s.src=o,me.appendChild(s),me.load(),Ee=o,De=!0};switch(s.onerror=P.bind(s,"source",r),me.onerror=P.bind(me,"video",r),n.format){case"mp4":case"mp4bp":case"m3u8":case"m3u8-variant":s.type="video/mp4";break;case"webm":s.type="video/webm"}Te("@setSource initial url",n.embed_url,"openCaptions",Ce),Ce?(a=n.embed_url.indexOf("?")>-1?"&":"?",o=n.embed_url+a+"caption=open"):(o=n.embed_url,o=o.replace(/.caption=open/,"")),Te("@setSource final url",o),_e=i.drm||n.drm||n.license_url,_e?(Te("drm config detected"),"string"==typeof _e&&(_e={servers:{"com.widevine.alpha":_e,"com.microsoft.playready":_e,"com.apple.fps.1_0":_e}},n.fp_cert&&n.fp_cert.payload&&(ye=n.fp_cert.encrypted?e.aesStdDecrypt("cbc",n.fp_cert.payload,n.anvrid.slice(0,16),"base64",n.anvrid.slice(16).padStart(16,"0"),e.paddingSchemes.PKCS7):n.fp_cert.payload)),g("com.widevine.alpha",null,me,!0).then(function(){g("com.microsoft.playready",null,me,!0).then(function(){g("com.apple.fps.1_0",null,me,!0).then(function(){for(var e in Me)if(Me.hasOwnProperty(e)&&Me[e]){l=!0;break}l?A():t.publish("streamError","DRM004")})})}).catch(function(e){P.bind(me)("setSource",r),Te("Failed to initialize media keys"),t.publish("streamError","DRM002")})):A(),isNaN(n.kbps)||t.publish("bitrateChanged",parseInt(n.kbps))}function E(n){var r=n.track,a=i.styleNativeCaptions;"metadata"==r.kind?r.mode="showing":r.kind in{subtitles:1,captions:1}&&(r.mode=Re.isEnabled?"showing":"hidden",Te("@onAddTrack set mode to",r.mode,"due to closedCaptionStatus.isEnabled",Re.isEnabled),r.oncuechange=function(e){var n=e.target||e.srcElement||e.currentTarget;if(n&&n.cues&&n.cues.length&&!Qe[n.language]&&(Qe[n.language]=!0,a?(t.publish("captionUpdate",[{format:"custom",language:n.language}]),t.publish("captionLoaded",!1)):(t.publish("embeddedCaptionDetected",r.language),t.publish("toggleCaptionSettingButton",!1))),a&&n.activeCues&&n.activeCues.length){clearTimeout(Se.delay608CueChange),delete Se.delay608CueChange;var i=I(n.activeCues),o=y(i.splice(0,3));t.publish("caption608Updated",o,n.language),i.length>0&&v(i,n.language)}}),Te("@onAddTrack",r.kind),e.addEventListener(r,"cuechange",C)}function I(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].text;if(r&&r.length<=32)t.push(r);else{for(var i=r.split(" "),a="";i.length;){var o=i.shift();0==a.length||a.length+o.length<32?a+=o+" ":(t.push(a),a=o+" ")}a.length>0&&t.push(a)}}return t}function y(e){for(var t=15-e.length,n={},r=0;r<e.length;r++)n[t+r]=e[r];return n}function v(e,n){Se.delay608CueChange=setTimeout(function(){var r=e.splice(0,3),i=y(r);t.publish("caption608Updated",i,n),e.length>0&&v(e,n)},1500)}function C(e){b(e)}function b(e){var n,r,i={};e&&e.target&&"metadata"==e.target.kind&&e.target.activeCues&&e.target.activeCues.length&&e.target.activeCues[0].value&&(n=e.target.activeCues[0],"org.id3"==e.target.activeCues[0].type&&(Te("textTrack detected with metadata kind detected on cuechange event includes id3 type cues"),r=n.value.info,i=/nielsen/.test(r.toLowerCase())?"nielsen":/anvato/.test(r.toLowerCase())?"anvato":"unknown",Te("id3:",r),t.publish("id3TagDetected",r,i)))}function B(){t.publish("loadedmetadata",this.duration,this.readyState),me&&me.textTracks&&(e.removeEventListener(me.textTracks,"addtrack",E),e.addEventListener(me.textTracks,"addtrack",E))}function w(){t.publish("loadeddata",this.duration)}function S(){Te("oncanplay"),t.publish("videoReady2Play","canplay")}function Q(){Te("oncanplaythrough")}function T(){Te("onprogress",me.readyState,me.networkState);var e;me.buffered&&me.buffered.length&&(e=me.buffered.end(me.buffered.length-1),Te("@progress->bufferEnd",e),t.publish("bufferLimitUpdated",e))}function D(){Te("onplay")}function k(){Te("@onPaused");var e=(n.iphone||n.ipod)&&ve,r="isPauseInternal"in me?!me.isPauseInternal:e;t.publish("evaluatePausedState"),Math.abs(me.duration-me.currentTime)<=1&&(me.isPauseInternal=!1),r||t.publish("userEvent","IMPLICIT_PAUSE"),e&&(Te("onpause"),r&&t.publish("userEvent","USER_PAUSE",me.isPauseInternal)),delete me.isPauseInternal}function R(){Te("onplaying"),me.setAttribute("data-autoplay-mute-lock",!1),t.publish("playing")}function _(){Te(" # ended"),be.lastPosition=0,be.marked=0,be.persistCounter=0,t.publish("completedVideoContent"),Re.isEnabled&&(Re.isPauseCleanupEnabled=!0,toggleClosedCaptions(!1,null,!0))}function M(){Te("seeking")}function N(){Te("@onSeeked"),t.publish("videoReady2Play","seeked")}function L(e,t){pe=e,he=t,me.width=e,me.height=t}function O(e){be.lastPosition=be.lastPosition||0,be.marked=be.marked||0,be.persistCounter=be.persistCounter||0,Math.abs(e-be.lastPosition)<2?be.lastPosition=e:(Math.abs(e-be.marked)<2?(be.marked=e,be.persistCounter++):(be.marked=e,be.persistCounter=0),be.persistCounter>5&&(Te("seek detected from",be.lastPosition,"to",be.marked),(n.iphone||n.ipod||ve||n.ott)&&me.duration!=1/0&&t.publish("userEvent",be.marked>be.lastPosition?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",be.lastPosition,be.marked),be.lastPosition=e,be.marked=0,be.persistCounter=0))}function P(e,n,r){var i,a,o;return De?("source"==e?i=this.parentNode:"video"==e&&(i=this),i.readyState==i.HAVE_NOTHING&&i.networkState==i.NETWORK_NO_SOURCE?void t.publish("streamError","PLAY499"):(a=Be[i.networkState],o=we[i.readyState],Te("Error network state",a),Te("Error ready state",o),Te("Error h264 support",!(!i.canPlayType||!i.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))),void(n&&n(null,e,["networkState: "+a,"readyState: "+o].join(" | "),r)))):void Te("ignoring video error observed before video load; possibly drm capability detection")}function F(e){Se.startTimeNotification||(Se.startTimeNotification=setInterval(U.bind(null,"timer"),300))}function U(){t.publish("updateTime",me.currentTime),O(Math.floor(me.currentTime))}function x(){Te("@cancelTimeNotification",Se.startTimeNotification),clearTimeout(Se.startTimeNotification),delete Se.startTimeNotification}function G(e){me.playbackRate=e}function V(){me.playbackRate=1}function H(){return me.playbackRate}function j(){var e;return me.buffered&&me.buffered.length?(e=me.buffered.start(me.buffered.length-1),Te("@getBufferStart",e),e):0}function Y(){var e;return me.buffered&&me.buffered.length?(e=me.buffered.end(me.buffered.length-1),Te("@getBufferEnd",e),e):0}function K(){q(!0)}function J(){q(!1)}function q(e){Te("@toggleOpenCaption ",e),Ce=e,be.lastPosition=0,be.marked=0,be.persistCounter=0;var t,n,r,i,a=me.getElementsByTagName("source");1==a.length&&(t=a[0]),i=t.src,r=t.url,Te("@toggleOpenCaption initial url",i),i=i.replace(/.caption=open/,""),e&&(n=i.indexOf("?")>-1?"&":"?",i+=n+"caption=open",Te("@toggleOpenCaption final url",i),t.onerror=P.bind(t,"source",J),me.onerror=P.bind(me,"video",J)),r!=i&&(t.src=i,me.load())}function W(){return me.currentTime}function z(e){Te("@seekTo",e),me.currentTime=e}function Z(){return"HTML5"}function X(){Te("@destroy");for(var t in ke)ke.hasOwnProperty(t)&&e.removeEventListener(me,t,ke[t],!1);for(var n in Se)Se.hasOwnProperty(n)&&clearTimeout(Se[n]);me&&me.textTracks&&e.removeEventListener(me.textTracks,"addtrack",E),me&&"paused"in me&&!me.paused&&me.pause(),me&&"innerHTML"in me&&(me.innerHTML=""),me=null,Ee=null,ye=null,Se={}}function $(){if(me&&"readyState"in me)return me.readyState}function ee(){var e,t,n="bufferForCatchLive"in i?i.bufferForCatchLive:10;ue(),e=me.currentTime+Ne,t=me.buffered.length,me.currentTime<e&&t&&j()<e&&e<Y()-n?me.currentTime=e:me.load(),Ne=0}function te(e){Te("@setVolume",e),le()||(me.volume=e,me.muted=!e)}function ne(){return me.muted?0:me.volume}function re(e,t){me.style[e]=t}function ie(){return Ee}function ae(){me.load()}function oe(e){Te("@toggleInlinePlayback",e),e?me.setAttribute("playsinline",""):me.removeAttribute("playsinline")}function se(e){Te("toggleMobileAutoPlay",e),e?(me.setAttribute("playsinline",""),me.setAttribute("autoplay",""),me.setAttribute("muted",""),me.muted=!0,me.volume=0):(me.removeAttribute("autoplay"),me.removeAttribute("muted"),me.muted=!1),me.setAttribute("data-autoplay-mute-lock",!!e)}function le(){return"true"==me.getAttribute("data-autoplay-mute-lock")}function Ae(){return me.muted}function de(e){}function ce(e){Te("@pause",e),me.isPauseInternal=e,me.pause(),Le=Date.now()/1e3}function ue(){Le>0&&(Ne+=Date.now()/1e3-Le,Le=-1)}function ge(){return Y()-me.currentTime}var fe,pe,he,me,Ee,Ie,ye,ve=!1,Ce=!1,be={},Be={0:"NETWORK_EMPTY - audio/video has not yet been initialized",1:"NETWORK_IDLE - audio/video is active and has selected a resource, but is not using the network",2:"NETWORK_LOADING - browser is downloading data",3:"NETWORK_NO_SOURCE - no audio/video source found"},we={0:"HAVE_NOTHING - no information whether or not the audio/video is ready",1:"HAVE_METADATA - metadata for the audio/video is ready",2:"HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond",3:"HAVE_FUTURE_DATA - data for the current and at least the next frame is available",4:"HAVE_ENOUGH_DATA - enough data available to start playing"},Se={},Qe={},Te=r?r.getLogFn("Video"):function(){console.log.apply(console,["[!Video!]\t"].concat(Array.prototype.slice.call(arguments)))},De=!1,ke={loadedmetadata:B,loadeddata:w,canplay:S,canplaythrough:Q,progress:T,play:D,pause:k,playing:R,ended:_,seeked:N,seeking:M,waiting:a,stalled:o,emptied:s,encrypted:p,webkitneedkey:h},Re={},_e=null,Me=null,Ne=0,Le=-1;return{videoContent:function(){return me},init:function(e,t,n){fe=e,pe=t,he=n,f(),l(e,t,n)},width:function(e){return"number"==typeof e&&(pe=e),pe},height:function(e){return"number"==typeof e&&(he=e),he},getCurrentTime:W,seekTo:z,getDuration:function(){return me.duration},setSource:m,load:ae,getSource:ie,play:function(e,t){Te("@play");var n=me.play();void 0!==n?n.then(function(){Te("@play promise succeeded"),me.setAttribute("data-autoplay-mute-lock",!1),"function"==typeof e&&e(),ue()}).catch(function(e){"function"==typeof t&&t(e),console.error("@play promise failed with error",e.name,e.message,e)}):Te("browser does not support promises")},pause:ce,hardPause:ce,setSpherical:function(e){Te("@setSpherical",e),Ie=e,me.style.display=Ie?"none":"block",me.style.visibility=Ie?"hidden":"visible",Ie&&!me.hasAttribute("crossorigin")&&me.readyState>0&&me.load()},hide:function(){me.style.display="none",me.style.visibility="hidden"},show:function(){Ie||(me.style.visibility="visible",me.style.display="block")},hasEmbedCaption:function(){return!!me.textTracks.length},enableEmbedCaption:function(){me.textTracks&&me.textTracks.length?(Te("embed caption enabled"),me.textTracks[0].mode="showing",t.publish("captionLoaded",!1)):Te("No embed caption available")},disableEmbedCaption:function(){me.textTracks&&me.textTracks.length?(Te("embed caption disabled"),me.textTracks[0].mode="hidden"):Te("No embed caption available")},resize:L,setFullscreen:function(e){Te("@setFullscreen",e),ve=e},getPaused:function(){return me.paused},isBitrateSwitchSupported:function(){return!1},startTimeNotification:F,cancelTimeNotification:x,setPlaybackRate:G,getPlaybackRate:H,resetPlaybackRate:V,getBufferEnd:Y,loadOpenCaption:K,unloadOpenCaption:J,getType:Z,destroy:X,getReadyState:$,catchLive:ee,setVolume:te,getVolume:ne,setStyle:re,toggleMobileAutoPlay:se,notifyCaptionStatus:de,toggleInlinePlayback:oe,isMuted:Ae,getRemainingBuffer:ge}}return t}),define("ExternalVideoInterface",["util"],function(e){function t(e,t,n,r,i){function a(e,t,n){Q={},L("video initialized")}function o(e,t){w=e,S=t,Q.width=e,Q.height=t}function s(n){R.lastPosition=R.lastPosition||0,R.marked=R.marked||0,R.persistCounter=R.persistCounter||0,Math.abs(n-R.lastPosition)<2?R.lastPosition=n:(Math.abs(n-R.marked)<2?(R.marked=n,R.persistCounter++):(R.marked=n,R.persistCounter=0),R.persistCounter>5&&(L("seek detected from",R.lastPosition,"to",R.marked),(t.iphone||t.ipod||D)&&e.publish("userEvent",R.marked>R.lastPosition?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",R.lastPosition,R.marked),R.lastPosition=n,R.marked=0,R.persistCounter=0))}function l(e,t,n){var r,i,a;"source"==e?r=this.parentNode:"video"==e&&(r=this),i=_[r.networkState],a=M[r.readyState],L("Error network state",i),L("Error ready state",a),L("Error h264 support",!(!r.canPlayType||!r.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))),t&&t(null,e,["networkState: "+i,"readyState: "+a].join(" | "),n)}function A(e){N.startTimeNotification||(N.startTimeNotification=setInterval(d.bind(null,"timer"),300),L("@startTimeNotification",e,N.startTimeNotification))}function d(){s(Math.floor(Q.currentTime))}function c(){L("@cancelTimeNotification",N.startTimeNotification),clearTimeout(N.startTimeNotification),delete N.startTimeNotification}function u(e){Q.playbackRate=e}function g(){Q.playbackRate=1}function f(){return Q.playbackRate}function p(){return T.bufferEnd}function h(){E(!0)}function m(){E(!1)}function E(e){L("@toggleOpenCaption ",e),k=e,R.lastPosition=0,R.marked=0,R.persistCounter=0;var t,n,r,i,a=Q.getElementsByTagName("source");1==a.length&&(t=a[0]),i=t.src,r=t.url,L("@toggleOpenCaption initial url",i),i=i.replace(/.caption=open/,""),e&&(n=i.indexOf("?")>-1?"&":"?",i+=n+"caption=open",L("@toggleOpenCaption final url",i),t.onerror=l.bind(t,"source",m),Q.onerror=l.bind(Q,"video",m)),r!=i&&(t.src=i,Q.load())}function I(t){L("@onExternalVideoEvent",JSON.stringify(t,null,3));var n,r,i={loadedmetadata:["loadedmetadata"],loadeddata:["loadeddata"],canplay:["videoReady2Play","canplay"],pause:["userEvent","USER_PAUSE"],playing:["playing"],ended:["completedVideoContent"],seeked:["videoReady2Play","seeked"],timeupdated:["updateTime"],bufferupdated:["bufferLimitUpdated"]};if(t.name in i)switch(n=i[t.name],r=n.concat(t.args),L("@onExternalVideoEvent args:",JSON.stringify(r,null,3)),e.publish.apply(e,r),t.name){case"ended":R.lastPosition=0,R.marked=0,R.persistCounter=0;break;case"timeupdated":s(t.args[1])}else"setValue"==t.name&&(T[t.args[0]]=t.args[1],L("@onExternalVideoEvent setValue",JSON.stringify(T,null,3)))}function y(){return L("@getCurrentTime"),i({fn:"getCurrentTime",args:[]}),Q.currentTime}function v(e){L("@seekTo",e),i({fn:"seekTo",args:[e]}),Q.currentTime=e}function C(){return"EXTERNAL"}function b(){L("@destroy"),i({fn:"destroy",args:[]})}var B,w,S,Q,T={},D=!1,k=!1,R={},_={0:"NETWORK_EMPTY - audio/video has not yet been initialized",1:"NETWORK_IDLE - audio/video is active and has selected a resource, but is not using the network",2:"NETWORK_LOADING - browser is downloading data",3:"NETWORK_NO_SOURCE - no audio/video source found"},M={0:"HAVE_NOTHING - no information whether or not the audio/video is ready",1:"HAVE_METADATA - metadata for the audio/video is ready",2:"HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond",3:"HAVE_FUTURE_DATA - data for the current and at least the next frame is available",4:"HAVE_ENOUGH_DATA - enough data available to start playing"},N={},L=n?n.getLogFn("ExternalVideoInterface"):function(){console.log.apply(console,["[!ExternalVideoInterface!]\t"].concat(Array.prototype.slice.call(arguments)))};return{videoContent:function(){return Q},init:function(e,t,n){B=e,w=t,S=n,a(e,t,n)},width:function(e){return"number"==typeof e&&(w=e),w},height:function(e){return"number"==typeof e&&(S=e),S},getDuration:function(){return Q.duration},setSource:function(e,t){i({fn:"setSource",args:[e]}),R.lastPosition=0,R.marked=0,R.persistCounter=0,L("@setSource with",JSON.stringify(e))},play:function(){L("@play"),i({fn:"play",args:[]})},pause:function(e){L("@pause",e),i({fn:"pause",args:[e]}),Q.isPauseInternal=e},hide:function(){i({fn:"hide",args:[]})},show:function(){i({fn:"show",args:[]})},hasEmbedCaption:function(){return!0},enableEmbedCaption:function(){i({fn:"toggleClosedCaption",args:[!0]})},disableEmbedCaption:function(){i({fn:"toggleClosedCaption",args:[!1]})},resize:o,setFullscreen:function(e){L("@setFullscreen",e),D=e},getPaused:function(){return Q.paused},startTimeNotification:A,cancelTimeNotification:c,setPlaybackRate:u,getPlaybackRate:f,resetPlaybackRate:g,loadOpenCaption:h,unloadOpenCaption:m,getBufferEnd:p,getCurrentTime:y,seekTo:v,onExternalVideoEvent:I,getType:C,destroy:b}}return t}),define("Caption608",["util"],function(e){function t(t,n,r){function i(t){n.style.display="none",p=e.generateChild(n,"div","frame","caption-608-frame");for(var r,i,a,o=[],s=0;s<E;s++){i=e.generateChild(p,"div","frame-line-"+s,"caption-608-frame-line"),r=[];for(var l=0;l<y;l++)a=e.generateChild(i,"div","frame-line-"+s+"-char-"+l,"caption-608-frame-line-char",t?l%10||"0":""),t&&(a.style.visibility="visible"),r.push(a);o.push(r)}return o}function a(){var e,t,n,r,i,a,s,l,A,d,c,u=!0;b&&(c=p.parentNode.offsetHeight,d=4*c/3,d>p.parentNode.offsetWidth&&(d=p.parentNode.offsetWidth,c=3*d/4,u=!1),r=d<500?0:v,i=v,t=c-1-(u?r+i:0),(n=d-1-(u?0:2*v))>v+1&&(p.style.width=n+"px",p.style.height=t+"px",a=n/y,s=t/E,l=f[0][0].style.fontSize?parseInt(f[0][0].style.fontSize):20,A=document.getElementById("anv-caption-608-resize-style"),A||(A=document.createElement("style"),A.id="anv-caption-608-resize-style",document.body.appendChild(A)),h||(h=document.createElement("div"),h.style.fontFamily="Courier, monospace",h.style.fontWeight="bold",h.style.textShadow="2px 0 0 #fff, -2px 0 0 #fff, 0 2px 0 #fff, 0 -2px 0 #fff, 1px 1px #fff, -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff",h.style.position="absolute",h.style.visibility="hidden",p.appendChild(h)),h.innerHTML="#",h.style.fontSize=l+"px",e=h.offsetWidth,m("@resize",a,e,Math.abs(a-e)>1,e-a>0),l=o(a,l)||l,A.innerHTML=".anv-caption-608-frame-line-char {font-size: "+(Math.min(l,s)-2)+"px; letter-spacing: "+(d<500?1:0)+"px;line-height: "+(Math.floor(s)-2)+"px; height: "+Math.floor(s)+"px;}.anv-caption-608-frame-line {height: "+Math.floor(s)+"px;}.anv-caption-608-frame {margin: "+r+"px auto "+i+"px;}"))}function o(e,t){var n,r,i,a,o;if(!h||isNaN(t)||e<=0)return null;for(n=t,r=n,i=h.offsetWidth,growFactor=i<e?1:-1;growFactor>0&&i<e||growFactor<0&&i>e;)r=n,n=Math.max(0,n+growFactor),growFactor*=2,h.style.fontSize=n+"px",i=h.offsetWidth+1;for(a=Math.min(n,r),o=Math.max(n,r);Math.abs(e-i)>1&&Math.abs(o-a)>1&&(n=(o+a)/2,h.style.fontSize=n+"px",(i=h.offsetWidth+1)!=e);)i<e?a=n:o=n;return n}function s(){f=null,p=null,h=null,n.innerHTML=""}function l(e,t){var n,r,i,a=!1,o=0;if(f&&(!t||t==B)){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return void console.error("Error parsing caption payload")}for(var s=0;s<E;s++){a=s in e,n=!1,r=a?e[s].length:void 0,f[s][0].parentNode.style.visibility="visible";for(var A=0;A<y;A++)i=f[parseInt(s)][A],a&&A<r?(" "!=e[s][A]?(n=!0,o=0):++o>=C&&(n=!1),n&&(i.style.visibility="visible",i.style.color=S.color||"#fff",i.style.fontWeight="bold",i.style.fontFamily=S.fontFamily||"Courier, monospace",i.style.textShadow=S.textShadow||"2px 0 0 #000, -2px 0 0 #000, 0 2px 0 #000, 0 -2px 0 #000, 1px 1px #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000",i.style.background=S.background||""),i.innerHTML=T.capitalize?e[s][A].toUpperCase():e[s][A].toLowerCase()," "==e[s][A]&&(i.innerHTML="&nbsp;")):(i.innerHTML=" ",i.style.visibility="hidden")}_.cleanCaptions&&(clearTimeout(_.cleanCaptions),delete _.cleanCaptions),_.cleanCaptions=setTimeout(function(){l({})},I)}}function A(){m("@hide"),l({}),n.style.display="none",b=!1}function d(){m("@show"),b=!0,n.style.display="block",a()}function c(n){switch(e.getDeviceInfo.firetv&&(n={fontType:1,fontSize:7,textColor:0,textAlpha:4,bgColor:7,bgAlpha:4,textEdge:2,highlightColor:7,highlightAlpha:0,scale:!0,capitalize:!1,override:!0}),n=n||T,n.fontSize!=Q&&t.publish("caption608StyleRejected",n),S.fontFamily=D[n.fontType],parseInt(n.textEdge)){case 0:break;case 1:S.textShadow="1px 1px 1px #000";break;case 2:S.textShadow="0px 1px 0px #ccc";break;case 3:S.textShadow="-1px -1px 2px #000";break;case 4:S.textShadow="-1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000"}S.capitalize=n.capitalize,S.color=u(R[n.textColor],k[n.textAlpha]/100),S.background=u(R[n.highlightColor],k[n.highlightAlpha]/100),T=n,m("style applied",JSON.stringify(T,null,3))}function u(e,t){return"rgba("+e.join(",")+","+t+")"}function g(e){var t,n={scale:1,capitalize:1,override:1};if("object"==typeof e){for(var r in e)e.hasOwnProperty(r)&&r in T&&(r in n?T[r]=1==e[r]:(t=parseInt(e[r]),isNaN(t)||(T[r]=t)));c(T)}return T}var f,p,h,m=r?r.getLogFn("Caption608"):function(){console.log.apply(console,["[!Caption608!]\t"].concat(Array.prototype.slice.call(arguments)))},E=15,I=1e4,y=32,v=50,C=5,b=!1,B=null,w=[],S={},Q=3,T={fontType:0,fontSize:Q,textColor:0,textAlpha:4,bgColor:7,bgAlpha:0,textEdge:4,highlightColor:7,highlightAlpha:0,scale:!0,capitalize:!1,override:!0},D=["Arial","Courier","Georgia","Lucida Sans","Tahoma","Times New Roman","Verdana"],k=[0,25,50,75,100],R=[[255,255,255],[7,247,247],[9,9,249],[4,246,5],[252,252,10],[248,9,248],[246,5,6],[0,0,0]],_={};return{init:function(e){f=i(e)},resize:a,destroy:s,updateCaption:l,loadCaptionInfo:function(e){},getNode:function(){},getLayout:function(){},show:d,turnOn:d,hide:A,hideCue:A,turnOff:A,getAvailableLanguages:function(){return w},setAvailableLanguages:function(e){e&&e.length&&(w=e||[])},getCurrentLanguage:function(){return B},loadLanguage:function(e){if(e){for(var n=!0,r=0;r<w.length;r++)if(w[r]==e){n=!1;break}n&&w.push(e)}B=e,t.publish("captionLoaded",!1)},updateTime:function(e){},getCueList:function(){},applyStyle:c,setStyle:g,setFullscreenRatio:function(e){},getType:function(){return"cea608"}}}return t}),define("AnvatoMse",["util"],function(e){function t(){function e(){var e,t,r,i;if("open"!==a.readyState)return void(n=!0);try{d&&/avc1\..*\..*/.test(d)&&(d=d.replace(/(avc1)\.(.*)\.(.*)/,function(n,a,o,s){return e=parseInt(o),t=parseInt(s),isNaN(e)||isNaN(t)?d:(r=("0"+e.toString(16)).slice(-2),i=("0"+t.toString(16)).slice(-2),[a,r+"00"+i].join("."))})),o.sb=a.addSourceBuffer('video/mp4; codecs="'+d+'"'),f(o)}catch(e){console.log("ERROR: Video not supported",e)}if(!o.sb)return c.callback&&c.callback(null,{type:"stream-error",data:{errorCode:"PLAY455",errorInfo:"The browser does not support the specified video codec"}}),void E();o.sb&&(o.sb.addEventListener("updateend",p.bind(null,o)),o.sb.addEventListener("error",h.bind(null,o)))}function t(){if("open"!==a.readyState)return void(r=!0);try{s.sb=a.addSourceBuffer('audio/mp4; codecs="'+A+'"'),f(s)}catch(e){console.log("ERROR: Audio not supported")}if(!s.sb)return c&&c.callback&&c.callback(null,{type:"stream-error",data:{errorCode:"PLAY456",errorInfo:"The browser does not support the specified audio codec"}}),void E();s.sb&&(s.sb.addEventListener("updateend",p.bind(null,s)),s.sb.addEventListener("error",h.bind(null,s)))}var n=!1,r=!1,i=null,a=null,o={sb:null,buffer:[],operation:"NONE"},s={sb:null,buffer:[],operation:"NONE"},l=null,A=null,d=null,c=null,u=function(e,t){var n=!1;try{e.appendBuffer(t),n=!0}catch(e){}return n},g=function(e,t,n){if(e.sb&&!e.sb.updating&&"NONE"==e.operation){e.operation="REMOVE";try{e.sb.remove(t,n)}catch(e){}}},f=function(e){if(e.sb&&e.buffer.length&&!e.sb.updating&&"NONE"==e.operation){var t=e.buffer.shift();switch(t.type){case"INIT":e.operation="APPEND_INIT";break;case"DATA":e.operation="APPEND_DATA";break;default:return}u(e.sb,t.data)}},p=function(e){if(e.sb){var t=e.operation;switch(e.operation="NONE",t){case"APPEND_INIT":f(e);break;case"APPEND_DATA":"function"==typeof l&&l()}}},h=function(e){console.log("Error during",e.operation,"source buffer operation"),p(e)},m=function(e,t,n){e.push({type:t,data:n})},E=function(){a&&delete a,o.sb=null,o.buffer=[],o.operation="NONE",s.sb=null,s.buffer=[],s.operation="NONE",l=null,A=null,d=null,c=null},I=function(o,s,l,u,g){function f(){a.removeEventListener("sourceopen",f),n&&e(),r&&t(),u()}if(i=o,d=s,A=l,c=g,!window.MediaSource)return console.log("No MSE support: Failed to find window.MediaSource()"),!1;try{a=new window.MediaSource}catch(e){a=null}if(!a)return console.log("No MSE support: Failed to instantiate MediaSource()"),!1;i.src=URL.createObjectURL(a),a.addEventListener("sourceopen",f)};this.clean_up=E,this.create=function(e,t,n,r,i){I(e,t,n,r,i)},this.mseEndOfStream=function(){if(a&&"open"==a.readyState)try{a.endOfStream()}catch(e){console.warn("Failed to call endOfStream")}},this.mseReadyState=function(){if(a)return a.readyState},this.mseSourceBuffers=function(){return a?a.sourceBuffers:[]},this.append_video_data=function(t,n){return o.sb||e(),m(o.buffer,t,n)},this.append_audio_data=function(e,n){return s.sb||t(),m(s.buffer,e,n)},this.buffer_check=function(){f(s),f(o)},this.min_sb_buffer_length=function(){return Math.min(o.buffer.length,s.buffer.length)},this.remove_buffer=function(e,t){g(o,e,t),g(s,e,t)},this.register_update_end_cb=function(e){l=e}}function n(n,r){function i(){var e=h.currentTime+u,t=null;for(var n in q)if(q.hasOwnProperty(n)&&q[n]){if(!(e>=q[n].start_time))return t;t=n}return t}function a(t,n,r,i){var a,s,l=e.getUrlParts(t).host,A=arguments.length,d=[];s=y.streamTokenizationCheck?e.getCookie("IS_TOKENIZED_"+e.md5(l).toUpperCase()):null;var c="number"==typeof y.masterCacheDuration?1e3*y.masterCacheDuration:3e4;if(master_cache&&t in master_cache){if((new Date).getTime()-master_cache[t].time_stamp<c)return void r("success",master_cache[t].data,{instance_id:n.instance_id});delete master_cache[t]}he("Cookie:","IS_TOKENIZED_"+e.md5(l).toUpperCase(),s,null!=s),y.streamTokenizationCheck?null!=s?(a="true"==s,Qe[l]={lastCredentialFlag:a,success:null,cachedFlagUsed:!0}):l in Qe?Qe[l].success?a=Qe[l].lastCredentialFlag:(a=!Qe[l].lastCredentialFlag,Qe[l].lastCredentialFlag=a,Qe[l].success=null):(a=!0,Qe[l]={lastCredentialFlag:a,success:null}):(a=!1,Qe[l]={lastCredentialFlag:a,success:null});for(;A--;)d[A]=arguments[A];we[t]=r,Se[t]=d,he("@download_with_failover",JSON.stringify(Qe,null,3)),Te(t,n,o.bind(null,t),a,i)}function o(t,n,r,i){he("@download_with_failover_callback",[t,n].join(" | "));var o,s=e.getUrlParts(t).host;return"error"==n?(Qe[s].success=!1,Qe[s].cachedFlagUsed&&(Qe[s].cachedFlagUsed=!1,he("Removing cookie:","IS_TOKENIZED_"+e.md5(s).toUpperCase()),e.removeCookie("IS_TOKENIZED_"+e.md5(s).toUpperCase())),he("@download_with_failover_callback",JSON.stringify(Qe,null,3)),Qe[s].lastCredentialFlag?(a.apply(null,Se[t]),0):(he("@download_with_failover_callback nothing left to do for CORS failover"),we[t](n,r,i))):("success"==n&&(Qe[s].success=!0,he("@download_with_failover_callback",JSON.stringify(Qe,null,3)),y.streamTokenizationCheck&&(o="IS_TOKENIZED_"+e.md5(s).toUpperCase(),e.setCookie(o,Qe[s].lastCredentialFlag,new Date(Date.now()+2592e6)))),we[t](n,r,i))}function s(){var e=b.renditions[R].pars.bandwidth;if(!Q){Q=!0;for(var t=0,n=V.length;t<n;t++)(!e||e>V[t].speed)&&(e=V[t].speed);"function"==typeof y.callback&&y.callback(m,{type:"low-bandwidth-detected",data:{bandwidth:e}})}}function l(e,t){var n,r=0,i=null,a=0;for(var o in e)if(e.hasOwnProperty(o)&&(n=e[o],"master"!=i&&(a+=parseFloat(n.start_time)-r),r=parseFloat(n.start_time),i=n.type,o==t))return a;return null}function A(e,t){var n,r,a,o,s=b.renditions.length;if(he("@set_bitrate requested bitrate: "+e," _desired_rendition_idx:"+R+" resume_auto"+t),"auto"==e)M=!1;else{for(he("@set_bitrate total bitrates:",s);s--;)r=Math.abs(b.renditions[s].pars.bandwidth/1e3-e),(void 0===a||r<a)&&(n=s,a=r);he("@set_bitrate",[e,n,b.renditions[n].pars.bandwidth].join(":")),R=n,M=!t}
-1!=S&&null!==(o=i())&&(he("@set_bitrate current_seg_no",o),S=parseInt(o)+1),L&&(ue=!0),he("@set_bitrate _next_seq_no",S),xe(S),f&&(f=!1,Je())}var d=r.Module,c=r.FS,u=0,g=null,f=!1,p=!1,h=null,m=null,E={},I=null,y={},v=n,C={state:"pending",reason:"No request yet"},b=null,B=-1,w=-1,S=-1,Q=!1,T=!1,D=!1,k=0,R=-1,_=0,M=!1,N=!1,L=!1,O=d.cwrap("convert_segment_file","number",["number","number","number","string","string","number"]),P=d.cwrap("get_last_vpts","number",["number"]),F=d.cwrap("get_dts_offset","number",["number"]),U=d.cwrap("get_key_frame_first","number",["number"]),x=d.cwrap("stream_ctx_new","number",[]),G=d.cwrap("stream_ctx_delete","number",["number"]),V=[],H=!0,j=0,Y={},K={},J={},q={},W=-1,z=-1,Z=-1,X=!1,$=-1,ee=null,te=null,ne=10,re=0,ie=null,ae=new Date,oe={},se={},le={},Ae=0,de=0,ce=!1,ue=!1,ge=!1,fe={urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(e){if("object"==typeof e)return e;var t=this.urlParseRE.exec(e||"")||[];return{href:t[0]||"",hrefNoHash:t[1]||"",hrefNoSearch:t[2]||"",domain:t[3]||"",protocol:t[4]||"",doubleSlash:t[5]||"",authority:t[6]||"",username:t[8]||"",password:t[9]||"",host:t[10]||"",hostname:t[11]||"",port:t[12]||"",pathname:t[13]||"",directory:t[14]||"",filename:t[15]||"",search:t[16]||"",hash:t[17]||""}},makePathAbsolute:function(e,t){var n,r,i,a;if(e&&"/"===e.charAt(0))return e;for(e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",n=t?t.split("/"):[],r=e.split("/"),i=0;i<r.length;i++)switch(a=r[i]){case".":break;case"..":n.length&&n.pop();break;default:n.push(a)}return"/"+n.join("/")},isRelativeUrl:function(e){return""===this.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==this.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!this.isRelativeUrl(t))return t;var n=this.parseUrl(t),r=this.parseUrl(e),i=n.protocol||r.protocol,a=n.protocol?n.doubleSlash:n.doubleSlash||r.doubleSlash,o=n.authority||r.authority,s=""!==n.pathname;return i+a+o+this.makePathAbsolute(n.pathname||r.filename,r.pathname)+(n.search||!s&&r.search||"")+n.hash}},pe=function(e){return e.trim()},he=function(e,t){y.verbose&&(t||(t="info"),console.log("JSPLOG",(new Date-ae)/1e3,t,e))},me=function(e){this.cur=0,this.error=!1,this.data=e,this.read_uint8=function(){if(this.cur+1>this.data.length)return this.error=!0,0;var e=this.data[this.cur];return this.cur++,e},this.read_uint32=function(){if(this.cur+4>this.data.length)return this.error=!0,0;var e=(this.data[this.cur]<<0)+(this.data[this.cur+1]<<8)+(this.data[this.cur+2]<<16)+(this.data[this.cur+3]<<24);return this.cur+=4,e},this.read_uint64=function(){if(this.cur+8>this.data.length)return this.error=!0,0;var e=(this.data[this.cur]<<0)+(this.data[this.cur+1]<<8)+(this.data[this.cur+2]<<16)+(this.data[this.cur+3]<<24)+(this.data[this.cur+4]<<32)+(this.data[this.cur+5]<<40)+(this.data[this.cur+6]<<48)+(this.data[this.cur+7]<<56);return this.cur+=8,e},this.read_n=function(e){if(this.cur+e>this.data.length)return this.error=!0,null;var t=this.data.subarray(this.cur,this.cur+e);return this.cur+=e,t}},Ee=function(){ee&&G(ee),te&&clearTimeout(te),ie&&(ie.stop(),delete ie),g&&(g.clean_up(),g=null),ie=null,te=null,h=null,C={state:"pending",reason:"No request yet"},b=null,B=-1,S=-1,R=-1,w=-1,N=!1,L=!1,V=[],ee=null,j=null,Y={},K={},J={},Z=-1,W=-1,oe={},se={},le={},Ae=0,de=0,ce=!1,ue=!1,Q=!1,T=!1,D=!1,_=0,ge=!1,I=null,f=!1},Ie=function(e){return Math.round(10*e)/10},ye=function(){if(g&&!E.live){var e=h.currentTime+u,t=E.duration;f&&t-e<1&&g.mseEndOfStream()}},ve=function(e){for(var t=new me(e),n=t.read_uint32(),r=0;r<n;r++){var i=t.read_uint32(),a=t.read_uint32(),o=t.read_n(a);if(t.error)console.error("encountered an error while parsing cue");else{var s=function(e){var t,n,r={};if(-1!=(n=e.indexOf("type=priv&payload=")))r.type="priv",r.payload=e.substring(n+"type=priv&payload=".length);else{t=e.split("&");for(var i=0;i<t.length;i++){var a=t[i].split("=");2==a.length&&(r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]))}}return r}(Pe(o));s&&"caption"!=s.type&&(K[i]={data:s})}}},Ce=function(e){for(var t=new me(e),n=t.read_uint32(),r=!1,i=0;i<n;i++){for(var a=t.read_uint32(),o=t.read_uint8(),s={},l=0;l<o;l++){var A=t.read_uint8(),d=t.read_uint8(),c=t.read_n(d),u=Pe(c);s[A]=u,u&&(r=!0)}t.error||r&&y.callback&&(Y[a]=s,y.callback(m,{type:"caption-detected",data:!0}))}},be=function(e,t){C.state=e,C.reason=t,he("Setting player status: "+e+", "+t)},Be=function(e){if(e<0)return"N/A";var t=Ie(e/1e3),n=t+" KBits/sec";return t>1e3&&(n=Ie(t/1e3)+" MBits/sec"),n},we={},Se={},Qe={};window.master_cache=window.master_cache||{};var Te=function(t,n,r,i,a){var o=-1,s=-1,l=new Date,A=new XMLHttpRequest,d=0,c=!1,u=8,g=!1,f=null,p=0,h=-1;if(e.isSecureSocket()&&(t=t.replace(/^https*:\/\//,"https://")),n&&n.timeout&&(u=n.timeout),n&&n.binary&&(g=n.binary),n&&n.instance_id&&(f=n.instance_id),n&&n.expected&&(p=n.expected),u>0&&(u=Math.max(10,u)),A.onprogress=function(e){s=e.loaded;var t=(new Date-l)/1e3;t>0&&(o=e.loaded/t*8),h=-1,t>0&&e.loaded>8192&&e.total>e.loaded&&(h=(e.total-e.loaded)/(e.loaded/t)),r("progress",{speed:o,size:s,spent:t,eta:h,expected:p,timeout:u-t})},A.ontimeout=function(){c=!0},A.onreadystatechange=function(){if(2==A.readyState&&(d=A.status),4===A.readyState||3===A.readyState){var e={instance_id:f,speed:o,size:s,timed_out:c,time:(new Date-l)/1e3,response_code:d};3==A.readyState&&(p>0&&(new Date-l)/1e3>5&&h>p-e.time+5?"function"==typeof a?a():(he("Looks like we hit a bad edge node. Early terminating this request","error"),A.abort()):r("update",null,e)||(he("Aborting network request"),A.abort())),4==A.readyState&&(200!=A.status&&206!=A.status?(he("Network Error: "+t+" status:"+A.status),e.instance_id==j?r("error",null,e):he("discarded aborted previous session request")):(A.responseURL&&A.responseURL!=t&&r("redirect",A.responseURL,e),he("Network Success: "+t+" status:"+A.status),r("success",g?new Uint8Array(A.response):A.responseText,e)))}},A.withCredentials=!!i,A.open("GET",t),u>0&&(A.timeout=1e3*u),n.custom_headers)for(var m in n.custom_headers)n.custom_headers.hasOwnProperty(m)&&A.setRequestHeader(m,n.custom_headers[m]);return A.responseType=g?"arraybuffer":"text",A.send(),A},De=function(e,t){for(var n,r,i,a,o,s,l=!1,A=0,d=[],c=t.split("\n"),u=!1,g={segment_type:{pattern:/#ANVATO-SEGMENT-INFO: *type=/,value:"master"},stream_info_tag:{pattern:/#ANVATO-STREAM: *info=/,value:null},timed_metadata:{pattern:/#ANVATO-TIMED-METADATA: */,value:null},vast_json:{pattern:/#ANVATO-STREAM-CUE: *ctx=vast, *json=/,value:null},vast_json_keyref:{pattern:/#ANVATO-STREAM-CUE-SEC: *keyref=/,value:null},session_id:{pattern:/#ANVATO-SESSION-ID:/,value:null}},f=0;f<c.length;f++)if(c[f]=pe(c[f]),0!=c[f].length){0==c[f].indexOf("#EXT-X-TARGETDURATION:")&&(o=1*pe(c[f].substr("#EXT-X-TARGETDURATION:".length))),0==c[f].indexOf("#EXT-X-MEDIA-SEQUENCE:")&&(A=1*pe(c[f].substr("#EXT-X-MEDIA-SEQUENCE:".length))),0==c[f].indexOf("#EXT-X-BYTERANGE:")&&(r=pe(c[f].substr("#EXT-X-BYTERANGE:".length)),he("#EXT-X-BYTERANGE detected on line:"+f+" "+r),r=r.split("@"),r.length>1?a=parseInt(r[1]):(he("using previous segment offset and length to determine range"+a+" "+i),a+=i),i=parseInt(r[0]),n=[a,a+i-1],he("#EXT-X-BYTERANGE detected on line:"+f+JSON.stringify(n,null,3))),0==c[f].indexOf("#EXTINF:")&&(duration=parseFloat(c[f].substr("#EXTINF:".length)),isNaN(duration)&&(he('Error parsing EXTINF from line: "'+c[f]+'"',"error"),duration=1));for(var p in g)g.hasOwnProperty(p)&&(s=g[p],s.pattern.test(c[f])&&(s.value=c[f].replace(s.pattern,"").trim()));g.session_id.value&&y.callback&&y.callback(m,{type:"session-id-updated",data:g.session_id.value}),0==c[f].indexOf("#EXT-X-ENDLIST")&&(l=!0),0==c[f].indexOf("#EXT-X-DISCONTINUITY")&&(u=!0),"#"!=c[f].substr(0,1)&&(d.push({seq_no:A,type:g.segment_type.value,stream_info_tag:g.stream_info_tag.value,timed_metadata:g.timed_metadata.value,vast_json:g.vast_json.value,vast_json_keyref:g.vast_json_keyref.value,url:fe.makeUrlAbsolute(e,c[f]),relative_url:fe.isRelativeUrl(c[f])?c[f]:null,redirect_url_index:fe.isRelativeUrl(c[f])?0:-1,error:!1,discontinuity:u,duration:duration,range:n}),g.segment_type.value="master",g.stream_info_tag.value=null,g.timed_metadata.value=null,g.vast_json.value=null,g.vast_json_keyref.value=null,g.session_id.value=null,n=null,u=!1,A++)}return{segments:d,info:{end_list:l,target_duration:o}}},ke=function(e){if(0!==e.indexOf("#EXT-X-STREAM-INF"))return null;var t=/CODECS/.test(e),n=e.indexOf(":");if(-1===n)return null;e=e.substr(n+1);for(var r={vcodec:t?null:"avc1.42e015",acodec:"mp4a.40.2",bandwidth:6e5},i=0;i<20;i++){var a="",o=e.indexOf("=");if(-1==o)break;var s=e.substr(0,o),l=e.substr(o),A=-1;if('"'==l[1]){if(l=l.substr(1),-1==(A=l.indexOf('"',2)))break;a=l.substr(1,A-1),e=l.substr(A+2)}else A=l.indexOf(","),-1==A?a=l.substr(1):(a=l.substr(1,A-1),e=l.substr(A+1));if(s=s.trim(),a=a.trim(),"BANDWIDTH"==s&&(r.bandwidth=1*a),"CODECS"==s)for(var d=a.split(","),c=0;c<d.length;c++)d[c]=d[c].trim(),/^avc1/.test(d[c])&&(r.vcodec=d[c]),/^mp4a/.test(d[c])&&(r.acodec=d[c]);if(-1==A)break}return r},Re=function(e,t){he("@parse_master");for(var n=[],r=t.split("\n"),i=null,a=null,o=0;o<r.length;o++)if(r[o]=pe(r[o]),0!=r[o].length){if(0===r[o].indexOf("#EXT-X-STREAM-INF")){var s=ke(r[o]);s&&(i=s)}if("#"!=r[o].substr(0,1)&&i){var l=fe.isRelativeUrl(r[o])?r[o]:null,A=fe.makeUrlAbsolute(e,r[o]),d=document.createElement("a");if(d.href=A,null!=a&&a!=d.host)continue;a=d.host,n.push({url:A,relative_url:l,last_change:0,error:!1,segments:{},pars:{bandwidth:i.bandwidth,vcodec:i.vcodec,acodec:i.acodec},segment_length:10,failed_download_attempts:0,refresh_period:8e3}),i=null}if(0===r[o].indexOf("#EXTINF")){n.push({url:e,last_change:0,error:!1,segments:{},pars:{bandwidth:6e5,vcodec:"avc1.42e015",acodec:"mp4a.40.2"},segment_length:10,failed_download_attempts:0,refresh_period:8e3});break}}he("Master playlist:");for(var c=0;c<n.length;c++)he("Rendition "+n[c].pars.bandwidth+" at "+n[c].url);return 0!=n.length&&(n.sort(function(e,t){return e.pars.bandwidth-t.pars.bandwidth}),{renditions:n})},_e=function(e){if(e.speed&&e.size){V.push({ts:new Date,speed:e.speed,size:e.size}),V=V.splice(-5);for(var t=[],n=V.length-1;n>=0;n--)t.push(Be(V[n].speed));he("NW STATS: "+t.join(", ")),y.callback(m,{type:"network-info",data:{speed:e.speed,size:e.size,comment:"size is in bytes. speed is in bits per second"}})}},Me=function(){for(var e=1e8,t=0,n=0,r=V.length-1;r>=0;r--){var i=1+r;t+=V[r].speed*i,n+=i,V[r].speed<e&&(e=V[r].speed)}var a=6e5;return n&&(a=t/n),e<a/2?a/4:a},Ne=function(){var t=parseFloat(v.width),n=parseFloat(v.height),r=parseFloat(v.auto_bitrate_switch_cap_scale);return t>0&&n>0&&r>=0?r*e.getBitrateForScreenSize(t,n,30):-1},Le=function(){if(!h||!b||R<0||R>=b.renditions.length)return!1;var e=b.renditions[R].segment_length,t=e*g.min_sb_buffer_length();return 0==h.buffered.length?t:t+h.buffered.end(h.buffered.length-1)-h.currentTime},Oe=function(){if(!b||R<0||R>=b.renditions.length)return 0;for(var e=-1,t=0;t<b.renditions.length;t++)for(var n in b.renditions[t].segments)n>e&&(e=n);return e<0||e<S?0:(e-S+1)*b.renditions[R].segment_length},Pe=function(e){var t,n,r,i,a,o;for(t="",r=e.length,n=0;n<r;)switch((i=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(i);break;case 12:case 13:a=e[n++],t+=String.fromCharCode((31&i)<<6|63&a);break;case 14:a=e[n++],o=e[n++],t+=String.fromCharCode((15&i)<<12|(63&a)<<6|(63&o)<<0)}return t},Fe=function(e){if(!h)return null;var t=-99999,n=null;for(var r in Y)r/1e3<=e&&r/1e3>t&&r/1e3>e-3&&(t=r/1e3,n=Y[r]);return n},Ue=function(){if(h&&g){var e=h.currentTime-60;if(e>0){g.remove_buffer(0,e);for(var t in Y)t/1e3<e&&delete Y[t];for(var t in K)t/1e3<e&&delete K[t]}h.buffered.length}},xe=function(e){if(q)for(var t in q)q.hasOwnProperty(t)&&t>=e&&(q[t].is_valid=!1)},Ge=function(){var e,t,n,r,a,o=Me(),s=parseInt(i()),l=s;if(!(!b||!q||R<0||isNaN(s)||s<0)){for(e=b.renditions[R].pars.bandwidth;s in q;)q[s]&&q[s].discontinuity&&(l=s+1),s++;if(a=q[l]){for(t=a.duration*e/o+2,r=a.start_time-h.currentTime;l in q;)if(a=q[l],n=q[l-1],t+=a.duration*e/o,r+=a.duration,a.bitrate>=parseInt(e/1e3)||a.discontinuity||n&&n.discontinuity)a.is_valid=!0,l++;else{if(t<r)break;l++}ge=!0,ce=!0,S=l,xe(S),he("setting _next_seq_no to",S,"for new rendition"),Je()}}},Ve=function(){if(!b||R<0||R>=b.renditions.length)return!0;var e=Me(),t=Le(),n=Oe();if(he("DEBUG",JSON.stringify({client_bw:e,client_buffer:t,pending_duration:n,_next_seq_no:S,_desired_rendition_idx:R},null,3)),he("Client BW: "+Be(e)),!1===t)return!0;for(var r=[],i=0;i<b.renditions.length;i++)b.renditions[i].segments&&b.renditions[i].segments[S]?b.renditions[i].segments[S].error||r.push(i):r.push(i);if(0==r.length){he("All segments failed. Skipping this segment","error");for(var i=0;i<b.renditions.length;i++)b.renditions[i].segments?he("Rendition "+i+" has segments"):b.renditions[i].segments[S]?he("Rendition "+i+": has "+S,"error"):b.renditions[i].segments[S].error&&he("Rendition "+i+": has "+S+" has error","error");return!1}t<10&&n>20&&(e/=2);var a=-1,o=b.renditions[R].segment_length,s=o;$=Math.max($,Ne());for(var i=b.renditions.length-1;i>=0;i--)if(-1!=r.indexOf(i))if(oe[i])he("skipping blacklisted rendition "+i);else{var l=b.renditions[i].pars.bandwidth,A=l<=$||$<0;if(0==i||e>1.2*l&&A){s=o*b.renditions[i].pars.bandwidth/e,a=i;break}}return-1==a?(he("All segments failed. Skipping this segment "+r.length,"error"),!1):(a!=R&&(s*=2),s+=2,Q&&e>b.renditions[R].pars.bandwidth&&(Q=!1,"function"==typeof y.callback&&y.callback(m,{type:"bandwidth-improvement-detected",data:{bandwidth:V[V.length-1].speed}})),M||(R<a?t>s?(he("Switching up.\n"),R=a,Ge(),he("updating _desired_rendition_idx",R)):he("Bandwidth is good but client buffer is insufficient. Not switching at this time"):R>a&&(he("Switching down.\n"),R=a)),!0)},He=e.debounce(Ve,500),je=function(e){var t,n,r=[];for(var i in e.segments)r.push(e.segments[i]);if(0==r.length)return-1;if(r.sort(function(e,t){return e.seq_no-t.seq_no}),0==E.pending&&!E.live){var a=0;if(!isNaN(parseFloat(y.offset))){var o=parseFloat(y.offset),s=0;for(t=0;t<r.length;t++){if(s+r[t].duration>o){u=s,a=t;break}s+=r[t].duration}n=o-u,n&&"function"==typeof y.callback&&y.callback(m,{type:"offset-delta",data:{delta:n}})}return r[a].seq_no}return t=r.length-3,t<0&&(t=0),he("total seg: "+r.length+" last seq no: "+r[r.length-1].seq_no),r[t].seq_no},Ye=function(){for(var e in le)le.hasOwnProperty(e)&&e<S&&delete le[e]},Ke=function(e,t,n,r){var i,a,o=!1;if(!(++de<Ae)){if(Ae=0,de=0,w=e,ue)return ue=!1,L=!1,void Je();i=h.buffered.length?h.buffered.start(0):0,0==h.currentTime&&i>0&&(he("Setting current time to buffer start:",i),h.currentTime=i),D&&h.buffered.length&&(a=Math.max(h.buffered.start(h.buffered.length-1),h.buffered.end(h.buffered.length-1)-30),h.currentTime<a&&(h.currentTime=a,D=!1)),r?S++:t&&S>B&&(h.buffered.length>n||!U(ee))?(he("Cannot smoothly switch renditions. Fetching previous segment"),S--,o=!0,ce=!0):t&&S>B&&!ce?(ce=!0,S--,he("Downloading previous segment for initial bitrate switch")):ge||(S++,Ve()),ge=!1,Ye(),L=!1,Je(o)}},Je=function(e){var t=Le();if(!(p&&t>10||!g||L||!b||R<0||R>=b.renditions.length)){var n=b.renditions[R],r=n.target_duration||10;if(-1==S){if(S=je(n),he("initial seq no: "+S),S<0)return;B=S}if(0==E.pending&&n.last_change&&!E.live&&!n.segments[S]&&g)return he("All segments downloaded."),void(f=!0);if(!(S in q)&&!E.live&&0==E.pending&&t>60)return he("We have enough buffer. Throttling download"),void setTimeout(Je,3e3);var i=!1,o=0;for(var A in n.segments)if(o++,S>=A){i=!0;break}if(o>0&&!i){he("Next segment was completely past in the playlist. Perhaps a large outage occurred. Moving playhead up.","error");var d=je(n);if(d<0)return;he("Changing from "+S+" to "+d+".","error"),S=d}if(!L&&n.segments[S]){var I=n.segments[S];L=!0;var v=S-B+1;he("Begin download segment: "+v+JSON.stringify(I,null,3)+" from "+I.url);var C={timeout:10,binary:!0,instance_id:j,custom_headers:{}};I.range&&I.range.length>1&&(C.custom_headers.Range="bytes="+I.range[0]+"-"+I.range[1]);var Q=Le();if(!1!==Q){var T=I.duration*n.pars.bandwidth/Me()*1.2;T<I.duration&&(T=I.duration),C.expected=T,C.timeout=1.5*T;var D=Math.max(Q-r,r);C.timeout>D&&(C.timeout=D)}var _=function(t,r,i,a,o){var s=null,A=null,d=null,f=null;if("success"==i&&o.instance_id==j){he("  ... success: "+I.url+" speed: "+Be(o.speed)+", in: "+Ie(o.time));var p=a.length*a.BYTES_PER_ELEMENT;k=0,he("Segment "+v+" downloaded: "+I.url+", size: "+p);new Date;try{c.unlink("/input")}catch(e){}try{c.unlink("output-v-init.mp4")}catch(e){}try{c.unlink("output-v-data.mp4")}catch(e){}try{c.unlink("output-s-init.mp4")}catch(e){}try{c.unlink("output-s-data.mp4")}catch(e){}try{c.unlink("output.608")}catch(e){}try{c.unlink("output.cue")}catch(e){}var E=(c.createDataFile("/","input",a,!0,!0),P(ee)-F(ee));J[E]={type:I.type,vast_json:I.vast_json,vast_json_keyref:I.vast_json_keyref,stream_info_tag:I.stream_info_tag,timed_metadata:I.timed_metadata,start_time:J[E]?J[E].start_time:E},J[E].content_offset=l(J,E),q[S]={start_time:q[S]?q[S].start_time:E+u,seq_no:t,bitrate:parseInt(b.renditions[r].pars.bandwidth/1e3),rendition_index:r,is_valid:!0,duration:I.duration,discontinuity:I.discontinuity},y.callback&&y.callback(m,{type:"bitrate-info-updated",data:q}),y.callback&&y.callback(m,{type:"segment-queue-updated",data:J[E]});var C=O(ee,v,I.discontinuity?1:0,"input","output",e?1:0),B=w!=r&&-1!=w;try{A=c.readFile("output-v-data.mp4")}catch(e){he("No video data segment found")}if(null!=A){try{s=c.readFile("output-v-init.mp4")}catch(e){s=null}if(s||(s=se[r]),!s)return B?R=w:(oe[r]=1,Ve()),he("Could not find video init segment. Switching renditions"),L=!1,void Je()}try{var Q=c.readFile("output.608"),T=c.readFile("output.cue")}catch(e){C=1}try{var d=c.readFile("output-s-init.mp4"),f=c.readFile("output-s-data.mp4")}catch(e){d=null,f=null}if(0!=C&&h)return he("TS convert error","error"),void rt();!B&&se[r]&&!I.discontinuity||null==s||g.append_video_data("INIT",s),null!=A&&(g.append_video_data("DATA",A),Ae++),null!=d&&null!=f&&(g.append_audio_data("INIT",d),g.append_audio_data("DATA",f),Ae++),Ce(Q),ve(T),g.buffer_check(),_e(o),se[r]=s,S in le||(le[S]={}),le[S][r]=a,g.register_update_end_cb(Ke.bind(null,r,B,h.buffered.length,I.discontinuity))}else if("error"==i&&o.instance_id==j){if(200==o.response_code&&o.size>1024?_e(o):he("Not recording stats"),404==o.response_code&&I.relative_url&&n.redirect_urls&&I.redirect_url_index>=0&&I.redirect_url_index<n.redirect_urls.length-1)return I.redirect_url_index++,I.url=fe.makeUrlAbsolute(n.redirect_urls[I.redirect_url_index],I.relative_url),L=!1,void Je();if(he("  ... ERROR: "+I.url+" speed: "+Be(o.speed)+", in: "+Ie(o.time)+" ("+o.response_code+")"),I.error=200!=o.response_code,he("Failed to download segment at "+I.url,"error"),!1===Ve()&&(S++,++k>=1))return void(y.callback&&y.callback(m,{type:"stream-error",data:{errorCode:"PLAY470",errorInfo:"All segment download attempts within FAILED_SEQ_LIMIT failed"}}));L=!1,Je()}else if("progress"==i){var D="";a.eta>=0&&(D=" (eta: "+Ie(a.eta)+" / exp: "+Ie(a.expected-a.spent)+" / rst: "+Ie(a.timeout)+")"),he("Progress: "+Be(a.speed)+D)}else if("update"==i)return o.instance_id!=j&&he("detected in progress download from previous session:",o.instance_id,j),o.instance_id==j};le[S]&&le[S][R]?_(S,R,"success",le[S][R],{instance_id:j}):(R||(C.timeout=-1),a(I.url,C,_.bind(null,S,R),R?null:s))}}},qe=function(){var e,t,n,r=0;if(b&&b.renditions&&R>-1&&(t=b.renditions[R])&&t.segments){e=Math.max.apply(null,Object.keys(t.segments));for(var i=0;i<3;i++)(n=t.segments[e-i])&&n.duration&&(r+=1e3*n.duration);if(r>0)return Math.max(1e3,Math.min(8e3,r/2))}return 8e3},We=function(e,t){var n=-1;if(!e||!e.length||!t)return!1;for(var r in t)t.hasOwnProperty(r)&&(n=Math.max(n,r));return!(n<0)&&e[e.length-1].seq_no<n},ze=function(){var e,t=new Date;if(!(!g||N||!b||R<0||R>=b.renditions.length)&&(e=b.renditions[R],!(t-e.last_change<e.refresh_period)&&!(h.paused&&Le()>60)&&!(e&&e.info&&e.info.end_list)&&(0!=E.pending||E.live||!e.update_time)&&!(E.live&&e.update_time>0&&t-e.update_time<3e3))){he("Requesting rendition "+e.url+", "+e.pars.bandwidth+" bps"),e.update_time=(new Date).getTime(),N=!0;var n={instance_id:j},r=function(t){if(t&&404==t.response_code&&e.relative_url&&e.redirect_urls.length)return void(e.url=fe.makeUrlAbsolute(e.redirect_urls.shift(),e.relative_url));e.error=!0,e.failed_download_attempts++,e.failed_download_attempts>=2&&(oe[R]=1),R=(b.renditions.length+R-1)%b.renditions.length,b.renditions[R].segments={},b.renditions[R].last_change=0},i=function(t,n,i){if(b){if("success"==t&&i.instance_id==j){var a=De(e.url,n);if(a&&0!=a.segments.length){if(e.error=!1,e.failed_download_attempts=0,he("active rendition:",e.url),he("active rendition last seq_no:",a.segments[a.segments.length-1].seq_no),a.info.target_duration&&(e.target_duration=a.info.target_duration),E.pending){if(E.pending=!1,E.live=!a.info.end_list,!E.live){E.duration=0;for(var o=0;o<a.segments.length;o++)E.duration+=a.segments[o].duration}he("M3U8 information parsed: "+JSON.stringify(E)),y.callback&&y.callback(m,{type:"stream-info",data:{duration:E.duration,live:E.live}})}b.has_stream_restarted=b.has_stream_restarted||We(a.segments,e.segments);var s=!1;he("total segments: "+a.segments.length);for(var o=0;o<a.segments.length;o++){var l=a.segments[o];e.segments[1*l.seq_no]||(s=!0,e.segments[1*l.seq_no]=l)}he("new_segment_found ? "+s);for(var A in e.segments){for(var d=!1,o=0;o<a.segments.length;o++)if(A==1*a.segments[o].seq_no){d=!0;break}d||(!Q||D||Q&&1*A<1*S?delete e.segments[A]:T||(T=!0,"function"==typeof y.callback&&y.callback(m,{type:"live-sync-status-updated",data:{live_sync:!1}})))}s?(e.last_change=new Date,he("downloading next segment"),e.stale_counter=0,Je()):(e.stale_counter=e.stale_counter||0,e.stale_counter++),e.stale_counter>=3&&(he("blacklisting rendition:",R),R=(b.renditions.length+R-1)%b.renditions.length,b.renditions[R].segments={},b.renditions[R].last_change=0),e.refresh_period=qe()}else r()}else if("error"==t&&i.instance_id==j)he("Failed to download rendition at "+e.url),r(i);else{if("update"==t)return i.instance_id==j;"redirect"==t&&(e.redirect_urls.unshift(e.url),e.url=n)}"error"!=t&&"success"!=t||(N=!1,"error"==t?++_>=b.renditions.length&&(he("Failed to download rendition, turning on _playlist_update_lock"),N=!0,y.callback&&y.callback(m,{type:"stream-error",data:{errorCode:"PLAY460",errorInfo:"Failed to download all renditions"}})):_=0)}};a(e.url,n,i)}},Ze=function(e){var n={instance_id:j},r=function(n,r,i){var a=[];if("success"==n&&i.instance_id==j){b=Re(e,r),b.redirect_urls=a,master_cache[e]={time_stamp:(new Date).getTime(),data:r};for(var o=0;o<b.renditions.length;o++)b.renditions[o].redirect_urls=b.redirect_urls;if(y.callback&&y.callback(m,{type:"renditions",data:b}),!b)return void be("stopped","Video is not playable");if(y.callback){for(var s=[],o=0;o<b.renditions.length;o++)s.push({bitrate:b.renditions[o].pars.bandwidth});y.callback(m,{type:"rendition-info",data:{renditions:s}})}he("Master downloaded:"+JSON.stringify(b)),be("loading","Master found."),b.renditions.length&&(g=new t,g.create(h,b.renditions[0].pars.vcodec,b.renditions[0].pars.acodec,function(){},y)),R=0;var l=Me();if(y.initialBitrate)he("setting initial bitrate",y.initialBitrate,y.autoBitrateSwitch),A(y.initialBitrate,y.autoBitrateSwitch);else for(var o=0;o<b.renditions.length;o++)!oe[o]&&Math.abs(b.renditions[o].pars.bandwidth-l)<Math.abs(b.renditions[R].pars.bandwidth-l)&&(R=o);he("Selecting rendition "+b.renditions[R].pars.bandwidth+" for client bw: "+l),ze()}else if("error"==n&&i.instance_id==j)he("Failed to download master video at "+e,"critical"),y.callback&&y.callback(m,{type:"stream-error",data:{errorCode:"PLAY450",errorInfo:"Failed to download master"}}),be("stopped","Video is not found");else{if("update"==n)return i.instance_id==j;"redirect"==n&&(a.unshift(e),e=r)}};he("Requesting master"),be("loading","Requesting master"),a(e,n,r)},Xe=function(){if(h&&b){if(0==h.buffered.length)he("Waiting");else{for(var e=[],t=0;t<h.buffered.length;t++)e.push("("+Ie(h.buffered.start(t))+" - "+Ie(h.buffered.end(t))+")");e=e.join(", ")+" @ "+Ie(h.currentTime),he("Current Buffer: "+Ie(h.buffered.end(h.buffered.length-1)-h.currentTime)+" seconds. "+e),h.buffered.end(h.buffered.length-1)-h.currentTime<.2?H||(he("Buffer empty","error"),H=!0):H=!1}var n=h.videoHeight,r=h.videoWidth;he(r&&n?"Current quality: "+r+" x "+n:"Current quality: ...");var i=Le(),a=Oe();he("Current delay: "+Ie(i+a))}},$e=function(){if(h){if(ye(),function(){var e=h.currentTime;for(var t in K)if(t/1e3>Z&&t/1e3<=e){var n=[];for(var r in K[t].data)n.push(r);K[t].data.payload&&(K[t].data.payload=K[t].data.payload.replace(/,/g,", ")),y.callback&&y.callback(m,{type:"cue",data:K[t].data}),"beacon"==K[t].data.type?he(t/1e3+": [BEACON] : "+K[t].data.payload,"cue"):"cue"==K[t].data.type?he(t/1e3+": [CUE] : "+K[t].data.payload,"cue"):"priv"==K[t].data.type?he(t/1e3+": [PRIV] : "+K[t].data.payload,"cue"):he(t/1e3+": [UNKNOWN] : "+K[t].data.type+" : "+n.join(","),"cue")}Z=e}(),function(){var e=h.currentTime;for(var t in J)t>=W&&t<=e&&(z=t,y.callback&&y.callback(m,{type:"segment-info",data:J[t]}),he(t/1e3+": [SEGMENT-INFO] : "+JSON.stringify(J[t])));W=e}(),X&&z&&J[z]&&"master"==J[z].type){var e=Fe(h.currentTime+.5);e&&(y.callback&&y.callback(m,{type:"caption",data:e}),he("Captions: "+JSON.stringify(e)))}}},et=function(){g&&g.buffer_check(),re++,ze(),Xe(),Ue();ne=6,p||(te=setTimeout(et,500))},tt=function(){if(h)if(T)D=!0;else for(var e=h.buffered.length-1;e>=0;e--)if(h.buffered.end(e)>h.currentTime){he("Forcing playhead to live."),h.currentTime=Math.max(h.buffered.start(e),h.buffered.end(e)-30);break}},nt=function(e,t,n){if(he("@_create"),y=n,m=e,I=t,j=(new Date).getTime(),E={pending:!0,live:!1,duration:0},M=!n.autoBitrateSwitch||M,h=document.getElementById(e),oe=y.blacklisted_renditions||oe,h)return h.addEventListener("timeupdate",function(e){$e()}),ee=x(),Ze(t),h.volume="number"==typeof y.volume?y.volume:1,et(),he("Returning a tentative true for create() but still need to see codecs."),!0},rt=function(){var e=I,t=m,n=y;e&&t&&(Ee(),nt(t,e,n))};this.skip_to_live=function(){tt()},this.create=function(e,t,n){return nt(e,t,n)},this.destroy=function(){Ee()},this.get_captions=function(e){return Fe(e)},this.reset=function(){rt()},this.toggle_caption=function(e){X=e},this.real_offset=function(){return u},this.get_current_segment_index=function(){return i()},this.get_bitrate_info=function(){return q},this.set_bitrate=A,this.toggle_hard_pause=function(e){var t=p;p=e,!e&&t&&(et(),Je())},this.blacklist_rendition=function(){var e,t,n,r,a;if(!b)return!1;if(t=i(),a=q[t]){r=a.rendition_index,oe[r]=1,e=0;for(n in oe)oe.hasOwnProperty(n)&&e++;return e!==b.renditions.length&&(y.blacklisted_renditions=oe,E&&!E.live&&(y.offset=a.start_time),rt(),!0)}return!1},this.set_player_size=function(e,t){isNaN(e)||(v.width=e),isNaN(t)||(v.height=t),He()},this.has_stream_restarted=function(){return!(!b||!b.has_stream_restarted)}}return"undefined"==typeof ArrayBuffer||"undefined"==typeof Int8Array?void console.error("ArrayBuffer/Int8Array (needed for AnvatoMse) is not supported by the browser"):n}),define("JSHlsVideo",["util","Caption608","AnvatoMse"],function(e,t,n){function r(t,r,i,a){function o(t,n,r){we={width:parseInt(n),height:parseInt(r)},a.disableAutoBitrateSwitchCap||(we.auto_bitrate_switch_cap_scale="autoBitrateSwitchCapScale"in a?a.autoBitrateSwitchCapScale:1),ye=arguments,"string"==typeof t&&(t=document.getElementById(t)),Oe("initializing video"),t.width=t.parentNode.clientWidth,t.height=t.parentNode.clientHeight,t.style.display="block",pe=t;for(var i in Pe)Pe.hasOwnProperty(i)&&e.addEventListener(pe,i,Pe[i],!1);Oe("video initialized")}function s(e,t){for(var n,r,i,a,o=e.buffered.length,s=100,l=null,A=0;A<o;A++)n=e.buffered.start(A),r=e.buffered.end(A),i=r-n,(a=n-e.currentTime)>0&&a<s&&i>1.5&&(s=a,l=n);return null!=l?l:t>0&&t-(e.currentTime+Ye)<1.1?t:-1}function l(){Oe("@resetGapCounters"),xe=0,Ge=0}function A(){Oe("@applyGapRecovery @"+pe.currentTime);var e=s(pe,be);be>0&&!Xe&&e==be?(Oe("forcing ended due to smaller than END_THRESHOLD distance to the end"),C()):-1==e?(Oe("no buffer start to jump"),t.publish("toggleBufferSpinner",!0),xe<Ve?(Oe("incrementing currentTime"),pe.currentTime+=1,xe++,clearTimeout(Le.resetGapCounters),Le.resetGapCounters=setTimeout(l,je)):Ge<He&&(Oe("reloading for gap recovery"),Ge++,clearTimeout(Le.resetGapCounters),Le.resetGapCounters=setTimeout(l,je),c())):(Oe("@applyGapRecovery jumping from",pe.currentTime,"to",e),pe.currentTime=e)}function d(e){Oe("@onWaiting",e.type,this.currentTime),Ee&&Ee.has_stream_restarted()?(Oe("dispatching stream error due to detected stream restart"),t.publish("streamError","PLAY480","Stream media sequence number has reset")):A()}function c(){var e,t=Array.prototype.slice.call(Ie),n=Array.prototype.slice.call(ye);if(Fe)return void Oe("cancelling reloadForGapRecovery due to the pending play promise");e=Je&&Ye?Ye:te(),t[2]=e,Ye=e,Oe("@reloadForGapRecovery re-init due to stall"),oe(),o.apply(null,n),Q.apply(null,t)}function u(e){Oe("@onStalled",e.type,pe.paused,pe.networkState,pe.readyState),pe.paused?pe.readyState<3&&A():(me=pe.currentTime,clearTimeout(Le.applyGapRecovery),Le.applyGapRecovery=setTimeout(function(){pe.currentTime==me&&(Oe("@applying non-paused stall recovery"),A())},1e3))}function g(e){Oe("@onEmptied",e.type)}function f(){t.publish("loadedmetadata",be,this.readyState)}function p(){t.publish("loadeddata",be)}function h(){Oe("oncanplay"),Ye=("real_offset"in Ee?Ee.real_offset():0)||0,Ke||(t.publish("videoReady2Play","canplay"+(Je?"-mse-seeked":"")),Je=!1)}function m(){Oe("oncanplaythrough")}function E(){Oe("onprogress",pe.readyState,pe.networkState);var e,n;pe.buffered&&pe.buffered.length&&(e=pe.buffered.end(pe.buffered.length-1),n=Math.min(be-Ye,e+3),Ke&&n>=Ke&&(ne(Ke)?(ie(Ye+Ke),Ke=null):(Ke=null,Je=!0,h()),t.publish("setOffsetCorrectionProgress",!1)),t.publish("bufferLimitUpdated",e))}function I(){Oe("onplay")}function y(){Oe("@onPaused");var e=(r.iphone||r.ipod)&&Qe,n="isPauseInternal"in pe?!pe.isPauseInternal:e;t.publish("evaluatePausedState"),Math.abs(be-pe.currentTime)<=1&&(pe.isPauseInternal=!1),n||t.publish("userEvent","IMPLICIT_PAUSE"),e&&(Oe("onpause"),n&&t.publish("userEvent","USER_PAUSE",pe.isPauseInternal)),delete pe.isPauseInternal}function v(){Oe("onplaying"),pe.setAttribute("data-autoplay-mute-lock",!1),We||Ee.toggle_hard_pause(!1),t.publish("toggleBufferSpinner",!1),t.publish("playing")}function C(){Oe("@onEnded"),_e.lastPosition=0,_e.marked=0,_e.persistCounter=0,t.publish("completedVideoContent")}function b(){Oe("@onSeeking")}function B(){Oe("@onSeeked"),Ke||t.publish("videoReady2Play","seeked")}function w(e,n){var r,i=/dcs-.*\.apis/,a=/ts_play_at=[0-9]*]/,o="ts_play_at=";return n=parseInt(n),!isNaN(n)&&i.test(e)&&(o+=n,a.test(e)?e=e.replace(a,o):(r=e.indexOf("?")>-1?"&":"?",e+=r+o),$e=n,t.publish("liveOffsetDetected",n)),e}function S(e){Be=e,"function"==typeof ze.setHlscore&&(ze.setHlscore(),delete ze.setHlscore)}function Q(r,i,o,s,l){var A,d,c,u,g=[];Ie=arguments,_e.lastPosition=0,_e.marked=0,_e.persistCounter=0,pe.innerHTML="",pe.removeAttribute("src"),he=!1,c=s?r.backup_url:r.embed_url,Je||(Se=null),Oe("@setSource initial url",c,"openCaptions",Te),Te?(A=c.indexOf("?")>-1?"&":"?",d=c+A+"caption=open"):(d=c,d=d.replace(/.caption=open/,"")),l&&(o=0),d=w(d,l);var f=function(){Ee=Ee||new n(we,Be),Ee.create(pe.id,d,u),pe.load(),ve=d};ve!=d?(u={offset:o||0,initialBitrate:Se||a.initialBitrate,autoBitrateSwitch:Se?"auto"===Se:!("autoBitrateSwitch"in a)||!!a.autoBitrateSwitch,volume:L()?0:qe,verbose:Ze,masterCacheDuration:a.masterCacheDuration,streamTokenizationCheck:!("streamTokenizationCheck"in a)||!!a.streamTokenizationCheck,callback:function(e,n){
switch(n.type){case"caption-detected":he||(t.publish("caption608Detected"),he=!0);break;case"caption":t.publish("caption608Updated",n.data,null);break;case"cue":t.publish("cueUpdated",n.data);break;case"segment-info":t.publish("segmentInfoUpdated",n.data);break;case"segment-queue-updated":t.publish("segmentQueueUpdated",n.data);break;case"session-id-updated":n.data!=Ue&&(Ue=n.data,t.publish("sessionIdUpdated",Ue));break;case"bitrate-info-updated":x(n.data);break;case"stream-info":n.data&&("number"==typeof n.data.duration&&(be=n.data.duration),"boolean"==typeof n.data.live&&(Xe=n.data.live,$e=Date.now()/1e3,t.publish("setLive",Xe)));break;case"stream-error":Oe("stream-error"),t.publish("streamError",n.data.errorCode,n.data.errorInfo);break;case"renditions":if(Oe("@setSource->options->callback->renditions",n.data),"object"==typeof n.data&&"object"==typeof n.data.renditions&&"length"in n.data.renditions){for(var r=0,i=n.data.renditions.length;r<i;r++)g.push(parseInt(n.data.renditions[r].pars.bandwidth/1e3));t.publish("bitrateUpdate",g,Se||"auto")}break;case"low-bandwidth-detected":t.publish("lowBandwidthDetected",n.data.bandwidth);break;case"bandwidth-improvement-detected":t.publish("bandwidthImprovementDetected",n.data.bandwidth);break;case"live-sync-status-updated":t.publish("liveSyncStatusUpdated",n.data.live_sync);break;case"offset-delta":Ke=n.data.delta,t.publish("setOffsetCorrectionProgress",!0)}}},Pe.error=H.bind(pe,"video",i),e.addEventListener(pe,"error",Pe.error),Oe("@setSource final url:",d,"with offset:",o),Be?f():(ze.setHlscore=f,pe.load())):t.publish("videoReady2Play","canplay")}function T(){return ve}function D(e){Oe("@pause",e),pe.isPauseInternal=e,pe.pause()}function k(){Oe("@stopDownload"),We=!0,Ee.toggle_hard_pause(!0)}function R(){Oe("@resumeDownload"),We=!1,Ee.toggle_hard_pause(!1)}function _(e){Oe("@hardPause"),Ee.toggle_hard_pause(!0),D(e)}function M(e){Oe("@toggleInlinePlayback",e),e?pe.setAttribute("playsinline",""):pe.removeAttribute("playsinline")}function N(e){Oe("@toggleMobileAutoPlay",e),e?(pe.setAttribute("playsinline",""),pe.setAttribute("autoplay",""),pe.setAttribute("muted",""),pe.muted=!0,pe.volume=0):(pe.removeAttribute("autoplay"),pe.removeAttribute("muted"),pe.muted=!1),pe.setAttribute("data-autoplay-mute-lock",!!e)}function L(){return"true"==pe.getAttribute("data-autoplay-mute-lock")}function O(){return pe.muted}function P(e){Ee&&Ee.toggle_caption&&Ee.toggle_caption(e)}function F(e){Se=e,Ee.set_bitrate(e)}function U(e,t){ge=e,fe=t,pe.width=e,pe.height=t,Ee&&Ee.set_player_size&&Ee.set_player_size(Math.floor(e),Math.floor(t)),ye&&(ye[1]=ge,ye[2]=fe)}function x(e){var n,r,i=Ee.get_current_segment_index();if(null!=i&&(n=e[i].bitrate,n!=De&&e[i].is_valid&&(De=n,Re=null,t.publish("bitrateChanged",De)),e))for(var a in e)if(e.hasOwnProperty(a)){if(a==i){r=!0;continue}if(r&&e[a].bitrate!=De&&e[a].is_valid){e[a].bitrate!=ke&&(ke=e[a].bitrate,Re=e[a].start_time,t.publish("bitrateChangeInProgress",ke));break}}}function G(){Oe("@fetchBitrateUpdate");var e;Ee&&Ee.get_bitrate_info&&(e=Ee.get_bitrate_info(),x(e)),Re=null}function V(e){_e.lastPosition=_e.lastPosition||0,_e.marked=_e.marked||0,_e.persistCounter=_e.persistCounter||0,Math.abs(e-_e.lastPosition)<2?_e.lastPosition=e:(Math.abs(e-_e.marked)<2?(_e.marked=e,_e.persistCounter++):(_e.marked=e,_e.persistCounter=0),_e.persistCounter>5&&(Oe("seek detected from",_e.lastPosition,"to",_e.marked),(r.iphone||r.ipod||Qe)&&t.publish("userEvent",_e.marked>_e.lastPosition?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",_e.lastPosition,_e.marked),_e.lastPosition=e,_e.marked=0,_e.persistCounter=0))}function H(e,n,r){var i,a,o;if("source"==e?i=this.parentNode:"video"==e&&(i=this),i&&i.error&&(Oe("video error message",i.error),Oe("video error code",i.error.code),i.error instanceof MediaError&&i.error.code===MediaError.MEDIA_ERR_DECODE))return Ee&&Ee.blacklist_rendition()?void 0:void t.publish("streamError","PLAY457","The browser encountered a media decode error");Oe("@onVideoError",i,r,r.message),a=Me[i.networkState],o=Ne[i.readyState],Oe("Error network state",a),Oe("Error ready state",o),Oe("Error h264 support",!(!i.canPlayType||!i.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'))),n&&n(null,e,["networkState: "+a,"readyState: "+o].join(" | "),r)}function j(e){Le.startTimeNotification||(Le.startTimeNotification=setInterval(Y.bind(null,"timer"),300),Oe("@startTimeNotification",e,Le.startTimeNotification))}function Y(){var e=pe.currentTime+Ye;t.publish("updateTime",e),V(Math.floor(e)),Re&&Re<e&&G()}function K(){Oe("@cancelTimeNotification",Le.startTimeNotification),clearTimeout(Le.startTimeNotification),delete Le.startTimeNotification}function J(e){pe.playbackRate=e}function q(){pe.playbackRate=1}function W(){return pe.playbackRate}function z(){return Z()-pe.currentTime}function Z(){var e;return pe.buffered&&pe.buffered.length?(e=pe.buffered.end(pe.buffered.length-1),Oe("@getBufferEnd",e),e):0}function X(){ee(!0)}function $(){ee(!1)}function ee(e){Oe("@toggleOpenCaption ",e),Te=e,_e.lastPosition=0,_e.marked=0,_e.persistCounter=0;var t,n,r,i,a=pe.getElementsByTagName("source");1==a.length&&(t=a[0]),i=t.src,r=t.url,Oe("@toggleOpenCaption initial url",i),i=i.replace(/.caption=open/,""),e&&(n=i.indexOf("?")>-1?"&":"?",i+=n+"caption=open",Oe("@toggleOpenCaption final url",i),t.onerror=H.bind(t,"source",$),pe.onerror=H.bind(pe,"video",$)),r!=i&&(t.src=i,pe.load())}function te(){return Ye+pe.currentTime}function ne(e){var t,n,r=pe.buffered.length;if(e>=0)for(var i=0;i<r;i++)if(t=pe.buffered.start(i),n=pe.buffered.end(i),e<n&&e>t)return!0;return!1}function re(e){Oe("@seekForLive",e),Je=!0;var t,n,r=e-$e;ne(r)?(Oe("@seekTo using available buffer"),pe.currentTime=r):(Oe("@seekTo buffer NOT available re-init"),t=Array.prototype.slice.call(Ie),n=Array.prototype.slice.call(ye),t[4]=e,oe(),o.apply(null,n),Q.apply(null,t))}function ie(e){if(Oe("@seekTo",e),Xe)return void re(e);if(!(e<0||e>be)){Je=!0,Ye=("real_offset"in Ee?Ee.real_offset():0)||0;var t,n,r=e-Ye;ne(r)?(Oe("@seekTo using available buffer"),pe.currentTime=r):(Oe("@seekTo buffer NOT available re-init"),t=Array.prototype.slice.call(Ie),n=Array.prototype.slice.call(ye),t[2]=e,Ye=e,oe(),o.apply(null,n),Q.apply(null,t))}}function ae(){return"MSE"}function oe(){if(pe){Oe("@destroy");try{se(),Ee&&"destroy"in Ee&&Ee.destroy()}catch(t){console.error("encountered an error while destroying jsp instance")}for(var t in Pe)Pe.hasOwnProperty(t)&&e.removeEventListener(pe,t,Pe[t],!1);delete Pe.error;for(var n in Le)Le.hasOwnProperty(n)&&clearTimeout(Le[n]);Le={},Ee=null,ve=null}}function se(){Oe("@reset"),Ee&&"reset"in Ee&&Ee.reset()}function le(){Ee&&"skip_to_live"in Ee&&Ee.skip_to_live()}function Ae(){}function de(e){Oe("@setVolume",e),qe=e,L()||(pe.volume=e,pe.muted=!e)}function ce(){return pe.volume}var ue,ge,fe,pe,he,me,Ee,Ie,ye,ve,Ce,be,Be,we,Se,Qe=!1,Te=!1,De=null,ke=null,Re=null,_e={},Me={0:"NETWORK_EMPTY - audio/video has not yet been initialized",1:"NETWORK_IDLE - audio/video is active and has selected a resource, but is not using the network",2:"NETWORK_LOADING - browser is downloading data",3:"NETWORK_NO_SOURCE - no audio/video source found"},Ne={0:"HAVE_NOTHING - no information whether or not the audio/video is ready",1:"HAVE_METADATA - metadata for the audio/video is ready",2:"HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond",3:"HAVE_FUTURE_DATA - data for the current and at least the next frame is available",4:"HAVE_ENOUGH_DATA - enough data available to start playing"},Le={},Oe=i?i.getLogFn("JSHls"):function(){console.log.apply(console,["[!JSHls!]\t"].concat(Array.prototype.slice.call(arguments)))},Pe={loadedmetadata:f,loadeddata:p,canplay:h,canplaythrough:m,progress:E,play:I,pause:y,playing:v,ended:C,seeking:b,seeked:B,waiting:d,stalled:u,emptied:g},Fe=!1,Ue=null,xe=0,Ge=0,Ve=3,He=1,je=1e4,Ye=0,Ke=0,Je=!1,qe=1,We=!1,ze={},Ze=a.debug&&"object"==typeof a.debug&&"length"in a.debug&&function(){for(var e=0,t=a.debug.length;e<t;e++)if("JSP"==a.debug[e])return!0;return!1}(),Xe=!1,$e=0;return{videoContent:function(){return pe},init:function(e,t,n){ue=e,ge=t,fe=n,o(e,t,n)},width:function(e){return"number"==typeof e&&(ge=e),ge},height:function(e){return"number"==typeof e&&(fe=e),fe},getCurrentTime:te,seekTo:ie,getDuration:function(){return Oe("@getDuration"),be},setSource:Q,getSource:T,play:function(e,t){Oe("@play");var n=pe.play();Fe=!0,void 0!==n&&n.then(function(){Oe("@play promise succeeded"),Fe=!1,pe.setAttribute("data-autoplay-mute-lock",!1),"function"==typeof e&&e()}).catch(function(e){Fe=!1,console.error("play promise failed",pe),"function"==typeof t&&t(e),Oe("@play promise failed with error",e.name,e.message,e)})},pause:D,hardPause:_,setSpherical:function(e){Oe("@setSpherical",e),Ce=e,pe.style.display=Ce?"none":"block",pe.style.visibility=Ce?"hidden":"visible",Ce&&!pe.hasAttribute("crossorigin")&&pe.readyState>0&&pe.load()},hide:function(){pe.style.display="none",pe.style.visibility="hidden"},show:function(){Ce||(pe.style.visibility="visible",pe.style.display="block")},hasEmbedCaption:Ae,enableEmbedCaption:function(){Oe("@enableEmbedCaption"),Oe("No embed caption available")},disableEmbedCaption:function(){pe.textTracks&&pe.textTracks.length?(Oe("embed caption disabled"),pe.textTracks[0].mode="hidden"):Oe("No embed caption available")},resize:U,setFullscreen:function(e){Oe("@setFullscreen",e),Qe=e},getPaused:function(){return pe.paused},isBitrateSwitchSupported:function(){return!0},setBitrate:F,startTimeNotification:j,cancelTimeNotification:K,setPlaybackRate:J,getPlaybackRate:W,resetPlaybackRate:q,getBufferEnd:Z,loadOpenCaption:X,unloadOpenCaption:$,getType:ae,destroy:oe,reset:se,catchLive:le,setVolume:de,getVolume:ce,toggleMobileAutoPlay:N,notifyCaptionStatus:P,toggleInlinePlayback:M,getGapJumpIndex_:s,isMuted:O,stopDownload:k,resumeDownload:R,getRemainingBuffer:z,setHlscore:S}}return r}),define("AnvatoDash",[],function(){function e(e,t){var n=function(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e.getUint8(t+r));return n},r=function(e,t,n,r){var i=n;do{i=s(e,t,i)}while(i>=0)},i=function(e,t,n,r){var i=n;do{i=s(e,t,i)}while(i>=0)},a=function(e,t,n,r){var i=t.getUint8(n);t.getUint8(n+1),t.getUint8(n+2),t.getUint8(n+3);if(0==i){t.getUint32(n),e.time_scale;t.setUint32(n,e.pts*e.time_scale)}else{var a=Math.floor(e.pts*e.time_scale/4294967296),o=e.pts*e.time_scale-4294967296*a;t.setUint32(n,a),t.setUint32(n+4,o)}},o=function(e,t,n,r){var i=t.getUint8(n);t.getUint8(n+1),t.getUint8(n+2),t.getUint8(n+3);n+=4;t.getUint32(n);n+=4;var a=t.getUint32(n);if(n+=4,e.time_scale=a,0==i){t.getUint32(n);t.setUint32(n,e.pts*a),n+=4;t.getUint32(n);n+=4}else{var o=(t.getUint32(n),t.getUint32(n+4),Math.floor(e.pts*a/4294967296)),s=e.pts*a-4294967296*o;t.setUint32(n,o),t.setUint32(n+4,s),n+=8;t.getUint32(n),t.getUint32(n+4);n+=8}},s=function(e,t,s){if(s==t.byteLength)return-1;try{var l=t.getUint32(s,!1),A=n(t,s+4);return"sidx"==A?o(e,t,s+8):"moof"==A?r(e,t,s+8):"traf"==A?i(e,t,s+8):"tfdt"==A&&a(e,t,s+8),s+l}catch(e){return-1}};return function(e,t){var n={pts:t,time_scale:1},r=new DataView(e.buffer),i=0;do{i=s(n,r,i)}while(i>=0)}(e,t)}function t(e){function t(e){var t=String.fromCharCode.apply(null,e);return decodeURIComponent(escape(t))}var n=function(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e.getUint8(t+r));return n},r=function(e,t,n,r){var i=n;do{i=A(e,t,i)}while(i>=0)},i=function(e,t,n,r){var i=n;do{i=A(e,t,i)}while(i>=0)},a=function(e,t,n,r){var i=(t.getUint8(n),[t.getUint8(n+1),t.getUint8(n+2),t.getUint8(n+3)]);n+=4;var a=t.getUint32(n);if(n+=4,1&i[2]){t.getUint32(n);n+=4}if(4&i[2]){t.getUint32(n);n+=4}e.duration=0;for(var o=0;o<a;o++){var s=0;1&i[1]&&(s=t.getUint32(n),n+=4),2&i[1]&&(t.getUint32(n),n+=4),4&i[1]&&(t.getUint32(n),n+=4),8&i[1]&&(smp_comp_odd=t.getUint32(n),n+=4),e.duration+=s}},o=function(e,t,n,r){var i=t.getUint8(n);t.getUint8(n+1),t.getUint8(n+2),t.getUint8(n+3);n+=4;t.getUint32(n);n+=4;var a=t.getUint32(n);if(n+=4,e.time_scale=a,0==i){e.begin_pts=t.getUint32(n)/a,n+=4;t.getUint32(n);n+=4}else{var o=t.getUint32(n),s=t.getUint32(n+4);n+=8,e.begin_pts=o*(4294967296/a)+s/a;t.getUint32(n),t.getUint32(n+4);n+=8}},s=function(e,n,r){for(var i=0,a=[],o=0;o<r;o++){var s=e.getUint8(n+o);if(i++,0==s)break;a.push(s)}return{s:t(a),l:i}},l=function(e,t,n,r){var i=n;t.getUint8(n),t.getUint8(n+1),t.getUint8(n+2),t.getUint8(n+3);n+=4;var a=s(t,n,r-(n-i));if("urn:anvato:es1:052016"==a.s){n+=a.l;var a=s(t,n,r-(n-i));if("0"==a.s){n+=a.l;var o=t.getUint32(n);n+=4;var l=t.getUint32(n);n+=4;t.getUint32(n);n+=4;var A=t.getUint32(n);n+=4;var a=s(t,n,r-(n-i));e.emsg[A]={payload:a.s,offset:l/o}}}},A=function(e,t,s){if(s==t.byteLength)return-1;try{var A=t.getUint32(s,!1),d=n(t,s+4);return"sidx"==d?o(e,t,s+8):"moof"==d?r(e,t,s+8):"trun"==d?a(e,t,s+8):"traf"==d?i(e,t,s+8):"emsg"==d&&l(e,t,s+8,A),s+A}catch(e){return-1}};return function(e){var t={begin_pts:null,end_pts:null,duration:null,time_scale:null,emsg:{}},n=new DataView(e.buffer),r=0;do{r=A(t,n,r)}while(r>=0);return t.time_scale&&(t.duration/=t.time_scale,t.end_pts=t.begin_pts+t.duration),t}(e)}function n(e,t,n,r){function i(e){var t=e.getElementsByTagName("BaseURL");return 0!=t.length&&t[0].firstChild?t[0].firstChild.nodeValue:null}function a(e,t){for(var n=0;n<t.length;n++)if(t[n])return s.makeUrlAbsolute(t[n],e);return e}var o,s={urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(e){if("object"==typeof e)return e;var t=this.urlParseRE.exec(e||"")||[];return{href:t[0]||"",hrefNoHash:t[1]||"",hrefNoSearch:t[2]||"",domain:t[3]||"",protocol:t[4]||"",doubleSlash:t[5]||"",authority:t[6]||"",username:t[8]||"",password:t[9]||"",host:t[10]||"",hostname:t[11]||"",port:t[12]||"",pathname:t[13]||"",directory:t[14]||"",filename:t[15]||"",search:t[16]||"",hash:t[17]||""}},makePathAbsolute:function(e,t){var n,r,i,a;if(e&&"/"===e.charAt(0))return e;for(e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",n=t?t.split("/"):[],r=e.split("/"),i=0;i<r.length;i++)switch(a=r[i]){case".":break;case"..":n.length&&n.pop();break;default:n.push(a)}return"/"+n.join("/")},isRelativeUrl:function(e){return""===this.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==this.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!this.isRelativeUrl(t))return t;var n=this.parseUrl(t),r=this.parseUrl(e),i=n.protocol||r.protocol,a=n.protocol?n.doubleSlash:n.doubleSlash||r.doubleSlash,o=n.authority||r.authority,s=""!==n.pathname;return i+a+o+this.makePathAbsolute(n.pathname||r.filename,r.pathname)+(n.search||!s&&r.search||"")+n.hash}};if(void 0!==window.DOMParser){t=t.replace(/(<MPD[\s\S]*<\/MPD>)([\s\S]*)/gim,"$1");try{o=function(e){return(new window.DOMParser).parseFromString(e,"text/xml")}}catch(e){console.error("encountered an error while parsing the XML",e,e.message)}}else{if(void 0===window.ActiveXObject||!new window.ActiveXObject("Microsoft.XMLDOM"))throw new Error("No XML parser found");o=function(e){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}}var l=[],A=o(t),d=A.firstChild.getElementsByTagName("Location");if(d.length>0&&d[0].firstChild.nodeValue){return{location:d[0].firstChild.nodeValue}}for(var c={},u=A.firstChild.getElementsByTagName("Period"),g=0;g<u.length;g++){for(var f={id:u[g].getAttribute("id"),streams:[],base_url:i(u[g]),start_number:""},p=u[g].getElementsByTagName("EventStream"),h=0;h<p.length;h++){var m=p[h],E=m.getAttribute("schemeIdUri");if("urn:anvato:ms1:20160719"==E||"urn:anvato:ms2:20160719"==E)for(var I=m.getElementsByTagName("Event"),y=0;y<I.length;y++){var v=I[y],C=v.getAttribute("id"),b=null;try{b=atob(v.firstChild.nodeValue)}catch(e){b=null}b&&("urn:anvato:ms2:20160719"==E?(c["period-"+C]=c["period-"+C]||[],c["period-"+C].push({type:"segment-info",payload:b})):(c["fragment-"+C]=c["fragment-"+C]||[],c["fragment-"+C].push({type:"cue-sec",payload:b})))}}for(var B=u[g].getElementsByTagName("AdaptationSet"),w=0;w<B.length;w++)for(var S=B[w].getAttribute("contentType"),Q=B[w].getElementsByTagName("Representation"),T=0,D=Q.length;T<D;T++){var k=[];if(Q.length>=1&&(k=Q[T].getElementsByTagName("SegmentList")),Q.length>=1&&1==k.length){var R=i(Q[T]),_=Q[T].getAttribute("mimeType");"video/mp4"==_&&(S="video"),"audio/mp4"==_&&(S="audio");var M=k[0].getElementsByTagName("Initialization");if(1==M.length&&("audio"==S||"video"==S)){for(var N=[],L=k[0].getElementsByTagName("SegmentURL"),O=0;O<L.length;O++){var P=a(L[O].getAttribute("media"),[R,f.base_url,e]);N.push({url:P})}var F=parseInt(k[0].getAttribute("startNumber"),10);if(isNaN(F)&&(F=0),""!=f.start_number&&F!=f.start_number){console.log("ERROR: Stream is not CMAF compliant. Sequence number mismatch."),!0;continue}f.start_number=F;var U=a(M[0].getAttribute("sourceURL"),[R,f.base_url,e]);f.streams.push({type:S,stream_id:Q[T].getAttribute("id")?Q[T].getAttribute("id"):"",language:"en",width:parseInt(Q[T].getAttribute("width"),10),height:parseInt(Q[T].getAttribute("height"),10),bandwidth:parseInt(Q[T].getAttribute("bandwidth"),10),codecs:Q[T].getAttribute("codecs"),init:U,urls:N})}}}l.push(f)}for(var x=[],G={},g=0;g<l.length;g++)for(var f=l[g],w=0;w<f.streams.length;w++)for(var V=f.streams[w],H=0;H<V.urls.length;H++){var j=f.start_number+H;G[j]||(G[j]=[]);var Y={period_id:f.id,type:V.type,init:V.init,id:V.stream_id,width:V.width,height:V.height,bandwidth:V.bandwidth,codecs:V.codecs,url:V.urls[H].url,events:[]};c["period-"+Y.period_id]&&(Y.events=Y.events.concat(c["period-"+Y.period_id])),c["fragment-"+j]&&(Y.events=Y.events.concat(c["fragment-"+j])),G[j].push(Y),H||"video"!=V.type||x.push({idx:w,bw:V.bandwidth})}return{fragments:G,rendition_info:x}}function r(){function e(){n&&delete n,i&&delete i,r&&delete r}var t=null,n=null,r=null,i=null,a=[],o=[],s=function(e,t){var n=!1;try{e.appendBuffer(t),n=!0}catch(e){console.log(e)}return n},l=function(){i&&a.length&&!i.updating&&s(i,a[0])&&a.splice(0,1)},A=function(){r&&o.length&&!r.updating&&s(r,o[0])&&o.splice(0,1)},d=function(e){r&&(o.length||r.updating||!s(r,e))&&o.push(e)},c=function(e){i&&(a.length||i.updating||!s(i,e))&&a.push(e)},u=function(a,o,s,d){if(t=a,!window.MediaSource)return console.log("No MSE support: Failed to find window.MediaSource()"),!1;try{n=new window.MediaSource}catch(e){console.log(e),n=null}if(!n)return console.log("No MSE support: Failed to instantiate MediaSource()"),!1;t.src=URL.createObjectURL(n),n.addEventListener("sourceopen",function(){try{i=n.addSourceBuffer('video/mp4; codecs="'+o+'"')}catch(e){console.log("ERROR: Video not supported",e)}try{r=n.addSourceBuffer('audio/mp4; codecs="'+s+'"')}catch(e){console.log("ERROR: Audio not supported")}if(!i||!r)return e(),console.log("Browser supports MSE but does not support the codecs in this master. Cannot play."),null;i&&i.addEventListener("update",l),r&&r.addEventListener("update",A),d()})};this.clean_up=e,this.create=function(e,t,n,r){u(e,t,n,r)},this.mseEndOfStream=function(){n&&"open"==n.readyState&&n.endOfStream()},this.mseReadyState=function(){if(n)return n.readyState},this.mseSourceBuffers=function(){return n?n.sourceBuffers:[]},this.append_video_data=function(e){return c(e)},this.append_audio_data=function(e){return d(e)},this.buffer_check=function(){A(),l()},this.min_sb_buffer_length=function(){return Math.min(a.length,o.length)}}function i(i){function a(){var e=g.currentTime+A,t=null;for(var n in N)if(N.hasOwnProperty(n)&&N[n]){if(!(e>=N[n].start_time))return t;t=n}return t}function o(e,t){var n,r,i,o,s,l=L.length;if(J("@set_bitrate requested bitrate: "+e," _desired_rendition_idx:"+b+" resume_auto"+t),"auto"==e)B=!1;else{for(J("@set_bitrate total bitrates:",l);l--;)r=Math.abs(L[l].bw/1e3-e),(void 0===i||r<i)&&(n=L[l].idx,i=r);J("@set_bitrate",[e,n,L[n]].join(":")),b=n,B=!t}-1!=C&&null!==(o=a())&&(J("@set_bitrate current_seg_no",o),C=parseInt(o)+1),J("@set_bitrate _next_seq_no",C);for(var A in N)N.hasOwnProperty(A)&&(A==C&&(s=!0),s&&(N[A].is_valid=!1));c&&(c=!1,le())}var s=null,l=null,A=0,d=null,c=!1,u=!1,g=null,f=null,p={},h=null,m={},E={state:"pending",reason:"No request yet"},I={},y=null,v=-1,C=-1,b=-1,B=!1,w=!1,S=!1,Q=[],T=!0,D=0,k={},R=!1,_={},M={},N={},L=[],O=-1,P=-1,F=-1;for(var U in i)_cfg[U]=i[U];var x=null,G=null,V=10,H=0,j=null,Y=new Date,K={next_vpts:0,next_apts:0},J=function(e,t){m.verbose&&(t||(t="info"),console.log("JSPLOG",(new Date-Y)/1e3,t,e))},q=function(){g&&(g.src=""),I={},K={next_vpts:0,next_apts:0},G&&clearTimeout(G),s&&clearInterval(s),l&&clearInterval(l),j&&(j.stop(),delete j),d&&(d.clean_up(),d=null),j=null,G=null,g=null,E={state:"pending",reason:"No request yet"},y=null,v=-1,C=-1,b=-1,w=!1,S=!1,Q=[],x=null,D=null,k={},_={},R=!1,O=-1,u=!1,h=null,c=!1},W=function(e){return Math.round(10*e)/10},z=function(){if(d&&!p.live){var e=ne();c&&e<.1&&d.mseEndOfStream()}},Z=function(e){if(e<0)return"N/A";var t=W(e/1e3),n=t+" KBits/sec";return t>1e3&&(n=W(t/1e3)+" MBits/sec"),n},X=function(e,t,n){var r=-1,i=-1,a=new Date,o=new XMLHttpRequest,s=0,l=!1,A=8,d=!1,c=null,u=0,g=-1;return t&&t.timeout&&(A=t.timeout),t&&t.binary&&(d=t.binary),t&&t.instance_id&&(c=t.instance_id),t&&t.expected&&(u=t.expected),A=Math.max(10,A),o.onprogress=function(e){i=e.loaded;var t=(new Date-a)/1e3;t>0&&(r=e.loaded/t*8),g=-1,t>0&&e.loaded>8192&&e.total>e.loaded&&(g=(e.total-e.loaded)/(e.loaded/t)),n("progress",{speed:r,size:i,spent:t,eta:g,expected:u,timeout:A-t})},o.ontimeout=function(){l=!0},o.onreadystatechange=function(){if(2==o.readyState&&(s=o.status),4===o.readyState||3===o.readyState){var t={instance_id:c,speed:r,size:i,timed_out:l,time:(new Date-a)/1e3,response_code:s};3==o.readyState&&(u>0&&(new Date-a)/1e3>5&&g>u-t.time+5?(J("Looks like we hit a bad edge node. Early terminating this request","error"),o.abort()):n("update",null,t)||(J("Aborting network request because update callback false"),o.abort())),4==o.readyState&&(200!==o.status?(J("Network Error: "+e,"error"),n("error",null,t)):n("success",d?new Uint8Array(o.response):o.responseText,t))}},o.open("GET",e),o.timeout=1e3*A,o.responseType=d?"arraybuffer":"text",o.send(),o},$=function(e){Q.push({ts:new Date,speed:e.speed,size:e.size}),Q=Q.splice(-5);for(var t=[],n=Q.length-1;n>=0;n--)t.push(Z(Q[n].speed));J("NW STATS: "+t.join(", ")),m.callback(f,{type:"network-info",data:{speed:e.speed,size:e.size,comment:"size is in bytes. speed is in bits per second"}})},ee=function(){for(var e=1e8,t=0,n=0,r=Q.length-1;r>=0;r--){var i=1+r;t+=Q[r].speed*i,n+=i,Q[r].speed<e&&(e=Q[r].speed)}var a=6e5;return n&&(a=t/n),e<a/2?a/4:a},te=function(){if(!g||!y)return!1;var e=10*d.min_sb_buffer_length();return 0==g.buffered.length?e:e+g.buffered.end(g.buffered.length-1)-g.currentTime},ne=function(){if(!y)return 0;var e=-1;for(var t in y.fragments)t>e&&(e=t);return e<0||e<C?0:10*(e-C+1)},re=function(e){if(!g)return null;var e=g.currentTime+.5,t=-99999,n=null;for(var r in k)r<=e&&r>t&&r>e-3&&(t=r,n=k[r],n.data.ts=r);return n},ie=function(){if(g&&d){var e=g.currentTime-60,t=d.mseSourceBuffers();if(e>0){for(var n=0;n<t.length;n++)if(!t[n].updating)try{t[n].remove(0,e)}catch(e){console.log(e)}for(var r in k)r<e&&delete k[r];for(var r in _)r<e&&delete _[r]}g.buffered.length}},ae=function(){if(!y)return-1;var e=[];for(var t in y.fragments)e.push(t);if(0==e.length)return-1;e.sort(function(e,t){return e-t});var n=e.length-4;return n<0&&(n=0),e[n]},oe=function(e){J((e?"SHOW":"HIDE")+"LOADING")},se=function(e){var t=!1,r=0,i=function(i,o,s){if(t=!1,"success"==i&&s.instance_id==D){var l=n(e,o,f,m);if(l&&l.rendition_info&&l.rendition_info.length&&JSON.stringify(L)!=JSON.stringify(l.rendition_info)&&(L=l.rendition_info,m.callback&&m.callback(f,{type:"rendition-info",data:{renditions:l.rendition_info}})),!y&&l.location)r=0,e=l.location,a();else if(y)for(var A in l.fragments)y.fragments[A]||(y.fragments[A]=l.fragments[A]);else y=l,C=ae(),le()}else if("error"==i&&s.instance_id==D)m.callback&&m.callback(f,{type:"stream-error",data:{errorCode:"PLAY450",errorInfo:"Failed to download master"}});else if("update"==i)return s.instance_id==D},a=function(n){if(!(u||(new Date).getTime()<r+5e3)){r=(new Date).getTime();var a={instance_id:D};J("Requesting manifest"),t=!0,X(e,a,i)}};s=setInterval(a,200)},le=function(){var n=-1,r=-1,i={},a=!1,o=null,s=null,A=null,c=null,g=function(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var i=n[r].split("=");2==i.length&&(t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]))}return t},p=function(l,u,p,h,E){var v=E[0].period_id;if(i[h]=null,"success"==l&&p.instance_id==D){if("audio_init"==h?o=u:"audio_data"==h?A=u:"video_init"==h?s=u:"video_data"==h&&($(p),c=u),d&&A&&o&&c&&s){var b=t(A),B=t(c);if(!I[v]){I[v]={begin_vpts:B.begin_pts,begin_apts:b.begin_pts,offset:0};var w=B.begin_pts-K.next_vpts,S=b.begin_pts-K.next_apts;0==K.next_vpts&&0==K.next_apts?I[v].offset=Math.min(w,S):I[v].offset=Math.max(w,S)}if(e(c,B.begin_pts-I[v].offset),e(A,b.begin_pts-I[v].offset),"video_data"==h){for(var Q in B.emsg){var T=B.emsg[Q],L=B.begin_pts+T.offset-I[v].offset,u=g(T.payload);B.emsg[Q].cue_ts=L,J(["emsg cued at ",L,T.payload].join(" ")),u&&"caption"==u.type?(k[L]={data:g(u.payload)},!R&&m.callback&&(m.callback(f,{type:"caption-detected",data:!0}),R=!0)):_[L]={data:u}}for(var O={},P=B.begin_pts-I[v].offset,F=0;F<E[0].events.length;F++){var U,x=E[0].events[F];J(["event-stream cued at ",B.begin_pts-I[v].offset,x.type,x.payload].join(" ")),O.start_time=B.begin_pts-I[v].offset,"segment-info"==x.type?(U=g(x.payload),O.type=U?U.type:"master"):"cue-sec"==x.type&&(O.vast_json=x.payload)}M[P]=O,N[C]={start_time:B.begin_pts-I[v].offset,seq_no:C,bitrate:y.fragments[C][r].bandwidth,is_valid:!0},m.callback&&(m.callback(f,{type:"segment-queue-updated",data:O}),m.callback(f,{type:"bitrate-info-updated",data:N}))}K.next_apts=b.end_pts-I[v].offset,K.next_vpts=B.end_pts-I[v].offset,d.append_video_data(s),d.append_audio_data(o),d.append_video_data(c),d.append_audio_data(A),d.buffer_check(),a=!1,C++}}else if("error"==l&&p.instance_id==D){J("Failed to download data","critical"),"audio_init"==h||"audio_data"==h?y.fragments[C][n].error=!0:"video_init"!=h&&"video_data"!=h||(y.fragments[C][r].error=!0);for(var G in i)i[G]&&(J("Aborting download "+G),i[G].abort(),i[G]=null);a=!1}else if("update"==l)return p.instance_id==D},h=function(){if(!a&&!u&&y.fragments[C]){a=!0;var e=y.fragments[C],t={instance_id:D,binary:!0},l=null,d=null,g=null,f=null,h=-1,m=-1,E=ee();J("Estimated Client BW "+E);var I=[],v=0;J("fragment length:",e.length);for(var w=0;w<e.length;w++)I.push({idx:w,bw:e[w].bandwidth,type:e[w].type}),e[w].bandwidth>v&&(v=e[w].bandwidth);I.sort(function(e,t){var n=e.bw-E,r=t.bw-E,i=n>0?v:0,a=r>0?v:0;return Math.abs(n)+i-Math.abs(r)-a}),J("sorted indices by bw",JSON.stringify(I,null,2));for(var S=0;S<I.length;S++){var w=I[S].idx;if(!e[w].error&&("audio"==e[w].type&&-1==h&&(h=w,l=e[w].init,g=e[w].url),"video"==e[w].type&&(!B&&-1==m||B&&w==b)&&(m=w,d=e[w].init,f=e[w].url),l&&g&&d&&f)){n=h,r=m;break}}l&&g&&d&&f?(o=null,s=null,A=null,c=null,i.audio_init=X(l,t,function(t,n,r){return p(t,n,r,"audio_init",e)}),i.video_init=X(d,t,function(t,n,r){return p(t,n,r,"video_init",e)}),i.audio_data=X(g,t,function(t,n,r){return p(t,n,r,"audio_data",e)}),i.video_data=X(f,t,function(t,n,r){return p(t,n,r,"video_data",e)})):(J("No more available renditions found for this fragment. Skipping to next one"),a=!1,C++)}};l=setInterval(h,100)},Ae=function(e){d=new r,d.create(g,"avc1.64001e","mp4a.40.2",function(){}),se(e)},de=function(){if(g&&y){if(0==g.buffered.length)oe(!0),J("Waiting");else{for(var e=[],t=0;t<g.buffered.length;t++)e.push("("+W(g.buffered.start(t))+" - "+W(g.buffered.end(t))+")");e=e.join(", ")+" @ "+W(g.currentTime),J("Current Buffer: "+W(g.buffered.end(g.buffered.length-1)-g.currentTime)+" seconds. "+e),g.buffered.end(g.buffered.length-1)-g.currentTime<.2?(oe(!0),T||(J("Buffer empty","error"),T=!0)):(oe(!1),T=!1)}var n=g.videoHeight,r=g.videoWidth;J(r&&n?"Current quality: "+r+" x "+n:"Current quality: ...");var i=te(),a=ne();J("Current delay: "+W(i+a))}},ce=function(){if(g){z(),function(){var e=g.currentTime;for(var t in _)if(_.hasOwnProperty(t)&&t>O&&t<=e){var n=[];for(var r in _[t].data)n.hasOwnProperty(r)&&n.push(r);_[t].data.payload&&(_[t].data.payload=_[t].data.payload.replace(/,/g,", ")),m.callback&&m.callback(f,{type:"cue",data:_[t].data}),"beacon"==_[t].data.type?J(t+": [BEACON] : "+_[t].data.payload,"cue"):"cue"==_[t].data.type?J(t+": [CUE] : "+_[t].data.payload,"cue"):J(t+": [UNKNOWN] : "+_[t].data.type+" : "+n.join(","),"cue")}O=e}(),function(){var e=g.currentTime;for(var t in M)t>P&&t<=e&&(F=t,m.callback&&m.callback(f,{type:"segment-info",data:M[t]}),J(t/1e3+": [SEGMENT-INFO] : "+JSON.stringify(M[t])));P=e}();var e=re(g.currentTime+.5);e&&(m.callback&&m.callback(f,{type:"caption",data:e.data}),J("Captions: "+JSON.stringify(e)))}},ue=function(){H++,de(),H%60==0&&ie();V=6,G=setTimeout(ue,500)},ge=function(){if(g)for(var e=g.buffered.length-1;e>=0;e--)if(g.buffered.end(e)>g.currentTime){J("Forcing playhead to live."),g.currentTime=Math.max(g.buffered.start(e),g.buffered.end(e)-30);break}},fe=function(e,t,n){if(m=n,f=e,h=t,D=(new Date).getTime(),p={pending:!0,live:!1,duration:0},g=document.getElementById(e))return g.addEventListener("timeupdate",function(e){ce()}),Ae(t),g.volume=1,ue(),J("Returning a tentative true for create() but still need to see codecs."),!0},pe=function(){var e=h,t=f,n=m;e&&t&&(q(),fe(t,e,n))};this.skip_to_live=function(){ge()},this.create=function(e,t,n){return fe(e,t,n)},this.destroy=function(){q()},this.get_captions=function(e){return re(e)},this.reset=function(){pe()},this.get_current_segment_index=function(){return a()},this.get_bitrate_info=function(){return N},this.set_bitrate=o,this.real_offset=function(){return A},this.toggle_stop_downloads=function(e){u=e}}return"undefined"==typeof ArrayBuffer||"undefined"==typeof Int8Array?void console.error("ArrayBuffer/Int8Array (needed for AnvatoDash) is not supported by the browser"):i}),define("DashVideo",["util","Caption608","AnvatoDash"],function(e,t,n){function r(t,r,i,a){function o(t,r,i){ye=new n({}),Ce=arguments,"string"==typeof t&&(t=document.getElementById(t)),Ge("initializing video"),t.width=t.parentNode.clientWidth,t.height=t.parentNode.clientHeight,t.style.display="block",me=t;for(var a in Ve)Ve.hasOwnProperty(a)&&e.addEventListener(me,a,Ve[a],!1);Ge("video initialized")}function s(){t.publish("loadedmetadata",we,this.readyState)}function l(){t.publish("loadeddata",we)}function A(){Ge("oncanplay"),ze=("real_offset"in ye?ye.real_offset():0)||0,t.publish("videoReady2Play","canplay"+(Xe?"-mse-seeked":"")),Xe=!1}function d(){Ge("oncanplaythrough")}function c(e){Ge("@onEmptied",e.type)}function u(e,t){for(var n,r,i,a,o=e.buffered.length,s=100,l=null,A=0;A<o;A++)n=e.buffered.start(A),r=e.buffered.end(A),i=r-n,(a=n-e.currentTime)>0&&a<s&&i>1.5&&(s=a,l=n);return null!=l?l:t>0&&t-(e.currentTime+ze)<1.1?t:-1}function g(){Ge("@resetGapCounters"),Ye=0,Ke=0}function f(){Ge("@applyGapRecovery @"+me.currentTime);var e=u(me,we);we>0&&!je&&e==we?(Ge("forcing ended due to smaller than END_THRESHOLD distance to the end"),b()):-1==e?(Ge("no buffer start to jump"),t.publish("toggleBufferSpinner",!0),Ye<Je?(Ge("incrementing currentTime"),me.currentTime+=1,Ye++,clearTimeout(xe.resetGapCounters),xe.resetGapCounters=setTimeout(g,We)):Ke<qe&&(Ge("reloading for gap recovery"),Ke++,clearTimeout(xe.resetGapCounters),xe.resetGapCounters=setTimeout(g,We),h())):(Ge("@applyGapRecovery jumping from",me.currentTime,"to",e),me.currentTime=e)}function p(e){Ge("@onWaiting",e.type,this.currentTime),m(e)}function h(){var e,t=Array.prototype.slice.call(ve),n=Array.prototype.slice.call(Ce);if(He)return void Ge("cancelling reloadForGapRecovery due to the pending play promise")
;e="number"==typeof Se?Se+me.currentTime:parseInt((Date.now()+tt)/1e3),t[4]=e,$(),o.apply(null,n),M.apply(null,t)}function m(e){Ge("@evaluateEventForGapRecovery",e.type,me.paused,me.networkState,me.readyState,me.currentTime),me.paused?me.readyState<3&&(Ge("@evaluateEventForGapRecovery gap recovery for readyState < 3"),f()):(Ie=me.currentTime,clearTimeout(xe.applyGapRecovery),xe.applyGapRecovery=setTimeout(function(){me.currentTime==Ie&&(Ge("@applying gap recovery for non-paused "+e.type),f())},1e3))}function E(e){m(e)}function I(){Ge("onprogress",me.readyState,me.networkState);var e;me.buffered&&me.buffered.length&&(e=me.buffered.end(me.buffered.length-1),Ge("@progress->bufferEnd",e),t.publish("bufferLimitUpdated",e))}function y(){Ge("onplay")}function v(){Ge("# paused");var e=(r.iphone||r.ipod)&&Qe,n=!("isPauseInternal"in me)||!me.isPauseInternal;t.publish("evaluatePausedState"),Math.abs(we-me.currentTime)<=1&&(me.isPauseInternal=!1),n||t.publish("userEvent","IMPLICIT_PAUSE"),e&&(Ge("onpause"),n&&t.publish("userEvent","USER_PAUSE",me.isPauseInternal)),delete me.isPauseInternal}function C(){Ge("onplaying"),me.setAttribute("data-autoplay-mute-lock",!1),$e||ye.toggle_stop_downloads(!1),t.publish("toggleBufferSpinner",!1),t.publish("playing")}function b(){Ge("@onEnded"),_e.lastPosition=0,_e.marked=0,_e.persistCounter=0,t.publish("completedVideoContent")}function B(){Ge("@onSeeking")}function w(){Ge("@onSeeked"),t.publish("videoReady2Play","seeked")}function S(n,r,i,a){Ge("@initMediaKeys");var o=[{initDataTypes:["keyids","mp4","cenc","webm"],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"',robustness:""}],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.64001e"',robustness:""}]}];return r&&(r[n]=!1),e.isSecureSocket()?"requestMediaKeySystemAccess"in navigator?navigator.requestMediaKeySystemAccess(n,o).then(function(e){return e.createMediaKeys()}).then(function(e){if(r&&(r[n]=!0),!i)return a?Promise.resolve():Promise.reject();var t=i.src;return i.src="",i.setMediaKeys(null).then(function(){return i.src=t,i.setMediaKeys(e)})}).catch(function(e){if(i&&(Ge("Not supported DRM: "+n,a,e),!a))return Promise.reject()}):"undefined"!=typeof MSMediaKeys?(r&&(r[n]="com.microsoft.playready"==n),"com.microsoft.playready"==n||a?Promise.resolve():Promise.reject()):Promise.reject():(t.publish("streamError","DRM010"),Promise.reject())}function Q(){Ge("detectDrmSupport"),Le={},S("com.widevine.alpha",Le,null,!0).then(function(){S("com.microsoft.playready",Le,null,!0).then(function(){S("org.w3.clearkey",Le,null,!0).then(function(){Ge("@detectDrmSupport",JSON.stringify(Le,null,3))})})})}function T(e){if(Ge("@onEncrypted",JSON.stringify(Le,null,3)),Le=Le||{},!Ne)for(var n in Le)if(Le.hasOwnProperty(n)&&Le[n]){Ne=n;break}var r=Ne;Me?r in Le?r in Oe?Oe[r](e):console.error("DRM encryption type is supported. However, no handler is available"):(U.bind(me)("onEncrypted",Pe),Ge("Browser does not support DRM encryption type"),t.publish("streamError","DRM011")):(U.bind(me)("onEncrypted",Pe),Ge("No drm config is available to handle DRM encryption"),t.publish("streamError","DRM001"))}function D(t){function n(t){var n=String.fromCharCode.apply(null,new Uint16Array(t.message.buffer||t.message));if("license-request"==t.messageType||"mskeymessage"==t.type){var i,a=(new DOMParser).parseFromString(n,"application/xml");if(!a.getElementsByTagName("Challenge")[0])throw"Can not find Challenge tag in key message";i=atob(a.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue);var o=a.getElementsByTagName("name"),s=a.getElementsByTagName("value"),l={};if(o.length!==s.length)throw"Mismatched header name tag in key message";for(var A=0;A<o.length;A++)l[o[A].childNodes[0].nodeValue]=s[A].childNodes[0].nodeValue;"license-request"!=t.messageType&&"mskeymessage"!=t.type||(e.sendPostRequest(Me.servers["com.microsoft.playready"],i,function(e){var t=new Uint8Array(e);try{r.update(t)}catch(e){console.error("Failed to update the session",error)}},function(e){console.error("Post error while sending the DRM challenge",e)},l,null,"arraybuffer","arraybuffer"),Ge("Requesting license"))}}var r;if(me.mediaKeys)r=me.mediaKeys.createSession();else{if(!me.msKeys)try{me.msSetMediaKeys(new MSMediaKeys("com.microsoft.playready"))}catch(e){console.error("Failed to create MSMediaKeys",e)}r=me.msKeys.createSession("video/mp4",t.initData)}if(!r)throw"Could not create key session";r.addEventListener("message",n),r.addEventListener("mskeymessage",n),r.addEventListener("keystatuseschange",function(e){e.target.keyStatuses.forEach(function(){var e="string"==typeof arguments[1]?arguments[1]:arguments[0];Ge("keystatuseschange",e)})}),r.generateRequest&&r.generateRequest(t.initDataType,t.initData).catch(function(e){console.error("Failed to generate a license request",e)})}function k(n){function r(t){var n=t.target;Ge("MESSAGE:",t,t.message),e.sendPostRequest(Me.servers["com.widevine.alpha"],t.message,function(e){var t=new Uint8Array(e);n.update(t).catch(function(e){console.error("Failed to update the session",e)})},null,null,null,"arraybuffer","arraybuffer"),Ge("Requesting license")}var i;Ge("handleWidevineEncrypted"),me.mediaKeys?(i=me.mediaKeys.createSession(),i.addEventListener("message",r,!1),i.generateRequest(n.initDataType,n.initData).catch(function(e){console.error("Failed to generate a license request",e)})):(U.bind(me)("handleWidevineEncrypted",Pe),Ge("mediaKeys are not initialized on video element"),t.publish("streamError","DRM003"))}function R(e){function t(e){Ge("generate license",e);var t=JSON.parse((new TextDecoder).decode(e));Ge("request",t),console.assert(t.kids.length>0),Ge(t.kids);for(var n=[],r=0;r<t.kids.length;r++){var i={kty:"oct",alg:"A128KW",kid:t.kids[r],k:"Y8tfcYTdS2iaXF_xHuajKA"};n.push(i)}return(new TextEncoder).encode(JSON.stringify({keys:n}))}function n(e){var n=t(e.message);e.target.update(n).catch(function(e){console.error("Failed to update the session",e)})}Ge("handleClearKeyEncrypted",e.initDataType,e.initData);var r=me.mediaKeys.createSession();r.addEventListener("message",n,!1),r.generateRequest(e.initDataType,e.initData).catch(function(e){console.error("Failed to generate a license request",e)})}function _(e,n){var r,i=/dcs-.*\.apis/,a=/ts_play_at=[0-9]*]/,o="ts_play_at=";return n=parseInt(n),!isNaN(n)&&i.test(e)&&(o+=n,a.test(e)?e=e.replace(a,o):(r=e.indexOf("?")>-1?"&":"?",e+=r+o),t.publish("liveOffsetDetected",n)),e}function M(n,r,i,o,s){var l,A,d;Ze=!1;var c=function(){var e=A;"undefined"!=typeof MSMediaKeys&&(me.onmsneedkey=T),Se=s,A=_(A,s),nt=s&&A!=e,Ge("@setSource",s,A),Pe=r,ye.create(me.id,A,d),me.load(),be=A,Ze=!0};tt=n.timeDelta_||tt,ve=arguments,_e.lastPosition=0,_e.marked=0,_e.persistCounter=0,me.innerHTML="",me.removeAttribute("src"),Ee=!1,Ge("@setSource initial url",n.embed_url,"openCaptions",Te),Te?(l=n.embed_url.indexOf("?")>-1?"&":"?",A=n.embed_url+l+"caption=open"):(A=n.embed_url,A=A.replace(/.caption=open/,"")),be!=A?(Ge("@setSource with",i,JSON.stringify(n)),d={verbose:et,callback:function(e,n){var r=[];switch(Ge("Received callback from MSEP: ",e,JSON.stringify(n,null,3)),n.type){case"caption":Ee||(t.publish("captionUpdate",[{format:"custom",language:"en"}]),Ee=!0),t.publish("captionCueAdded",n.data);break;case"cue":t.publish("cueUpdated",n.data);break;case"segment-info":t.publish("segmentInfoUpdated",n.data);break;case"segment-queue-updated":t.publish("segmentQueueUpdated",n.data);break;case"bitrate-info-updated":P(n.data);break;case"stream-info":n.data&&(n.data.duration&&(we=n.data.duration),"boolean"==typeof n.data.live&&(je=n.data.live,t.publish("setLive",n.data.live)));break;case"stream-error":Ge("stream-error"),t.publish("streamError",n.data.errorCode,n.data.errorInfo);break;case"rendition-info":if(Ge("@setSource->options->callback->renditions",n.data),"object"==typeof n.data&&"object"==typeof n.data.renditions&&"length"in n.data.renditions){for(var i=0,a=n.data.renditions.length;i<a;i++)n.data.renditions[i].bw&&!isNaN(n.data.renditions[i].bw)&&r.push(parseInt(n.data.renditions[i].bw/1e3));r=r.sort(function(e,t){return e-t}),t.publish("bitrateUpdate",r,"auto")}}}},e.addEventListener(me,"error",U.bind(me,"video",r)),Ge("@setSource final url",A),Me=a.drm||n.drm||n.license_url,Me?("string"==typeof Me&&(Me={servers:{"com.widevine.alpha":Me,"com.microsoft.playready":Me}}),S("com.widevine.alpha",null,me,!0).then(function(){S("com.microsoft.playready",null,me,!0).then(function(){c()})}).catch(function(e){U.bind(me)("setSource",r),t.publish("streamError","DRM002")})):c()):t.publish("videoReady2Play","canplay")}function N(){return be}function L(e){ye.set_bitrate(e)}function O(e,t){pe=e,he=t,me.width=e,me.height=t}function P(e){var n,r,i=ye.get_current_segment_index();if(null!=i&&(n=e[i].bitrate,n!=De&&e[i].is_valid&&(De=n,Re=null,t.publish("bitrateChanged",De/1e3)),e))for(var a in e)if(e.hasOwnProperty(a)){if(a==i){r=!0;continue}if(r&&e[a].bitrate!=De&&e[a].is_valid){e[a].bitrate!=ke&&(ke=e[a].bitrate,Re=e[a].start_time,t.publish("bitrateChangeInProgress",ke/1e3));break}}}function F(e){_e.lastPosition=_e.lastPosition||0,_e.marked=_e.marked||0,_e.persistCounter=_e.persistCounter||0,Math.abs(e-_e.lastPosition)<2?_e.lastPosition=e:(Math.abs(e-_e.marked)<2?(_e.marked=e,_e.persistCounter++):(_e.marked=e,_e.persistCounter=0),_e.persistCounter>5&&(Ge("seek detected from",_e.lastPosition,"to",_e.marked),(r.iphone||r.ipod||Qe)&&t.publish("userEvent",_e.marked>_e.lastPosition?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",_e.lastPosition,_e.marked),_e.lastPosition=e,_e.marked=0,_e.persistCounter=0))}function U(e,n,r){Ge("@onVideoError");var i,a,o;if(!Ze)return void Ge("ignoring video error observed before video load; possibly drm capability detection");if((i="source"==e?this.parentNode:"video"==e?this:me)&&i.error&&(Ge("video error message",i.error),Ge("video error code",i.error.code),i.error instanceof MediaError)){if(i.error.code===MediaError.MEDIA_ERR_DECODE)return void t.publish("streamError","PLAY457","The browser encountered a media decode error");if(i.error.code===MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED)return void t.publish("streamError","PLAY458","Media source is not supported")}a=Fe[i.networkState],o=Ue[i.readyState],Ge("Error network state",a),Ge("Error ready state",o),Ge("Error h264 support",!(!i.canPlayType||!i.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))),n&&n(null,e,["networkState: "+a,"readyState: "+o].join(" | "),r)}function x(e){xe.startTimeNotification||(xe.startTimeNotification=setInterval(G.bind(null,"timer"),300),Ge("@startTimeNotification",e,xe.startTimeNotification))}function G(){var e=me.currentTime+ze;ze&&Ge("@sendTimeNotification",e,ze),t.publish("updateTime",e),F(Math.floor(e))}function V(){Ge("@cancelTimeNotification",xe.startTimeNotification),clearTimeout(xe.startTimeNotification),delete xe.startTimeNotification}function H(e){me.playbackRate=e}function j(){me.playbackRate=1}function Y(){return me.playbackRate}function K(){var e;return me.buffered&&me.buffered.length?(e=me.buffered.end(me.buffered.length-1),Ge("@getBufferEnd",e),e):0}function J(){W(!0)}function q(){W(!1)}function W(e){Ge("@toggleOpenCaption ",e),Te=e,_e.lastPosition=0,_e.marked=0,_e.persistCounter=0;var t,n,r,i,a=me.getElementsByTagName("source");1==a.length&&(t=a[0]),i=t.src,r=t.url,Ge("@toggleOpenCaption initial url",i),i=i.replace(/.caption=open/,""),e&&(n=i.indexOf("?")>-1?"&":"?",i+=n+"caption=open",Ge("@toggleOpenCaption final url",i),t.onerror=U.bind(t,"source",q),me.onerror=U.bind(me,"video",q)),r!=i&&(t.src=i,me.load())}function z(){return ze+me.currentTime}function Z(e){Ge("@seekTo",e),Xe=!0,Ge("@seekTo timeIndex",e,"offset",ze);var t=Array.prototype.slice.call(ve),n=Array.prototype.slice.call(Ce);t[4]=e,$(),o.apply(null,n),M.apply(null,t)}function X(){return"MSE"}function $(){Ge("@destroy");try{ee(),ye&&"destroy"in ye&&ye.destroy()}catch(t){console.error("encountered an error while destroying jsp instance",t)}for(var t in Ve)Ve.hasOwnProperty(t)&&e.removeEventListener(me,t,Ve[t],!1);for(var n in xe)xe.hasOwnProperty(n)&&clearTimeout(xe[n]);xe={},ye=null,be=null}function ee(){Ge("@reset"),ye&&"reset"in ye&&ye.reset()}function te(){var e=Array.prototype.slice.call(ve),t=Array.prototype.slice.call(Ce);if(He)return void Ge("cancelling catchLive due to the pending play promise");nt&&(e[4]=parseInt((Date.now()+tt)/1e3)),Ge("@catchLive"),$(),o.apply(null,t),M.apply(null,e)}function ne(){}function re(e){Ge("@setVolume",e),se()||(me.volume=e,me.muted=!e)}function ie(e){return me.volume}function ae(e){Ge("@toggleInlinePlayback",e),e?me.setAttribute("playsinline",""):me.removeAttribute("playsinline")}function oe(e){Ge("@toggleMobileAutoPlay",e),e?(me.setAttribute("playsinline",""),me.setAttribute("autoplay",""),me.setAttribute("muted",""),me.muted=!0,me.volume=0):(me.removeAttribute("autoplay"),me.removeAttribute("muted"),me.muted=!1),me.setAttribute("data-autoplay-mute-lock",!!e)}function se(){return"true"==me.getAttribute("data-autoplay-mute-lock")}function le(){return me.muted}function Ae(){Ge("@stopDownload"),$e=!0,ye.toggle_stop_downloads(!0)}function de(){Ge("@resumeDownload"),$e=!1,ye.toggle_stop_downloads(!1)}function ce(e){Ge("@hardPause"),ye.toggle_stop_downloads(!0),ue(e)}function ue(e){Ge("@pause",e),me.isPauseInternal=e,me.pause()}function ge(){return K()-me.currentTime}var fe,pe,he,me,Ee,Ie,ye,ve,Ce,be,Be,we,Se,Qe=!1,Te=!1,De=null,ke=null,Re=null,_e={},Me=null,Ne=null,Le=null,Oe={"com.widevine.alpha":k,"org.w3.clearkey":R,"com.microsoft.playready":D},Pe=null,Fe={0:"NETWORK_EMPTY - audio/video has not yet been initialized",1:"NETWORK_IDLE - audio/video is active and has selected a resource, but is not using the network",2:"NETWORK_LOADING - browser is downloading data",3:"NETWORK_NO_SOURCE - no audio/video source found"},Ue={0:"HAVE_NOTHING - no information whether or not the audio/video is ready",1:"HAVE_METADATA - metadata for the audio/video is ready",2:"HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond",3:"HAVE_FUTURE_DATA - data for the current and at least the next frame is available",4:"HAVE_ENOUGH_DATA - enough data available to start playing"},xe={},Ge=i?i.getLogFn("DashVideo"):function(){console.log.apply(console,["[!DashVideo!]\t"].concat(Array.prototype.slice.call(arguments)))},Ve={loadedmetadata:s,loadeddata:l,canplay:A,canplaythrough:d,progress:I,play:y,pause:v,playing:C,ended:b,seeking:B,seeked:w,waiting:p,stalled:E,emptied:c,encrypted:T},He=!1,je=!1,Ye=0,Ke=0,Je=3,qe=1,We=1e4,ze=0,Ze=!1,Xe=!1,$e=!1,et=a.debug&&"object"==typeof a.debug&&"length"in a.debug&&function(){for(var e=0,t=a.debug.length;e<t;e++)if("JSP"==a.debug[e])return!0;return!1}(),tt=0,nt=!1;return{videoContent:function(){return me},init:function(t,n,r){fe=t,pe=n,he=r,e.isSecureSocket()&&Q(),o(t,n,r)},width:function(e){return"number"==typeof e&&(pe=e),pe},height:function(e){return"number"==typeof e&&(he=e),he},getCurrentTime:z,seekTo:Z,getDuration:function(){return Ge("@getDuration"),we},setSource:M,getSource:N,play:function(e,t){Ge("@play");var n=me.play();He=!0,void 0!==n&&n.then(function(){Ge("@play promise succeeded"),He=!1,me.setAttribute("data-autoplay-mute-lock",!1),"function"==typeof e&&e()}).catch(function(e){He=!1,"function"==typeof t&&t(e),Ge("@play promise failed with error",e.name,e.message,e)})},pause:ue,setSpherical:function(e){Ge("@setSpherical",e),Be=e,me.style.display=Be?"none":"block",me.style.visibility=Be?"hidden":"visible",Be&&!me.getAttribute("crossorigin")&&me.readyState>0&&me.load()},hide:function(){me.style.display="none",me.style.visibility="hidden"},show:function(){Be||(me.style.visibility="visible",me.style.display="block")},hasEmbedCaption:ne,enableEmbedCaption:function(){Ge("@enableEmbedCaption"),Ge("No embed caption available")},disableEmbedCaption:function(){me.textTracks&&me.textTracks.length?(Ge("embed caption disabled"),me.textTracks[0].mode="hidden"):Ge("No embed caption available")},resize:O,setFullscreen:function(e){Ge("@setFullscreen",e),Qe=e},getPaused:function(){return me.paused},isBitrateSwitchSupported:function(){return!0},setBitrate:L,startTimeNotification:x,cancelTimeNotification:V,setPlaybackRate:H,getPlaybackRate:Y,resetPlaybackRate:j,getBufferEnd:K,loadOpenCaption:J,unloadOpenCaption:q,getType:X,destroy:$,reset:ee,catchLive:te,setVolume:re,getVolume:ie,toggleMobileAutoPlay:oe,toggleInlinePlayback:ae,getGapJumpIndex_:u,isMuted:le,getRemainingBuffer:ge,stopDownload:Ae,resumeDownload:de,hardPause:ce}}return r}),define("FlashVideo",["util"],function(e){function t(t,n,r,i){function a(t,n,r){se("Loading Flash Player",t);var a,s=i&&i.flashpath?i.flashpath:i.baseURL+"flash/",l=e.getDeviceInfo,A={style:s+"css/anvflash.css",config:s+"videojs/integrate.js",logFunction:"flashLog",browserInfo:l.browserInfo.length>1?l.browserInfo[0]+l.browserInfo[1]:""},d=s+"anvplayer.swf",c=t.parentNode.getElementsByClassName("anv-video-container-flash"),u={style:"position: fixed; z-index: 9999; display: inline-block; visibility: visible; left: 0px !important; top: 0px !important;"},g=l.ie?"?nocache="+Math.floor(99999*Math.random()):"",f={scale:"exactFit",allowfullscreen:!0,allowScriptAccess:"always",wmode:"transparent",quality:"high"};return a&&se("flash cotainer tagname:",a.tagName),c=c&&c.length?c[0]:null,c?a=c:(a=document.createElement("div"),t.parentNode.appendChild(a)),a.id=a.id||"wrapped-flash",a.style.display="block",a.style.visibility="visible",se("Flash version",l.pv[0],"-",l.pv[1]),l.pv[0]>=10&&l.pv[1]>=3&&(d=s+"anvplayer10.3.swf"),l.pv[0]>=11&&l.pv[1]>=2&&(d=s+"anvplayer.swf"),q=n,W=r,se("Swfobject loaded"),se("Calling embed SWF",d),window.onPlayerLoaded=h,window.proxyDispatcher={dispatch:o},e.removeCookie("lastSeenPosition"),swfobject.embedSWF(d+g,a.id,q,W,"10.3.0",s+"expressInstall.swf",A,f,u),se("initializing video",t),a=document.getElementById(a.id),a.style.display="block",a.width=t.parentNode.clientWidth,a.height=t.parentNode.clientHeight,a}function o(n){var r,i,a,l={METADATA_LOADED:["loadedmetadata"],loadeddata:["loadeddata"],FIRST_FRAME_READY:["videoReady2Play","FlashVideo->FIRST_FRAME_READY"],"STATE_CHANGE~videoPause":["userEvent","USER_PAUSE"],"STATE_CHANGE~videoPlay":["playing"],VIDEO_COMPLETED:["completedVideoContent"],seeked:["videoReady2Play","seeked"],timeupdated:["updateTime"],bufferupdated:["bufferLimitUpdated"]},A={PLAY400:"PLAY450"};if((a="STATE_CHANGE"==n.name&&n.args&&n.args.length?[n.name,n.args[0]].join("~"):n.name)in l)switch(r=l[a],i=r.concat(n.args),se("@onExternalVideoEvent args:",JSON.stringify(i,null,3)),n.name in{METADATA_LOADED:1,FIRST_FRAME_READY:1}&&(f(),i=i.concat(ee.duration),le[n.name]=1),"FIRST_FRAME_READY"!=n.name||ce||(o({name:"loadeddata",args:[]}),ce=!0),le.METADATA_LOADED||"STATE_CHANGE~videoPlay"!=n.name||(o({name:"METADATA_LOADED",args:[]}),le.FIRST_FRAME_READY||o({name:"FIRST_FRAME_READY",args:[]})),t.publish.apply(t,i),a){case"ended":re.lastPosition=0,re.marked=0,re.persistCounter=0;break;case"STATE_CHANGE~videoPlay":ee.bufferEnd=ee.currentTime+10,t.publish("bitrateUpdate",z.getBitrates(),"auto");break;case"timeupdated":Q(n.args[1])}if("ID3"==n.name){var d=n.args[0];d=u(d),d.type&&"beacon"==d.type&&t.publish("cueUpdated",d)}if("CEA608"==n.name){s(e.base64ToUint8Array(n.args[0]))}"PLAYER_ERROR"==n.name&&n.args&&n.args.length&&n.args[n.args.length-1]&&t.publish("streamError",A[n.args[0]]||n.args[0],"Failed to load the video"),"CURRENT_BITRATE"==n.name&&n.args&&n.args.length&&t.publish("bitrateChanged",n.args[0])}function s(e){var n,r,i={FIELD_1:252,FIELD_2:253};try{for(var a=new g(e),o=a.read_uint32(),s=0;s<o;s++){a.read_uint8()==i.FIELD_1&&(s+=2,n=l(a.read_uint8(),a.read_uint8()),pe+=n,r=pe[pe.length-1],pe.length&&!/[a-zA-Z0-9-_]/.test(r)&&(fe[Ie+me]=fe[Ie+me]||"",fe[Ie+me].length+pe.length>Ee&&(Ie==he-1&&(fe={}),Ie++,Ie%=he),fe[Ie+me]=fe[Ie+me]||"",fe[Ie+me]+=pe,$||(t.publish("caption608Detected"),$=!0),t.publish("caption608Updated",fe),pe=""))}}catch(e){console.error("708 Data Parse Error",e)}}function l(e,t){var n="";return e&=127,t&=127,0==e&&0==t?n:(96&e?n=A(e,t):(17==e||25==e)&&t>=32&&t<=47?n=" ":(17==e||25==e)&&t>=48&&t<=63?n=c(e,t):e>=17&&e<=31&&t>=64&&t<=127?n=d(e,t):(23==e||31==e)&&t>=33&&t<=35?n=" ":20!=e&&28!=e&&21!=e&&29!=e||(se("@handleControl for",e,t),n=""),n||"")}function A(e,t){for(var n="",r=String.fromCharCode(225),i=String.fromCharCode(233),a=String.fromCharCode(237),o=String.fromCharCode(243),s=String.fromCharCode(250),l=String.fromCharCode(250),A=String.fromCharCode(209),d=String.fromCharCode(241),c=String.fromCharCode(247),u=String.fromCharCode(9608),g=[e,t],f=0;f<2;f++){var p=g[f];if(0==p)return n;var h;h=42==p?r:92==p?i:94==p?a:95==p?o:96==p?s:123==p?l:124==p?c:125==p?A:126==p?d:127==p?u:10==p?"###":String.fromCharCode(p),n+=h||""}return n}function d(e,t){se("@handlePreamble for",e,t);var n="",r=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,8,8,12,12,16,16,20,20,24,24,28,28],a=r[e<<1&14|t>>5&1]-1;a<0&&(a=0),a>14&&(a=14);var o=0;for(o=t>=96?i[t-96]:i[t-64];o--;)n+=" ";return n}function c(e,t){se("@handleSpecial for",e,t);var n=String.fromCharCode(174),r=String.fromCharCode(176),i=String.fromCharCode(189),a=String.fromCharCode(191),o=String.fromCharCode(8482),s=String.fromCharCode(162),l=String.fromCharCode(163),A=String.fromCharCode(9834),d=String.fromCharCode(224),c=String.fromCharCode(32),u=String.fromCharCode(232),g=String.fromCharCode(226),f=String.fromCharCode(234),p=String.fromCharCode(238),h=String.fromCharCode(244),m=String.fromCharCode(251),E=[n,r,i,a,o,s,l,A,d,c,u,g,f,p,h,m],I=E.length,y=t-48;if(y>=0&&y<I)return E[y]}function u(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var i=n[r].split("=");2==i.length&&(t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]))}return t}function g(e){this.cur=0,this.error=!1,this.data=e,this.read_uint8=function(){if(this.cur+1>this.data.length)return this.error=!0,0;var e=this.data[this.cur];return this.cur++,e},this.read_uint32=function(){if(this.cur+4>this.data.length)return this.error=!0,0;var e=(this.data[this.cur+3]<<0)+(this.data[this.cur+2]<<8)+(this.data[this.cur+1]<<16)+(this.data[this.cur]<<24);return this.cur+=4,e},this.read_n=function(e){if(this.cur+e>this.data.length)return this.error=!0,null;var t=this.data.subarray(this.cur,this.cur+e);return this.cur+=e,t}}function f(){se("@pollForDuration");var e=Ae?z.getDuration():0;p(e)?ee.duration=e:setTimeout(f,300)}function p(e){return e&&!isNaN(e)&&e>2}function h(){se("Flash player is loaded"),Ae=!0;var e=I(i);se("sanitized merged config",JSON.stringify(e,null,3)),z.setParams(e),ge.onFlashLoaded&&ue.onFlashLoaded.apply(null,Array.prototype.slice.call(ge.onFlashLoaded)),t.publish("flashPlayerLoaded")}function m(e,t){re.lastPosition=0,re.marked=0,re.persistCounter=0,ee={readyState:0,networkState:0,volume:1,style:{}},Ae?(z.setVersion("Anvato Universal Player v3"),Z!=e.embed_url&&(se("@setSource seeting source with",JSON.stringify(e),"setPlaylist"in z,"tagName:",z.tagName),ce=!1,de?z.setSource({formats:[e]}):z.setPlaylist([{formats:[e]}]),de=!0,Z=e.embed_url)):(se("defererring setSource since player is not ready yet"),ue.onFlashLoaded=m,ge.onFlashLoaded=arguments)}function E(){return Z}function I(t){var n=e.deepCopy(t);return n.chromeless=!0,delete n.plugins,delete n.logo,delete n.recom,n}function y(e,t,n){"undefined"!=typeof swfobject?z=a(e,t,n):(X=arguments,se("loading swf object..."),v(i.baseURL+"lib/swfobject.js")),ee={readyState:0,networkState:0,volume:1,style:{}},se("video initialized")}function v(e){se("@loadScript");var t=document.getElementsByTagName("head")[0],n=document.createElement("script");se("@loadScript",e),t.appendChild(n),n.onload=function(){var e=Array.prototype.slice.call(X);se("just loaded the swfobject with source:",this.src),z=a.apply(null,e)},n.src=e}function C(){se("# seeked"),t.publish("videoReady2Play","seeked")}function b(e,t){q=e,W=t,z.width=e,z.height=t}function B(){se("@catchLive",Ae,"goLive"in z),Ae&&"goLive"in z&&(se("@catchLive"),z.goLive())}function w(e){Ae&&z.setVolume(e),ee.volume=e}function S(e){return Ae?z.getVolume():ee.volume}function Q(e){re.lastPosition=re.lastPosition||0,re.marked=re.marked||0,re.persistCounter=re.persistCounter||0,Math.abs(e-re.lastPosition)<2?re.lastPosition=e:(Math.abs(e-re.marked)<2?(re.marked=e,re.persistCounter++):(re.marked=e,re.persistCounter=0),re.persistCounter>5&&(se("seek detected from",re.lastPosition,"to",re.marked),(n.iphone||n.ipod||te)&&t.publish("userEvent",re.marked>re.lastPosition?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",re.lastPosition,re.marked),re.lastPosition=e,re.marked=0,re.persistCounter=0))}function T(e,t,n){var r,i,a;"source"==e?r=this.parentNode:"video"==e&&(r=this),i=ie[r.networkState],a=ae[r.readyState],se("Error network state",i),se("Error ready state",a),se("Error h264 support",!(!r.canPlayType||!r.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))),t&&t(null,e,["networkState: "+i,"readyState: "+a].join(" | "),n)}function D(e){oe.startTimeNotification||(oe.startTimeNotification=setInterval(k.bind(null,"timer"),300),se("@startTimeNotification",e,oe.startTimeNotification))}function k(){ee.currentTime=Ae&&"getCurrentTime"in z?z.getCurrentTime():0,t.publish("updateTime",ee.currentTime),Q(Math.floor(ee.currentTime))}function R(){se("@cancelTimeNotification",oe.startTimeNotification),clearTimeout(oe.startTimeNotification),delete oe.startTimeNotification}function _(e){ee.playbackRate=e}function M(){ee.playbackRate=1}function N(){return ee.playbackRate}function L(){return ee.bufferEnd}function O(){F(!0)}function P(){F(!1)}function F(e){se("@toggleOpenCaption ",e),ne=e,re.lastPosition=0,re.marked=0,re.persistCounter=0;var t,n,r,i,a=ee.getElementsByTagName("source");1==a.length&&(t=a[0]),i=t.src,r=t.url,se("@toggleOpenCaption initial url",i),i=i.replace(/.caption=open/,""),e&&(n=i.indexOf("?")>-1?"&":"?",i+=n+"caption=open",se("@toggleOpenCaption final url",i),t.onerror=T.bind(t,"source",P),ee.onerror=T.bind(ee,"video",P)),r!=i&&(t.src=i,ee.load())}function U(){return ee.currentTime}function x(e){se("@seekTo",e),Ae&&z.seekTo(1e3*e),ee.currentTime=e,setTimeout(C,200)}function G(){return"FLASH"}function V(){se("@destroy"),Z=null;for(var e in oe)oe.hasOwnProperty(e)&&clearTimeout(oe[e]);ee={},oe={},le={},z.parentNode.removeChild(z),z=null,Ae=!1,de=!1}function H(e,t){z?z.style[e]=t:se("flash player proxy does not exist!")}function j(e){}function Y(e){se("@pause",e),ee.isPauseInternal=e,z&&z.pause&&z.pause()}function K(e){se("@setBitrate",e),z&&z.setBitrate&&(z.setBitrate(e),t.publish("bitrateChangeInProgress",e))}var J,q,W,z,Z,X,$,ee={},te=!1,ne=!1,re={},ie={0:"NETWORK_EMPTY - audio/video has not yet been initialized",1:"NETWORK_IDLE - audio/video is active and has selected a resource, but is not using the network",2:"NETWORK_LOADING - browser is downloading data",3:"NETWORK_NO_SOURCE - no audio/video source found"},ae={0:"HAVE_NOTHING - no information whether or not the audio/video is ready",1:"HAVE_METADATA - metadata for the audio/video is ready",2:"HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond",3:"HAVE_FUTURE_DATA - data for the current and at least the next frame is available",4:"HAVE_ENOUGH_DATA - enough data available to start playing"},oe={},se=r?r.getLogFn("FlashVideo"):function(){console.log.apply(console,["[!FlashVideo!]\t"].concat(Array.prototype.slice.call(arguments)))},le={},Ae=!1,de=!1,ce=!1,ue={},ge={},fe={},pe="",he=2,me=13,Ee=32,Ie=0;return{_videoContent:function(){return ee},init:function(e,t,n){J=e,q=t,W=n,y(e,t,n)},width:function(e){return"number"==typeof e&&(q=e),q},height:function(e){return"number"==typeof e&&(W=e),W},getCurrentTime:U,seekTo:x,getDuration:function(){return se("@getDuration",z.getDuration()),ee.duration=ee.duration||(z?z.getDuration():null),se("@getDuration",ee.duration),ee.duration},setSource:m,play:function(){Ae&&(se("@play calling play on flash player"),z.play())},pause:Y,hardPause:Y,hide:function(){},show:function(){ee.style.visibility="visible",ee.style.display="block"},hasEmbedCaption:function(){return!!ee.textTracks.length},enableEmbedCaption:function(){ee.textTracks&&ee.textTracks.length?(se("embed caption enabled"),ee.textTracks[0].mode="showing"):se("No embed caption available")},disableEmbedCaption:function(){ee.textTracks&&ee.textTracks.length?(se("embed caption disabled"),ee.textTracks[0].mode="hidden"):se("No embed caption available")},resize:b,setFullscreen:function(e){se("@setFullscreen",e),te=e},getPaused:function(){return ee.paused},isBitrateSwitchSupported:function(){return!0},startTimeNotification:D,cancelTimeNotification:R,setPlaybackRate:_,getPlaybackRate:N,resetPlaybackRate:M,getBufferEnd:L,loadOpenCaption:O,unloadOpenCaption:P,getType:G,destroy:V,catchLive:B,setVolume:w,getVolume:S,getSource:E,setStyle:H,setBitrate:K,notifyCaptionStatus:j}}return t}),function(){var e={};(function(e){function t(e,t){var n=e.split("."),r=da;n[0]in r||!r.execScript||r.execScript("var "+n[0]);for(var i;n.length&&(i=n.shift());)n.length||void 0===t?r=r[i]?r[i]:r[i]={}:r[i]=t}function n(e){function t(){}var n=at;t.prototype=n.prototype,e.qd=n.prototype,e.prototype=new t,e.prototype.constructor=e,e.kd=function(e,t,r){return n.prototype[t].apply(e,Array.prototype.slice.call(arguments,2))}}function r(e){this.c=Math.exp(Math.log(.5)/e),this.b=this.a=0}function i(e,t,n){var r=Math.pow(e.c,t);n=n*(1-r)+r*e.a,isNaN(n)||(e.a=n,e.b+=t)}function a(e){return e.a/(1-Math.pow(e.c,e.b))}function o(){this.c=new r(2),this.f=new r(5),this.a=0,this.b=5e5}function s(){}function l(e,t,n){this.category=e,this.code=t,this.data=Array.prototype.slice.call(arguments,2)}function A(e){var t;e instanceof A?(d(this,e.U),this.la=e.la,this.V=e.V,c(this,e.ya),this.R=e.R,u(this,m(e.a)),this.ea=e.ea):e&&(t=String(e).match(ca))?(d(this,t[1]||"",!0),this.la=g(t[2]||""),this.V=g(t[3]||"",!0),c(this,t[4]),this.R=g(t[5]||"",!0),u(this,t[6]||"",!0),this.ea=g(t[7]||"")):this.a=new h(null)}function d(e,t,n){e.U=n?g(t,!0):t,e.U&&(e.U=e.U.replace(/:$/,""))}function c(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.ya=t}else e.ya=null}function u(e,t,n){t instanceof h?e.a=t:(n||(t=f(t,pa)),e.a=new h(t))}function g(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function f(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,p),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function p(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}function h(e){this.b=e||null}function m(e){var t=new h;if(t.b=e.b,e.a){var n,r={};for(n in e.a)r[n]=e.a[n].concat();t.a=r,t.c=e.c}return t}function E(e,t){return e.reduce(function(e,t,n){return t.catch(e.bind(null,n))}.bind(null,t),Promise.reject())}function I(e,t){return e.concat(t)}function y(){}function v(e){return null!=e}function C(e){return function(t){return t!=e}}function b(e,t,n){return n.indexOf(e)==t}function B(){}function w(){var e,t,n=new Promise(function(n,r){e=n,t=r});return n.resolve=e,n.reject=t,n}function S(e){this.f=!1,this.a=[],this.b=[],this.c=[],this.g=e||null}function Q(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}}function T(e,t){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t}}function D(e,t,n){for(var r=0;r<e.length;++r)if(n(e[r],t))return r;return-1}function k(){this.a={}}function R(){this.a=new k}function _(e,t,n,r){t=new N(t,n,r),e.a.push(n,t)}function M(e){var t,n=e.a,r=[];for(t in n.a)r.push.apply(r,n.a[t]);for(n=0;n<r.length;++n)r[n].aa();e.a.a={}}function N(e,t,n){this.target=e,this.type=t,this.a=n,this.target.addEventListener(t,n,!1)}function L(e){return!e||!Object.keys(e).length}function O(e){return Object.keys(e).map(function(t){return e[t]})}function P(e,t){return Object.keys(e).reduce(function(n,r){return n[r]=t(e[r],r),n},{})}function F(e,t){return Object.keys(e).every(function(n){
return t(n,e[n])})}function U(e){if(!e)return"";e=new Uint8Array(e),239==e[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),e=escape(H(e));try{return decodeURIComponent(e)}catch(e){throw new l(2,2004)}}function x(e,t){if(!e)return"";if(e.byteLength%2)throw new l(2,2004);var n;if(e instanceof ArrayBuffer)n=e;else{var r=new Uint8Array(e.byteLength);r.set(new Uint8Array(e)),n=r.buffer}var r=e.byteLength/2,i=new Uint16Array(r);n=new DataView(n);for(var a=0;a<r;a++)i[a]=n.getUint16(2*a,t);return H(i)}function G(e){var t=new Uint8Array(e);if(239==t[0]&&187==t[1]&&191==t[2])return U(t);if(254==t[0]&&255==t[1])return x(t.subarray(2),!1);if(255==t[0]&&254==t[1])return x(t.subarray(2),!0);var n=function(e,t){return e.byteLength<=t||32<=e[t]&&126>=e[t]}.bind(null,t);if(!t[0]&&!t[2])return x(e,!1);if(!t[1]&&!t[3])return x(e,!0);if(n(0)&&n(1)&&n(2)&&n(3))return U(e);throw new l(2,2003)}function V(e){e=unescape(encodeURIComponent(e));for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t.buffer}function H(e){for(var t="",n=0;n<e.length;n+=16e3)t+=String.fromCharCode.apply(null,e.subarray(n,n+16e3));return t}function j(e){this.a=null,this.b=function(){this.a=null,e()}.bind(this)}function Y(e){e.cancel(),e.a=setTimeout(e.b,100)}function K(t){return e.btoa(String.fromCharCode.apply(null,t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=*$/,"")}function J(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}function q(t){for(var n=new Uint8Array(t.length/2),r=0;r<t.length;r+=2)n[r/2]=e.parseInt(t.substr(r,2),16);return n}function W(e){for(var t="",n=0;n<e.length;++n){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function z(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!1;return!0}function Z(e,t,n){this.i=this.j=this.s=null,this.A=!1,this.b=null,this.f=new R,this.a=[],this.m=[],this.l=new w,this.K=e,this.g=null,this.h=function(e){this.l.reject(e),t(e)}.bind(this),this.C={},this.S=n,this.v=new j(this.Ec.bind(this)),this.H=this.c=!1,this.w=[],this.G=!1,this.l.catch(function(){})}function X(e,t){if(!e.j)return _(e.f,t,"encrypted",function(){this.f.aa(t,"encrypted"),this.h(new l(6,6010))}.bind(e)),Promise.resolve();e.i=t,_(e.f,e.i,"play",e.qc.bind(e));var n=e.i.setMediaKeys(e.j),n=n.catch(function(e){return Promise.reject(new l(6,6003,e.message))}),r=null;return e.b.serverCertificate&&(r=e.j.setServerCertificate(e.b.serverCertificate),r=r.catch(function(e){return Promise.reject(new l(6,6004,e.message))})),Promise.all([n,r]).then(function(){if(this.c)return Promise.reject();ee(this),this.b.initData.length||this.m.length||_(this.f,this.i,"encrypted",this.jc.bind(this))}.bind(e)).catch(function(e){return this.c?Promise.resolve():Promise.reject(e)}.bind(e))}function $(e,t){return Promise.all(t.map(function(e){return le(this,e).then(function(e){if(e)return e.remove()})}.bind(e)))}function ee(e){var t=e.b?e.b.initData:[];return t.forEach(function(e){Ae(this,e.initDataType,e.initData)}.bind(e)),e.m.forEach(function(e){le(this,e)}.bind(e)),t.length||e.m.length||e.l.resolve(),e.l}function te(e){return e.a.map(function(e){return e.Aa.sessionId})}function ne(e,t,n,r,i){var a=ae(e);t.periods.forEach(function(e){e.variants.forEach(function(e){a&&(e.drmInfos=[a]),e.drmInfos.forEach(function(t){ie(this,t);var a=r[t.keySystem];a||(a={audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:n?"required":"optional",sessionTypes:[n?"persistent-license":"temporary"],label:t.keySystem,drmInfos:[]},r[t.keySystem]=a,i.push(t.keySystem)),a.drmInfos.push(t),t.distinctiveIdentifierRequired&&(a.distinctiveIdentifier="required"),t.persistentStateRequired&&(a.persistentState="required");var o=[];e.video&&o.push(e.video),e.audio&&o.push(e.audio),o.forEach(function(e){var n="video"==e.type?a.videoCapabilities:a.audioCapabilities,r=("video"==e.type?t.videoRobustness:t.audioRobustness)||"",i=e.mimeType;e.codecs&&(i+='; codecs="'+e.codecs+'"'),e.keyId&&t.keyIds.push(e.keyId),n.push({robustness:r,contentType:i})}.bind(this))}.bind(this))}.bind(this))}.bind(e))}function re(e,t,n){if(1==n.length&&""==n[0])return Promise.reject(new l(6,6e3));var r=new w,i=r;return[!0,!1].forEach(function(e){n.forEach(function(n){var r=t[n];r.drmInfos.some(function(e){return!!e.licenseServerUri})==e&&(r.audioCapabilities.length||delete r.audioCapabilities,r.videoCapabilities.length||delete r.videoCapabilities,i=i.catch(function(){return this.c?Promise.reject():navigator.requestMediaKeySystemAccess(n,[r])}.bind(this)))}.bind(this))}.bind(e)),i=i.catch(function(){return Promise.reject(new l(6,6001))}),i=i.then(function(e){if(this.c)return Promise.reject();var n=0<=navigator.userAgent.indexOf("Edge/"),r=e.getConfiguration();return this.s=(r.audioCapabilities||[]).concat(r.videoCapabilities||[]).map(function(e){return e.contentType}),n&&(this.s=null),n=t[e.keySystem],oe(this,e.keySystem,n,n.drmInfos),this.b.licenseServerUri?e.createMediaKeys():Promise.reject(new l(6,6012))}.bind(e)).then(function(e){if(this.c)return Promise.reject();this.j=e,this.A=!0}.bind(e)).catch(function(e){return this.c?Promise.resolve():(this.s=this.b=null,e instanceof l?Promise.reject(e):Promise.reject(new l(6,6002,e.message)))}.bind(e)),r.reject(),i}function ie(e,t){var n=t.keySystem;if(n){if(!t.licenseServerUri){var r=e.g.servers[n];r&&(t.licenseServerUri=r)}t.keyIds||(t.keyIds=[]),(n=e.g.advanced[n])&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=n.persistentStateRequired),t.videoRobustness||(t.videoRobustness=n.videoRobustness),t.audioRobustness||(t.audioRobustness=n.audioRobustness),t.serverCertificate||(t.serverCertificate=n.serverCertificate))}}function ae(t){if(L(t.g.clearKeys))return null;var n,r=[],i=[];for(n in t.g.clearKeys){var a=t.g.clearKeys[n],o=q(n),a=q(a),o={kty:"oct",kid:K(o),k:K(a)};r.push(o),i.push(o.kid)}return t=JSON.stringify({keys:r}),i=JSON.stringify({kids:i}),i=[{initData:new Uint8Array(V(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:[]}}function oe(e,t,n,r){var i=[],a=[],o=[],s=[];se(r,i,a,o,s),e.b={keySystem:t,licenseServerUri:i[0],distinctiveIdentifierRequired:"required"==n.distinctiveIdentifier,persistentStateRequired:"required"==n.persistentState,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:"",videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:"",serverCertificate:a[0],initData:o,keyIds:s}}function se(e,t,n,r,i){function a(e,t){return e.initDataType==t.initDataType&&z(e.initData,t.initData)}e.forEach(function(e){if(-1==t.indexOf(e.licenseServerUri)&&t.push(e.licenseServerUri),e.serverCertificate&&-1==D(n,e.serverCertificate,z)&&n.push(e.serverCertificate),e.initData&&e.initData.forEach(function(e){-1==D(r,e,a)&&r.push(e)}),e.keyIds)for(var o=0;o<e.keyIds.length;++o)-1==i.indexOf(e.keyIds[o])&&i.push(e.keyIds[o])})}function le(e,t){var n;try{n=e.j.createSession("persistent-license")}catch(t){var r=new l(6,6005,t.message);return e.h(r),Promise.reject(r)}_(e.f,n,"message",e.Bb.bind(e)),_(e.f,n,"keystatuseschange",e.wb.bind(e));var i={initData:null,Aa:n,loaded:!1};return e.a.push(i),n.load(t).then(function(e){if(!this.c){if(e)return i.loaded=!0,this.a.every(function(e){return e.loaded})&&this.l.resolve(),n;this.a.splice(this.a.indexOf(i),1),this.h(new l(6,6013))}}.bind(e),function(e){this.c||(this.a.splice(this.a.indexOf(i),1),this.h(new l(6,6005,e.message)))}.bind(e))}function Ae(e,t,n){var r;try{r=e.H?e.j.createSession("persistent-license"):e.j.createSession()}catch(t){return void e.h(new l(6,6005,t.message))}_(e.f,r,"message",e.Bb.bind(e)),_(e.f,r,"keystatuseschange",e.wb.bind(e)),e.a.push({initData:n,Aa:r,loaded:!1}),r.generateRequest(t,n.buffer).catch(function(e){if(!this.c){for(var t=0;t<this.a.length;++t)if(this.a[t].Aa==r){this.a.splice(t,1);break}this.h(new l(6,6006,e.message))}}.bind(e))}function de(e,t){var n=t.target,r=T([e.b.licenseServerUri],e.g.retryParameters);r.body=t.message,r.method="POST","com.microsoft.playready"==e.b.keySystem&&ce(r),e.K.request(2,r).then(function(e){return this.c?Promise.reject():n.update(e.data)}.bind(e),function(e){if(this.c)return Promise.resolve();this.h(new l(6,6007,e))}.bind(e)).catch(function(e){if(this.c)return Promise.resolve();this.h(new l(6,6008,e.message))}.bind(e))}function ce(e){for(var t=x(e.body,!0),t=(new DOMParser).parseFromString(t,"application/xml"),n=t.getElementsByTagName("HttpHeader"),r=0;r<n.length;++r)e.headers[n[r].querySelector("name").textContent]=n[r].querySelector("value").textContent;e.body=J(t.querySelector("Challenge").textContent).buffer}function ue(){var e=[],t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],n=[{videoCapabilities:t,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:t}],r={};return"org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").forEach(function(t){var i=navigator.requestMediaKeySystemAccess(t,n).then(function(e){return e.createMediaKeys()}).then(function(e){var n=!1;try{e.createSession("persistent-license"),n=!0}catch(e){}r[t]={persistentState:n}},function(){r[t]=null});e.push(i)}),Promise.all(e).then(function(){return r})}function ge(e,t){var n=e.keySystem();return!t.drmInfos.length||t.drmInfos.some(function(e){return e.keySystem==n})}function fe(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(e[r].keySystem==t[i].keySystem){n.push(e[r]);break}return n}function pe(e,t){this.h=null,this.c=e,this.g=0,this.f=1/0,this.a=this.b=null,this.i=t}function he(e,t,n){return e>=t?null:new VTTCue(e,t,n)}function me(e,t,n,r){var i=e.g;return Promise.resolve().then(function(){if(this.c){var e=this.h(t,i,n,r,this.i);if(null!=n&&null!=r){for(var a=0;a<e.length&&!(e[a].startTime>=this.f);++a)this.c.addCue(e[a]);null==this.b&&(this.b=n),this.a=Math.min(r,this.f)}}}.bind(e))}function Ee(e,t){return null==e.a||e.a<t||t<e.b?0:e.a-t}function Ie(e,t){for(var n=e.c.cues,r=[],i=0;i<n.length;++i)t(n[i])&&r.push(n[i]);for(i=0;i<r.length;++i)e.c.removeCue(r[i])}function ye(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function ve(e,t){var n=0;if(!e||1==e.length&&1e-6>e.end(0)-e.start(0))return n;var r=!1,i=1e-4;t||(i=.25);for(var a=0;a<e.length;++a)if(t+i>=e.start(a)&&t<e.end(a))n+=e.end(a)-t,r=!0;else if(r&&.04>=e.start(a)-e.end(a-1))n+=e.end(a)-e.start(a),n+=e.start(a)-e.end(a-1);else if(0<a&&t+i<e.start(a)&&t+i>=e.end(a-1)){if(!(.04>=e.start(a)-t))break;n+=e.end(a)-t,r=!0}else r=!1;return n}function Ce(e,t,n){this.f=e,this.h=t,this.j=n,this.c={},this.a=null,this.l=!1,this.b={},this.g=new R,this.i=!1}function be(){var e={};return'video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hvc1.1.6.L93.90",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="av1",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",video/mp2t; codecs="mp4a.40.2",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").forEach(function(t){e[t]=!!Ea[t]||MediaSource.isTypeSupported(t);var n=t.split(";")[0];e[n]=e[n]||e[t]}),e}function Be(e,t){e.a||(e.a=new pe(e.j,e.l)),e.a.h=Ea[t]}function we(e,t){var n;return"text"==t?n=e.a.b:(n=Te(e,t),n=!n||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null),n}function Se(e,t){return"text"==t?e.a.a:ye(Te(e,t))}function Qe(e,t,n){return"text"==t?(t=Ee(e.a,n))||(t=Ee(e.a,n+.1))&&(t+=.1):(e=Te(e,t),(t=ve(e,n))||(t=ve(e,n+.1))&&(t+=.1)),t}function Te(e,t){try{return e.c[t].buffered}catch(e){return null}}function De(e,t,n,r,i){return"text"==t?me(e.a,n,r,i):Me(e,t,e.Zc.bind(e,t,n))}function ke(e,t){return"text"==t?e.a.remove(0,1/0):Me(e,t,e.Gb.bind(e,t,0,e.h.duration))}function Re(e,t,n){return"text"==t?(e.a.g=n,Promise.resolve()):Me(e,t,e.Pc.bind(e,t,n))}function _e(e,t,n){return"text"==t?(e.a.f=n,Promise.resolve()):Promise.all([Me(e,t,e.Pb.bind(e,t)),Me(e,t,e.Nc.bind(e,t,n))])}function Me(e,t,n){if(e.i)return Promise.reject();if(n={start:n,p:new w},e.b[t].push(n),1==e.b[t].length)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new l(3,3017,t)):n.p.reject(new l(3,3015,r)),Le(e,t)}return n.p}function Ne(e,t){if(e.i)return Promise.reject();var n,r=[];for(n in e.c){var i=new w,a={start:function(e){e.resolve()}.bind(null,i),p:i};e.b[n].push(a),r.push(i),1==e.b[n].length&&a.start()}return Promise.all(r).then(function(){var e,n;try{t()}catch(e){n=Promise.reject(new l(3,3015,e))}for(e in this.c)Le(this,e);return n}.bind(e),function(){return Promise.reject()}.bind(e))}function Le(e,t){e.b[t].shift();var n=e.b[t][0];if(n)try{n.start()}catch(r){n.p.reject(new l(3,3015,r)),Le(e,t)}}function Oe(e,t,n){return n==t||e>=Ia&&n==t.split("-")[0]||e>=ya&&n.split("-")[0]==t.split("-")[0]}function Pe(e){e=e.toLowerCase().split("-");var t=va[e[0]];return t&&(e[0]=t),e.join("-")}function Fe(e,t,n){var r=e.video;return!(r&&(r.width<t.minWidth||r.width>t.maxWidth||r.width>n.width||r.height<t.minHeight||r.height>t.maxHeight||r.height>n.height||r.width*r.height<t.minPixels||r.width*r.height>t.maxPixels)||e.bandwidth<t.minBandwidth||e.bandwidth>t.maxBandwidth)}function Ue(e,t,n){var r=!1;return e.variants.forEach(function(e){var i=e.allowedByApplication;e.allowedByApplication=Fe(e,t,n),i!=e.allowedByApplication&&(r=!0)}),r}function xe(e,t,n){var r=t.video,i=t.audio;for(t=0;t<n.variants.length;++t){var a=n.variants[t],o=e,s=i,l=r;(o&&o.A&&!ge(o,a)?0:Ge(a.audio,o,s)&&Ge(a.video,o,l))||(n.variants.splice(t,1),--t)}for(t=0;t<n.textStreams.length;++t)e=n.textStreams[t],Ea[We(e.mimeType,e.codecs)]||(n.textStreams.splice(t,1),--t)}function Ge(e,t,n){if(!e)return!0;var r=null;return t&&t.A&&(r=t.s),t=We(e.mimeType,e.codecs),!(!Ea[t]&&!MediaSource.isTypeSupported(t)||r&&e.encrypted&&0>r.indexOf(t)||n&&(e.mimeType!=n.mimeType||e.codecs.split(".")[0]!=n.codecs.split(".")[0]))}function Ve(e,t){var n=Ye(e.variants).map(function(e){var n;n=e.video&&e.audio?t.video==e.video&&t.audio==e.audio:e.video&&t.video==e.video||e.audio&&t.audio==e.audio;var r="";return e.video&&(r+=e.video.codecs),e.audio&&(""!=r&&(r+=", "),r+=e.audio.codecs),{id:e.id,active:n,type:"variant",bandwidth:e.bandwidth,language:e.language,kind:null,width:e.video?e.video.width:null,height:e.video?e.video.height:null,frameRate:e.video?e.video.frameRate:void 0,codecs:r}}),r=e.textStreams.map(function(e){return{id:e.id,active:t.text==e,type:"text",language:e.language,kind:e.kind,codecs:e.codecs||null}});return n.push.apply(n,r),n}function He(e,t){for(var n=0;n<e.variants.length;n++)if(e.variants[n].id==t.id)return e.variants[n];return null}function je(e,t){for(var n=0;n<e.textStreams.length;n++)if(e.textStreams[n].id==t.id)return e.textStreams[n];return null}function Ye(e){return e.filter(function(e){return e.allowedByApplication&&e.allowedByKeySystem})}function Ke(e,t,n){var r=Ye(e.variants),i=r,a=!1;r.forEach(function(e){e.primary&&!a?(i=[e],a=!0):e.primary&&i.push(e)});var o=t.preferredAudioLanguage;return o&&(o=Pe(o),[ya,Ia,0].forEach(function(e){var t=!1;r.forEach(function(r){o=Pe(o);var a=Pe(r.language);Oe(e,o,a)&&(t?i.push(r):(i=[r],t=!0),n&&(n.audio=!0))})})),i}function Je(e,t,n){var r=e.textStreams,i=r,a=!1;r.forEach(function(e){e.primary&&!a?(i=[e],a=!0):e.primary&&i.push(e)});var o=t.preferredTextLanguage;return o&&(o=Pe(o),[ya,Ia,0].forEach(function(e){var t=!1;r.forEach(function(r){var a=Pe(r.language);Oe(e,o,a)&&(t?i.push(r):(i=[r],t=!0),n&&(n.text=!0))})})),i}function qe(e,t,n){for(var r=0;r<n.length;r++)if(n[r].audio==e&&n[r].video==t)return n[r];return null}function We(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n}function ze(){this.f=null,this.b=!1,this.a=new o,this.g=[],this.h=[],this.j=!1,this.c=null,this.i={minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}}function Ze(e,t){return t.filter(function(t){return Fe(t,e,{width:1/0,height:1/0})}).sort(function(e,t){return e.bandwidth-t.bandwidth})}function Xe(t,n){var r,i=n||{};for(r in i)this[r]=i[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function $e(e){return JSON.stringify(e,function(e,t){if("manager"!=e&&"function"!=typeof t){if(t instanceof Event||t instanceof Xe){var n,r={};for(n in t){var i=t[n];i&&"object"==typeof i||n in Event||(r[n]=i)}return r}if(t instanceof TimeRanges)for(r={__type__:"TimeRanges",length:t.length,start:[],end:[]},n=0;n<t.length;++n)r.start.push(t.start(n)),r.end.push(t.end(n));else r="number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return r}})}function et(e){return JSON.parse(e,function(e,t){return"NaN"==t?NaN:"-Infinity"==t?-1/0:"Infinity"==t?1/0:t&&"object"==typeof t&&"TimeRanges"==t.__type__?tt(t):t})}function tt(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}function nt(e,t,n,r,i){this.C=e,this.l=t,this.w=n,this.A=r,this.s=i,this.c=this.j=this.g=!1,this.v="",this.a=this.i=null,this.b={video:{},player:{}},this.m=0,this.f={},this.h=null}function rt(e){for(var t in e.f){var n=e.f[t];delete e.f[t],n.reject(new l(7,7e3))}}function it(e,t){var n=$e(t);e.a.sendMessage("urn:x-cast:com.google.shaka.v2",n,function(){},s)}function at(){this.Ca=new k,this.S=this}function ot(e,t,n){at.call(this),this.c=e,this.b=t,this.i=this.f=this.g=this.j=this.l=null,this.a=new nt(n,this.Vc.bind(this),this.Wc.bind(this),this.Xc.bind(this),this.rb.bind(this)),st(this)}function st(e){e.a.init(),e.i=new R,Ca.forEach(function(e){_(this.i,this.c,e,this.gd.bind(this))}.bind(e)),Sa.forEach(function(e){_(this.i,this.b,e,this.Dc.bind(this))}.bind(e)),e.l={};for(var t in e.c)Object.defineProperty(e.l,t,{configurable:!1,enumerable:!0,get:e.fd.bind(e,t),set:e.hd.bind(e,t)});e.j={};for(t in e.b)Object.defineProperty(e.j,t,{configurable:!1,enumerable:!0,get:e.Cc.bind(e,t)});e.g=new at,e.g.S=e.l,e.f=new at,e.f.S=e.j}function lt(e,t,n){at.call(this),this.b=e,this.a=t,this.j={video:e,player:t},this.l=n||function(){},this.i=!1,this.c=!0,this.f=this.g=null,At(this)}function At(t){var n=cast.receiver.CastReceiverManager.getInstance();n.onSenderConnected=t.Ab.bind(t),n.onSenderDisconnected=t.Ab.bind(t),n.onSystemVolumeChanged=t.Xb.bind(t),t.g=n.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),t.g.onMessage=t.mc.bind(t),n.start(),Ca.forEach(function(e){this.b.addEventListener(e,this.Db.bind(this,"video"))}.bind(t)),Sa.forEach(function(e){this.a.addEventListener(e,this.Db.bind(this,"player"))}.bind(t)),cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?t.a.hb(3840,2160):t.a.hb(1920,1080),t.a.addEventListener("loading",function(){this.c=!1,dt(this)}.bind(t)),t.b.addEventListener("playing",function(){this.c=!1,dt(this)}.bind(t)),t.a.addEventListener("unloading",function(){this.c=!0,dt(this)}.bind(t)),t.b.addEventListener("ended",function(){e.setTimeout(function(){this.b&&this.b.ended&&(this.c=!0,dt(this))}.bind(this),5e3)}.bind(t))}function dt(e){Promise.resolve().then(function(){this.dispatchEvent(new Xe("caststatuschanged"))}.bind(e))}function ct(e,t,n){for(var r in t.player)e.a[r](t.player[r]);e.l(n),n=Promise.resolve();var i=e.b.autoplay;t.manifest&&(e.b.autoplay=!1,n=e.a.load(t.manifest,t.startTime),n.catch(function(e){this.a.dispatchEvent(new Xe("error",{detail:e}))}.bind(e))),n.then(function(){for(var e in t.video){var n=t.video[e];this.b[e]=n}for(e in t.playerAfterLoad)n=t.playerAfterLoad[e],this.a[e](n);this.b.autoplay=i,t.manifest&&this.b.play()}.bind(e))}function ut(e,t,n){e.i&&(t=$e(t),n?e.g.getCastChannel(n).send(t):e.g.broadcast(t))}function gt(e,t){var n=ft(e,t);return 1!=n.length?null:n[0]}function ft(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return e.tagName==t})}function pt(e){var t=e.firstChild;return t&&t.nodeType==Node.TEXT_NODE?e.textContent.trim():null}function ht(e,t,n,r){var i=null;return e=e.getAttribute(t),null!=e&&(i=n(e)),null==i?void 0!==r?r:null:i}function mt(e){return e?(e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null}function Et(e){return e&&(e=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function It(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function yt(e){return e=Number(e),e%1?null:e}function vt(e){return e=Number(e),!(e%1)&&0<e?e:null}function Ct(e){return e=Number(e),!(e%1)&&0<=e?e:null}function bt(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1]/t[2]):Number(e),isNaN(e)?null:e}function Bt(e,t){var n=Tt(e),r=null,i=n.filter(function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.Hb||(r=e.init||r,!1)}),a=n.map(function(e){return e.keyId}).filter(v),o=null;if(0<a.length&&(o=a[0],a.some(C(o))))throw new l(4,4010);return a=[],0<i.length?(a=Qt(r,t,i),a.length||(a=[St("",r)])):0<n.length&&(a=O(_a).map(function(e){return St(e,r)})),{ob:o,ld:r,drmInfos:a,qb:!0}}function wt(e,t,n){var r=Bt(e,t);if(n.qb)e=1==n.drmInfos.length&&!n.drmInfos[0].keySystem,t=!r.drmInfos.length,(!n.drmInfos.length||e&&!t)&&(n.drmInfos=r.drmInfos),n.qb=!1;else if(0<r.drmInfos.length&&(n.drmInfos=n.drmInfos.filter(function(e){return r.drmInfos.some(function(t){return t.keySystem==e.keySystem})}),!n.drmInfos.length))throw new l(4,4008);return r.ob||n.ob}function St(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:[]}}function Qt(e,t,n){return n.map(function(n){var r=_a[n.Hb];return r?[St(r,n.init||e)]:t(n.node)||[]}).reduce(I,[])}function Tt(e){return e.map(function(e){var t=e.getAttribute("schemeIdUri"),n=e.getAttribute("cenc:default_KID"),r=ft(e,"cenc:pssh").map(pt);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),0<=n.indexOf(" ")))throw new l(4,4009);var i=[];try{i=r.map(function(e){return{initDataType:"cenc",initData:J(e)}})}catch(e){throw new l(4,4007)}return{node:e,Hb:t,keyId:n,init:0<i.length?i:null}}).filter(v)}function Dt(e,t,n){this.a=e,this.N=t,this.D=n}function kt(e,t,n,r,i,a){this.position=e,this.startTime=t,this.endTime=n,this.a=r,this.N=i,this.D=a}function Rt(t,n,r,i,a){null!==a&&(a=Math.round(a));var o={RepresentationID:n,Number:r,Bandwidth:i,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)d)?\$/g,function(t,n,r){if("$$"==t)return"$";var i=o[n];return null==i?t:("RepresentationID"==n&&r&&(r=void 0),t=i.toString(),r=e.parseInt(r,10)||1,Array(Math.max(0,r-t.length)+1).join("0")+t)})}function _t(e,t,n){if(n.length){var r=n[0];r.startTime<=Ma&&(n[0]=new kt(r.position,0,r.endTime,r.a,r.N,r.D)),e||(e=n[n.length-1],e.startTime>t||(n[n.length-1]=new kt(e.position,e.startTime,t,e.a,e.N,e.D)))}}function Mt(e,t){if(!t.length)return e;var n=t.map(function(e){return new A(e)});return e.map(function(e){return new A(e)}).map(function(e){return n.map(e.resolve.bind(e))}).reduce(I,[]).map(function(e){return e.toString()})}function Nt(e,t){var n=Lt(e,t,"timescale"),r=1;n&&(r=vt(n)||1),n=Lt(e,t,"duration"),(n=vt(n||""))&&(n/=r);var i=Lt(e,t,"startNumber"),a=Lt(e,t,"presentationTimeOffset"),o=Ct(i||"");null!=i&&null!=o||(o=1);var s=Ot(e,t,"SegmentTimeline"),i=null;if(s){for(var i=r,l=Number(a),A=e.I.duration||1/0,s=ft(s,"S"),d=[],c=0,u=0;u<s.length;++u){var g=s[u],f=ht(g,"t",Ct),p=ht(g,"d",Ct),g=ht(g,"r",yt);if(null!=f&&(f-=l),!p)break;if(f=null!=f?f:c,0>(g=g||0))if(u+1<s.length){if(null==(g=ht(s[u+1],"t",Ct)))break;if(f>=g)break;g=Math.ceil((g-f)/p)-1}else{if(1/0==A)break;if(f/i>=A)break;g=Math.ceil((A*i-f)/p)-1}0<d.length&&f!=c&&(d[d.length-1].end=f/i);for(var h=0;h<=g;++h)c=f+p,d.push({start:f/i,end:c/i}),f=c}i=d}return{Ka:r,F:n,ja:o,presentationTimeOffset:Number(a)/r||0,B:i}}function Lt(e,t,n){return[t(e.u),t(e.L),t(e.M)].filter(v).map(function(e){return e.getAttribute(n)}).reduce(function(e,t){return e||t})}function Ot(e,t,n){return[t(e.u),t(e.L),t(e.M)].filter(v).map(function(e){return gt(e,n)}).reduce(function(e,t){return e||t})}function Pt(e){this.b=e,this.c=0==Na,this.a=0}function Ft(e){return e.a<e.b.byteLength}function Ut(e){try{var t=e.b.getUint8(e.a)}catch(e){Kt()}return e.a+=1,t}function xt(e){try{var t=e.b.getUint16(e.a,e.c)}catch(e){Kt()}return e.a+=2,t}function Gt(e){try{var t=e.b.getUint32(e.a,e.c)}catch(e){Kt()}return e.a+=4,t}function Vt(e){var t,n;try{e.c?(t=e.b.getUint32(e.a,!0),n=e.b.getUint32(e.a+4,!0)):(n=e.b.getUint32(e.a,!1),t=e.b.getUint32(e.a+4,!1))}catch(e){Kt()}if(2097151<n)throw new l(3,3001);return e.a+=8,n*Math.pow(2,32)+t}function Ht(e,t){e.a+t>e.b.byteLength&&Kt();var n=e.b.buffer.slice(e.a,e.a+t);return e.a+=t,new Uint8Array(n)}function jt(e,t){e.a+t>e.b.byteLength&&Kt(),e.a+=t}function Yt(e){for(var t=e.a;Ft(e)&&e.b.getUint8(e.a);)e.a+=1;return t=e.b.buffer.slice(t,e.a),e.a+=1,U(t)}function Kt(){throw new l(3,3e3)}function Jt(e,t){for(;Ft(t);){var n=t.a,r=Gt(t),i=Gt(t);if(1==r?r=Vt(t):r||(r=t.b.byteLength-n),i==e)return r;jt(t,r-(t.a-n))}return-1}function qt(e,t){for(var n=new Pt(new DataView(e)),r=[[1836019574,0],[1953653099,0],[1835297121,0],[1835626086,0],[1937007212,0],[1937011556,8],[t,0]],i=-1,a=0;a<r.length;a++){var o=r[a][1],i=Jt(r[a][0],n);if(-1==i)return-1;jt(n,o)}return i}function Wt(e,t,n,r){var i=[];e=new Pt(new DataView(e));var a=Jt(1936286840,e);if(-1==a)throw new l(3,3004);var o=Ut(e);jt(e,3),jt(e,4);var s=Gt(e);if(!s)throw new l(3,3005);var A,d;for(o?(A=Vt(e),d=Vt(e)):(A=Gt(e),d=Gt(e)),jt(e,2),o=xt(e),r=A-r,t=t+a+d,a=0;a<o;a++){A=Gt(e),d=(2147483648&A)>>>31,A&=2147483647;var c=Gt(e);if(jt(e,4),1==d)throw new l(3,3006);i.push(new kt(i.length,r/s,(r+c)/s,function(){return n},t,t+A-1)),r+=c,t+=A}return i}function zt(e){this.a=e}function Zt(e){this.b=e,this.a=new Pt(e),La||(La=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function Xt(e){var t;if(t=$t(e),7<t.length)throw new l(3,3002);for(var n=0,r=0;r<t.length;r++)n=256*n+t[r];t=n,n=$t(e);e:{for(r=0;r<La.length;r++)if(z(n,La[r])){r=!0;break e}r=!1}if(r)n=e.b.byteLength-e.a.a;else{if(8==n.length&&224&n[1])throw new l(3,3001);for(var r=n[0]&(1<<8-n.length)-1,i=1;i<n.length;i++)r=256*r+n[i];n=r}return n=e.a.a+n<=e.b.byteLength?n:e.b.byteLength-e.a.a,r=new DataView(e.b.buffer,e.b.byteOffset+e.a.a,n),jt(e.a,n),new en(t,r)}function $t(e){var t,n=Ut(e.a);for(t=1;8>=t&&!(n&1<<8-t);t++);if(8<t)throw new l(3,3002);var r=new Uint8Array(t);for(r[0]=n,n=1;n<t;n++)r[n]=Ut(e.a);return r}function en(e,t){this.id=e,this.a=t}function tn(e){if(8<e.a.byteLength)throw new l(3,3002);if(8==e.a.byteLength&&224&e.a.getUint8(0))throw new l(3,3001);for(var t=0,n=0;n<e.a.byteLength;n++)var r=e.a.getUint8(n),t=256*t+r;return t}function nn(e,t,n,r,i,a){function o(){return i}var s=[];e=new Zt(e.a);for(var l=-1,A=-1;Ft(e.a);){var d=Xt(e);if(187==d.id){var c=rn(d);c&&(d=n*(c.ed-a),c=t+c.Gc,0<=l&&s.push(new kt(s.length,l,d,o,A,c-1)),l=d,A=c)}}return 0<=l&&s.push(new kt(s.length,l,r,o,A,null)),s}function rn(e){var t=new Zt(e.a);if(e=Xt(t),179!=e.id)throw new l(3,3013);if(e=tn(e),t=Xt(t),183!=t.id)throw new l(3,3012);for(var t=new Zt(t.a),n=0;Ft(t.a);){var r=Xt(t);if(241==r.id){n=tn(r);break}}return{ed:e,Gc:n}}function an(e,t){var n=Ot(e,t,"Initialization");if(!n)return null;var r=e.u.O,i=n.getAttribute("sourceURL");i&&(r=Mt(e.u.O,[i]));var i=0,a=null;return(n=ht(n,"range",It))&&(i=n.start,a=n.end),new Dt(function(){return r},i,a)}function on(e,t){var n,r=Lt(e,ln,"presentationTimeOffset"),i=an(e,ln);n=Number(r);var a=e.u.contentType,o=e.u.mimeType.split("/")[1];if("text"!=a&&"mp4"!=o&&"webm"!=o)throw new l(4,4006);if("webm"==o&&!i)throw new l(4,4005);var a=Ot(e,ln,"RepresentationIndex"),s=Lt(e,ln,"indexRange"),A=e.u.O,s=It(s||"");if(a){var d=a.getAttribute("sourceURL");d&&(A=Mt(e.u.O,[d])),s=ht(a,"range",It,s)}if(!s)throw new l(4,4002);return n=sn(e,t,i,A,s.start,s.end,o,n),{createSegmentIndex:n.createSegmentIndex,findSegmentPosition:n.findSegmentPosition,getSegmentReference:n.getSegmentReference,initSegmentReference:i,presentationTimeOffset:Number(r)||0}}function sn(e,t,n,r,i,a,o,s){var A=e.presentationTimeline,d=e.I.start,c=e.I.duration,u=t,g=null;return{createSegmentIndex:function(){var t=[u(r,i,a),"webm"==o?u(n.a(),n.N,n.D):null];return u=null,Promise.all(t).then(function(t){var n,a,u=t[0];if(t=t[1]||null,"mp4"==o)u=Wt(u,i,r,s);else{if(t=new Zt(new DataView(t)),440786851!=Xt(t).id)throw new l(3,3008);if(a=Xt(t),408125543!=a.id)throw new l(3,3009);for(t=a.a.byteOffset,a=new Zt(a.a),n=null;Ft(a.a);){var f=Xt(a);if(357149030==f.id){n=f;break}}if(!n)throw new l(3,3010);for(n=new Zt(n.a),f=1e6,a=null;Ft(n.a);){var p=Xt(n);if(2807729==p.id)f=tn(p);else if(17545==p.id)if(a=p,4==a.a.byteLength)a=a.a.getFloat32(0);else{if(8!=a.a.byteLength)throw new l(3,3003);a=a.a.getFloat64(0)}}if(null==a)throw new l(3,3011);if(n=f/=1e9,a*=f,u=Xt(new Zt(new DataView(u))),475249515!=u.id)throw new l(3,3007);u=nn(u,t,n,a,r,s)}_t(e.Ta,c,u),A.Ha(d,u),g=new zt(u)})},findSegmentPosition:function(e){return g.find(e)},getSegmentReference:function(e){return g.get(e)}}}function ln(e){return e.Ia}function An(e,t){var n,r=an(e,dn);n=un(e);var i=Nt(e,dn),a=i.ja;a||(a=1);var o=0;if(i.F?o=i.F*(a-1)-i.presentationTimeOffset:i.B&&0<i.B.length&&(o=i.B[0].start),n={F:i.F,startTime:o,ja:a,presentationTimeOffset:i.presentationTimeOffset,B:i.B,wa:n},!n.F&&!n.B&&1<n.wa.length)throw new l(4,4002);if(!n.F&&!e.I.duration&&!n.B&&1==n.wa.length)throw new l(4,4002);if(n.B&&!n.B.length)throw new l(4,4002);return a=i=null,e.M.id&&e.u.id&&(a=e.M.id+","+e.u.id,i=t[a]),o=cn(e.I.duration,n.ja,e.u.O,n),_t(e.Ta,e.I.duration,o),i?(i.$a(o),i.Ua(e.presentationTimeline.ua()-e.I.start)):(e.presentationTimeline.Ha(e.I.start,o),i=new zt(o),a&&(t[a]=i)),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:i.find.bind(i),getSegmentReference:i.get.bind(i),initSegmentReference:r,presentationTimeOffset:n.presentationTimeOffset}}function dn(e){return e.$}function cn(e,t,n,r){var i=r.wa.length;r.B&&r.B.length!=r.wa.length&&(i=Math.min(r.B.length,r.wa.length));for(var a=[],o=r.startTime,s=0;s<i;s++){var l,A=r.wa[s],d=Mt(n,[A.ic]);l=null!=r.F?o+r.F:r.B?r.B[s].end:o+e,a.push(new kt(s+t,o,l,function(e){return e}.bind(null,d),A.start,A.end)),o=l}return a}function un(e){return[e.u.$,e.L.$,e.M.$].filter(v).map(function(e){return ft(e,"SegmentURL")}).reduce(function(e,t){return 0<e.length?e:t}).map(function(e){var t=e.getAttribute("media");return e=ht(e,"mediaRange",It,{start:0,end:null}),{ic:t,start:e.start,end:e.end}})}function gn(e,t,n,r){var i,a=mn(e);i=Nt(e,fn);var o=Lt(e,fn,"media"),s=Lt(e,fn,"index");if(i={F:i.F,Ka:i.Ka,ja:i.ja,presentationTimeOffset:i.presentationTimeOffset,B:i.B,Za:o,Ga:s},o=0+(i.Ga?1:0),
o+=i.B?1:0,!(o+=i.F?1:0))throw new l(4,4002);if(1!=o&&(i.Ga&&(i.B=null),i.F=null),!i.Ga&&!i.Za)throw new l(4,4002);if(i.Ga){if("mp4"!=(n=e.u.mimeType.split("/")[1])&&"webm"!=n)throw new l(4,4006);if("webm"==n&&!a)throw new l(4,4005);r=Rt(i.Ga,e.u.id,null,e.bandwidth||null,null),r=Mt(e.u.O,[r]),e=sn(e,t,a,r,0,null,n,i.presentationTimeOffset)}else i.F?(r||e.presentationTimeline.ab(i.F),e=pn(e,i)):(r=t=null,e.M.id&&e.u.id&&(r=e.M.id+","+e.u.id,t=n[r]),o=hn(e,i),_t(e.Ta,e.I.duration,o),t?(t.$a(o),t.Ua(e.presentationTimeline.ua()-e.I.start)):(e.presentationTimeline.Ha(e.I.start,o),t=new zt(o),r&&(n[r]=t)),e={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:t.find.bind(t),getSegmentReference:t.get.bind(t)});return{createSegmentIndex:e.createSegmentIndex,findSegmentPosition:e.findSegmentPosition,getSegmentReference:e.getSegmentReference,initSegmentReference:a,presentationTimeOffset:i.presentationTimeOffset}}function fn(e){return e.Ja}function pn(e,t){var n=e.I.duration,r=t.F,i=t.ja,a=t.Ka,o=t.Za,s=e.bandwidth||null,l=e.u.id,A=e.u.O;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0>e||n&&e>=n?null:Math.floor(e/r)},getSegmentReference:function(e){var t=e*r;return new kt(e,t,t+r,function(){var n=Rt(o,l,e+i,s,t*a);return Mt(A,[n])},0,null)}}}function hn(e,t){for(var n=[],r=0;r<t.B.length;r++){var i=t.B[r].start,a=r+t.ja;n.push(new kt(a,i,t.B[r].end,function(e,t,n,r,i,a){return e=Rt(e,t,i,n,a),Mt(r,[e]).map(function(e){return e.toString()})}.bind(null,t.Za,e.u.id,e.bandwidth||null,e.u.O,a,(i+t.presentationTimeOffset)*t.Ka),0,null))}return n}function mn(e){var t=Lt(e,fn,"initialization");if(!t)return null;var n=e.u.id,r=e.bandwidth||null,i=e.u.O;return new Dt(function(){var e=Rt(t,n,null,r,null);return Mt(i,[e])},0,null)}function En(){var e,t={};for(e in Oa)t[e]=!0;for(e in Pa)t[e]=!0;return["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"].forEach(function(e){t[e]=!!Oa[e]}),["mpd","m3u8","ism"].forEach(function(e){t[e]=!!Pa[e]}),t}function In(e,t,n,r){var i=r;return i||(r=new A(e).R.split("/").pop().split("."),1<r.length&&(r=r.pop().toLowerCase(),i=Pa[r])),i?Promise.resolve(i):(n=T([e],n),n.method="HEAD",t.request(0,n).then(function(t){return(t=t.headers["content-type"])&&(t=t.toLowerCase()),(i=Oa[t])?i:Promise.reject(new l(4,4e3,e))},function(e){return Promise.reject(e)}))}function yn(e,t){this.h=e,this.j=t,this.c=this.a=1/0,this.b=1,this.i=this.f=0,this.g=!0}function vn(){this.s=this.m=this.l=this.c=this.a=null,this.g=[],this.b=null,this.i=[],this.h=1,this.j={},this.v=0,this.f=null,this.Ma=this.Ma.bind(this)}function Cn(e){return e.a.request(0,T(e.g,e.c.retryParameters)).then(function(e){if(this.a)return bn(this,e.data,e.uri)}.bind(e))}function bn(e,t,n){var r=U(t),i=new DOMParser,a=null;t=null;try{a=i.parseFromString(r,"text/xml")}catch(e){}if(a&&"MPD"==a.documentElement.tagName&&(t=a.documentElement),!t)throw new l(4,4001);n=[n],r=ft(t,"Location").map(pt).filter(v),0<r.length&&(n=e.g=r),r=ft(t,"BaseURL").map(pt),n=Mt(n,r);var o=ht(t,"minBufferTime",Et);e.v=ht(t,"minimumUpdatePeriod",Et,-1);var s,A=ht(t,"availabilityStartTime",mt),r=ht(t,"timeShiftBufferDepth",Et),d=ht(t,"suggestedPresentationDelay",Et),i=ht(t,"maxSegmentDuration",Et),a=t.getAttribute("type")||"static";if(e.b)s=e.b.presentationTimeline;else{var c=Math.max(10,1.5*o);s=new yn(A,null!=d?d:c)}var A=Bn(e,{Ta:"static"!=a,presentationTimeline:s,M:null,I:null,L:null,u:null,bandwidth:void 0},n,t),d=A.duration,u=A.periods;return s.Lb("static"==a),s.Ba(d||1/0),s.Kb(null!=r?r:1/0),s.ab(i||1),e.b?Promise.resolve():(t=ft(t,"UTCTiming"),r=s.T(),A.da&&e.a.Eb(e.Ma),_n(e,n,t,r).then(function(e){this.a&&(s.Jb(e),this.b={presentationTimeline:s,periods:u,offlineSessionIds:[],minBufferTime:o||0})}.bind(e)))}function Bn(e,t,n,r){var i=ht(r,"mediaPresentationDuration",Et),a=!1,o=[],s=0;r=ft(r,"Period");for(var l=0;l<r.length;l++){var A=r[l],s=ht(A,"start",Et,s),d=ht(A,"duration",Et);if(null==d)if(l+1!=r.length){var c=ht(r[l+1],"start",Et);null!=c&&(d=c-s)}else null!=i&&(d=i-s);if(c={start:s,duration:d,node:A,da:!1},A=wn(e,t,n,c),o.push(A),a=a||c.da,c=t.M.id,e.i.every(C(c))&&(e.l(A),e.i.push(c),e.b&&e.b.periods.push(A)),null==d){s=null;break}s+=d}return null!=i?{periods:o,duration:i,da:a}:{periods:o,duration:s,da:a}}function wn(e,t,n,r){t.M=Dn(r.node,null,n),t.I=r,t.M.id||(t.M.id="__shaka_period_"+r.start),t=ft(r.node,"AdaptationSet").map(e.Ac.bind(e,t)).filter(v);var i=t.filter(function(e){return!e.lb});for(t.filter(function(e){return e.lb}).forEach(function(e){var t=e.streams[0],n=e.lb;i.forEach(function(e){e.id==n&&e.streams.forEach(function(e){e.trickModeVideo=t})})}),t=0;t<i.length;t++)i[t].da&&(r.da=!0);var a=Sn(i,"video"),o=Sn(i,"audio");if(!a.length&&!o.length)throw new l(4,4004);for(o.length||(o=[null]),a.length||(a=[null]),n=[],t=0;t<o.length;t++)for(var s=0;s<a.length;s++)Qn(e,o[t],a[s],n);for(e=Sn(i,"text"),a=[],t=0;t<e.length;t++)a.push.apply(a,e[t].streams);return{startTime:r.start,textStreams:a,variants:n}}function Sn(e,t){return e.filter(function(e){return e.contentType==t})}function Qn(e,t,n,r){var i;if(t||n)if(t&&n){var a=t.drmInfos;if(i=n.drmInfos,a.length&&i.length?0<fe(a,i).length:1)for(var o=fe(t.drmInfos,n.drmInfos),a=0;a<t.streams.length;a++)for(var s=0;s<n.streams.length;s++)i=n.streams[s].bandwidth+t.streams[a].bandwidth,i={id:e.h++,language:t.language,primary:t.Ya||n.Ya,audio:t.streams[a],video:n.streams[s],bandwidth:i,drmInfos:o,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}else for(o=t||n,a=0;a<o.streams.length;a++)i=o.streams[a].bandwidth,i={id:e.h++,language:o.language||"",primary:o.Ya,audio:t?o.streams[a]:null,video:n?o.streams[a]:null,bandwidth:i,drmInfos:o.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}function Tn(t,n){0>t.v||(t.f=e.setTimeout(t.Yc.bind(t),1e3*Math.max(Math.max(3,t.v)-n,0)))}function Dn(e,t,n){t=t||{contentType:"",mimeType:"",codecs:"",frameRate:void 0},n=n||t.O;var r=ft(e,"BaseURL").map(pt),i=e.getAttribute("contentType")||t.contentType,a=e.getAttribute("mimeType")||t.mimeType,o=e.getAttribute("codecs")||t.codecs,s=ht(e,"frameRate",bt)||t.frameRate;return i||(i=Mn(a,o)),{O:Mt(n,r),Ia:gt(e,"SegmentBase")||t.Ia,$:gt(e,"SegmentList")||t.$,Ja:gt(e,"SegmentTemplate")||t.Ja,width:ht(e,"width",Ct)||t.width,height:ht(e,"height",Ct)||t.height,contentType:i,mimeType:a,codecs:o,frameRate:s,id:e.getAttribute("id")}}function kn(e){var t;return t=0+(e.Ia?1:0),t+=e.$?1:0,(t+=e.Ja?1:0)?(1!=t&&(e.Ia&&(e.$=null),e.Ja=null),!0):"text"==e.contentType||"application"==e.contentType}function Rn(e,t,n,r){return t=Mt(t,[n]),t=T(t,e.c.retryParameters),t.method=r,e.a.request(0,t).then(function(e){if("HEAD"==r){if(!e.headers||!e.headers.date)return 0;e=e.headers.date}else e=U(e.data);return e=Date.parse(e),isNaN(e)?0:e-Date.now()})}function _n(e,t,n,r){n=n.map(function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}});var i=e.c.dash.clockSyncUri;return r&&!n.length&&i&&n.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),E(n,function(e){var n=e.value;switch(e.scheme){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return Rn(this,t,n,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return Rn(this,t,n,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return e=Date.parse(n),isNaN(e)?0:e-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:return Promise.reject()}}.bind(e)).catch(function(){return 0})}function Mn(e,t){return Ea[We(e,t)]?"text":e.split("/")[0]}function Nn(e){this.b=e,this.a=0}function Ln(e,t){var n;return t.lastIndex=e.a,n=(n=t.exec(e.b))?{position:n.index,length:n[0].length,Kc:n}:null,e.a!=e.b.length&&n&&n.position==e.a?(e.a+=n.length,n.Kc):null}function On(e){return e.a==e.b.length?null:(e=Ln(e,/[^ \t\n]*/gm))?e[0]:null}function Pn(e,t){var n=U(e),r=[],i=new DOMParser,a=null;try{a=i.parseFromString(n,"text/xml")}catch(e){throw new l(2,2005)}if(a){var o,s;if(!(n=a.getElementsByTagName("tt")[0]))throw new l(2,2006);for(i=n.getAttribute("ttp:frameRate"),a=n.getAttribute("ttp:subFrameRate"),o=n.getAttribute("ttp:frameRateMultiplier"),s=n.getAttribute("ttp:tickRate"),i=new Fn(i,a,o,s),a=Pn.b(n.getElementsByTagName("styling")[0]),o=Pn.b(n.getElementsByTagName("layout")[0]),n=Pn.b(n.getElementsByTagName("body")[0]),s=0;s<n.length;s++){var A=Pn.c(n[s],t,i,a,o);A&&r.push(A)}}return r}function Fn(e,t,n,r){this.frameRate=Number(e)||30,this.b=Number(t)||1,this.a=Number(r),this.a||(this.a=e?this.frameRate*this.b:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=e[1]/e[2])}function Un(e,t){var n=new Pt(new DataView(e)),r=Jt(1835295092,n);if(-1!=r)return Pn(Ht(n,r-8).buffer,t);if(-1!=qt(e,Un.K))return[];throw new l(2,2007)}function xn(e,t,n,r,i){if(e=U(e),e=e.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n"),e=e.split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(e[0]))throw new l(2,2e3);r=[];for(var a=1;a<e.length;a++){var o=e[a].split("\n");(o=xn.c(o,t,n,i))&&r.push(o)}return r}function Gn(e,t,n,r){var i=new Pt(new DataView(e)),a=Jt(1835295092,i);if(-1!=a)return Gn.sa(Ht(i,a-8).buffer,t,n,r);if(-1!=qt(e,Gn.oa))return[];throw new l(2,2008)}function Vn(e,t,n,r,i,a){this.a=e,this.c=t,this.j=n,this.s=r,this.l=i,this.m=a,this.b=new R,this.h=!1,this.g=1,this.i=this.f=null,0<e.readyState?this.xb():_(this.b,e,"loadedmetadata",this.xb.bind(this)),_(this.b,e,"ratechange",this.rc.bind(this)),Kn(this)}function Hn(e){return 0<e.a.readyState?Zn(e,e.a.currentTime):jn(e)}function jn(e){return e.s?Zn(e,e.s):1/0>e.c.fa()?e.c.ta():Math.max(e.c.Wa(),e.c.ta())}function Yn(e,t){t!=e.h&&(e.h=t,qn(e,e.g),e.l(t))}function Kn(t){Jn(t),t.i=e.setTimeout(t.vc.bind(t),250)}function Jn(t){t.i&&(e.clearTimeout(t.i),t.i=null)}function qn(t,n){null!=t.f&&(e.clearInterval(t.f),t.f=null),t.g=n,t.a.playbackRate=t.h||0>n?0:n,!t.h&&0>n&&(t.f=e.setInterval(function(){this.a.currentTime+=n/4}.bind(t),250))}function Wn(e,t){var n=e.c,r=n.ta(),i=n.Y();return n.T()&&1/0!=n.c?(n=r+1,r=n+e.j,t>=r&&t<=i||ve(e.a.buffered,t)&&t>=n&&t<=i?t:t>i?i:i<r&&t>=n&&t<=i?t:Math.min(r+2,i)):t<r?r:t>i?i:t}function zn(e,t,n){e.a.currentTime=n;var r=0,i=function(){!this.a||10<=r++||this.a.currentTime!=t||(this.a.currentTime=n,setTimeout(i,100))}.bind(e);setTimeout(i,100)}function Zn(e,t){var n=e.c.ta();return t<n?n:(n=e.c.Y(),t>n?n:t)}function Xn(e,t,n,r,i,a,o,s,l){this.m=e,this.c=t,this.K=n,this.a=r,this.G=i,this.v=a,this.j=o,this.w=s||null,this.A=l||null,this.h=null,this.i=1,this.C=Promise.resolve(),this.g=[],this.l={},this.b={},this.f=this.s=this.H=!1}function $n(e){return e.a.periods[Er(e,Hn(e.m))]}function er(e){return P(e.b,function(e){return e.Z||e.stream})}function tr(e,t){var n=e.b.video;if(n){var r=n.stream;if(r)if(t){var i=r.trickModeVideo;if(i){var a=n.Z;a||(nr(e,"video",i,!1),n.Z=r)}}else(a=n.Z)&&(n.Z=null,nr(e,"video",a,!0))}}function nr(e,t,n,r){var i=e.b[t];!i&&"text"==t&&e.h.ignoreTextStreamFailures?rr(e,{text:n}):i&&(i.Z&&(n.trickModeVideo?(i.Z=n,n=n.trickModeVideo):i.Z=null),"text"==t&&Be(e.c,We(n.mimeType,n.codecs)),(t=e.g[Ir(e,n)])&&t.za&&(t=e.l[n.id])&&t.za&&i.stream!=n&&(i.stream=n,i.Oa=!0,r&&(i.ca?i.Sa=!0:i.ha?(i.ma=!0,i.Sa=!0):(br(i),vr(e,i,!0)))))}function rr(e,t){var n=Er(e,Hn(e.m)),r=P(t,function(e){return We(e.mimeType,e.codecs)});return e.c.init(r,e.h.useRelativeCueTimestamps),or(e),r=O(t),ar(e,r).then(function(){if(!this.f)for(var e in t){var r=t[e];this.b[e]||(this.b[e]={stream:r,type:e,va:null,W:null,Z:null,Oa:!0,Pa:n,endOfStream:!1,ha:!1,ba:null,ma:!1,Sa:!1,ca:!1,fb:!1},Cr(this,this.b[e],0))}}.bind(e))}function ir(e,t){var n=e.g[t];if(n)return n.J;n={J:new w,za:!1},e.g[t]=n;var r=e.a.periods[t].variants.map(function(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),e.video&&e.video.trickModeVideo&&t.push(e.video.trickModeVideo),t}).reduce(I,[]).filter(b);return r.push.apply(r,e.a.periods[t].textStreams),e.C=e.C.then(function(){if(!this.f)return ar(this,r)}.bind(e)).then(function(){this.f||(this.g[t].J.resolve(),this.g[t].za=!0)}.bind(e)).catch(function(e){this.f||(this.g[t].J.reject(),delete this.g[t],this.j(e))}.bind(e)),n.J}function ar(e,t){t.map(function(e){return e.id}).filter(b);for(var n=[],r=0;r<t.length;++r){var i=t[r],a=e.l[i.id];a?n.push(a.J):(e.l[i.id]={J:new w,za:!1},n.push(i.createSegmentIndex()))}return Promise.all(n).then(function(){if(!this.f)for(var e=0;e<t.length;++e){var n=this.l[t[e].id];n.za||(n.J.resolve(),n.za=!0)}}.bind(e)).catch(function(e){if(!this.f)return this.l[i.id].J.reject(),delete this.l[i.id],Promise.reject(e)}.bind(e))}function or(e){var t=e.a.presentationTimeline.fa();1/0>t?e.c.Ba(t):e.c.Ba(Math.pow(2,32))}function sr(e,t){var n=Hn(e.m),r=t.va&&t.W?e.a.periods[Ir(e,t.va)].startTime+t.W.endTime:n,i=Ir(e,t.stream),a=Er(e,r),o=e.a.periods[a],s=Se(e.c,t.type),l=null;return i==a&&(l=lr(e,t,n,s,a)),(l?o.startTime+l.startTime-n:Qe(e.c,t.type,n))>=Math.max(e.i*Math.max(e.a.minBufferTime||0,e.h.rebufferingGoal),e.i*e.h.bufferingGoal)?.5:r>=e.a.presentationTimeline.fa()?(t.endOfStream=!0,null):(t.endOfStream=!1,a!=i?(t.Pa=a,null):(r=Se(e.c,t.type),(r=lr(e,t,n,r,i))?(dr(e,t,n,i,r),null):1))}function lr(e,t,n,r,i){if(t.W&&t.stream==t.va)return n=t.W.position+1,Ar(e,t,i,n);if(null==(n=t.W?t.stream.findSegmentPosition(Math.max(0,e.a.periods[Ir(e,t.va)].startTime+t.W.endTime-e.a.periods[i].startTime)):t.stream.findSegmentPosition(Math.max(0,(r||n)-e.a.periods[i].startTime))))return null;var a=null;return null==r&&(a=Ar(e,t,i,Math.max(0,n-1))),a||Ar(e,t,i,n)}function Ar(e,t,n,r){return n=e.a.periods[n],(t=t.stream.getSegmentReference(r))?(e=e.a.presentationTimeline,r=e.Y(),n.startTime+t.endTime<e.ua()||n.startTime+t.startTime>r?null:t):null}function dr(e,t,n,r,i){var a=e.a.periods[r],o=t.stream,s=e.a.periods[r+1],l=null,l=s?s.startTime:e.a.presentationTimeline.fa();r=ur(e,t,r,l),t.ha=!0,t.Oa=!1,s=yr(e,i),Promise.all([r,s]).then(function(e){if(!this.f&&!this.s)return gr(this,t,n,a,o,i,e[1])}.bind(e)).then(function(){this.f||this.s||(t.ha=!1,t.fb=!1,Cr(this,t,0),pr(this,o))}.bind(e)).catch(function(e){this.f||this.s||(t.ha=!1,1001==e.code||1002==e.code||1003==e.code?"text"==t.type&&this.h.ignoreTextStreamFailures&&1001==e.code?delete this.b.text:(this.j(e),Cr(this,t,4)):3017==e.code?cr(this,t,e):"text"==t.type&&this.h.ignoreTextStreamFailures?delete this.b.text:this.j(e))}.bind(e))}function cr(e,t,n){if(!O(e.b).some(function(e){return e!=t&&e.fb})){var r=Math.round(100*e.i);if(20<r)e.i-=.2;else{if(!(4<r))return e.s=!0,void e.j(n);e.i-=.04}t.fb=!0}Cr(e,t,4)}function ur(e,t,n,r){return t.Oa?(n=Re(e.c,t.type,e.a.periods[n].startTime-t.stream.presentationTimeOffset),r=null!=r?_e(e.c,t.type,r):Promise.resolve(),t.stream.initSegmentReference?(e=yr(e,t.stream.initSegmentReference).then(function(e){if(!this.f)return De(this.c,t.type,e,null,null)}.bind(e)).catch(function(e){return t.Oa=!0,Promise.reject(e)}),Promise.all([n,r,e])):Promise.all([n,r])):Promise.resolve()}function gr(e,t,n,r,i,a,o){return fr(e,t,n).then(function(){if(!this.f)return De(this.c,t.type,o,a.startTime+r.startTime,a.endTime+r.startTime)}.bind(e)).then(function(){if(!this.f)return t.va=i,t.W=a,Promise.resolve()}.bind(e))}function fr(e,t,n){var r=we(e.c,t.type);return null==r?Promise.resolve():(n=n-r-e.h.bufferBehind,0>=n?Promise.resolve():e.c.remove(t.type,r,r+n).then(function(){}.bind(e)))}function pr(e,t){if(!e.H&&(e.H=O(e.b).every(function(e){return"text"==e.type||!e.ma&&!e.ca&&e.W}),e.H)){var n=Ir(e,t);for(e.g[n]||ir(e,n).then(function(){this.v()}.bind(e)).catch(y),n=0;n<e.a.periods.length;++n)ir(e,n).catch(y);e.A&&e.A()}}function hr(e,t){if(t.Pa!=Ir(e,t.stream)){var n=t.Pa,r=O(e.b);r.every(function(e){return e.Pa==n})&&r.every(mr)&&ir(e,n).then(function(){if(!this.f){var e,t=this.G(this.a.periods[n]);for(e in this.b)if(!t[e])return void this.j(new l(5,5005));for(e in t)if(!(this.b[e]||"text"==e&&this.h.ignoreTextStreamFailures))return void this.j(new l(5,5005));for(e in this.b){nr(this,e,t[e],!1);var r=this.b[e];mr(r)&&Cr(this,r,0)}this.v()}}.bind(e)).catch(y)}}function mr(e){return!e.ha&&null==e.ba&&!e.ma&&!e.ca}function Er(e,t){for(var n=e.a.periods.length-1;0<n;--n)if(t>=e.a.periods[n].startTime)return n;return 0}function Ir(e,t){for(var n=0;n<e.a.periods.length;++n){var r=e.a.periods[n];if("text"==t.type){for(var i=0;i<r.textStreams.length;++i)if(r.textStreams[i]==t)return n}else for(i=0;i<r.variants.length;++i){var a=r.variants[i];if(a.audio==t||a.video==t||a.video&&a.video.trickModeVideo==t)return n}}return-1}function yr(e,t){var n=T(t.a(),e.h.retryParameters);if(t.N||null!=t.D){var r="bytes="+t.N+"-";null!=t.D&&(r+=t.D),n.headers.Range=r}return e.K.request(1,n).then(function(e){return e.data})}function vr(e,t,n){t.ma=!1,t.Sa=!1,t.ca=!0,ke(e.c,t.type).then(function(){if(!this.f&&n){var e=this.c,r=t.type;return"text"==r?Promise.resolve():Me(e,r,e.Yb.bind(e,r))}}.bind(e)).then(function(){this.f||(t.va=null,t.W=null,t.ca=!1,t.endOfStream=!1,Cr(this,t,0))}.bind(e))}function Cr(t,n,r){n.ba=e.setTimeout(t.S.bind(t,n),1e3*r)}function br(t){null!=t.ba&&(e.clearTimeout(t.ba),t.ba=null)}function Br(t){return new Promise(function(n){var r=t.split(":");if(2>r.length||"data"!=r[0])throw new l(1,1004,t);if(r=r.slice(1).join(":").split(","),2>r.length)throw new l(1,1004,t);var i=r[0],r=e.decodeURIComponent(r.slice(1).join(",")),i=i.split(";"),a=null;if(1<i.length&&(a=i[1]),"base64"==a)r=J(r).buffer;else{if(a)throw new l(1,1005,t);r=V(r)}n({uri:t,data:r,headers:{"content-type":i[0]}})})}function wr(e,t){return new Promise(function(n,r){var i=new XMLHttpRequest;i.open(t.method,e,!0),i.responseType="arraybuffer",i.timeout=t.retryParameters.timeout,i.withCredentials=t.allowCrossSiteCredentials,i.onload=function(t){if(t=t.target,200<=t.status&&299>=t.status&&202!=t.status){var i=t.getAllResponseHeaders().split("\r\n").reduce(function(e,t){var n=t.split(": ");return e[n[0].toLowerCase()]=n.slice(1).join(": "),e},{});t.responseURL&&(e=t.responseURL),n({uri:e,data:t.response,headers:i})}else{i=null;try{i=G(t.response)}catch(e){}r(new l(1,1001,e,t.status,i))}},i.onerror=function(){r(new l(1,1002,e))},i.ontimeout=function(){r(new l(1,1003,e))};for(var a in t.headers)i.setRequestHeader(a,t.headers[a]);i.send(t.body)})}function Sr(){this.a=null,this.c=[],this.b={}}function Qr(e,t,n){return kr(e,t,"readwrite",function(e){return e.put(n)})}function Tr(e,t){var n=[];return kr(e,"segment","readwrite",function(e){return e.openCursor()},function(e){if(e){if(t(e.value)){var r=e.delete(),i=new w;r.onsuccess=i.resolve,r.onerror=Rr.bind(null,r,i),n.push(i)}e.continue()}}).then(function(){return Promise.all(n)}).then(function(){return n.length})}function Dr(e,t){var n=0;return kr(e,t,"readonly",function(e){return e.openCursor(null,"prev")},function(e){e&&(n=e.key+1)}).then(function(){return n})}function kr(e,t,n,r,i){n=e.a.transaction([t],n);var a=r(n.objectStore(t)),o=new w;i&&(a.onsuccess=function(e){i(e.target.result)}),a.onerror=Rr.bind(null,a,o);var s={transaction:n,J:o};e.c.push(s);var l=function(){this.c.splice(this.c.indexOf(s),1)}.bind(e);return n.oncomplete=function(){l(),o.resolve(a.result)},n.onerror=function(e){l(),Rr(a,o,e)},o}function Rr(e,t,n){"AbortError"==e.error.name?t.reject(new l(9,9002)):t.reject(new l(9,9001,e.error)),n.preventDefault()}function _r(e){var t=Mr(e.periods[0],[],new yn(null,0)),t=Ve(t,{});return{offlineUri:"offline:"+e.key,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,tracks:t,appMetadata:e.appMetadata}}function Mr(e,t,n){var r=e.streams.filter(function(e){return"text"==e.contentType});return t=Lr(e.streams.filter(function(e){return"audio"==e.contentType}),e.streams.filter(function(e){return"video"==e.contentType}),t),r=r.map(Pr),e.streams.forEach(function(t){t=Nr(t),n.Ha(e.startTime,t)}),{startTime:e.startTime,variants:t,textStreams:r}}function Nr(e){return e.segments.map(function(e,t){return new kt(t,e.startTime,e.endTime,function(){return[e.uri]},0,null)})}function Lr(e,t,n){var r=[];if(!e.length&&!t.length)return r;e.length?t.length||(t=[null]):e=[null];for(var i=0,a=0;a<e.length;a++)for(var o=0;o<t.length;o++)if(Or(e[a],t[o])){var s;s=e[a];var l=t[o],A=n;s={id:i++,language:s?s.language:"",primary:!!s&&s.primary||!!l&&l.primary,audio:Pr(s),video:Pr(l),bandwidth:0,drmInfos:A,allowedByApplication:!0,allowedByKeySystem:!0},r.push(s)}return r}function Or(e,t){if(!(e&&t&&e.variantIds&&t.variantIds))return!0;for(var n=0;n<e.variantIds.length;n++)if(t.variantIds.some(function(t){return t==e.variantIds[n]}))return!0;return!1}function Pr(e){if(!e)return null;var t=Nr(e),t=new zt(t);return{id:e.id,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:t.find.bind(t),getSegmentReference:t.get.bind(t),initSegmentReference:e.initSegmentUri?new Dt(function(){return[e.initSegmentUri]},0,null):null,presentationTimeOffset:e.presentationTimeOffset,mimeType:e.mimeType,codecs:e.codecs,width:e.width||void 0,height:e.height||void 0,frameRate:e.frameRate||void 0,kind:e.kind,encrypted:e.encrypted,keyId:e.keyId,language:e.language,type:e.contentType,primary:e.primary,trickModeVideo:null}}function Fr(e,t,n){this.b={},this.i=n,this.m=e,this.l=t,this.j=this.a=null,this.f=this.h=this.g=this.c=0}function Ur(e,t,n,r,i){e.b[t]=e.b[t]||[],e.b[t].push({uris:n.a(),N:n.N,D:n.D,nb:r,Fa:i})}function xr(e,t){e.c=0,e.g=0,e.h=0,e.f=0,O(e.b).forEach(function(e){e.forEach(function(e){null!=e.D?this.c+=e.D-e.N+1:this.h+=e.nb}.bind(this))}.bind(e)),e.a=t,e.a.size=e.c;var n=O(e.b).map(function(e){var t=0,n=function(){return this.i?t>=e.length?Promise.resolve():Gr(this,e[t++]).then(n):Promise.reject(new l(9,9002))}.bind(this);return n()}.bind(e));return e.b={},e.j=Promise.all(n)}function Gr(e,t){var n=T(t.uris,e.l);(t.N||null!=t.D)&&(n.headers.Range="bytes="+t.N+"-"+(null==t.D?"":t.D));var r;return e.m.request(1,n).then(function(e){return this.a?(r=e.data.byteLength,t.Fa(e.data)):Promise.reject(new l(9,9002))}.bind(e)).then(function(){if(!this.a)return Promise.reject(new l(9,9002));null==t.D?(this.a.size+=r,this.f+=t.nb):this.g+=r;var e=(this.g+this.f)/(this.c+this.h),n=_r(this.a);this.i.progressCallback(n,e)}.bind(e))}function Vr(){}function Hr(e){var t=new yn(null,0);t.Ba(e.duration);var n=e.drmInfo?[e.drmInfo]:[];return{presentationTimeline:t,minBufferTime:10,offlineSessionIds:e.sessionIds,periods:e.periods.map(function(e){return Mr(e,n,t)})}}function jr(e){if(/^offline:([0-9]+)$/.exec(e)){var t={uri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}};return Promise.resolve(t)}if(t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e)){var n=Number(t[1]),r=new Sr;return r.init(Fa).then(function(){return r.get("segment",n)}).then(function(t){return r.o().then(function(){if(!t)throw new l(9,9003,n);return{uri:e,data:t.data,headers:{}}})})}return Promise.reject(new l(1,9004,e))}function Yr(){this.a=Promise.resolve(),this.c=this.b=this.f=!1,this.h=new Promise(function(e){this.g=e}.bind(this))}function Kr(e){return e.f||(e.a=e.a.then(function(e){return this.b=!0,Promise.resolve(e)}.bind(e),function(e){return this.b=!0,Promise.reject(e)}.bind(e))),e.f=!0,e.a}function Jr(e,t,n,r,i){var a,o=i in r;for(a in t){var s=i+"."+a,l=o?r[i]:n[a],A=!!{".abr.manager":!0}[s];(o||a in e)&&(void 0===t[a]?void 0===l||o?delete e[a]:e[a]=l:A?e[a]=t[a]:"object"==typeof e[a]&&"object"==typeof t[a]?Jr(e[a],t[a],l,r,s):typeof t[a]==typeof l&&(e[a]=t[a]))}}function qr(e,t){at.call(this),this.w=!1,this.f=e,this.s=null,this.A=new R,this.La=new ze,this.pa=this.c=this.m=this.b=this.j=this.qa=this.G=this.h=this.g=this.i=null,this.Ob=1e9,this.oa=[],this.Ea=!1,this.sa=!0,this.H=this.l=null,this.v={},this.a=ei(this),this.Da={width:1/0,height:1/0},this.C=[],this.na=this.K=this.ra=0,t&&t(this),this.i=new S(this.Uc.bind(this)),this.qa=Wr(this);for(var n=0;n<this.f.textTracks.length;++n){var r=this.f.textTracks[n];r.mode="disabled","Shaka Player TextTrack"==r.label&&(this.s=r)}this.s||(this.s=this.f.addTextTrack("subtitles","Shaka Player TextTrack")),this.s.mode="hidden",_(this.A,this.f,"error",this.uc.bind(this))}function Wr(t){t.h=new MediaSource;var n=new w;return _(t.A,t.h,"sourceopen",n.resolve),t.f.src=e.URL.createObjectURL(t.h),n}function zr(e){if(e.m&&e.m.configure(e.a.manifest),e.g&&e.g.configure(e.a.drm),e.b){e.b.configure(e.a.streaming);try{e.c.periods.forEach(e.Qa.bind(e))}catch(t){e.ia(t)}ii(e,$n(e.b))}e.a.abr.enabled&&!e.sa?e.a.abr.manager.enable():e.a.abr.manager.disable(),e.a.abr.manager.setDefaultEstimate(e.a.abr.defaultBandwidthEstimate),e.a.abr.manager.setRestrictions(e.a.abr.restrictions)}function Zr(e){e.A&&e.A.aa(e.h,"sourceopen"),e.f&&(e.f.removeAttribute("src"),e.f.load());var t=Promise.all([e.a?e.a.abr.manager.stop():null,e.g?e.g.o():null,e.G?e.G.o():null,e.j?e.j.o():null,e.b?e.b.o():null,e.m?e.m.stop():null]);return e.g=null,e.G=null,e.j=null,e.b=null,e.m=null,e.c=null,e.pa=null,e.qa=null,e.h=null,e.v={},e.C=[],e.ra=0,e.K=0,t}function Xr(e){return e.m?Zr(e).then(function(){this.w||(this.Mb(!1),this.qa=Wr(this))}.bind(e)):Promise.resolve()}function $r(){return{".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:null}}}function ei(e){return{drm:{retryParameters:Q(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},manifest:{retryParameters:Q(),dash:{customScheme:function(e){if(e)return null},clockSyncUri:""}},streaming:{retryParameters:Q(),rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,useRelativeCueTimestamps:!1},abr:{manager:e.La,enabled:!0,defaultBandwidthEstimate:5e5,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}}}function ti(e,t,n){for(var r in t){var i=t[r],a=n||!1;"text"==r&&(a=!0),e.sa?e.v[r]={stream:i,Vb:a}:nr(e.b,r,i,a)}}function ni(e){if(e.c){var t=Date.now()/1e3;e.Ea?e.K+=t-e.na:e.ra+=t-e.na,e.na=t}}function ri(e,t,n,r,i){if(!n||1>n.length)return e.ia(new l(4,4012)),{};e.a.abr.manager.setVariants(n),e.a.abr.manager.setTextStreams(r);var a=[];if(i&&(a=["video","audio"],t.textStreams.length&&a.push("text")),i=er(e.b),t=qe(i.audio,i.video,t.variants)){t.allowedByApplication&&t.allowedByKeySystem||(a.push("audio"),a.push("video"));for(var o in i)t=i[o],"audio"==t.type&&t.language!=n[0].language?a.push(o):"text"==t.type&&0<r.length&&t.language!=r[0].language&&a.push(o)}if(a.filter(b),0<a.length){n={};try{n=e.a.abr.manager.chooseStreams(a)}catch(t){e.ia(t)}return n}return{}}function ii(e,t){var n,r={audio:!1,text:!1},i=Ke(t,e.a,r),a=Je(t,e.a,r),i=ri(e,t,i,a);for(n in i)e.C.push({timestamp:Date.now()/1e3,id:i[n].id,type:n,fromAdaptation:!0});ti(e,i,!0),ai(e),i.text&&i.audio&&r.text&&i.text.language!=i.audio.language&&(e.s.mode="showing",si(e))}function ai(e){Promise.resolve().then(function(){this.w||this.dispatchEvent(new Xe("adaptation"))}.bind(e))}function oi(e){Promise.resolve().then(function(){this.w||this.dispatchEvent(new Xe("trackschanged"))}.bind(e))}function si(e){e.dispatchEvent(new Xe("texttrackvisibility"))}function li(e){this.a=new Sr,this.b=e,this.i=ci(this),this.h=null,this.v=!1,this.j=null,this.l=[],this.f=-1,this.m=0,this.c=null,this.g=new Fr(e.i,e.getConfiguration().streaming.retryParameters,this.i)}function Ai(){return!!e.indexedDB}function di(e,t,n,r){function i(){}var a,o,s,l=e.b.i,A=e.b.getConfiguration();return In(t,l,A.manifest.retryParameters,r).then(function(e){return hi(this),s=new e,s.configure(A.manifest),s.start(t,l,this.s.bind(this),n)}.bind(e)).then(function(e){return hi(this),a=e,o=new Z(l,n,i),o.configure(A.drm),o.init(a,!0)}.bind(e)).then(function(){return hi(this),fi(a)}.bind(e)).then(function(){return hi(this),ee(o)}.bind(e)).then(function(){return hi(this),s.stop()}.bind(e)).then(function(){return hi(this),{manifest:a,Wb:o}}.bind(e)).catch(function(e){if(s)return s.stop().then(function(){throw e});throw e})}function ci(e){return{trackSelectionCallback:e.A.bind(e),progressCallback:function(e,t){if(e||t)return null}}}function ui(e){return e.a.a?Promise.resolve():e.a.init(Fa)}function gi(e){var t=e.h?e.h.o():Promise.resolve();return e.h=null,e.c=null,e.v=!1,e.j=null,e.l=[],e.f=-1,t}function fi(e){var t=e.periods.map(function(e){return e.variants}).reduce(I,[]).map(function(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),t}).reduce(I,[]).filter(b);return e=e.periods.map(function(e){return e.textStreams}).reduce(I,[]),t.push.apply(t,e),Promise.all(t.map(function(e){return e.createSegmentIndex()}))}function pi(e,t,n,r,i){for(var a=[],o=e.c.presentationTimeline.ta(),s=o,l=n.findSegmentPosition(o),A=null!=l?n.getSegmentReference(l):null;A;){var d=e.a.b.segment++;Ur(e.g,n.type,A,(A.endTime-A.startTime)*r/8,function(e,t,n,r){return t={key:e,data:r,manifestKey:this.f,streamNumber:n,segmentNumber:t},this.l.push(e),Qr(this.a,"segment",t)}.bind(e,d,A.position,n.id)),a.push({startTime:A.startTime,endTime:A.endTime,uri:"offline:"+e.f+"/"+n.id+"/"+d}),s=A.endTime+t.startTime,A=n.getSegmentReference(++l)}return e.m=Math.max(e.m,s-o),t=null,n.initSegmentReference&&(d=e.a.b.segment++,t="offline:"+e.f+"/"+n.id+"/"+d,Ur(e.g,n.contentType,n.initSegmentReference,0,function(e,t){var n={key:d,data:t,manifestKey:this.f,streamNumber:e,segmentNumber:-1};return this.l.push(d),Qr(this.a,"segment",n)}.bind(e,n.id))),e=[],null!=i&&e.push(i),{id:n.id,primary:n.primary,presentationTimeOffset:n.presentationTimeOffset||0,contentType:n.type,mimeType:n.mimeType,codecs:n.codecs,frameRate:n.frameRate,kind:n.kind,language:n.language,width:n.width||null,height:n.height||null,initSegmentUri:t,encrypted:n.encrypted,keyId:n.keyId,segments:a,variantIds:e}}function hi(e){if(!e.b)throw new l(9,9002)}function mi(e){xa.push(e)}function Ei(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),t=new Event(t,e);e.target.dispatchEvent(t)}function Ii(e){for(this.c=[],this.b=[],this.a=[],e=new Pt(new DataView(e.buffer));Ft(e);){var t=Jt(1886614376,e);if(-1==t)break;var n=e.a-8,r=Ut(e);if(1<r)jt(e,t-(e.a-n));else{jt(e,3);var i=W(Ht(e,16)),a=[];if(0<r)for(var r=Gt(e),o=0;o<r;++o){var s=W(Ht(e,16));a.push(s)}r=Gt(e),jt(e,r),this.b.push.apply(this.b,a),this.c.push(i),this.a.push({start:n,end:e.a-1}),e.a!=n+t&&jt(e,t-(e.a-n))}}}function yi(e,t){try{var n=new vi(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function vi(e,t){this.keySystem=e;for(var n=!1,r=0;r<t.length;++r){var i=t[r],a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label},o=!1;if(i.audioCapabilities)for(var s=0;s<i.audioCapabilities.length;++s){var l=i.audioCapabilities[s];if(l.contentType){var o=!0,A=l.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,A)&&(a.audioCapabilities.push(l),n=!0)}}if(i.videoCapabilities)for(s=0;s<i.videoCapabilities.length;++s)l=i.videoCapabilities[s],l.contentType&&(o=!0,A=l.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,A)&&(a.videoCapabilities.push(l),n=!0));if(o||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(a.persistentState="required",a.sessionTypes=["persistent-license"]),n)return void(this.a=a)}throw n=Error("Unsupported keySystem"),n.name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Ci(e){var t=this.mediaKeys;return t&&t!=e&&Bi(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Bi(e,this):Promise.resolve()}function bi(e){this.a=new MSMediaKeys(e),this.b=new R}function Bi(e,t){function n(){t.msSetMediaKeys(r.a),
t.removeEventListener("loadedmetadata",n)}if(M(e.b),!t)return Promise.resolve();_(e.b,t,"msneedkey",Si);var r=e;try{return 1<=t.readyState?t.msSetMediaKeys(e.a):t.addEventListener("loadedmetadata",n),Promise.resolve()}catch(e){return Promise.reject(e)}}function wi(e){at.call(this),this.c=null,this.g=e,this.b=this.a=null,this.f=new R,this.sessionId="",this.expiration=NaN,this.closed=new w,this.keyStatuses=new Di}function Si(e){var t=document.createEvent("CustomEvent");if(t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="cenc",e=e.initData){var n=new Ii(e);if(!(1>=n.a.length)){for(var r=[],i=0;i<n.a.length;i++)r.push(e.subarray(n.a[i].start,n.a[i].end+1));for(i=Qi,e=[],n=0;n<r.length;++n){for(var a=!1,o=0;o<e.length&&!(a=i?i(r[n],e[o]):r[n]===e[o]);++o);a||e.push(r[n])}for(i=r=0;i<e.length;i++)r+=e[i].length;for(r=new Uint8Array(r),i=n=0;i<e.length;i++)r.set(e[i],n),n+=e[i].length;e=r}}t.initData=e,this.dispatchEvent(t)}function Qi(e,t){return z(e,t)}function Ti(e,t){e.keyStatuses.ib(t),e.dispatchEvent(new Xe("keystatuseschange"))}function Di(){this.size=0,this.a=void 0}function ki(){return Promise.reject(Error("The key system specified is not supported."))}function Ri(e){return e?Promise.reject(Error("MediaKeys not supported.")):Promise.resolve()}function _i(){throw new TypeError("Illegal constructor.")}function Mi(){throw new TypeError("Illegal constructor.")}function Ni(t){Va=t,Ha=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=Oi,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Pi,e.MediaKeys=Ui,e.MediaKeySystemAccess=Fi}function Li(e){var t=Va;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function Oi(e,t){try{var n=new Fi(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function Pi(e){var t=this.mediaKeys;return t&&t!=e&&xi(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&xi(e,this),Promise.resolve()}function Fi(e,t){this.a=this.keySystem=e;var n=!0;"org.w3.clearkey"==e&&(this.a="webkit-org.w3.clearkey",n=!1);var r,i=!1;r=document.getElementsByTagName("video"),r=r.length?r[0]:document.createElement("video");for(var a=0;a<t.length;++a){var o=t[a],s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},l=!1;if(o.audioCapabilities)for(var A=0;A<o.audioCapabilities.length;++A){var d=o.audioCapabilities[A];if(d.contentType){var l=!0,c=d.contentType.split(";")[0];r.canPlayType(c,this.a)&&(s.audioCapabilities.push(d),i=!0)}}if(o.videoCapabilities)for(A=0;A<o.videoCapabilities.length;++A)d=o.videoCapabilities[A],d.contentType&&(l=!0,r.canPlayType(d.contentType,this.a)&&(s.videoCapabilities.push(d),i=!0));if(l||(i=r.canPlayType("video/mp4",this.a)||r.canPlayType("video/webm",this.a)),"required"==o.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):i=!1),i)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),n=Error(n),n.name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Ui(e){this.h=e,this.b=null,this.a=new R,this.c=[],this.f={}}function xi(e,t){e.b=t,M(e.a);var n=Va;t&&(_(e.a,t,n+"needkey",e.zc.bind(e)),_(e.a,t,n+"keymessage",e.yc.bind(e)),_(e.a,t,n+"keyadded",e.wc.bind(e)),_(e.a,t,n+"keyerror",e.xc.bind(e)))}function Gi(e,t){var n=e.f[t];return n||((n=e.c.shift())?(n.sessionId=t,e.f[t]=n):null)}function Vi(e,t,n){at.call(this),this.f=e,this.i=!1,this.a=this.b=null,this.c=t,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new w,this.keyStatuses=new Yi}function Hi(e,t,n){if(e.i)return Promise.reject(Error("The session is already initialized."));e.i=!0;var r;try{if("persistent-license"==e.g)if(n)r=new Uint8Array(V("LOAD_SESSION|"+n));else{var i=V("PERSISTENT|"),a=new Uint8Array(i.byteLength+t.byteLength);a.set(new Uint8Array(i),0),a.set(new Uint8Array(t),i.byteLength),r=a}else r=new Uint8Array(t)}catch(e){return Promise.reject(e)}e.b=new w;var o=Li("generateKeyRequest");try{e.f[o](e.c,r)}catch(t){if("InvalidStateError"!=t.name)return e.b=null,Promise.reject(t);setTimeout(function(){try{this.f[o](this.c,r)}catch(e){this.b.reject(e),this.b=null}}.bind(e),10)}return e.b}function ji(e,t){e.keyStatuses.ib(t),e.dispatchEvent(new Xe("keystatuseschange"))}function Yi(){this.size=0,this.a=void 0}function Ki(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,arguments);return t.abort=function(){},t}}function Ji(){var e=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(){for(var t=0,n=0;n<this.sourceBuffers.length;++n)var r=this.sourceBuffers[n],r=r.buffered.end(r.buffered.length-1),t=Math.max(t,r);if(!isNaN(this.duration)&&t<this.duration)for(this.tb=!0,n=0;n<this.sourceBuffers.length;++n)r=this.sourceBuffers[n],r.pb=!1;return e.apply(this,arguments)};var t=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var e=t.apply(this,arguments);return e.h=this,e.addEventListener("updateend",qi,!1),this.a||(this.addEventListener("sourceclose",Wi,!1),this.a=!0),e}}function qi(e){var t=e.target,n=t.h;if(n.tb){for(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t.pb=!0,e=0;e<n.sourceBuffers.length;++e)if(0==n.sourceBuffers[e].pb)return;n.tb=!1}}function Wi(e){e=e.target;for(var t=0;t<e.sourceBuffers.length;++t)e.sourceBuffers[t].removeEventListener("updateend",qi,!1);e.removeEventListener("sourceclose",Wi,!1)}function zi(e){if(this.c=[],this.b=[],this.ka=ja,e)try{e(this.X.bind(this),this.a.bind(this))}catch(e){this.a(e)}}function Zi(e){var t=new zi;return t.X(void 0),t.then(function(){return e})}function Xi(e){var t=new zi;return t.a(e),t}function $i(e){function t(e,t,n){e.ka==ja&&(i[t]=n,++r==i.length&&e.X(i))}var n=new zi;if(!e.length)return n.X([]),n;for(var r=0,i=Array(e.length),a=n.a.bind(n),o=0;o<e.length;++o)e[o]&&e[o].then?e[o].then(t.bind(null,n,o),a):t(n,o,e[o]);return n}function ea(e){for(var t=new zi,n=t.X.bind(t),r=t.a.bind(t),i=0;i<e.length;++i)e[i]&&e[i].then?e[i].then(n,r):n(e[i]);return t}function ta(e,t,n){Ka.push(function(){if(n&&"function"==typeof n){try{var e=n(this.Ra)}catch(e){return void t.a(e)}var r;try{r=e&&e.then}catch(e){return void t.a(e)}e instanceof zi?e==t?t.a(new TypeError("Chaining cycle detected")):e.then(t.X.bind(t),t.a.bind(t)):r?na(e,r,t):t.X(e)}else 1==this.ka?t.X(this.Ra):t.a(this.Ra)}.bind(e)),null==Ya&&(Ya=ia(ra))}function na(e,t,n){try{var r=!1;t.call(e,function(e){if(!r){r=!0;var t;try{t=e&&e.then}catch(e){return void n.a(e)}t?na(e,t,n):n.X(e)}},n.a.bind(n))}catch(e){n.a(e)}}function ra(){for(;Ka.length;){null!=Ya&&(aa(Ya),Ya=null);var e=Ka;Ka=[];for(var t=0;t<e.length;++t)e[t]()}}function ia(){return 0}function aa(){}function oa(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function sa(t,n,r){return new e.TextTrackCue(t,n,r)}function la(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)}var Aa,da=this;da.jd=!0,o.prototype.setDefaultEstimate=function(e){this.b=e},o.prototype.getBandwidthEstimate=function(){return 128e3>this.a?this.b:Math.min(a(this.c),a(this.f))},t("shaka.util.Error",l),l.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},l.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},l.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_TTML:2006,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7e3,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,INDEXED_DB_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007};var ca=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;Aa=A.prototype,Aa.U="",Aa.la="",Aa.V="",Aa.ya=null,Aa.R="",Aa.ea="",Aa.toString=function(){var e=[],t=this.U;if(t&&e.push(f(t,ua,!0),":"),t=this.V){e.push("//");var n=this.la;n&&e.push(f(n,ua,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.ya,null!=t&&e.push(":",String(t))}return(t=this.R)&&(this.V&&"/"!=t.charAt(0)&&e.push("/"),e.push(f(t,"/"==t.charAt(0)?fa:ga,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.ea)&&e.push("#",f(t,ha)),e.join("")},Aa.resolve=function(e){var t=new A(this);"data"===t.U&&(t=new A);var n=!!e.U;n?d(t,e.U):n=!!e.la,n?t.la=e.la:n=!!e.V,n?t.V=e.V:n=null!=e.ya;var r=e.R;if(n)c(t,e.ya);else if(n=!!e.R){if("/"!=r.charAt(0))if(this.V&&!this.R)r="/"+r;else{var i=t.R.lastIndexOf("/");-1!=i&&(r=t.R.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){for(var i=!r.lastIndexOf("/",0),r=r.split("/"),a=[],o=0;o<r.length;){var s=r[o++];"."==s?i&&o==r.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(s),i=!0)}r=a.join("/")}}return n?t.R=r:n=""!==e.a.toString(),n?u(t,m(e.a)):n=!!e.ea,n&&(t.ea=e.ea),t};var ua=/[#\/\?@]/g,ga=/[\#\?:]/g,fa=/[\#\?]/g,pa=/[\#\?@]/g,ha=/#/g;h.prototype.a=null,h.prototype.c=null,h.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var e,t=[];for(e in this.a)for(var n=encodeURIComponent(e),r=this.a[e],i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),t.push(a)}return this.b=t.join("&")},t("shaka.util.IDestroyable",B),B.prototype.o=function(){},B.prototype.destroy=B.prototype.o,t("shaka.net.NetworkingEngine",S),S.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2};var ma={};S.registerScheme=function(e,t){ma[e]=t},S.unregisterScheme=function(e){delete ma[e]},S.prototype.Fc=function(e){this.b.push(e)},S.prototype.registerRequestFilter=S.prototype.Fc,S.prototype.dd=function(e){var t=this.b;0<=(e=t.indexOf(e))&&t.splice(e,1)},S.prototype.unregisterRequestFilter=S.prototype.dd,S.prototype.Tb=function(){this.b=[]},S.prototype.clearAllRequestFilters=S.prototype.Tb,S.prototype.Eb=function(e){this.c.push(e)},S.prototype.registerResponseFilter=S.prototype.Eb,S.prototype.Nb=function(e){var t=this.c;0<=(e=t.indexOf(e))&&t.splice(e,1)},S.prototype.unregisterResponseFilter=S.prototype.Nb,S.prototype.Ub=function(){this.c=[]},S.prototype.clearAllResponseFilters=S.prototype.Ub,S.prototype.o=function(){this.f=!0,this.b=[],this.c=[];for(var e=[],t=0;t<this.a.length;++t)e.push(this.a[t].catch(y));return Promise.all(e)},S.prototype.destroy=S.prototype.o,S.prototype.request=function(e,t){if(this.f)return Promise.reject();var n=Date.now(),r=this.b,i=Promise.resolve();return r.forEach(function(n){i=i.then(function(){return Promise.resolve(n(e,t))}.bind(this))}),i=i.catch(function(e){throw new l(1,1006,e)}),i=i.then(function(){for(var r=Date.now()-n,i=t.retryParameters||{},a=i.maxAttempts||1,o=i.backoffFactor||2,i=null==i.baseDelay?1e3:i.baseDelay,s=this.h(e,t,0,r),l=1;l<a;l++)s=s.catch(this.i.bind(this,e,t,i,l%t.uris.length,r)),i*=o;return s}.bind(this)),this.a.push(i),i.then(function(t){return 0<=this.a.indexOf(i)&&this.a.splice(this.a.indexOf(i),1),this.g&&1==e&&this.g(t.timeMs,t.data.byteLength),t}.bind(this)).catch(function(e){return 0<=this.a.indexOf(i)&&this.a.splice(this.a.indexOf(i),1),Promise.reject(e)}.bind(this))},S.prototype.request=S.prototype.request,S.prototype.h=function(e,t,n,r){if(this.f)return Promise.reject();var i=new A(t.uris[n]),a=i.U;if(a||(a=location.protocol,a=a.slice(0,-1),d(i,a),t.uris[n]=i.toString()),!(a=ma[a]))return Promise.reject(new l(1,1e3,i));var o=Date.now();return a(t.uris[n],t,e).then(function(t){void 0===t.timeMs&&(t.timeMs=Date.now()-o);var n=Date.now(),i=this.c,a=Promise.resolve();return i.forEach(function(n){a=a.then(function(){return Promise.resolve(n(e,t))}.bind(this))}),a=a.catch(function(e){throw new l(1,1007,e)}),a.then(function(){return t.timeMs+=Date.now()-n,t.timeMs+=r,t})}.bind(this))},S.prototype.i=function(t,n,r,i,a){var o=new w,s=n.retryParameters||{};return e.setTimeout(o.resolve,r*(1+(2*Math.random()-1)*(null==s.fuzzFactor?.5:s.fuzzFactor))),o.then(this.h.bind(this,t,n,i,a))},k.prototype.push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},k.prototype.get=function(e){return(e=this.a[e])?e.slice():null},k.prototype.remove=function(e,t){var n=this.a[e];if(n)for(var r=0;r<n.length;++r)n[r]==t&&(n.splice(r,1),--r)},R.prototype.o=function(){return M(this),this.a=null,Promise.resolve()},R.prototype.aa=function(e,t){for(var n=this.a.get(t)||[],r=0;r<n.length;++r){var i=n[r];i.target==e&&(i.aa(),this.a.remove(t,i))}},N.prototype.aa=function(){this.target.removeEventListener(this.type,this.a,!1),this.a=this.target=null},j.prototype.cancel=function(){null!=this.a&&(clearTimeout(this.a),this.a=null)},Aa=Z.prototype,Aa.o=function(){this.c=!0;var e=this.a.map(function(e){return e.Aa.close().catch(y),e.Aa.closed});return this.l.reject(),this.f&&e.push(this.f.o()),this.i&&e.push(this.i.setMediaKeys(null).catch(y)),this.v&&this.v.cancel(),this.f=this.i=this.j=this.s=this.b=this.v=null,this.a=[],this.m=[],this.h=this.g=this.K=null,Promise.all(e)},Aa.configure=function(e){this.g=e},Aa.init=function(e,t){var n={},r=[];return this.H=t,this.m=e.offlineSessionIds,ne(this,e,t||0<e.offlineSessionIds.length,n,r),r.length?re(this,n,r):(this.A=!0,Promise.resolve())},Aa.keySystem=function(){return this.b?this.b.keySystem:""},Aa.jc=function(e){for(var t=new Uint8Array(e.initData),n=0;n<this.a.length;++n)if(z(t,this.a[n].initData))return;Ae(this,e.initDataType,t)},Aa.Bb=function(e){this.g.delayLicenseRequestUntilPlayed&&this.i.paused&&!this.G?this.w.push(e):de(this,e)},Aa.wb=function(e){e=e.target;var t;for(t=0;t<this.a.length&&this.a[t].Aa!=e;++t);if(t!=this.a.length){var n=e.keyStatuses,r=!1;n.forEach||(n=[]),n.forEach(function(e,n){if("string"==typeof n){var i=n;n=e,e=i}if("com.microsoft.playready"==this.b.keySystem&&16==n.byteLength){var i=new DataView(n),a=i.getUint32(0,!0),o=i.getUint16(4,!0),s=i.getUint16(6,!0);i.setUint32(0,a,!1),i.setUint16(4,o,!1),i.setUint16(6,s,!1)}"com.microsoft.playready"==this.b.keySystem&&"status-pending"==e&&(e="usable"),"status-pending"!=e&&(this.a[t].loaded=!0,this.a.every(function(e){return e.loaded})&&this.l.resolve()),"expired"==e&&(r=!0),i=W(new Uint8Array(n)),this.C[i]=e}.bind(this)),n=e.expiration-Date.now(),(0>n||r&&1e3>n)&&(this.a.splice(t,1),e.close()),Y(this.v)}},Aa.Ec=function(){F(this.C,function(e,t){return"expired"==t})&&this.h(new l(6,6014)),this.S(this.C)},Aa.qc=function(){for(var e=0;e<this.w.length;e++)de(this,this.w[e]);this.G=!0,this.w=[],this.f.aa(this.i,"play")};var Ea={};t("shaka.media.TextEngine.registerParser",function(e,t){Ea[e]=t}),t("shaka.media.TextEngine.unregisterParser",function(e){delete Ea[e]}),t("shaka.media.TextEngine.makeCue",he),pe.prototype.o=function(){return this.c&&Ie(this,function(){return!0}),this.c=this.h=null,Promise.resolve()},pe.prototype.remove=function(e,t){return Promise.resolve().then(function(){this.c&&(Ie(this,function(n){return!(n.startTime>=t||n.endTime<=e)}),null==this.b||t<=this.b||e>=this.a||(e<=this.b&&t>=this.a?this.b=this.a=null:e<=this.b&&t<this.a?this.b=t:e>this.b&&t>=this.a&&(this.a=e)))}.bind(this))},Aa=Ce.prototype,Aa.o=function(){this.i=!0;var e,t=[];for(e in this.b){var n=this.b[e],r=n[0];for(this.b[e]=n.slice(0,1),r&&t.push(r.p.catch(y)),r=1;r<n.length;++r)n[r].p.catch(y),n[r].p.reject()}return this.a&&t.push(this.a.o()),Promise.all(t).then(function(){this.g.o(),this.a=this.j=this.h=this.f=this.g=null,this.c={},this.b={}}.bind(this))},Aa.init=function(e,t){this.l=t;for(var n in e){var r=e[n];"text"==n?Be(this,r):(r=this.h.addSourceBuffer(r),_(this.g,r,"error",this.$c.bind(this,n)),_(this.g,r,"updateend",this.xa.bind(this,n)),this.c[n]=r,this.b[n]=[])}},Aa.remove=function(e,t,n){return"text"==e?this.a.remove(t,n):Me(this,e,this.Gb.bind(this,e,t,n))},Aa.endOfStream=function(e){return Ne(this,function(){e?this.h.endOfStream(e):this.h.endOfStream()}.bind(this))},Aa.Ba=function(e){return Ne(this,function(){this.h.duration=e}.bind(this))},Aa.fa=function(){return this.h.duration},Aa.Zc=function(e,t){this.c[e].appendBuffer(t)},Aa.Gb=function(e,t,n){n<=t?this.xa(e):this.c[e].remove(t,n)},Aa.Pb=function(e){var t=this.c[e].appendWindowEnd;this.c[e].abort(),this.c[e].appendWindowEnd=t,this.xa(e)},Aa.Yb=function(e){this.f.currentTime-=.001,this.xa(e)},Aa.Pc=function(e,t){this.c[e].timestampOffset=t,this.xa(e)},Aa.Nc=function(e,t){this.c[e].appendWindowEnd=t+.04,this.xa(e)},Aa.$c=function(e){this.b[e][0].p.reject(new l(3,3014,this.f.error?this.f.error.code:0))},Aa.xa=function(e){var t=this.b[e][0];t&&(t.p.resolve(),Le(this,e))};var Ia=1,ya=2,va={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bod:"bo",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",ces:"cs",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cym:"cy",cze:"cs",dan:"da",deu:"de",div:"dv",dut:"nl",dzo:"dz",ell:"el",eng:"en",epo:"eo",est:"et",eus:"eu",ewe:"ee",fao:"fo",fas:"fa",fij:"fj",fin:"fi",fra:"fr",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",hye:"hy",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",isl:"is",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kat:"ka",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mkd:"mk",mlg:"mg",mlt:"mt",mon:"mn",mri:"mi",msa:"ms",mya:"my",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nld:"nl",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",ron:"ro",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slk:"sk",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",sqi:"sq",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zho:"zh",zul:"zu"};t("shaka.abr.SimpleAbrManager",ze),ze.prototype.stop=function(){this.f=null,this.b=!1,this.g=[],this.h=[],this.c=null},ze.prototype.stop=ze.prototype.stop,ze.prototype.init=function(e){this.f=e},ze.prototype.init=ze.prototype.init,ze.prototype.chooseStreams=function(e){var t={};if(-1<e.indexOf("audio")||-1<e.indexOf("video")){var n,r=this.g;n=Ze(this.i,r);var i=this.a.getBandwidthEstimate();if(r.length&&!n.length)throw new l(4,4012);for(var r=n[0],a=0;a<n.length;++a){var o=n[a],s=(n[a+1]||{bandwidth:1/0}).bandwidth/.85;i>=o.bandwidth/.95&&i<=s&&(r=o)}(n=r)&&n.video&&(t.video=n.video),n&&n.audio&&(t.audio=n.audio)}return-1<e.indexOf("text")&&(t.text=this.h[0]),this.c=Date.now(),t},ze.prototype.chooseStreams=ze.prototype.chooseStreams,ze.prototype.enable=function(){this.b=!0},ze.prototype.enable=ze.prototype.enable,ze.prototype.disable=function(){this.b=!1},ze.prototype.disable=ze.prototype.disable,ze.prototype.segmentDownloaded=function(e,t){var n=this.a;if(!(16e3>t)){var r=8e3*t/e,a=e/1e3;n.a+=t,i(n.c,a,r),i(n.f,a,r)}if(null!=this.c&&this.b)e:{if(this.j){if(8e3>Date.now()-this.c)break e}else{if(!(128e3<=this.a.a))break e;this.j=!0}n=this.chooseStreams(["audio","video"]),this.a.getBandwidthEstimate(),this.f(n)}},ze.prototype.segmentDownloaded=ze.prototype.segmentDownloaded,ze.prototype.getBandwidthEstimate=function(){return this.a.getBandwidthEstimate()},ze.prototype.getBandwidthEstimate=ze.prototype.getBandwidthEstimate,ze.prototype.setDefaultEstimate=function(e){this.a.setDefaultEstimate(e)},ze.prototype.setDefaultEstimate=ze.prototype.setDefaultEstimate,ze.prototype.setRestrictions=function(e){this.i=e},ze.prototype.setRestrictions=ze.prototype.setRestrictions,ze.prototype.setVariants=function(e){this.g=e},ze.prototype.setVariants=ze.prototype.setVariants,ze.prototype.setTextStreams=function(e){this.h=e},ze.prototype.setTextStreams=ze.prototype.setTextStreams,Xe.prototype.preventDefault=function(){},Xe.prototype.stopImmediatePropagation=function(){this.a=!0},Xe.prototype.stopPropagation=function(){};var Ca="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),ba="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Ba=["loop","playbackRate"],wa=["pause","play"],Sa="adaptation buffering emsg error loading unloading texttrackvisibility trackschanged".split(" "),Qa="drmInfo getConfiguration getManifestUri getPlaybackRate getPlayheadTimeAsDate getTracks getStats isBuffering isInProgress isLive isTextTrackVisible keySystem seekRange".split(" "),Ta=[["getConfiguration","configure"]],Da=[["isTextTrackVisible","setTextTrackVisibility"]],ka="addTextTrack cancelTrickPlay configure resetConfiguration selectTrack setTextTrackVisibility trickPlay".split(" "),Ra=["load","unload"];Aa=nt.prototype,Aa.o=function(){return rt(this),this.a&&(this.a.leave(function(){},function(){}),this.a=null),this.A=this.w=this.l=null,this.c=this.j=this.g=!1,this.h=this.f=this.b=this.i=null,Promise.resolve()},Aa.P=function(){return this.c},Aa.eb=function(){return this.v},Aa.init=function(){if(e.chrome&&chrome.cast&&chrome.cast.isAvailable){delete e.__onGCastApiAvailable,this.g=!0,this.l();var t=new chrome.cast.SessionRequest(this.C),t=new chrome.cast.ApiConfig(t,this.kc.bind(this),this.sc.bind(this),"origin_scoped");chrome.cast.initialize(t,function(){},function(){})}else e.__onGCastApiAvailable=function(e){e&&this.init()}.bind(this)},Aa.gb=function(e){this.i=e,this.c&&it(this,{type:"appData",appData:this.i})},Aa.cast=function(e){return this.g?this.j?this.c?Promise.reject(new l(8,8002)):(this.h=new w,chrome.cast.requestSession(this.bb.bind(this,e),this.ub.bind(this)),this.h):Promise.reject(new l(8,8001)):Promise.reject(new l(8,8e3))},Aa.Na=function(){this.c&&(rt(this),this.a&&(this.a.stop(function(){},function(){}),this.a=null))},Aa.get=function(e,t){if("video"==e){if(0<=wa.indexOf(t))return this.Fb.bind(this,e,t)}else if("player"==e){if(0<=ka.indexOf(t))return this.Fb.bind(this,e,t);if(0<=Ra.indexOf(t))return this.Hc.bind(this,e,t);if(0<=Qa.indexOf(t))return this.Cb.bind(this,e,t)}return this.Cb(e,t)},Aa.set=function(e,t,n){this.b[e][t]=n,it(this,{type:"set",targetName:e,property:t,value:n})},Aa.bb=function(e,t){this.a=t,this.a.addUpdateListener(this.vb.bind(this)),this.a.addMessageListener("urn:x-cast:com.google.shaka.v2",this.lc.bind(this)),this.vb(),it(this,{type:"init",initState:e,appData:this.i}),this.h.resolve()},Aa.ub=function(e){var t=8003;switch(e.code){case"cancel":t=8004;break;case"timeout":t=8005;break;case"receiver_unavailable":t=8006}this.h.reject(new l(8,t,e))},Aa.Cb=function(e,t){return this.b[e][t]},Aa.Fb=function(e,t){it(this,{type:"call",targetName:e,methodName:t,args:Array.prototype.slice.call(arguments,2)})},Aa.Hc=function(e,t){var n=Array.prototype.slice.call(arguments,2),r=new w,i=this.m.toString();return this.m++,this.f[i]=r,it(this,{type:"asyncCall",targetName:e,methodName:t,args:n,id:i}),r},Aa.kc=function(e){var t=this.s();this.h=new w,this.bb(t,e)},Aa.sc=function(e){this.j="available"==e,this.l()},Aa.vb=function(){var e=!!this.a&&"connected"==this.a.status;if(this.c&&!e){this.A();for(var t in this.b)this.b[t]={};rt(this)}this.v=(this.c=e)?this.a.receiver.friendlyName:"",this.l()},Aa.lc=function(e,t){var n=et(t);switch(n.type){case"event":var r=n.targetName,i=n.event;this.w(r,new Xe(i.type,i));break;case"update":i=n.update;for(r in i){var a,n=this.b[r]||{};for(a in i[r])n[a]=i[r][a]}break;case"asyncComplete":if(r=n.id,a=n.error,n=this.f[r],delete this.f[r],n)if(a){r=new l(a.category,a.code);for(i in a)r[i]=a[i];n.reject(r)}else n.resolve()}},t("shaka.util.FakeEventTarget",at),at.prototype.addEventListener=function(e,t){this.Ca.push(e,t)},at.prototype.addEventListener=at.prototype.addEventListener,at.prototype.removeEventListener=function(e,t){this.Ca.remove(e,t)},at.prototype.removeEventListener=at.prototype.removeEventListener,at.prototype.dispatchEvent=function(e){for(var t=this.Ca.get(e.type)||[],n=0;n<t.length;++n){e.target=this.S,e.currentTarget=this.S;var r=t[n];try{r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(e){}if(e.a)break}return e.defaultPrevented},at.prototype.dispatchEvent=at.prototype.dispatchEvent,n(ot),t("shaka.cast.CastProxy",ot),ot.prototype.o=function(e){return e&&this.a&&this.a.Na(),e=[this.i?this.i.o():null,this.b?this.b.o():null,this.a?this.a.o():null],this.a=this.i=this.j=this.l=this.b=this.c=null,Promise.all(e)},ot.prototype.destroy=ot.prototype.o,ot.prototype.dc=function(){return this.l},ot.prototype.getVideo=ot.prototype.dc,ot.prototype.$b=function(){return this.j},ot.prototype.getPlayer=ot.prototype.$b,ot.prototype.Qb=function(){return!!this.a&&(this.a.g&&this.a.j)},ot.prototype.canCast=ot.prototype.Qb,ot.prototype.P=function(){return!!this.a&&this.a.P()},ot.prototype.isCasting=ot.prototype.P,ot.prototype.eb=function(){return this.a?this.a.eb():""},ot.prototype.receiverName=ot.prototype.eb,ot.prototype.cast=function(){var e=this.rb();return this.a.cast(e).then(function(){return this.b.mb()}.bind(this))},ot.prototype.cast=ot.prototype.cast,ot.prototype.gb=function(e){this.a.gb(e)},ot.prototype.setAppData=ot.prototype.gb,ot.prototype.bd=function(){var e=this.a;if(e.c){var t=e.s();chrome.cast.requestSession(e.bb.bind(e,t),e.ub.bind(e))}},ot.prototype.suggestDisconnect=ot.prototype.bd,ot.prototype.Na=function(){this.a.Na()},ot.prototype.forceDisconnect=ot.prototype.Na,Aa=ot.prototype,Aa.rb=function(){var e={video:{},player:{},playerAfterLoad:{},manifest:this.b.pa,startTime:null};return this.c.pause(),Ba.forEach(function(t){e.video[t]=this.c[t]}.bind(this)),this.c.ended||(e.startTime=this.c.currentTime),Ta.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.player[n]=t}.bind(this)),Da.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.playerAfterLoad[n]=t}.bind(this)),e},Aa.Vc=function(){this.dispatchEvent(new Xe("caststatuschanged"))},Aa.Xc=function(){Ta.forEach(function(e){var t=e[1];e=this.a.get("player",e[0])(),this.b[t](e)}.bind(this));var e=this.a.get("player","getManifestUri")(),t=this.a.get("video","ended"),n=Promise.resolve(),r=this.c.autoplay,i=null;t||(i=this.a.get("video","currentTime")),e&&(this.c.autoplay=!1,n=this.b.load(e,i),n.catch(function(e){this.b.dispatchEvent(new Xe("error",{detail:e}))}.bind(this)));var a={};Ba.forEach(function(e){a[e]=this.a.get("video",e)}.bind(this)),n.then(function(){Ba.forEach(function(e){this.c[e]=a[e]}.bind(this)),Da.forEach(function(e){var t=e[1];e=this.a.get("player",e[0])(),this.b[t](e)}.bind(this)),this.c.autoplay=r,e&&this.c.play()}.bind(this))},Aa.fd=function(e){if("addEventListener"==e)return this.g.addEventListener.bind(this.g);if("removeEventListener"==e)return this.g.removeEventListener.bind(this.g);if(this.a.P()&&!Object.keys(this.a.b.video).length){var t=this.c[e];if("function"!=typeof t)return t}return this.a.P()?this.a.get("video",e):(t=this.c[e],"function"==typeof t&&(t=t.bind(this.c)),t)},Aa.hd=function(e,t){this.a.P()?this.a.set("video",e,t):this.c[e]=t},Aa.gd=function(e){this.a.P()||this.g.dispatchEvent(new Xe(e.type,e))},Aa.Cc=function(e){return"addEventListener"==e?this.f.addEventListener.bind(this.f):"removeEventListener"==e?this.f.removeEventListener.bind(this.f):"getNetworkingEngine"==e?this.b.sb.bind(this.b):this.a.P()&&!Object.keys(this.a.b.video).length&&0<=Qa.indexOf(e)||!this.a.P()?(e=this.b[e],e.bind(this.b)):this.a.get("player",e)},Aa.Dc=function(e){this.a.P()||this.f.dispatchEvent(e)},Aa.Wc=function(e,t){this.a.P()&&("video"==e?this.g.dispatchEvent(t):"player"==e&&this.f.dispatchEvent(t))},n(lt),t("shaka.cast.CastReceiver",lt),lt.prototype.fc=function(){return this.i},lt.prototype.isConnected=lt.prototype.fc,lt.prototype.gc=function(){return this.c},lt.prototype.isIdle=lt.prototype.gc,lt.prototype.o=function(){var t=this.a?this.a.o():Promise.resolve();return null!=this.f&&e.clearTimeout(this.f),this.l=this.j=this.a=this.b=null,this.i=!1,this.c=!0,this.f=this.g=null,t.then(function(){cast.receiver.CastReceiverManager.getInstance().stop()})},lt.prototype.destroy=lt.prototype.o,Aa=lt.prototype,Aa.Ab=function(){this.i=!!cast.receiver.CastReceiverManager.getInstance().getSenders().length,dt(this)},Aa.Db=function(e,t){this.cb(),ut(this,{type:"event",targetName:e,event:t})},Aa.cb=function(){null!=this.f&&e.clearTimeout(this.f),this.f=e.setTimeout(this.cb.bind(this),500);var t={video:{},player:{}};ba.forEach(function(e){t.video[e]=this.b[e]}.bind(this)),Qa.forEach(function(e){t.player[e]=this.a[e]()}.bind(this));var n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();n&&(t.video.volume=n.level,t.video.muted=n.muted),ut(this,{type:"update",update:t})},Aa.Xb=function(){var e=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();e&&ut(this,{type:"update",update:{video:{volume:e.level,muted:e.muted}}}),ut(this,{type:"event",targetName:"video",event:{type:"volumechange"}})},Aa.mc=function(e){var t=et(e.data);switch(t.type){case"init":ct(this,t.initState,t.appData),this.cb();break;case"appData":this.l(t.appData);break;case"set":var n=t.targetName,r=t.property,i=t.value;if("video"==n){if(t=cast.receiver.CastReceiverManager.getInstance(),"volume"==r){t.setSystemVolumeLevel(i);break}if("muted"==r){t.setSystemVolumeMuted(i);break}}this.j[n][r]=i;break;case"call":n=t.targetName,r=t.methodName,i=t.args,n=this.j[n],n[r].apply(n,i);break;case"asyncCall":n=t.targetName,r=t.methodName,i=t.args,t=t.id,
e=e.senderId,n=this.j[n],n[r].apply(n,i).then(this.Ib.bind(this,e,t,null),this.Ib.bind(this,e,t))}},Aa.Ib=function(e,t,n){ut(this,{type:"asyncComplete",id:t,error:n},e)};var _a={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};t("shaka.media.InitSegmentReference",Dt),t("shaka.media.SegmentReference",kt);var Ma=1/15,Na=1;t("shaka.media.SegmentIndex",zt),zt.prototype.o=function(){return this.a=null,Promise.resolve()},zt.prototype.destroy=zt.prototype.o,zt.prototype.find=function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return n.position}return null},zt.prototype.find=zt.prototype.find,zt.prototype.get=function(e){return this.a.length?(e-=this.a[0].position,0>e||e>=this.a.length?null:this.a[e]):null},zt.prototype.get=zt.prototype.get,zt.prototype.$a=function(e){for(var t=[],n=0,r=0;n<this.a.length&&r<e.length;){var i=this.a[n],a=e[r];i.startTime<a.startTime?(t.push(i),n++):(i.startTime>a.startTime||(.1<Math.abs(i.endTime-a.endTime)?t.push(a):t.push(i),n++),r++)}for(;n<this.a.length;)t.push(this.a[n++]);if(t.length)for(n=t[t.length-1].position+1;r<e.length;)a=e[r++],a=new kt(n++,a.startTime,a.endTime,a.a,a.N,a.D),t.push(a);else t=e;this.a=t},zt.prototype.merge=zt.prototype.$a,zt.prototype.Ua=function(e){for(var t=0;t<this.a.length&&!(this.a[t].endTime>e);++t);this.a.splice(0,t)},zt.prototype.evict=zt.prototype.Ua;var La,Oa={},Pa={};t("shaka.media.ManifestParser.registerParserByExtension",function(e,t){Pa[e]=t}),t("shaka.media.ManifestParser.registerParserByMime",function(e,t){Oa[e]=t}),t("shaka.media.PresentationTimeline",yn),yn.prototype.fa=function(){return this.a},yn.prototype.getDuration=yn.prototype.fa,yn.prototype.Ba=function(e){this.a=e},yn.prototype.setDuration=yn.prototype.Ba,yn.prototype.bc=function(){return this.h},yn.prototype.getPresentationStartTime=yn.prototype.bc,yn.prototype.Jb=function(e){this.i=e},yn.prototype.setClockOffset=yn.prototype.Jb,yn.prototype.Lb=function(e){this.g=e},yn.prototype.setStatic=yn.prototype.Lb,yn.prototype.cc=function(){return this.c},yn.prototype.getSegmentAvailabilityDuration=yn.prototype.cc,yn.prototype.Kb=function(e){this.c=e},yn.prototype.setSegmentAvailabilityDuration=yn.prototype.Kb,yn.prototype.Ha=function(e,t){t.length&&(this.b=t.reduce(function(e,t){return Math.max(e,t.endTime-t.startTime)},this.b),e||(this.f=Math.max(this.f,t[0].startTime)))},yn.prototype.notifySegments=yn.prototype.Ha,yn.prototype.ab=function(e){this.b=Math.max(this.b,e)},yn.prototype.notifyMaxSegmentDuration=yn.prototype.ab,yn.prototype.T=function(){return 1/0==this.a&&!this.g},yn.prototype.isLive=yn.prototype.T,yn.prototype.ga=function(){return 1/0!=this.a&&!this.g},yn.prototype.isInProgress=yn.prototype.ga,yn.prototype.ta=function(){return Math.max(Math.min(this.f,this.Y()),this.ua())},yn.prototype.getEarliestStart=yn.prototype.ta,yn.prototype.ua=function(){return 1/0==this.c?0:Math.max(0,this.Y()-this.c-this.j)},yn.prototype.getSegmentAvailabilityStart=yn.prototype.ua,yn.prototype.Y=function(){return this.T()||this.ga()?Math.min(Math.max(0,(Date.now()+this.i)/1e3-this.b-this.h),this.a):this.a},yn.prototype.getSegmentAvailabilityEnd=yn.prototype.Y,yn.prototype.Wa=function(){return Math.max(0,this.Y()-(this.T()||this.ga()?this.j:0))},yn.prototype.getSeekRangeEnd=yn.prototype.Wa,t("shaka.dash.DashParser",vn),Aa=vn.prototype,Aa.configure=function(e){this.c=e},Aa.start=function(e,t,n,r,i){return this.g=[e],this.a=t,this.l=n,this.m=r,this.s=i,Cn(this).then(function(){return this.a&&Tn(this,0),this.b}.bind(this))},Aa.stop=function(){return this.a&&this.a.Nb(this.Ma),this.c=this.s=this.m=this.l=this.a=null,this.g=[],this.b=null,this.i=[],this.j={},null!=this.f&&(e.clearTimeout(this.f),this.f=null),Promise.resolve()},Aa.Ac=function(e,t){e.L=Dn(t,e.M,null);var n=!1,r=ft(t,"Role"),i=void 0;"text"==e.L.contentType&&(i="subtitle");for(var a=0;a<r.length;a++){var o=r[a].getAttribute("schemeIdUri");if(null==o||"urn:mpeg:dash:role:2011"==o)switch(o=r[a].getAttribute("value")){case"main":n=!0;break;case"caption":case"subtitle":i=o}}var r=!!gt(t,"InbandEventStream"),s=null,A=!1;if(ft(t,"EssentialProperty").forEach(function(e){"http://dashif.org/guidelines/trickmode"==e.getAttribute("schemeIdUri")?s=e.getAttribute("value"):A=!0}),A)return null;if(a=ft(t,"ContentProtection"),a=Bt(a,this.c.dash.customScheme),o=Pe(t.getAttribute("lang")||"und"),i=ft(t,"Representation").map(this.Bc.bind(this,e,a,i,o,n)).filter(function(e){return!!e}),!i.length)throw new l(4,4003);return e.L.contentType||(e.L.contentType=Mn(i[0].mimeType,i[0].codecs),i.forEach(function(t){t.type=e.L.contentType})),{id:e.L.id||"__fake__"+this.h++,contentType:e.L.contentType,language:o,Ya:n,streams:i,drmInfos:a.drmInfos,da:r,lb:s}},Aa.Bc=function(e,t,n,r,i,a){if(e.u=Dn(a,e.L,null),!kn(e.u))return null;e.bandwidth=ht(a,"bandwidth",vt)||void 0;var o;if(o=this.Ic.bind(this),e.u.Ia)o=on(e,o);else if(e.u.$)o=An(e,this.j);else if(e.u.Ja)o=gn(e,o,this.j,!!this.b);else{var s=e.u.O,l=e.I.duration||0;o={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0<=e&&e<l?1:null},getSegmentReference:function(e){return 1!=e?null:new kt(1,0,l,function(){return s},0,null)},initSegmentReference:null,presentationTimeOffset:0}}return a=ft(a,"ContentProtection"),a=wt(a,this.c.dash.customScheme,t),{id:this.h++,createSegmentIndex:o.createSegmentIndex,findSegmentPosition:o.findSegmentPosition,getSegmentReference:o.getSegmentReference,initSegmentReference:o.initSegmentReference,presentationTimeOffset:o.presentationTimeOffset,mimeType:e.u.mimeType,codecs:e.u.codecs,frameRate:e.u.frameRate,bandwidth:e.bandwidth,width:e.u.width,height:e.u.height,kind:n,encrypted:0<t.drmInfos.length,keyId:a,language:r,type:e.L.contentType,primary:i,trickModeVideo:null}},Aa.Yc=function(){this.f=null;var e=Date.now();Cn(this).then(function(){this.a&&Tn(this,(Date.now()-e)/1e3)}.bind(this)).catch(function(e){this.m(e),this.a&&Tn(this,0)}.bind(this))},Aa.Ic=function(e,t,n){return e=T(e,this.c.retryParameters),null!=t&&(e.headers.Range="bytes="+t+"-"+(null!=n?n:"")),this.a.request(1,e).then(function(e){return e.data})},Aa.Ma=function(e,t){if(1==e){var n=new Pt(new DataView(t.data)),r=Jt(1701671783,n);if(-1!=r){var i=n.a-8+r;if(jt(n,4),"urn:mpeg:dash:event:2012"==(r=Yt(n)))Cn(this);else{var a=Yt(n),o=Gt(n),s=Gt(n),l=Gt(n),A=Gt(n),n=Ht(n,i-n.a);this.s(new Xe("emsg",{detail:{pd:r,value:a,Ka:o,od:s,md:l,id:A,nd:n}}))}}}},Pa.mpd=vn,Oa["application/dash+xml"]=vn,t("shaka.media.TtmlTextParser",Pn),Pn.m=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Pn.v=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Pn.s=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,Pn.w=/^(\d*\.?\d*)f$/,Pn.C=/^(\d*\.?\d*)t$/,Pn.A=/^(?:(\d*\.?\d*)h)?(?:(\d*\.?\d*)m)?(?:(\d*\.?\d*)s)?(?:(\d*\.?\d*)ms)?$/,Pn.l=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,Pn.Ea={left:"start",center:"center",right:"end",start:"start",end:"end"},Pn.La={left:"line-left",center:"center",right:"line-right"},Pn.b=function(e){var t=[];if(!e)return t;for(var n=e.childNodes,r=0;r<n.length;r++){var i="span"==n[r].nodeName&&"p"==e.nodeName;n[r].nodeType!=Node.ELEMENT_NODE||"br"==n[r].nodeName||i||(i=Pn.b(n[r]),t=t.concat(i))}return t.length||t.push(e),t},Pn.g=function(e){e=e.childNodes;for(var t=0;t<e.length;t++)"br"==e[t].nodeName&&0<t?e[t-1].textContent+="\n":0<e[t].childNodes.length&&Pn.g(e[t])},Pn.c=function(e,t,n,r,i){if(!e.hasAttribute("begin")&&!e.hasAttribute("end")&&/^\s*$/.test(e.textContent))return null;Pn.g(e);var a=Pn.a(e.getAttribute("begin"),n),o=Pn.a(e.getAttribute("end"),n);n=Pn.a(e.getAttribute("dur"),n);var s=e.textContent;if(null==o&&null!=n&&(o=a+n),null==a||null==o)throw new l(2,2001);return(t=he(a+t,o+t,s))?(i=Pn.i(e,"region",i),Pn.pa(t,e,i,r),t):null},Pn.pa=function(e,t,n,r){var i,a=Pn.f(t,n,r,"tts:extent");a&&(i=Pn.l.exec(a))&&(e.size=Number(i[1])),i=Pn.f(t,n,r,"tts:writingMode"),a=!0,"tb"==i||"tblr"==i?e.vertical="lr":"tbrl"==i?e.vertical="rl":a=!1,(i=Pn.f(t,n,r,"tts:origin"))&&(i=Pn.l.exec(i))&&(a?(e.position=Number(i[2]),e.line=Number(i[1])):(e.position=Number(i[1]),e.line=Number(i[2])),e.snapToLines=!1),(t=Pn.f(t,n,r,"tts:textAlign"))&&(e.align=t,"center"==t&&("center"!=e.align&&(e.align="middle"),e.position="auto"),e.positionAlign=Pn.La[t],e.lineAlign=Pn.Ea[t])},Pn.f=function(e,t,n,r){for(var i=Pn.b(t),a=0;a<i.length;a++){var o=i[a].getAttribute(r);if(o)return o}return i=Pn.i,(e=i(t,"style",n)||i(e,"style",n))?e.getAttribute(r):null},Pn.i=function(e,t,n){if(!e||1>n.length)return null;var r=null;if(e=Pn.qa(e,t))for(t=0;t<n.length;t++)if(n[t].getAttribute("xml:id")==e){r=n[t];break}return r},Pn.qa=function(e,t){for(var n=null;e&&!(n=e.getAttribute(t));){var r=e.parentNode;if(!(r instanceof Element))break;e=r}return n},Pn.a=function(e,t){var n=null;return Pn.m.test(e)?n=Pn.ra(t,e):Pn.v.test(e)?n=Pn.h(Pn.v,e):Pn.s.test(e)?n=Pn.h(Pn.s,e):Pn.w.test(e)?n=Pn.Ca(t,e):Pn.C.test(e)?n=Pn.Da(t,e):Pn.A.test(e)&&(n=Pn.h(Pn.A,e)),n},Pn.Ca=function(e,t){var n=Pn.w.exec(t);return Number(n[1])/e.frameRate},Pn.Da=function(e,t){var n=Pn.C.exec(t);return Number(n[1])/e.a},Pn.ra=function(e,t){var n=Pn.m.exec(t),r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=Number(n[4]),o=o+(Number(n[5])||0)/e.b,a=a+o/e.frameRate;return a+60*i+3600*r},Pn.h=function(e,t){var n=e.exec(t);return n&&""!=n[0]?(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0):null},Ea["application/ttml+xml"]=Pn,t("shaka.media.Mp4TtmlParser",Un),Un.K=1937010800,Ea['application/mp4; codecs="stpp"']=Un,t("shaka.media.VttTextParser",xn),xn.c=function(e,t,n,r){if(1==e.length&&!e[0]||/^NOTE($|[ \t])/.test(e[0]))return null;var i=null;0>e[0].indexOf("--\x3e")&&(i=e[0],e.splice(0,1));var a=new Nn(e[0]),o=xn.a(a),s=Ln(a,/[ \t]+--\x3e[ \t]+/g),A=xn.a(a);if(null==o||!s||null==A)throw new l(2,2001);if(o+=t,A+=t,r&&(o+=n,A+=n),!(e=he(o,A,e.slice(1).join("\n").trim())))return null;for(Ln(a,/[ \t]+/gm),t=On(a);t;)xn.j(e,t),Ln(a,/[ \t]+/gm),t=On(a);return null!=i&&(e.id=i),e},xn.j=function(e,t){var n;(n=/^align:(start|middle|center|end|left|right)$/.exec(t))?(e.align=n[1],"center"==n[1]&&"center"!=e.align&&(e.position="auto",e.align="middle")):(n=/^vertical:(lr|rl)$/.exec(t))?e.vertical=n[1]:(n=/^size:(\d{1,2}|100)%$/.exec(t))?e.size=Number(n[1]):(n=/^position:(\d{1,2}|100)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(n[1]),n[2]&&(e.positionAlign=n[2])):(n=/^line:(\d{1,2}|100)%(?:,(start|end|center))?$/.exec(t))?(e.snapToLines=!1,e.line=Number(n[1]),n[2]&&(e.lineAlign=n[2])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.snapToLines=!0,e.line=Number(n[1]),n[2]&&(e.lineAlign=n[2]))},xn.a=function(e){if(!(e=Ln(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)},Ea["text/vtt"]=xn,Ea['text/vtt; codecs="vtt"']=xn,t("shaka.media.Mp4VttParser",Gn),Gn.sa=function(e,t,n,r){for(e=new Pt(new DataView(e)),n+=t,r+=t,t=[];Ft(e);){var i=Jt(Gn.na,e);if(-1==i)break;(i=Gn.c(Ht(e,i-8).buffer,n,r))&&t.push(i)}return t},Gn.c=function(e,t,n){e=new Pt(new DataView(e));for(var r,i,a;Ft(e);){var o=Gt(e),s=Gt(e),A=U(Ht(e,o-8).buffer);switch(1==o&&Vt(e),s){case Gn.H:r=A;break;case Gn.G:a=A;break;case Gn.S:i=A}}if(!r)throw new l(2,2008);if(!(t=he(t,n,r)))return null;if(a&&(t.id=a),i)for(i=new Nn(i),a=On(i);a;)xn.j(t,a),Ln(i,/[ \t]+/gm),a=On(i);return t},Gn.oa=2004251764,Gn.na=1987343459,Gn.H=1885436268,Gn.G=1768187247,Gn.S=1937011815,Ea['application/mp4; codecs="wvtt"']=Gn,Aa=Vn.prototype,Aa.o=function(){var t=this.b.o();return this.b=null,Jn(this),null!=this.f&&(e.clearInterval(this.f),this.f=null),this.m=this.l=this.c=this.a=null,t},Aa.vc=function(){this.i=null,Kn(this);var e=ve(this.a.buffered,this.a.currentTime),t=ye(this.a.buffered)>=(this.c.T()?this.c.Y()-.05:this.a.duration-.05)||this.a.ended;this.h?(t||e>=this.j)&&Yn(this,!1):!t&&.5>e&&Yn(this,!0)},Aa.Va=function(){return this.g},Aa.rc=function(){this.a.playbackRate!=(this.h||0>this.g?0:this.g)&&qn(this,this.a.playbackRate)},Aa.xb=function(){this.b.aa(this.a,"loadedmetadata");var e=jn(this);.001>Math.abs(this.a.currentTime-e)?(_(this.b,this.a,"seeking",this.zb.bind(this)),_(this.b,this.a,"playing",this.yb.bind(this))):(_(this.b,this.a,"seeking",this.tc.bind(this)),this.a.currentTime=e)},Aa.tc=function(){this.b.aa(this.a,"seeking"),_(this.b,this.a,"seeking",this.zb.bind(this)),_(this.b,this.a,"playing",this.yb.bind(this))},Aa.zb=function(){var e=this.a.currentTime,t=Wn(this,e);.001<Math.abs(t-e)?zn(this,e,t):this.m()},Aa.yb=function(){var e=this.a.currentTime,t=Wn(this,e);.001<Math.abs(t-e)&&zn(this,e,t)},Xn.prototype.o=function(){for(var e in this.b)br(this.b[e]);return this.h=this.b=this.l=this.g=this.A=this.w=this.j=this.v=this.G=this.C=this.a=this.K=this.c=this.m=null,this.f=!0,Promise.resolve()},Xn.prototype.configure=function(e){this.h=e,this.m.j=this.i*Math.max(this.a.minBufferTime||0,this.h.rebufferingGoal)},Xn.prototype.init=function(){var e=this.G(this.a.periods[Er(this,Hn(this.m))]);return L(e)?Promise.reject(new l(5,5005)):rr(this,e).then(function(){this.w&&this.w()}.bind(this))},Xn.prototype.S=function(e){if(!this.f&&!e.ha&&null!=e.ba&&!e.ca)if(e.ba=null,e.ma)vr(this,e,e.Sa);else{try{var t=sr(this,e);null!=t&&Cr(this,e,t)}catch(e){return void this.j(e)}t=O(this.b),hr(this,e),t.every(function(e){return e.endOfStream})&&this.c.endOfStream()}},t("shaka.net.DataUriPlugin",Br),ma.data=Br,t("shaka.net.HttpPlugin",wr),ma.http=wr,ma.https=wr,Aa=Sr.prototype,Aa.init=function(t){if(!e.indexedDB)return Promise.reject(new l(9,9e3));var n=e.indexedDB.open("shaka_offline_db",1),r=new w;return n.onupgradeneeded=function(e){e=e.target.result;for(var n in t)e.createObjectStore(n,{keyPath:t[n]})},n.onsuccess=function(e){this.a=e.target.result,r.resolve()}.bind(this),n.onerror=Rr.bind(null,n,r),r.then(function(){var e=Object.keys(t);return Promise.all(e.map(function(e){return Dr(this,e).then(function(t){this.b[e]=t}.bind(this))}.bind(this)))}.bind(this))},Aa.o=function(){return Promise.all(this.c.map(function(e){try{e.transaction.abort()}catch(e){}return e.J.catch(y)})).then(function(){this.a&&(this.a.close(),this.a=null)}.bind(this))},Aa.get=function(e,t){return kr(this,e,"readonly",function(e){return e.get(t)})},Aa.forEach=function(e,t){return kr(this,e,"readonly",function(e){return e.openCursor()},function(e){e&&(t(e.value),e.continue())})},Aa.remove=function(e,t){return kr(this,e,"readwrite",function(e){return e.delete(t)})};var Fa={manifest:"key",segment:"key"};Fr.prototype.o=function(){var e=this.j||Promise.resolve();return this.b={},this.j=this.a=this.l=this.m=this.i=null,e},t("shaka.offline.OfflineManifestParser",Vr),Vr.prototype.configure=function(){},Vr.prototype.start=function(e){var t=/^offline:([0-9]+)$/.exec(e);if(!t)return Promise.reject(new l(1,9004,e));var n=Number(t[1]),r=new Sr;return r.init(Fa).then(function(){return r.get("manifest",n)}).then(function(e){if(!e)throw new l(9,9003,n);return Hr(e)}).then(function(e){return r.o().then(function(){return e})},function(e){return r.o().then(function(){throw e})})},Vr.prototype.stop=function(){return Promise.resolve()},Oa["application/x-offline-manifest"]=Vr,t("shaka.offline.OfflineScheme",jr),ma.offline=jr,Yr.prototype.then=function(e){return this.a=this.a.then(e).then(function(e){return this.c?(this.g(),Promise.reject(this.i)):Promise.resolve(e)}.bind(this)),this},Yr.prototype.cancel=function(e){return this.b?Promise.resolve():(this.c=!0,this.i=e,this.h)},n(qr),t("shaka.Player",qr),qr.prototype.o=function(){this.w=!0;var e=Promise.resolve();return this.l&&(e=this.l.cancel(new l(7,7e3))),e.then(function(){var e=Promise.all([this.H,Zr(this),this.A?this.A.o():null,this.i?this.i.o():null]);return this.a=this.i=this.La=this.A=this.s=this.f=null,e}.bind(this))},qr.prototype.destroy=qr.prototype.o,qr.version="v2.0.0-143-gca299b2";var Ua={};qr.registerSupportPlugin=function(e,t){Ua[e]=t},qr.isBrowserSupported=function(){return!!(e.Promise&&e.Uint8Array&&Array.prototype.forEach&&e.MediaSource&&e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration)},qr.probeSupport=function(){return ue().then(function(e){e={manifest:En(),media:be(),drm:e};for(var t in Ua)e[t]=Ua[t]();return e})},qr.prototype.load=function(e,t,n){var r=this.mb(),i=new Yr;return this.l=i,this.dispatchEvent(new Xe("loading")),Kr(i.then(function(){return r}).then(function(){return In(e,this.i,this.a.manifest.retryParameters,n)}.bind(this)).then(function(t){return this.m=new t,this.m.configure(this.a.manifest),this.m.start(e,this.i,this.Qa.bind(this),this.ia.bind(this),this.Rc.bind(this))}.bind(this)).then(function(t){if(0==t.periods.length)throw new l(4,4014);return this.c=t,this.pa=e,this.g=new Z(this.i,this.ia.bind(this),this.Sc.bind(this)),this.g.configure(this.a.drm),this.g.init(t,!1)}.bind(this)).then(function(){return this.c.periods.forEach(this.Qa.bind(this)),this.na=Date.now()/1e3,Promise.all([X(this.g,this.f),this.qa])}.bind(this)).then(function(){return this.j=new Vn(this.f,this.c.presentationTimeline,1*Math.max(this.c.minBufferTime||0,this.a.streaming.rebufferingGoal),t||null,this.Mb.bind(this),this.Tc.bind(this)),this.G=new Ce(this.f,this.h,this.s),this.b=new Xn(this.j,this.G,this.i,this.c,this.Qc.bind(this),this.Rb.bind(this),this.ia.bind(this)),this.b.configure(this.a.streaming),this.b.init()}.bind(this)).then(function(){this.c.periods.forEach(this.Qa.bind(this)),oi(this),ai(this),this.a.abr.manager.init(this.jb.bind(this));var e=Ke(this.c.periods[0],this.a);this.a.abr.manager.setVariants(e),this.l=null}.bind(this))).catch(function(e){return this.l==i&&(this.l=null,this.dispatchEvent(new Xe("unloading"))),Promise.reject(e)}.bind(this))},qr.prototype.load=qr.prototype.load,qr.prototype.configure=function(e){e.abr&&e.abr.manager&&e.abr.manager!=this.a.abr.manager&&(this.a.abr.manager.stop(),e.abr.manager.init(this.jb.bind(this))),Jr(this.a,e,ei(this),$r(),""),zr(this)},qr.prototype.configure=qr.prototype.configure,qr.prototype.getConfiguration=function(){var e=ei(this);return Jr(e,this.a,ei(this),$r(),""),e},qr.prototype.getConfiguration=qr.prototype.getConfiguration,qr.prototype.Jc=function(){var e=ei(this);e.abr&&e.abr.manager&&e.abr.manager!=this.a.abr.manager&&(this.a.abr.manager.stop(),e.abr.manager.init(this.jb.bind(this))),this.a=ei(this),zr(this)},qr.prototype.resetConfiguration=qr.prototype.Jc,qr.prototype.sb=function(){return this.i},qr.prototype.getNetworkingEngine=qr.prototype.sb,qr.prototype.Zb=function(){return this.pa},qr.prototype.getManifestUri=qr.prototype.Zb,qr.prototype.T=function(){return!!this.c&&this.c.presentationTimeline.T()},qr.prototype.isLive=qr.prototype.T,qr.prototype.ga=function(){return!!this.c&&this.c.presentationTimeline.ga()},qr.prototype.isInProgress=qr.prototype.ga,qr.prototype.Lc=function(){var e=0,t=0;return this.c&&(t=this.c.presentationTimeline,e=t.ua(),t=t.Wa()),{start:e,end:t}},qr.prototype.seekRange=qr.prototype.Lc,qr.prototype.keySystem=function(){return this.g?this.g.keySystem():""},qr.prototype.keySystem=qr.prototype.keySystem,qr.prototype.drmInfo=function(){return this.g?this.g.b:null},qr.prototype.drmInfo=qr.prototype.drmInfo,qr.prototype.ec=function(){return this.Ea},qr.prototype.isBuffering=qr.prototype.ec,qr.prototype.mb=function(){if(this.w)return Promise.resolve();this.dispatchEvent(new Xe("unloading"));var e=Promise.resolve();return this.l&&(e=new l(7,7e3),e=this.l.cancel(e)),e.then(function(){return this.H||(this.H=Xr(this).then(function(){this.H=null}.bind(this))),this.H}.bind(this))},qr.prototype.unload=qr.prototype.mb,qr.prototype.Va=function(){return this.j?this.j.Va():0},qr.prototype.getPlaybackRate=qr.prototype.Va,qr.prototype.cd=function(e){this.j&&qn(this.j,e),this.b&&tr(this.b,1!=e)},qr.prototype.trickPlay=qr.prototype.cd,qr.prototype.Sb=function(){this.j&&qn(this.j,1),this.b&&tr(this.b,!1)},qr.prototype.cancelTrickPlay=qr.prototype.Sb,qr.prototype.getTracks=function(){if(!this.b)return[];var e=er(this.b);return Ve($n(this.b),e).filter(function(e){return 0>this.oa.indexOf(e.id)}.bind(this))},qr.prototype.getTracks=qr.prototype.getTracks,qr.prototype.Mc=function(e,t){if(this.b){var n=[],r=$n(this.b);if("text"==e.type)(r=je(r,e))&&n.push(r);else if(r=He(r,e)){if(!r.allowedByApplication||!r.allowedByKeySystem)return;r.audio&&n.push(r.audio),r.video&&n.push(r.video)}if(n.length){for(r=0;r<n.length;r++)this.C.push({timestamp:Date.now()/1e3,id:n[r].id,type:n[r].type,fromAdaptation:!1});var i={};n.forEach(function(e){i[e.type]=e}),"text"!=e.type&&(n=er(this.b).text,this.configure({abr:{enabled:!1}}),n&&(i.text=n)),ti(this,i,t)}}},qr.prototype.selectTrack=qr.prototype.Mc,qr.prototype.hc=function(){return"showing"==this.s.mode},qr.prototype.isTextTrackVisible=qr.prototype.hc,qr.prototype.Oc=function(e){this.s.mode=e?"showing":"hidden",si(this)},qr.prototype.setTextTrackVisibility=qr.prototype.Oc,qr.prototype.ac=function(){return new Date(1e3*this.c.presentationTimeline.h+1e3*this.f.currentTime)},qr.prototype.getPlayheadTimeAsDate=qr.prototype.ac,qr.prototype.getStats=function(){ni(this);var e=null,t=null,n=this.f&&this.f.getVideoPlaybackQuality?this.f.getVideoPlaybackQuality():{};return this.b&&(t=er(this.b),e=t.video||{},t=t.audio||{}),t=qe(t,e,$n(this.b).variants),e||(e={}),{width:e.width||0,height:e.height||0,streamBandwidth:t?t.bandwidth:0,decodedFrames:Number(n.totalVideoFrames),droppedFrames:Number(n.droppedVideoFrames),estimatedBandwidth:this.a.abr.manager.getBandwidthEstimate(),playTime:this.ra,bufferingTime:this.K,switchHistory:this.C.slice(0)}},qr.prototype.getStats=qr.prototype.getStats,qr.prototype.addTextTrack=function(e,t,n,r,i){if(!this.b)return Promise.reject();for(var a,o=$n(this.b),s=0;s<this.c.periods.length;s++)if(this.c.periods[s]==o){if(s==this.c.periods.length-1){if(a=this.c.presentationTimeline.fa()-o.startTime,1/0==a)return Promise.reject()}else a=this.c.periods[s+1].startTime-o.startTime;break}var l={id:this.Ob++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(t){return 1!=t?null:new kt(1,0,a,function(){return[e]},0,null)},initSegmentReference:null,presentationTimeOffset:0,mimeType:r,codecs:i||"",kind:n,encrypted:!1,keyId:null,language:t,type:"text",primary:!1,trickModeVideo:null};return this.oa.push(l.id),o.textStreams.push(l),rr(this.b,{text:l}).then(function(){if(!this.w)return this.oa.splice(this.oa.indexOf(l.id),1),ii(this,o),oi(this),{id:l.id,active:!1,type:"text",bandwidth:0,language:t,kind:n,width:null,height:null}}.bind(this))},qr.prototype.addTextTrack=qr.prototype.addTextTrack,qr.prototype.hb=function(e,t){this.Da.width=e,this.Da.height=t},qr.prototype.setMaxHardwareResolution=qr.prototype.hb,Aa=qr.prototype,Aa.Qa=function(e){var t=this.b?er(this.b):{};if(xe(this.g,t,e),t=0<Ye(e.variants).length,Ue(e,this.a.restrictions,this.Da)&&!this.l&&oi(this),e=1>Ye(e.variants).length,!t)throw new l(4,4011);if(e)throw new l(4,4012)},Aa.Uc=function(e,t){this.a.abr.manager.segmentDownloaded(e,t)},Aa.Mb=function(e){ni(this),this.Ea=e,this.dispatchEvent(new Xe("buffering",{buffering:e}))},Aa.Tc=function(){if(this.b){var e,t=this.b;for(e in t.b){var n=t.b[e];n.ca||0<Qe(t.c,e,Hn(t.m))||n.ma||(n.ha?n.ma=!0:null==we(t.c,e)?null==n.ba&&Cr(t,n,0):(br(n),vr(t,n,!1)))}}},Aa.Qc=function(e){this.sa=!0,this.a.abr.manager.disable(),e=ri(this,e,Ke(e,this.a),Je(e,this.a),!0);for(var t in this.v)e[t]=this.v[t].stream;this.v={};for(t in e)this.C.push({timestamp:Date.now()/1e3,id:e[t].id,type:t,fromAdaptation:!0});return this.l||oi(this),e},Aa.Rb=function(){this.sa=!1,this.a.abr.enabled&&this.a.abr.manager.enable();for(var e in this.v){var t=this.v[e];nr(this.b,e,t.stream,t.Vb)}this.v={}},Aa.jb=function(e,t){var n,r=er(this.b);for(n in e){var i=e[n];r[n]!=i?this.C.push({timestamp:Date.now()/1e3,id:i.id,type:n,fromAdaptation:!0}):delete e[n]}if(!L(e)&&this.b){for(n in e)nr(this.b,n,e[n],t||!1);ai(this)}},Aa.ia=function(e){this.w||this.dispatchEvent(new Xe("error",{detail:e}))},Aa.Rc=function(e){this.dispatchEvent(e)},Aa.uc=function(){if(this.f.error){var e=this.f.error.code;if(1!=e){var t=this.f.error.msExtendedCode;t&&(0>t&&(t+=Math.pow(2,32)),t=t.toString(16)),this.ia(new l(3,3016,e,t))}}},Aa.Sc=function(e){var t=["output-restricted","internal-error"],n=$n(this.b),r=!1;n.variants.forEach(function(n){var i=[];n.audio&&i.push(n.audio),n.video&&i.push(n.video),i.forEach(function(i){var a=n.allowedByKeySystem;i.keyId&&i.keyId in e&&(n.allowedByKeySystem=0>t.indexOf(e[i.keyId])),a!=n.allowedByKeySystem&&(r=!0)})}),ii(this,n),r&&oi(this)},t("shaka.offline.Storage",li),li.support=Ai,li.prototype.o=function(){var e=this.l,t=this.a,n=this.g?this.g.o().catch(function(){}).then(function(){return Promise.all(e.map(function(e){return t.remove("segment",e)}))}).then(function(){return t.o()}):Promise.resolve();return this.i=this.b=this.g=this.a=null,n},li.prototype.destroy=li.prototype.o,li.prototype.configure=function(e){Jr(this.i,e,ci(this),{},"")},li.prototype.configure=li.prototype.configure,li.prototype.ad=function(e,t,n){function r(e){a=e}if(this.v)return Promise.reject(new l(9,9006));this.v=!0;var i,a=null;return ui(this).then(function(){return hi(this),di(this,e,r,n)}.bind(this)).then(function(n){if(hi(this),this.c=n.manifest,this.h=n.Wb,this.c.presentationTimeline.T()||this.c.presentationTimeline.ga())throw new l(9,9005,e);this.c.periods.forEach(this.s.bind(this)),this.f=this.a.b.manifest++,this.m=0,n=this.c.periods.map(this.w.bind(this));var r=this.h.b,a=te(this.h);if(r){if(!a.length)throw new l(9,9007,e);r.initData=[]}return i={key:this.f,originalManifestUri:e,duration:this.m,size:0,periods:n,sessionIds:a,drmInfo:r,appMetadata:t},xr(this.g,i)}.bind(this)).then(function(){if(hi(this),a)throw a;return Qr(this.a,"manifest",i)}.bind(this)).then(function(){return gi(this)}.bind(this)).then(function(){return _r(i)}.bind(this)).catch(function(e){return gi(this).catch(y).then(function(){throw e})}.bind(this))},li.prototype.store=li.prototype.ad,li.prototype.remove=function(e){function t(e){6013!=e.code&&(o=e)}var n=e.offlineUri,r=/^offline:([0-9]+)$/.exec(n);if(!r)return Promise.reject(new l(9,9004,n));var i,a,o=null,s=Number(r[1]);return ui(this).then(function(){return hi(this),this.a.get("manifest",s)}.bind(this)).then(function(e){if(hi(this),!e)throw new l(9,9003,n);return i=e,e=Hr(i),a=new Z(this.b.i,t,function(){}),a.configure(this.b.getConfiguration().drm),a.init(e,!0)}.bind(this)).then(function(){return $(a,i.sessionIds)}.bind(this)).then(function(){return a.o()}.bind(this)).then(function(){if(hi(this),o)throw o;var t=i.periods.map(function(e){return e.streams.map(function(e){var t=e.segments.map(function(e){return e=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e.uri),Number(e[1])});return e.initSegmentUri&&(e=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e.initSegmentUri),t.push(Number(e[1]))),t}).reduce(I,[])}).reduce(I,[]),n=0,r=t.length,a=this.i.progressCallback;return Tr(this.a,function(i){return i=t.indexOf(i.key),0<=i&&(a(e,n/r),n++),0<=i}.bind(this))}.bind(this)).then(function(){return hi(this),this.i.progressCallback(e,1),this.a.remove("manifest",s)}.bind(this))},li.prototype.remove=li.prototype.remove,li.prototype.list=function(){var e=[];return ui(this).then(function(){return hi(this),this.a.forEach("manifest",function(t){e.push(_r(t))})}.bind(this)).then(function(){return e})},li.prototype.list=li.prototype.list,li.prototype.A=function(e){for(var t=[],n=Pe(this.b.getConfiguration().preferredAudioLanguage),r=[0,Ia,ya],i=e.filter(function(e){return"variant"==e.type}),r=r.map(function(e){return i.filter(function(t){return t=Pe(t.language),Oe(e,n,t)})}),a=i,o=0;o<r.length;o++)r[o].length&&(a=r[o]);var s=a.filter(function(e){return e.height&&480>=e.height});s.length&&(s.sort(function(e,t){return t.height-e.height}),s.filter(function(e){return e.height==s[0].height}),a=s),a.sort(function(e,t){return e.bandwidth-t.bandwidth}),a.length&&t.push(a[Math.floor(a.length/2)]);var r=Pe(this.b.getConfiguration().preferredTextLanguage),l=Oe.bind(null,ya,r);return t.push.apply(t,e.filter(function(e){var t=Pe(e.language);return"text"==e.type&&l(t)})),t},li.prototype.s=function(e){var t={};if(this.j){var n=this.j.filter(function(e){return"variant"==e.type}),r=null;n.length&&(r=He(e,n[0])),r&&(r.video&&(t.video=r.video),r.audio&&(t.audio=r.audio))}xe(this.h,t,e),Ue(e,this.b.getConfiguration().restrictions,{width:1/0,height:1/0})},li.prototype.w=function(e){var t=Ve(e,{}),n=this.i.trackSelectionCallback(t);for(this.j||(this.j=n,this.c.periods.forEach(this.s.bind(this))),t=n.length-1;0<t;--t){for(var r=!1,i=t-1;0<=i;--i)if(n[t].type==n[i].type&&n[t].kind==n[i].kind&&n[t].language==n[i].language){r=!0;break}if(r)break}for(r=n.filter(function(e){return"variant"==e.type}),i=n.filter(function(e){return"text"==e.type}),n=[],t=0;t<r.length;t++){var a=He(e,r[t]);if(a){var o;a.audio&&((o=n.filter(function(e){return e.id==a.audio.id})[0])?o.variantIds.push(a.id):(o=a.video?a.bandwidth/2:a.bandwidth,n.push(pi(this,e,a.audio,o,a.id)))),a.video&&((o=n.filter(function(e){return e.id==a.video.id})[0])?o.variantIds.push(a.id):(o=a.audio?a.bandwidth/2:a.bandwidth,n.push(pi(this,e,a.video,o,a.id))))}}return t=i.map(function(t){return pi(this,e,je(e,t),0)}.bind(this)),n.push.apply(n,t),{startTime:e.startTime,streams:n}},Ua.offline=Ai,t("shaka.polyfill.installAll",function(){for(var e=0;e<xa.length;++e)xa[e]()});var xa=[];t("shaka.polyfill.register",mi),mi(function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,t=Document.prototype,t.exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitExitFullscreen,"fullscreenElement"in document||Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),document.addEventListener("webkitfullscreenchange",Ei),document.addEventListener("webkitfullscreenerror",Ei),document.addEventListener("mozfullscreenchange",Ei),document.addEventListener("mozfullscreenerror",Ei),document.addEventListener("MSFullscreenChange",Ei),document.addEventListener("MSFullscreenError",Ei)}}),vi.prototype.createMediaKeys=function(){var e=new bi(this.keySystem);return Promise.resolve(e)},vi.prototype.getConfiguration=function(){return this.a},bi.prototype.createSession=function(e){if("temporary"!=(e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new wi(this.a)},bi.prototype.setServerCertificate=function(){return Promise.reject(Error("setServerCertificate not supported on this platform."))},n(wi),Aa=wi.prototype,Aa.generateRequest=function(e,t){this.a=new w;try{this.c=this.g.createSession("video/mp4",new Uint8Array(t),null),_(this.f,this.c,"mskeymessage",this.pc.bind(this)),_(this.f,this.c,"mskeyadded",this.nc.bind(this)),_(this.f,this.c,"mskeyerror",this.oc.bind(this)),Ti(this,"status-pending")}catch(e){this.a.reject(e)}return this.a},Aa.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},Aa.update=function(e){this.b=new w;try{this.c.update(new Uint8Array(e))}catch(e){this.b.reject(e)}return this.b},Aa.close=function(){try{this.c.close(),this.closed.resolve(),M(this.f)}catch(e){this.closed.reject(e)}return this.closed},Aa.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},Aa.pc=function(e){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new Xe("message",{messageType:void 0==this.keyStatuses.Xa()?"licenserequest":"licenserenewal",message:e.message.buffer
}))},Aa.nc=function(){this.a?(Ti(this,"usable"),this.a.resolve(),this.a=null):this.b&&(Ti(this,"usable"),this.b.resolve(),this.b=null)},Aa.oc=function(){var e=Error("EME PatchedMediaKeysMs key error");if(e.errorCode=this.c.error,this.a)this.a.reject(e),this.a=null;else if(this.b)this.b.reject(e),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:Ti(this,"output-not-allowed");default:Ti(this,"internal-error")}};var Ga;Aa=Di.prototype,Aa.ib=function(e){this.size=void 0==e?0:1,this.a=e},Aa.Xa=function(){return this.a},Aa.forEach=function(e){this.a&&e(this.a,Ga)},Aa.get=function(e){if(this.has(e))return this.a},Aa.has=function(e){var t=Ga;return!(!this.a||!z(new Uint8Array(e),new Uint8Array(t)))},Aa.keys=function(){},_i.prototype.createSession=function(){},_i.prototype.setServerCertificate=function(){},Mi.prototype.getConfiguration=function(){},Mi.prototype.createMediaKeys=function(){};var Va="";Fi.prototype.createMediaKeys=function(){var e=new Ui(this.a);return Promise.resolve(e)},Fi.prototype.getConfiguration=function(){return this.b},Aa=Ui.prototype,Aa.createSession=function(e){var t=e||"temporary";if("temporary"!=t&&"persistent-license"!=t)throw new TypeError("Session type "+e+" is unsupported on this platform.");return e=this.b||document.createElement("video"),e.src||(e.src="about:blank"),t=new Vi(e,this.h,t),this.c.push(t),t},Aa.setServerCertificate=function(){return Promise.reject(Error("setServerCertificate not supported on this platform."))},Aa.zc=function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="webm",t.initData=e.initData,this.b.dispatchEvent(t)},Aa.yc=function(e){var t=Gi(this,e.sessionId);t&&(e=new Xe("message",{messageType:void 0==t.keyStatuses.Xa()?"licenserequest":"licenserenewal",message:e.message}),t.b&&(t.b.resolve(),t.b=null),t.dispatchEvent(e))},Aa.wc=function(e){(e=Gi(this,e.sessionId))&&(ji(e,"usable"),e.a&&e.a.resolve(),e.a=null)},Aa.xc=function(e){var t=Gi(this,e.sessionId);if(t){var n=Error("EME v0.1b key error");n.errorCode=e.errorCode,n.errorCode.systemCode=e.systemCode,!e.sessionId&&t.b?(n.method="generateRequest",45==e.systemCode&&(n.message="Unsupported session type."),t.b.reject(n),t.b=null):e.sessionId&&t.a?(n.method="update",t.a.reject(n),t.a=null):(n=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?ji(t,"output-restricted"):1==n?ji(t,"expired"):ji(t,"internal-error"))}},n(Vi),Aa=Vi.prototype,Aa.kb=function(e,t){if(this.a)this.a.then(this.kb.bind(this,e,t)).catch(this.kb.bind(this,e,t));else{this.a=e;var n,r;"webkit-org.w3.clearkey"==this.c?(n=U(t),r=JSON.parse(n),"oct"!=r.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=J(r.keys[0].k),r=J(r.keys[0].kid)):(n=new Uint8Array(t),r=null);var i=Li("addKey");try{this.f[i](this.c,n,r,this.sessionId)}catch(e){this.a.reject(e),this.a=null}}},Aa.generateRequest=function(e,t){return Hi(this,t,null)},Aa.load=function(e){return"persistent-license"==this.g?Hi(this,null,e):Promise.reject(Error("Not a persistent session."))},Aa.update=function(e){var t=new w;return this.kb(t,e),t},Aa.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Li("cancelKeyRequest");try{this.f[e](this.c,this.sessionId)}catch(e){}}return this.closed.resolve(),this.closed},Aa.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()};var Ha;Aa=Yi.prototype,Aa.ib=function(e){this.size=void 0==e?0:1,this.a=e},Aa.Xa=function(){return this.a},Aa.forEach=function(e){this.a&&e(this.a,Ha)},Aa.get=function(e){if(this.has(e))return this.a},Aa.has=function(e){var t=Ha;return!(!this.a||!z(new Uint8Array(e),new Uint8Array(t)))},Aa.keys=function(){},mi(function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(HTMLMediaElement.prototype.webkitGenerateKeyRequest?Ni("webkit"):HTMLMediaElement.prototype.generateKeyRequest?Ni(""):e.MSMediaKeys?(Ga=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Ci,e.MediaKeys=bi,e.MediaKeySystemAccess=vi,navigator.requestMediaKeySystemAccess=yi):(navigator.requestMediaKeySystemAccess=ki,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Ri,e.MediaKeys=_i,e.MediaKeySystemAccess=Mi))}),mi(function(){if(e.MediaSource){var t=navigator.vendor,n=navigator.appVersion;!t||!n||0>t.indexOf("Apple")||(0<=n.indexOf("Version/8")?e.MediaSource=null:0<=n.indexOf("Version/9")?Ki():0<=n.indexOf("Version/10")&&(Ki(),Ji()))}});var ja=0;zi.prototype.then=function(e,t){var n=new zi;switch(this.ka){case 1:ta(this,n,e);break;case 2:ta(this,n,t);break;case ja:this.c.push({J:n,Fa:e}),this.b.push({J:n,Fa:t})}return n},zi.prototype.catch=function(e){return this.then(void 0,e)},zi.prototype.X=function(e){if(this.ka==ja){for(this.Ra=e,this.ka=1,e=0;e<this.c.length;++e)ta(this,this.c[e].J,this.c[e].Fa);this.c=[],this.b=[]}},zi.prototype.a=function(e){if(this.ka==ja){for(this.Ra=e,this.ka=2,e=0;e<this.b.length;++e)ta(this,this.b[e].J,this.b[e].Fa);this.c=[],this.b=[]}};var Ya=null,Ka=[];mi(function(t){e.setImmediate?(ia=function(t){return e.setImmediate(t)},aa=function(t){return e.clearImmediate(t)}):(ia=function(t){return e.setTimeout(t,0)},aa=function(t){return e.clearTimeout(t)}),e.Promise&&!t||(e.Promise=zi,e.Promise.resolve=Zi,e.Promise.reject=Xi,e.Promise.all=$i,e.Promise.race=ea,e.Promise.prototype.then=zi.prototype.then,e.Promise.prototype.catch=zi.prototype.catch)}),mi(function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=oa)}}),mi(function(){if(!e.VTTCue&&e.TextTrackCue){var t=TextTrackCue.length;if(3==t)e.VTTCue=sa;else if(6==t)e.VTTCue=la;else{var n;try{n=!!sa(1,2,"")}catch(e){n=!1}n&&(e.VTTCue=sa)}}})}).call(e,this),"undefined"!=typeof module&&module.exports?module.exports=e.shaka:void 0!==define&&define.amd?define("Shaka",[],function(){return e.shaka}):this.shaka=e.shaka}(),define("ShakaVideo",["util","Caption608","Shaka"],function(e,t,n){function r(t,r,i,a,o){function s(r,i,a){Ie=arguments,"string"==typeof r&&(r=document.getElementById(r)),r.width=r.parentNode.clientWidth,r.height=r.parentNode.clientHeight,r.style.display="block",fe=r,n.polyfill.installAll(),n.Player.isBrowserSupported()?(me=new n.Player(r),window.shakaInstance=me,_e("initializing video")):(console.error("browser is not supported by Shaka"),t.publish("streamError","SHAK002"));for(var o in Me)Me.hasOwnProperty(o)&&e.addEventListener(fe,o,Me[o],!1);_e("video initialized")}function l(){Ce=fe.duration,t.publish("loadedmetadata",Ce,this.readyState)}function A(){t.publish("loadeddata",Ce)}function d(){_e("oncanplay")}function c(){_e("oncanplaythrough")}function u(e){for(var t=0,n=e.buffered.length;t<n;t++)if(e.currentTime<e.buffered.end(t)&&e.currentTime>e.buffered.start(t))return{start:e.buffered.start(t),end:e.buffered.end(t)};return{}}function g(e,t){for(var n,r,i,a,o=e.buffered.length,s=100,l=null,A=0;A<o;A++)n=e.buffered.start(A),r=e.buffered.end(A),i=r-n,(a=n-e.currentTime)>0&&a<s&&i>1.5&&(s=a,l=n);return null!=l?l:t>0&&t-e.currentTime<1.1?t:-1}function f(){_e("@resetGapCounters"),Ne=0,Le=0}function p(e){if(_e("@applyGapRecovery @"+fe.currentTime,e),!Ue&&Be!=fe.currentTime){var t=g(fe,Ce);t==Ce?(_e("forcing ended due to smaller than END_THRESHOLD distance to the end"),S()):-1==t?(_e("no buffer start to jump"),Ne<Oe?(_e("incrementing currentTime"),fe.currentTime+=1,Ne++,clearTimeout(Re.resetGapCounters),Re.resetGapCounters=setTimeout(f,Fe)):Le<Pe&&(_e("reloading for gap recovery"),Le++,clearTimeout(Re.resetGapCounters),Re.resetGapCounters=setTimeout(f,Fe),m())):(_e("@applyGapRecovery jumping from",fe.currentTime,"to",t),fe.currentTime=t)}}function h(e){_e("@onWaiting",this.currentTime),E(e)}function m(){var e=Array.prototype.slice.call(Ee),t=Array.prototype.slice.call(Ie);if(je)return void _e("cancelling reloadForGapRecovery due to the pending play promise");e[2]=fe.currentTime,Be=fe.currentTime,_e("@reloadForGapRecovery re-init due to stall"),ee(function(){s.apply(null,t),k.apply(null,e)})}function E(e){_e("@evaluateEventForGapRecovery",e.type,fe.paused,fe.networkState,fe.readyState,fe.currentTime),fe.paused?fe.readyState<3&&p(e.type):(he=fe.currentTime,clearTimeout(Re.applyGapRecovery),Re.applyGapRecovery=setTimeout(function(){fe.currentTime==he&&(_e("@applying gap receovery for non-paused "+e.type),p(e.type))},1e3))}function I(e){E(e)}function y(e){_e("@onEmptied",e.type)}function v(){_e("@onImpliedCanPlay"),t.publish("videoReady2Play","canplay"+(Ue?"-mse-seeked":"")),Ue=!1}function C(){_e("onprogress",fe.readyState,fe.networkState);var e;fe.buffered&&fe.buffered.length&&(e=fe.buffered.end(fe.buffered.length-1),_e("@progress->bufferEnd",e),!Ye&&e>0&&(Ye=!0,v()),t.publish("bufferLimitUpdated",e))}function b(){_e("onplay")}function B(){_e("# paused");var e=(r.iphone||r.ipod)&&Se,n=!("isPauseInternal"in fe)||!fe.isPauseInternal;t.publish("evaluatePausedState"),Math.abs(Ce-fe.currentTime)<=1&&(fe.isPauseInternal=!1),n||t.publish("userEvent","IMPLICIT_PAUSE"),e&&(_e("onpause"),n&&t.publish("userEvent","USER_PAUSE",fe.isPauseInternal)),delete fe.isPauseInternal}function w(){_e("onplaying"),fe.setAttribute("data-autoplay-mute-lock",!1),t.publish("playing"),Je=!0}function S(){_e("@onEnded"),Te.lastPosition=0,Te.marked=0,Te.persistCounter=0,t.publish("completedVideoContent")}function Q(){_e("@onSeeking")}function T(){_e("@onSeeked"),Ue=!1,t.publish("videoReady2Play","seeked")}function D(e,t,n){_e("@init","destroyInProgres:",o.destroyInProgres,e),"string"==typeof e&&(e=document.getElementById(e)),e.width=e.parentNode.clientWidth,e.height=e.parentNode.clientHeight,e.style.display="block",fe=e,o.destroyInProgres?(_e("setting destroyCallback"),o.destroyCallback=D,o.destroyCallbackArgs=arguments):(ce=e,ue=t,ge=n,s(e,t,n),Ve=!0,xe&&xe.apply(null,Array.prototype.slice.call(Ge)))}function k(n,r,i){var o,s,l;_e("@setSource offset",i),Ve?(Ee=arguments,Te.lastPosition=0,Te.marked=0,Te.persistCounter=0,qe=0,Ke=!1,Je=!1,Ye=!1,pe=!1,_e("@setSource initial url",n.embed_url,"openCaptions",Qe),Qe?(o=n.embed_url.indexOf("?")>-1?"&":"?",s=n.embed_url+o+"caption=open"):(s=n.embed_url,s=s.replace(/.caption=open/,"")),ye!=s?(l={drm:a.drm||n.drm,streaming:{bufferingGoal:60}},!l.drm&&n.license_url&&(l.drm={servers:{"com.widevine.alpha":n.license_url,"com.microsoft.playready":n.license_url}},_e("@setSource using drm info from license_url",n.license_url)),e.addEventListener(me,"error",F.bind(fe,"shaka",r)),e.addEventListener(fe,"error",F.bind(fe,"video",r)),_e("@setSource final url",s),me.configure(l),me.addEventListener("buffering",_),me.addEventListener("adaptation",R),me.load(s,i).then(function(){_e("load promise succeeded")}).catch(F.bind(fe,"shaka",r)),fe.load(),ye=s):t.publish("videoReady2Play","canplay")):(xe=k,Ge=arguments)}function R(e){for(var n,r,i=N(),a=me.getConfiguration(),o=a&&a.abr&&a.abr.enabled,s=[],l=0,A=i.length;l<A;l++)"number"==typeof(n=i[l].bandwidth)&&(n=Math.floor(n/1e3),i[l].active&&(r=n),s.push(n));s=s.sort(function(e,t){return e-t}),JSON.stringify(s)!=JSON.stringify(He)&&(He=s,be=null,t.publish("bitrateUpdate",He,o?"auto":r)),r!=be&&(be=r,t.publish("bitrateChanged",r))}function _(e){e&&"boolean"==typeof e.buffering&&(Ke=e.buffering,Je&&t.publish("toggleBufferSpinner",e.buffering))}function M(){return ye}function N(){var e;return"function"==typeof me.getVariantTracks?me.getVariantTracks():"function"==typeof me.getTracks?(e=me.getTracks(),e.filter(function(e){return"video"==e.type||"variant"==e.type})):(console.error("No known method available to get tracks \n(possibly due to a non-backwards-compatible shaka library upgrade"),null)}function L(e){_e("@setBitrate",e);var n,r,i,a=N(),o="auto"==e;if(me.configure({abr:{enabled:o}}),!o){for(var s=0,l=a.length;s<l;s++)if("number"==typeof(n=a[s].bandwidth)&&!a[s].active){if(n=Math.floor(n/1e3),e==n){i=s;break}(!r||r>Math.abs(e-n))&&(r=Math.abs(e-n),i=s)}"function"==typeof me.selectVariantTrack?me.selectVariantTrack(a[i]):me.selectTrack(a[i]),t.publish("bitrateChanged",Math.floor(a[i].bandwidth/1e3))}}function O(e,t){ue=e,ge=t,fe.width=e,fe.height=t}function P(e){Te.lastPosition=Te.lastPosition||0,Te.marked=Te.marked||0,Te.persistCounter=Te.persistCounter||0,Math.abs(e-Te.lastPosition)<2?Te.lastPosition=e:(Math.abs(e-Te.marked)<2?(Te.marked=e,Te.persistCounter++):(Te.marked=e,Te.persistCounter=0),Te.persistCounter>5&&(_e("seek detected from",Te.lastPosition,"to",Te.marked),(r.iphone||r.ipod||Se)&&t.publish("userEvent",Te.marked>Te.lastPosition?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",Te.lastPosition,Te.marked),Te.lastPosition=e,Te.marked=0,Te.persistCounter=0))}function F(e,n,r){var i,a,o;if("source"==e)i=this.parentNode;else if("video"==e)i=this;else{if("shaka"==e)return r.detail?(console.error("Error code:",r.detail.code,"data:",r.detail.data),void t.publish("streamError","SHAK001","Shaka media module error #"+r.detail.code)):(console.error("Error code:",r.code,"data:",r.data),void t.publish("streamError","SHAK001","Shaka media module error #"+r.code));i=fe}a=De[i.networkState],o=ke[i.readyState],_e("Error network state",a),_e("Error ready state",o),_e("Error h264 support",!(!i.canPlayType||!i.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))),n&&n(null,e,["networkState: "+a,"readyState: "+o].join(" | "),r)}function U(e){_e("@startTimeNotification",e),Re.startTimeNotification||(Re.startTimeNotification=setInterval(x.bind(null,"timer"),300),_e("@startTimeNotification",e,Re.startTimeNotification))}function x(){Ue||(_e("@sendTimeNotification",fe.currentTime),fe&&(G(),t.publish("updateTime",fe.currentTime),P(Math.floor(fe.currentTime))))}function G(){var e,t;fe.currentTime!=we?(we=fe.currentTime,qe=0):fe.paused||(qe++,_e("@evaluateImplicitStall playhead stuck",qe),qe>=We&&(e=g(fe,fe.duration),e>-1?e-fe.currentTime<ze&&(_e("@evaluateImplicitStall calling applyGapRecovery"),p("evaluateImplicitStall")):Be==fe.currentTime||Ke||(t=u(fe).end,_e("@evaluateImplicitStall calling reloadForGapRecovery!",t),t&&t-fe.currentTime<Ze&&m()),qe=0))}function V(){_e("@cancelTimeNotification",Re.startTimeNotification),clearTimeout(Re.startTimeNotification),delete Re.startTimeNotification}function H(e){fe.playbackRate=e}function j(){fe.playbackRate=1}function Y(){return fe.playbackRate}function K(){var e;return fe.buffered&&fe.buffered.length?(e=fe.buffered.end(fe.buffered.length-1),_e("@getBufferEnd",e),e):0}function J(){W(!0)}function q(){W(!1)}function W(e){_e("@toggleOpenCaption ",e),Qe=e,Te.lastPosition=0,Te.marked=0,Te.persistCounter=0;var t,n,r,i,a=fe.getElementsByTagName("source");1==a.length&&(t=a[0]),i=t.src,r=t.url,_e("@toggleOpenCaption initial url",i),i=i.replace(/.caption=open/,""),e&&(n=i.indexOf("?")>-1?"&":"?",i+=n+"caption=open",_e("@toggleOpenCaption final url",i),t.onerror=F.bind(t,"source",q),fe.onerror=F.bind(fe,"video",q)),r!=i&&(t.src=i,fe.load())}function z(){return fe.currentTime}function Z(e){var t,n,r=fe.buffered.length;if(e>=0)for(var i=0;i<r;i++)if(t=fe.buffered.start(i),n=fe.buffered.end(i),e<n&&e>t)return!0;return!1}function X(e){if(_e("@seekTo",e),fe.currentTime=e,!(e<0||e>Ce)){Ue=!0;var t,r,i=Z(e),a=n&&n.Player&&n.Player.version,o="string"==typeof a&&a.indexOf("2.0.0")>-1;i||o?(_e("@seekTo using available buffer (or supported currentTime seek if shaka v2.0)"),fe.currentTime=e):(_e("@seekTo buffer NOT available re-init"),t=Array.prototype.slice.call(Ee),r=Array.prototype.slice.call(Ie),t[2]=e,ee(function(){s.apply(null,r),k.apply(null,t)}))}}function $(){return"SHAKA"}function ee(t){_e("@destroy");try{me&&"destroy"in me&&(o.destroyInProgres=!0,me.destroy().then(te.bind(null,t)))}catch(n){console.error("encountered an error while destroying shaka instance")}for(var n in Me)Me.hasOwnProperty(n)&&e.removeEventListener(fe,n,Me[n],!1);for(var r in Re)Re.hasOwnProperty(r)&&clearTimeout(Re[r]);Re={},me=null,ye=null}function te(e){_e("@onDestroyed"),o.destroyInProgres=!1,o.destroyCallback&&o.destroyCallback.apply(null,Array.prototype.slice.call(o.destroyCallbackArgs)),o.destroyCallback=null,"function"==typeof e&&(_e("calling internal callback"),e())}function ne(){me&&"skip_to_live"in me&&me.skip_to_live()}function re(){return!1}function ie(e){_e("@setVolume",e),le()||(fe.volume=e,fe.muted=!e)}function ae(e){return fe.volume}function oe(e){_e("@toggleInlinePlayback",e),e?fe.setAttribute("playsinline",""):fe.removeAttribute("playsinline")}function se(e){_e("@toggleMobileAutoPlay",e),e?(fe.setAttribute("playsinline",""),fe.setAttribute("autoplay",""),fe.setAttribute("muted",""),fe.muted=!0,fe.volume=0):(fe.removeAttribute("autoplay"),fe.removeAttribute("muted"),fe.muted=!1),fe.setAttribute("data-autoplay-mute-lock",!!e)}function le(){return"true"==fe.getAttribute("data-autoplay-mute-lock")}function Ae(){return fe.muted}function de(){return K()-fe.currentTime}var ce,ue,ge,fe,pe,he,me,Ee,Ie,ye,ve,Ce,be,Be,we,Se=!1,Qe=!1,Te={},De={0:"NETWORK_EMPTY - audio/video has not yet been initialized",1:"NETWORK_IDLE - audio/video is active and has selected a resource, but is not using the network",2:"NETWORK_LOADING - browser is downloading data",3:"NETWORK_NO_SOURCE - no audio/video source found"},ke={0:"HAVE_NOTHING - no information whether or not the audio/video is ready",1:"HAVE_METADATA - metadata for the audio/video is ready",2:"HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond",3:"HAVE_FUTURE_DATA - data for the current and at least the next frame is available",4:"HAVE_ENOUGH_DATA - enough data available to start playing"},Re={},_e=i?i.getLogFn("ShakaVideo"):function(){console.log.apply(console,["[!ShakaVideo!]\t"].concat(Array.prototype.slice.call(arguments)))},Me={loadedmetadata:l,loadeddata:A,canplay:d,canplaythrough:c,progress:C,play:b,pause:B,playing:w,ended:S,seeking:Q,seeked:T,waiting:h,stalled:I,emptied:y},Ne=0,Le=0,Oe=3,Pe=1,Fe=1e4,Ue=!1,xe=null,Ge=null,Ve=!1,He=[],je=!1,Ye=!1,Ke=!1,Je=!1,qe=0,We=3,ze=5,Ze=1;return{videoContent:function(){return fe},init:D,width:function(e){return"number"==typeof e&&(ue=e),ue},height:function(e){return"number"==typeof e&&(ge=e),ge},getCurrentTime:z,seekTo:X,getDuration:function(){return fe.duration},setSource:k,getSource:M,play:function(e,t){_e("@play");var n=fe.play();je=!0,void 0!==n&&n.then(function(){_e("@play promise succeeded"),je=!1,fe.setAttribute("data-autoplay-mute-lock",!1),"function"==typeof e&&e()}).catch(function(e){je=!1,console.error("play promise failed",fe),"function"==typeof t&&t(e),_e("@play promise failed with error",e.name,e.message,e)})},pause:function(e){_e("@pause",e),fe.isPauseInternal=e,fe.pause()},setSpherical:function(e){_e("@setSpherical",e),ve=e,fe.style.display=ve?"none":"block",fe.style.visibility=ve?"hidden":"visible",ve&&!fe.getAttribute("crossorigin")&&fe.readyState>0&&fe.load()},hide:function(){fe.style.display="none",fe.style.visibility="hidden"},show:function(){ve||(fe.style.visibility="visible",fe.style.display="block")},hasEmbedCaption:re,enableEmbedCaption:function(){_e("@enableEmbedCaption"),_e("No embed caption available")},disableEmbedCaption:function(){fe.textTracks&&fe.textTracks.length?(_e("embed caption disabled"),fe.textTracks[0].mode="hidden"):_e("No embed caption available")},resize:O,setFullscreen:function(e){_e("@setFullscreen",e),Se=e},getPaused:function(){return fe.paused},isBitrateSwitchSupported:function(){return!0},setBitrate:L,startTimeNotification:U,cancelTimeNotification:V,setPlaybackRate:H,getPlaybackRate:Y,resetPlaybackRate:j,getBufferEnd:K,loadOpenCaption:J,unloadOpenCaption:q,getType:$,destroy:ee,catchLive:ne,setVolume:ie,getVolume:ae,toggleMobileAutoPlay:se,toggleInlinePlayback:oe,isMuted:Ae,getRemainingBuffer:de}}return r}),define("Audio",["util"],function(e){function t(t,n,r,i){function a(){ce=!0,t.publish("loadedmetadata",this.duration,this.readyState),ne&&ne.textTracks&&(e.removeEventListener(ne.textTracks,"addtrack",o),e.addEventListener(ne.textTracks,"addtrack",o))}function o(){oe("@onAddTrack")}function s(){t.publish("loadeddata",this.duration)}function l(){oe("oncanplay"),t.publish("videoReady2Play","canplay")}function A(){oe("oncanplaythrough")}function d(){oe("onprogress",ne.readyState,ne.networkState);var e;ne.buffered&&ne.buffered.length&&(e=ne.buffered.end(ne.buffered.length-1),oe("@progress->bufferEnd",e),t.publish("bufferLimitUpdated",e))}function c(){oe("onplay")}function u(){oe("@onPaused");var e=!("isPauseInternal"in ne)||!ne.isPauseInternal;Math.abs(ne.duration-ne.currentTime)<=1&&(ne.isPauseInternal=!1),(n.iphone||n.ipod||ae)&&(oe("onpause"),e&&t.publish("userEvent","USER_PAUSE",ne.isPauseInternal),delete ne.isPauseInternal)}function g(){oe("onplaying"),t.publish("playing")}function f(){oe(" # ended"),se.lastPosition=0,se.marked=0,se.persistCounter=0,t.publish("completedVideoContent")}function p(){oe("seeking")}function h(){oe("@onSeeked"),t.publish("videoReady2Play","seeked")}function m(e){se.lastPosition=se.lastPosition||0,se.marked=se.marked||0,se.persistCounter=se.persistCounter||0,Math.abs(e-se.lastPosition)<2?se.lastPosition=e:(Math.abs(e-se.marked)<2?(se.marked=e,se.persistCounter++):(se.marked=e,se.persistCounter=0),se.persistCounter>5&&(oe("seek detected from",se.lastPosition,"to",se.marked),(n.iphone||n.ipod||ae||n.ott)&&ne.duration!=1/0&&t.publish("userEvent",se.marked>se.lastPosition?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",se.lastPosition,se.marked),se.lastPosition=e,se.marked=0,se.persistCounter=0))}function E(e){de.startTimeNotification||(de.startTimeNotification=setInterval(I.bind(null,"timer"),300))}function I(){t.publish("updateTime",ne.currentTime),m(Math.floor(ne.currentTime))}function y(){oe("@cancelTimeNotification",de.startTimeNotification),clearTimeout(de.startTimeNotification),delete de.startTimeNotification}function v(t,n,r,i){oe("@init",t,n,r,i),$=t,ee=n,te=r,ne=i.element,re=i.posterElement,i.posterUrl&&(re.style.background="url("+i.posterUrl+") center center / 100% no-repeat");for(var a in ue)ue.hasOwnProperty(a)&&e.addEventListener(ne,a,ue[a],!1);oe("video initialized")}function C(e,t,n){oe("@setSource"),ce=!1,ne.src=e.embed_url,ne.onerror=b.bind(ne,"audio",t),ie=e.embed_url,ne.load()}function b(e,n,r){var i,a;if(ne.readyState==ne.HAVE_NOTHING&&ne.networkState==ne.NETWORK_NO_SOURCE)return void t.publish("streamError","PLAY499");i=le[ne.networkState],a=Ae[ne.readyState],oe("Error network state",i),oe("Error ready state",a),n&&n(null,e,["networkState: "+i,"readyState: "+a].join(" | "),r)}function B(e,t){oe("@play");var n=ne.play();void 0!==n?n.then(function(){oe("@play promise succeeded"),"function"==typeof e&&e()}).catch(function(e){"function"==typeof t&&t(e),console.error("@play promise failed with error",e.name,e.message,e)}):oe("browser does not support promises")}function w(){oe("@pause"),ne.pause()}function S(){return ne}function Q(e){return"number"==typeof e&&(ee=e),ee}function T(e){return"number"==typeof e&&(te=e),te}function D(){return ne.currentTime}function k(e){oe("@seekTo",e),ne.currentTime=e}function R(){return ne.duration}function _(){ne.load()}function M(){return ie}function N(){return ne.readyState}function L(e){ne.volume=e,ne.muted=!e}function O(){return ne.volume}function P(){re.style.display="none",$.style.display="none"}function F(){re.style.display="block",$.style.display="block"}function U(e,t){re.style[e]=t}function x(){return!1}function G(e,t){ee=e,te=t,$.width=e,$.height=t}function V(e){oe("@setFullscreen",e),ae=e}function H(){return ne.paused}function j(e){ne.playbackRate=e}function Y(){return ne.playbackRate}function K(){var e;return ne.buffered&&ne.buffered.length?(e=ne.buffered.end(ne.buffered.length-1),oe("@getBufferEnd",e),e):0}function J(){ne.playbackRate=1}function q(){return"AUDIO"}function W(){oe("@destroy");for(var t in ue)ue.hasOwnProperty(t)&&e.removeEventListener(ne,t,ue[t],!1);for(var n in de)de.hasOwnProperty(n)&&clearTimeout(de[n]);ne&&ne.textTracks&&e.removeEventListener(ne.textTracks,"addtrack",o),ne&&"paused"in ne&&!ne.paused&&ne.pause(),ne&&"innerHTML"in ne&&(ne.innerHTML=""),ne=null,ie=null,de={}}function z(e){oe("toggleMobileAutoPlay",e),e?(ne.setAttribute("playsinline",""),ne.setAttribute("autoplay","")):ne.removeAttribute("autoplay")}function Z(e){oe("@toggleInlinePlayback",e),e?ne.setAttribute("playsinline",""):ne.removeAttribute("playsinline")}function X(){return K()-ne.currentTime}var $,ee,te,ne,re,ie,ae=!1,oe=r?r.getLogFn("Audio"):function(){console.log.apply(console,["[!Audio!]\t"].concat(Array.prototype.slice.call(arguments)))},se={},le={0:"NETWORK_EMPTY - audio/video has not yet been initialized",1:"NETWORK_IDLE - audio/video is active and has selected a resource, but is not using the network",2:"NETWORK_LOADING - browser is downloading data",3:"NETWORK_NO_SOURCE - no audio/video source found"},Ae={0:"HAVE_NOTHING - no information whether or not the audio/video is ready",1:"HAVE_METADATA - metadata for the audio/video is ready",2:"HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond",3:"HAVE_FUTURE_DATA - data for the current and at least the next frame is available",4:"HAVE_ENOUGH_DATA - enough data available to start playing"},de={},ce=!1,ue={loadedmetadata:a,loadeddata:s,canplay:l,canplaythrough:A,progress:d,play:c,pause:u,playing:g,ended:f,seeked:h,seeking:p};return{videoContent:S,init:v,width:Q,height:T,play:B,pause:w,hardPause:w,getCurrentTime:D,seekTo:k,getDuration:R,load:_,setSource:C,getSource:M,getReadyState:N,setVolume:L,getVolume:O,hide:P,show:F,setStyle:U,hasEmbedCaption:x,enabledEmbedCaption:function(){},disableEmbedCaption:function(){},resize:G,setFullscreen:V,getPaused:H,startTimeNotification:E,cancelTimeNotification:y,setPlaybackRate:j,getPlaybackRate:Y,resetPlaybackRate:J,getBufferEnd:K,enableEmbedCaption:function(){},loadOpenCaption:function(){},unloadOpenCaption:function(){},getType:q,destroy:W,catchLive:function(){},setSpherical:function(){},isBitrateSwitchSupported:function(){return!1},setBitrate:function(){},toggleMobileAutoPlay:z,notifyCaptionStatus:function(){},toggleInlinePlayback:Z,getRemainingBuffer:X}}return t});var fetchText,_buildMap={};define("es6",["module"],function(e){return{load:function(e,t,n,r){},write:function(e,t,n){t in _buildMap&&n.asModule(e+"!"+t,_buildMap[t])}}}),define("base64-hlscore-wasm",[],function(){
return"AGFzbQEAAAABugEcYAR/f39/AGAEf3x8fwBgAn9/AX9gA39/fwF/YAF/AX9gAX8AYAABf2ACf38AYAN/f38AYAR/f39/AX9gBH98f38Bf2AFf3x8f38AYAV/f39/fwF/YAF/AXxgBn9/f39/fwF/YAR/fH9/AGACf3wAYAV/f39/fwBgB39/f39/f38AYAN+f38Bf2ACfn8Bf2AGf3x/f39/AX9gAnx/AXxgAXwBfGABfAF/YAAAYAJ8fAF8YAV/f3x8fwACwAMYA2VudgZtZW1vcnkCAIACA2VudgV0YWJsZQFwAQ8PA2Vudgl0YWJsZUJhc2UDfwADZW52DkRZTkFNSUNUT1BfUFRSA38AA2VudghTVEFDS1RPUAN/AANlbnYJU1RBQ0tfTUFYA38AA2VudgVhYm9ydAAFA2Vudg1lbmxhcmdlTWVtb3J5AAYDZW52DmdldFRvdGFsTWVtb3J5AAYDZW52F2Fib3J0T25DYW5ub3RHcm93TWVtb3J5AAYDZW52B19fX2xvY2sABQNlbnYLX19fc2V0RXJyTm8ABQNlbnYMX19fc3lzY2FsbDEwAAIDZW52DV9fX3N5c2NhbGwxNDAAAgNlbnYNX19fc3lzY2FsbDE0NQACA2Vudg1fX19zeXNjYWxsMTQ2AAIDZW52DV9fX3N5c2NhbGwyMjEAAgNlbnYMX19fc3lzY2FsbDQwAAIDZW52C19fX3N5c2NhbGw1AAIDZW52DF9fX3N5c2NhbGw1NAACA2VudgtfX19zeXNjYWxsNgACA2VudglfX191bmxvY2sABQNlbnYWX2Vtc2NyaXB0ZW5fbWVtY3B5X2JpZwADA2VudgVfZXhpdAAFA4gBhgEEBAYFBwcFBggJBwcFCAUHAAQGBAQCAwoLBQAJCQwFDQ0EDgUCBw8PEAIEBQICAgcEAwMEBgMDABEHEgcEBAgEAgIECQMJAwwIBAgTFBQDEQIVFgMCAwIDBAMCBAMEBAIEBQYCBAQCBAQDAwIECQIECRcYGQQEGhoDAwMEAgMJGxEEAgMBAAYfBn8BIwELfwEjAgt/ASMDC38BQQALfwFBAAt/AUEACweNBCAQX19ncm93V2FzbU1lbW9yeQASEV9fX2Vycm5vX2xvY2F0aW9uAEYVX2NvbnZlcnRfc2VnbWVudF9maWxlADQFX2ZyZWUAPQ9fZ2V0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ACACQQg2AgBBCCEBCyACIAFBf2oiATYCACAAIANJBH8gAC0AACABdkECdEEEcQVBAAshCiABRQRAIAQgAEEBaiIANgIAIAJBCDYCAEEIIQELIAIgAUF/aiIBNgIAIAAgA0kEfyAALQAAIAF2QQF0QQJxBUEACyELIAFFBEAgBCAAQQFqIgA2AgAgAkEINgIAQQghAQsgAiABQX9qIgE2AgAgACADSQR/IAAtAAAgAXZBAXEFQQALIQMgAUUEQCAEIABBAWo2AgAgAkEINgIACyADIAsgCiAJIAggByAFIAZycnJycnJyCxgBAX9ByABBARA+IgBBAEEAEDs2AjggAAsPACAAKAI4ED0gABA9QQALugEBAX8jBSEBIwVBEGokBSABQYACNgIAIAFBBEEBIAAQfxogAUEANgIAIAFBBEEBIAAQfxogAUEANgIAIAFBBEEBIAAQfxogAUEANgIAIAFBBEEBIAAQfxogAUGAAjYCACABQQRBASAAEH8aIAFBADYCACABQQRBASAAEH8aIAFBADYCACABQQRBASAAEH8aIAFBADYCACABQQRBASAAEH8aIAFBwAA2AgAgAUEEQQEgABB/GiABJAVBAAu8AgEEfyMFIQQjBUEQaiQFIAQiAkEANgIAIAJBBEEBIAEQfxpBAyABEH0aIABBqhBqIgMvAQBBGHRBgICAuAFqQRh1IAEQfRogAkGAAjsBACACQQJBASABEH8aQQAgARB9GkEEIAEQfRogAy8BAEEYdEGAgID4AGpBGHUgARB9GkHAACABEH0aQRUgARB9GkEAIAEQfRpBACABEH0aQQAgARB9GiACIABBCGoiBSgCAEEBRgR/QYCfyQAFQb3pBwsQhwE2AgAgAkEEQQEgARB/GiACIAUoAgBBAUYEf0GAn8kABUG96QcLEIcBNgIAIAJBBEEBIAEQfxpBBSABEH0aIAMvAQBBGHRBGHUgARB9GiAAQawQaiADLwEAQQEgARB/GkEGIAEQfRpBASABEH0aQQIgARB9GiAEJAVBAAuoKwMGfwF+A3wjBSEHIwVBIGokBSAHQQhqIQYgB0EMaiEEIAdBEWohBSACEHohCCAHIgNBADYCACADQQRBASACEH8aIAFBAUEEIAIQfxoCQCABQcAkEFIEQCABQd4kEFJFBEAgBEHjJCgAADYAACAEQeckLAAAOgAEIARBAUEEIAIQfxogA0GAgIAINgIAIANBBEEBIAIQfxpB4yRBAUEEIAIQfxpB6CRBAUEEIAIQfxoMAgsgAUHtJBBSRQRAIABB8iQgAhAoGiAAQfckIAIQKBogAEH8JCACECgaDAILIAFB9yQQUkUEQCAAQYElIAIQKBoMAgsgAUH8JBBSRQRAIABBhiUgAhAoGiAAQYslIAIQKBoMAgsgAUGQJRBSRQRAIABBlSUgAhAoGiAAQZolIAIQKBogAEGfJSACECgaIABBpCUgAhAoGgwCCyABQYslEFJFBEAgAEGpJSACECgaIABBriUgAhAoGiAAQbMlIAIQKBoMAgsgAUGzJRBSRQRAIAAgACgCCEEBRgR/QbglBUG9JQsgAhAoGiAAQcIlIAIQKBogAEHHJSACECgaDAILIAFBwiUQUkUEQCAAQcwlIAIQKBoMAgsgAUHRJRBSRQRAIABB1iUgAhAoGgwCCyABQdslEFJFBEAgAEHgJSACECgaIABBkCUgAhAoGgwCCyABQcclEFJFBEAgAEHlJSACECgaIABB6iUgAhAoGiAAQe8lIAIQKBogAEH0JSACECgaIABB+SUgAhAoGgwCCyABQfIkEFJFBEAgA0EANgIAIANBBEEBIAIQfxogA0EANgIAIANBBEEBIAIQfxogA0EANgIAIANBBEEBIAIQfxogAyAAKAIIQQFGBH9BoI0GBSAAQa0Qai0AAEEHdiAAQawQaiwAAEEBdEEOcXIiAEEMSwR/QfUjEIEBGkGA9wIFIABBAnRBgAhqKAIACwsQhwE2AgAgA0EEQQEgAhB/GiADQQA2AgAgA0EEQQEgAhB/GiADQYACNgIAIANBBEEBIAIQfxogA0EAOwEAIANBAkEBIAIQfxogA0EAOwEAIANBAkEBIAIQfxogA0EANgIAIANBBEEBIAIQfxogA0EEQQEgAhB/GiACECYaIANBADYCACADQQRBASACEH8aIANBBEEBIAIQfxogA0EEQQEgAhB/GiADQQRBASACEH8aIANBBEEBIAIQfxogA0EEQQEgAhB/GiADQYCAgBA2AgAgA0EEQQEgAhB/GgwCCyABQcwlEFJFBEAgA0EANgIAIANBBEEBIAIQfxogA0GAgIAINgIAIANBBEEBIAIQfxogA0GAgIDgADYCACAEQfXksYMCNgIAIAVB/iUuAAA7AAAgBUGAJiwAADoAAiADQQRBASACEH8aIARBBEEBIAIQfxpBACACEH0aIAVBA0EBIAIQfxoMAgsgAUHqJRBSRQRAIANBADYCACADQQRBASACEH8aIANBADYCACADQQRBASACEH8aDAILIAFB7yUQUkUEQCADQQA2AgAgA0EEQQEgAhB/GiADQQA2AgAgA0EEQQEgAhB/GgwCCyABQfQlEFJFBEAgA0EANgIAIANBBEEBIAIQfxogA0EANgIAIANBBEEBIAIQfxogA0EANgIAIANBBEEBIAIQfxoMAgsgAUH5JRBSRQRAIANBADYCACADQQRBASACEH8aIANBADYCACADQQRBASACEH8aDAILIAFBgSYQUkUEQCADQQA2AgAgA0EEQQEgAhB/GiADQYCasIR8NgIAIANBBEEBIAIQfxoMAgsgAUGBJRBSRQRAIANBADYCACADQQRBASACEH8aIANBgICACDYCACADQQRBASACEH8aIANBgICACDYCACADQQRBASACEH8aIAMgACgCBCIBQQFKBH8gAUF/aiEEQQAhASAAKAIAIgUrAxghCwNAIAogBSABQQFqIgFBMGxqKwMYIgwgC6GgIQogASAERwRAIAwhCwwBCwsgCiAEt6MgACgCCEEBRgR8RAAAAAAAavhABSAAQa0Qai0AAEEHdiAAQawQaiwAAEEBdEEOcXIiAEEMSwR8QfUjEIEBGkQAAAAAAHDnQAUgAEECdEGACGooAgC3CwuiEIQBBSAAKAIIQQFGBH9B6AcFQYAICwsQhwE2AgAgA0EEQQEgAhB/GiADQQA2AgAgA0EEQQEgAhB/GiADQQA2AgAgA0EEQQEgAhB/GgwCCyABQYYlEFJFBEBBACACEH0aQQAgAhB9GkEAIAIQfRpBAyACEH0aIANBADYCACADQQRBASACEH8aIANBADYCACADQQRBASACEH8aIANBgICACDYCACADQQRBASACEH8aIANBADYCACADQQRBASACEH8aIANBADYCACADQQRBASACEH8aIANBADYCACADQQRBASACEH8aIANBBEEBIAIQfxogA0EEQQEgAhB/GiADIABBCGoiASgCAEEBRzsBACADQQJBASACEH8aIANBADsBACADQQJBASACEH8aIAIQJhoCfyABKAIAQQFGBH8gAEEpaiIFIABBJmoiBi8BAEF/aiADIAQQIiADKAIAQRB0IQBBACABKAIAQQFHDQEaIAUgBi8BAEF/aiADIAQQIiAEKAIAQRB0BUEAIQBBAAsLIQEgAyAAEIcBNgIAIANBBEEBIAIQfxogAyABEIcBNgIAIANBBEEBIAIQfxoMAgsgAUHWJRBSRQRAIANBADYCACADQQRBASACEH8aIANBgICACDYCACADQQRBASACEH8aIANBADYCACADQQRBASACEH8aIANBADYCACADQQRBASACEH8aIANBgAI7AQAgA0ECQQEgAhB/GiADQQA7AQAgA0ECQQEgAhB/GgwCCyABQaklEFJFBEAgA0EANgIAIANBBEEBIAIQfxogA0EANgIAIANBBEEBIAIQfxogA0EANgIAIANBBEEBIAIQfxogAyAAKAIIQQFGBH9BoI0GBSAAQa0Qai0AAEEHdiAAQawQaiwAAEEBdEEOcXIiAEEMSwR/QfUjEIEBGkGA9wIFIABBAnRBgAhqKAIACwsQhwE2AgAgA0EEQQEgAhB/GiADQQA2AgAgA0EEQQEgAhB/GkHVACACEH0aQUQgAhB9GiADQQA7AQAgA0ECQQEgAhB/GgwCCyABQa4lEFJFBEAgA0EANgIAIANBBEEBIAIQfxogA0EANgIAIANBBEEBIAIQfxogACgCCEEBRgR/QYYmBUGLJgtBAUEEIAIQfxogA0EANgIAIANBBEEBIAIQfxogA0EEQQEgAhB/GiADQQRBASACEH8aQZAmQRFBASACEH8aDAILIAFBuCUQUkUEQEEAIAIQfRpBACACEH0aQQAgAhB9GkEBIAIQfRogA0EAOwEAIANBAkEBIAIQfxogA0EAOwEAIANBAkEBIAIQfxogA0EAOwEAIANBAkEBIAIQfxogA0EAOwEAIANBAkEBIAIQfxoMAgsgAUG9JRBSRQRAIANBADYCACADQQRBASACEH8aIANBADsBACADQQJBASACEH8aIANBADsBACADQQJBASACEH8aDAILIAFB5SUQUkUEQCADQQA2AgAgA0EEQQEgAhB/GiADQYCAgAg2AgAgA0EEQQEgAhB/GiAAKAIIQQFGBEAgAEHPJCACECgaDAMFIABBoSYgAhAoGgwDCwALIAFBzyQQUkUEQCADQQA2AgAgA0EEQQEgAhB/GiADQQA7AQAgA0ECQQEgAhB/GiADQYACOwEAIANBAkEBIAIQfxogA0EAOwEAIANBAkEBIAIQfxogA0EAOwEAIANBAkEBIAIQfxogA0EANgIAIANBBEEBIAIQfxogA0EEQQEgAhB/GiADQQRBASACEH8aIABBKWoiASAAQSZqIgUvAQBBf2ogAyAEECIgAyADKAIAQf//A3EQhgE7AQAgA0ECQQEgAhB/GiABIAUvAQBBf2ogAyAEECIgAyAEKAIAQf//A3EQhgE7AQAgA0ECQQEgAhB/GiADQYCQATYCACADQQRBASACEH8aIANBBEEBIAIQfxogA0EANgIAIANBBEEBIAIQfxogA0GAAjsBACADQQJBASACEH8aQaYmQQFBBCACEH8aQQAgAhB9GkEAIAIQfRpBACACEH0aQQAgAhB9GkEAIAIQfRpBACACEH0aQQAgAhB9GkEAIAIQfRpBACACEH0aQQAgAhB9GkEAIAIQfRpBACACEH0aQQAgAhB9GkEAIAIQfRpBACACEH0aQQAgAhB9GkEAIAIQfRpBACACEH0aQQAgAhB9GkEAIAIQfRpBACACEH0aQQAgAhB9GkEAIAIQfRpBACACEH0aQQAgAhB9GkEAIAIQfRpBACACEH0aQQAgAhB9GiADQYAwOwEAIANBAkEBIAIQfxogA0F/OwEAIANBAkEBIAIQfxogAEGrJiACECgaDAILIAFBqyYQUkUEQEEBIAIQfRogACwAKSACEH0aIAAsACogAhB9GiAALAArIAIQfRogAC0AJEEYdEGAgIA4akGAgIBAckEYdSACEH0aQWEgAhB9GiADIABBJmoiAS4BABCGATsBACADQQJBASACEH8aIABBKGpBASABLwEAIAIQfxpBASACEH0aIAMgAEGoCGoiAS4BABCGATsBACADQQJBASACEH8aIABBqghqQQEgAS8BACACEH8aDAILIAFBoSYQUkUEQCADQQA2AgAgA0EEQQEgAhB/GiADQQA7AQAgA0ECQQEgAhB/GiADQYACOwEAIANBAkEBIAIQfxogA0EANgIAIANBBEEBIAIQfxogA0EEQQEgAhB/GiADQYAEOwEAIANBAkEBIAIQfxogA0GAIDsBACADQQJBASACEH8aIANBADsBACADQQJBASACEH8aIANBADsBACADQQJBASACEH8aIAMgAEGtEGotAABBB3YgAEGsEGosAABBAXRBDnFyIgFBDEsEf0H1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QCABLAAAIgRBf0YEQCABQQFqIgEgD0YNBCADQf8BaiEDDAELCyABQQFqIgIgD0YNAiADIARB/wFxaiEFQQAhBCABIQMgAiEBA0AgASwAACICQX9GBEAgAUEBaiICIA9GDQQgASEDIARB/wFqIQQgAiEBDAELCyADQQJqIgEgBCACQf8BcWpqIRwCQCAFQQRGBEAgJSABayICQQZKBEAgASwAAEG1f0YEQCADLAADRQRAIAMsAARBMUYEQCADQQVqIQQgAkF9aiEFIAJBDE4EQCAELAAAQccARgRAIAMsAAZBwQBGBEAgAywAB0E5Rw0IIAMsAAhBNEcNCCADLAAJQQNHDQggBUEDdEFgaiICQQFIIgdBAXMhASAHIAIgAWtBAUhyDQggBCAFaiENQQEhAkIAIScgA0EKaiIDIQVCASEmA0AgAiACQQggAWsiB0gEfyACBSAHCyIEayECQn9BwAAgBGutiCADLQAAIAcgBGt2rIMgAq2GICeEIScgBCABaiIErSEoICZCgICAgHCDISYgA0EBaiIHIQEgBEEIRiIGBH5CACIoBSAoCyAmhCEmIAZFBEAgBSEBCyAGBEAgByEDCyAGBEBBACEECyACQQBKBEAgASEFIAQhAQwBCwsgJkKAgICAEFRBCCAopyICayANIAFrQQN0akEASnFFDQhBASEDIAEhBSABIQQDQCADIANBCCACayIBSAR/IAMiAQUgAQtrIQMgASACaiICrSEoICZCgICAgHCDISYgBEEBaiIHIQEgAkEIRiIGBH5CACIoBSAoCyAmhCEmIAZFBEAgBSEBCyAGBEAgByEECyAGBEBBACECCyADQQBKBEAgASEFDAELCyAmQoCAgIAQVEEIICinIgRrIA0gAWtBA3RqQQRKcUUNCEEFIQNCACEoIAEhBSABIQIDQCADIANBCCAEayIHSAR/IAMFIAcLIgFrIQNCf0HAACABa62IIAItAAAgByABa3asgyADrYYgKIQhKCABIARqIgStISkgJkKAgICAcIMhJiACQQFqIgchASAEQQhGIgYEfkIAIikFICkLICaEISYgBkUEQCAFIQELIAYEQCAHIQILIAYEQEEAIQQLIANBAEoEQCABIQUMAQsLICZCgICAgBBUQQggKaciAmsgDSABa0EDdGpBB0pxRQ0IICenIQsgKKchHUEIIQMgASEF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OgAAICdBADoAACAoQQA6AAAgKUEAOgAAICpBADoAACArQQA6AAAgLEEAOgAAIC1BADoAACAuQQA6AAAgL0EAOgAAIDBBADoAACAxQQA6AAAgMkEAOgAAIDNBADoAACAGQgA3AwAgBkIANwMIIAZCADcDECAGQgA3AxggBkIANwMgIAZCADcDKCAGQgA3AzAgBkIANwM4IAZBQGtCADcDACAGQgA3A0ggBkIANwNQIAZCADcDWCAGQgA3A2AgBkIANwNoIAZCADcDcAwJCyA8IAE5AwBBA0HbLyA8EBogDUEDNgIADAgLIA0oAgBBAUcNByAAQbg4akEPIDkoAgAiBWsiBEGBAWxqIgksAAAEQCAKKAIABEAgCygCACAAQcjHAGogBEEDdGorAwAgASAJQQwRAQAgOSgCACEFCwsgBUEBTA0HA0AgAEG4OGpBDyAFayIEQQFqIgxBgQFsaiEJIABBuDhqIARBgQFsaiAJQYEBEIoBGiAJQQA6AAAgAEHIxwBqIARBA3RqIABByMcAaiAMQQN0aisDADkDACAFQX9qIQQgBUECSgRAIAQhBQwBCwsMBAsgIywAAARAIAooAgAEQCALKAIAIAcrAwAgASAjQQwRAQALCyARLAAABEAgCigCAARAIAsoAgAgPysDACABIBFBDBEBAAsLIBIsAAAEQCAKKAIABEAgCygCACBAKwMAIAEgEkEMEQEACwsgEywAAARAIAooAgAEQCALKAIAIEErAwAgASATQQwRAQALCyAULAAABEAgCigCAARAIAsoAgAgQisDACABIBRBDBEBAAsLAkAgFSwAAARAIAooAgBFDQEgCygCACBDKwMAIAEgFUEMEQEACwsCQCAWLAAABEAgCigCAEUNASALKAIAIEQrAwAgASAWQQwRAQALCwJAIBcsAAAEQCAKKAIARQ0BIAsoAgAgRSsDACABIBdBDBEBAAsLAkAgGCwAAARAIAooAgBFDQEgCygCACBGKwMAIAEgGEEMEQEACwsCQCAZLAAABEAgCigCAEUNASALKAIAIEcrAwAgASAZQQwRAQALCwJAIBosAAAEQCAKKAIARQ0BIAsoAgAgSCsDACABIBpBDBEBAAsLAkAgGywAAARAIAooAgBFDQEgCygCACBJKwMAIAEgG0EMEQEACwsCQCAcLAAABEAgCigCAEUNASALKAIAIEorAwAgASAcQQwRAQALCwJAIB0sAAAEQCAKKAIARQ0BIAsoAgAgSysDACABIB1BDBEBAAsLAkAgHiwAAARAIAooAgBFDQEgCygCACBMKwMAIAEgHkEMEQEACwsgI0EAOgAAIBFBADoAACASQQA6AAAgE0EAOgAAIBRBADoAACAVQQA6AAAgFkEAOgAAIBdBADoAACAYQQA6AAAgGUEAOgAAIBpBADoAACAbQQA6AAAgHEEAOgAAIB1BADoAACAeQQA6AAAgB0IANwMAIAdCADcDCCAHQgA3AxAgB0IANwMYIAdCADcDICAHQgA3AyggB0IANwMwIAdCADcDOCAHQUBrQgA3AwAgB0IANwNIIAdCADcDUCAHQgA3A1ggB0IANwNgIAdCADcDaCAHQgA3A3AMBgsgDUEENgIADAULIA0oAgBBAUcEQCAjLAAABEAgCigCAARAIAsoAgAgBysDACABICNBDBEBAAsLIBEsAAAEQCAKKAIABEAgCygCACA/KwMAIAEgEUEMEQEACwsgEiwAAARAIAooAgAEQCALKAIAIEArAwAgASASQQwRAQALCwJAIBMsAAAEQCAKKAIARQ0BIAsoAgAgQSsDACABIBNBDBEBAAsLAkAgFCwAAARAIAooAgBFDQEgCygCACBCKwMAIAEgFEEMEQEACwsCQCAVLAAABEAgCigCAEUNASALKAIAIEMrAwAgASAVQQwRAQALCwJAIBYsAAAEQCAKKAIARQ0BIAsoAgAgRCsDACABIBZBDBEBAAsLAkAgFywAAARAIAooAgBFDQEgCygCACBFKwMAIAEgF0EMEQEACwsCQCAYLAAABEAgCigCAEUNASALKAIAIEYrAwAgASAYQQwRAQALCwJAIBksAAAEQCAKKAIARQ0BIAsoAgAgRysDACABIBlBDBEBAAsLAkAgGiwAAARAIAooAgBFDQEgCygCACBIKwMAIAEgGkEMEQEACwsCQCAbLAAABEAgCigCAEUNASALKAIAIEkrAwAgASAbQQwRAQALCwJAIBwsAAAEQCAKKAIARQ0BIAsoAgAgSisDACABIBxBDBEBAAsLAkAgHSwAAARAIAooAgBFDQEgCygCACBLKwMAIAEgHUEMEQEACwsCQCAeLAAABEAgCigCAEUNASALKAIAIEwrAwAgASAeQQwRAQALCyAlQQA6AAAgJkEA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IABBEHVB/wFxQQh0ciAAQRh2cgsdACAAIABiBEAgAQ8LIAEgAWIEQCAADwsgACABpQsdACAAIABiBEAgAQ8LIAEgAWIEQCAADwsgACABpAvDAwEDfyACQYDAAE4EQCAAIAEgAhAQDwsgACEEIAAgAmohAyAAQQNxIAFBA3FGBEADQCAAQQNxBEAgAkUEQCAEDwsgACABLAAAOgAAIABBAWohACABQQFqIQEgAkEBayECDAELCyADQXxxIgJBQGohBQNAIAAgBUwEQCAAIAEoAgA2AgAgACABKAIENgIEIAAgASgCCDYCCCAAIAEoAgw2AgwgACABKAIQNgIQIAAgASgCFDYCFCAAIAEoAhg2AhggACABKAIcNgIcIAAgASgCIDYCICAAIAEoAiQ2AiQgACABKAIoNgIoIAAgASgCLDYCLCAAIAEoAjA2AjAgACABKAI0NgI0IAAgASgCODYCOCAAIAEoAjw2AjwgAEFAayEAIAFBQGshAQwBCwsDQCAAIAJIBEAgACABKAIANgIAIABBBGohACABQQRqIQEMAQsLBSADQQRrIQIDQCAAIAJIBEAgACABLAAAOgAAIAAgASwAAToAASAAIAEsAAI6AAIgACABLAADOgADIABBBGohACABQQRqIQEMAQsLCwNAIAAgA0gEQCAAIAEsAAA6AAAgAEEBaiEAIAFBAWohAQwBCwsgBAtgAQF/IAEgAEggACABIAJqSHEEQCAAIQMgASACaiEBIAAgAmohAANAIAJBAEoEQCACQQFrIQIgAEEBayIAIAFBAWsiASwAADoAAAwBCwsgAyEABSAAIAEgAhCKARoLIAALmAIBBH8gACACaiEEIAFB/wFxIQEgAkHDAE4EQANAIABBA3EEQCAAIAE6AAAgAEEBaiEADAELCyAEQXxxIgVBQGohBiABIAFBCHRyIAFBEHRyIAFBGHRyIQMDQCAAIAZMBEAgACADNgIAIAAgAzYCBCAAIAM2AgggACADNgIMIAAgAzYCECAAIAM2AhQgACADNgIYIAAgAzYCHCAAIAM2AiAgACADNgIkIAAgAzYCKCAAIAM2AiwgACADNgIwIAAgAzYCNCAAIAM2AjggACADNgI8IABBQGshAAwBCwsDQCAAIAVIBEAgACADNgIAIABBBGohAAwBCwsLA0AgACAESARAIAAgAToAACAAQQFqIQAMAQsLIAQgAmsLUQEBfyAAQQBKIwQoAgAiASAAaiIAIAFIcSAAQQBIcgRAEAMaQQwQBUF/DwsjBCAANgIAIAAQAkoEQBABRQRAIwQgATYCAEEMEAVBfw8LCyABCwwAIAEgAEEBcREEAAsRACABIAIgAEEBcUECahECAAsTACABIAIgAyAAQQdxQQRqEQMACw8AIAEgAiADIARBDBEBAAsVACABIAIgAyAEIABBAXFBDWoRAAALCABBABAAQQALCABBARAAQQALCABBAhAAQQALBgBBAxAACwYAQQQQAAsLyyIkAEGBCAsxdwEAiFgBAAD6AACAuwAARKwAAAB9AADAXQAAIlYAAIA+AADgLgAAESsAAEAfAAC2HABBwAgLPQsAAAD/////AQAAAAIAAAADAAAABAAAAAwAAAANAAAADgAAAA8AAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAQcgJC9ABBAAAAAQAAAAIAAAACAAAAAwAAAAMAAAAEAAAABAAAAAUAAAAFAAAABgAAAAYAAAAHAAAABwAAABSQ0wAAAAAAEJTIAAAAAAAQU9GAAAAAABBT04AAAAAAERFUgAAAAAAUlUyAAAAAABSVTMAAAAAAFJVNAAAAAAARk9OAAAAAABSREMAAAAAAFRSIAAAAAAAUlREAAAAAABFRE0AAAAAAENSIAAAAAAARU5NAAAAAABFT0MAAAAAABEACgAREREAAAAABQAAAAAAAAkAAAAACwBBoAsLIREADwoREREDCgcAARMJCwsAAAkGCwAACwAGEQAAABEREQBB0QsLAQsAQdoLCxgRAAoKERERAAoAAAIACQsAAAAJAAsAAAsAQYsMCwEMAEGXDAsVDAAAAAAMAAAAAAkMAAAAAAAMAAAMAEHFDAsBDgBB0QwLFQ0AAAAEDQAAAAAJDgAAAAAADgAADgBB/wwLARAAQYsNCx4PAAAAAA8AAAAACRAAAAAAABAAABAAABIAAAASEhIAQcINCw4SAAAAEhISAAAAAAAACQBB8w0LAQsAQf8NCxUKAAAAAAoAAAAACQsAAAAAAAsAAAsAQa0OCwEMAEG5Dgt+DAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAwMTIzNDU2Nzg5QUJDREVGVCEiGQ0BAgMRSxwMEAQLHRIeJ2hub3BxYiAFBg8TFBUaCBYHKCQXGAkKDhsfJSODgn0mKis8PT4/Q0dKTVhZWltcXV5fYGFjZGVmZ2lqa2xyc3R5ent8AEHADwuVDklsbGVnYWwgYnl0ZSBzZXF1ZW5jZQBEb21haW4gZXJyb3IAUmVzdWx0IG5vdCByZXByZXNlbnRhYmxlAE5vdCBhIHR0eQBQZXJtaXNzaW9uIGRlbmllZABPcGVyYXRpb24gbm90IHBlcm1pdHRlZABObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5AE5vIHN1Y2ggcHJvY2VzcwBGaWxlIGV4aXN0cwBWYWx1ZSB0b28gbGFyZ2UgZm9yIGRhdGEgdHlwZQBObyBzcGFjZSBsZWZ0IG9uIGRldmljZQBPdXQgb2YgbWVtb3J5AFJlc291cmNlIGJ1c3kASW50ZXJydXB0ZWQgc3lzdGVtIGNhbGwAUmVzb3VyY2UgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUASW52YWxpZCBzZWVrAENyb3NzLWRldmljZSBsaW5rAFJlYWQtb25seSBmaWxlIHN5c3RlbQBEaXJlY3Rvcnkgbm90IGVtcHR5AENvbm5lY3Rpb24gcmVzZXQgYnkgcGVlcgBPcGVyYXRpb24gdGltZWQgb3V0AENvbm5lY3Rpb24gcmVmdXNlZABIb3N0IGlzIGRvd24ASG9zdCBpcyB1bnJlYWNoYWJsZQBBZGRyZXNzIGluIHVzZQBCcm9rZW4gcGlwZQBJL08gZXJyb3IATm8gc3VjaCBkZXZpY2Ugb3IgYWRkcmVzcwBCbG9jayBkZXZpY2UgcmVxdWlyZWQATm8gc3VjaCBkZXZpY2UATm90IGEgZGlyZWN0b3J5AElzIGEgZGlyZWN0b3J5AFRleHQgZmlsZSBidXN5AEV4ZWMgZm9ybWF0IGVycm9yAEludmFsaWQgYXJndW1lbnQAQXJndW1lbnQgbGlzdCB0b28gbG9uZwBTeW1ib2xpYyBsaW5rIGxvb3AARmlsZW5hbWUgdG9vIGxvbmcAVG9vIG1hbnkgb3BlbiBmaWxlcyBpbiBzeXN0ZW0ATm8gZmlsZSBkZXNjcmlwdG9ycyBhdmFpbGFibGUAQmFkIGZpbGUgZGVzY3JpcHRvcgBObyBjaGlsZCBwcm9jZXNzAEJhZCBhZGRyZXNzAEZpbGUgdG9vIGxhcmdlAFRvbyBtYW55IGxpbmtzAE5vIGxvY2tzIGF2YWlsYWJsZQBSZXNvdXJjZSBkZWFkbG9jayB3b3VsZCBvY2N1cgBTdGF0ZSBub3QgcmVjb3ZlcmFibGUAUHJldmlvdXMgb3duZXIgZGllZABPcGVyYXRpb24gY2FuY2VsZWQARnVuY3Rpb24gbm90IGltcGxlbWVudGVkAE5vIG1lc3NhZ2Ugb2YgZGVzaXJlZCB0eXBlAElkZW50aWZpZXIgcmVtb3ZlZABEZXZpY2Ugbm90IGEgc3RyZWFtAE5vIGRhdGEgYXZhaWxhYmxlAERldmljZSB0aW1lb3V0AE91dCBvZiBzdHJlYW1zIHJlc291cmNlcwBMaW5rIGhhcyBiZWVuIHNldmVyZWQAUHJvdG9jb2wgZXJyb3IAQmFkIG1lc3NhZ2UARmlsZSBkZXNjcmlwdG9yIGluIGJhZCBzdGF0ZQBOb3QgYSBzb2NrZXQARGVzdGluYXRpb24gYWRkcmVzcyByZXF1aXJlZABNZXNzYWdlIHRvbyBsYXJnZQBQcm90b2NvbCB3cm9uZyB0eXBlIGZvciBzb2NrZXQAUHJvdG9jb2wgbm90IGF2YWlsYWJsZQBQcm90b2NvbCBub3Qgc3VwcG9ydGVkAFNvY2tldCB0eXBlIG5vdCBzdXBwb3J0ZWQATm90IHN1cHBvcnRlZABQcm90b2NvbCBmYW1pbHkgbm90IHN1cHBvcnRlZABBZGRyZXNzIGZhbWlseSBub3Qgc3VwcG9ydGVkIGJ5IHByb3RvY29sAEFkZHJlc3Mgbm90IGF2YWlsYWJsZQBOZXR3b3JrIGlzIGRvd24ATmV0d29yayB1bnJlYWNoYWJsZQBDb25uZWN0aW9uIHJlc2V0IGJ5IG5ldHdvcmsAQ29ubmVjdGlvbiBhYm9ydGVkAE5vIGJ1ZmZlciBzcGFjZSBhdmFpbGFibGUAU29ja2V0IGlzIGNvbm5lY3RlZABTb2NrZXQgbm90IGNvbm5lY3RlZABDYW5ub3Qgc2VuZCBhZnRlciBzb2NrZXQgc2h1dGRvd24AT3BlcmF0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MAT3BlcmF0aW9uIGluIHByb2dyZXNzAFN0YWxlIGZpbGUgaGFuZGxlAFJlbW90ZSBJL08gZXJyb3IAUXVvdGEgZXhjZWVkZWQATm8gbWVkaXVtIGZvdW5kAFdyb25nIG1lZGl1bSB0eXBlAE5vIGVycm9yIGluZm9ybWF0aW9uAAAAAAAA1A4AAAUAQeAdCwEBAEH4HQsKAQAAAAIAAADdIgBBkB4LAQIAQZ8eCwX//////wBB0B4LBVQPAAAJAEHgHgsBAQBB9B4LEgMAAAAAAAAAAgAAAHgYAAAABABBoB8LBP////8AQdAfCwXUDwAABQBB4B8LAQEAQfgfCw4EAAAAAgAAAIgcAAAABABBkCALAQEAQZ8gCwUK/////wBB0CALAtQPAEGQIgsCrCIAQewiCwEFAEGTIwsF//////8AQcQjC6MNQWRkaW5nIG5ldyBQSUQ6ICVkCgBMZWZ0b3ZlciBkYXRhIGluIFRTIGNvbnRleHQKAEVSUk9SOiBVbnN1cHBvcnRlZCBzYW1wbGluZyBmcmVxdWVuY3kARmF0YWwgRXJyb3IuIEF0b20gYmVnaW4gaXMgYWZ0ZXIgZW5kAGZ0eXAAaXNvbQBpc281AGF2YzEAbXA0MgBkYXNoAHN0eXAAbXNkaABtc2l4AG1vb3YAbXZoZABtdmV4AHRyYWsAdHJleAB0a2hkAG1kaWEAdHJhZgB0ZmhkAHRmZHQAdHJ1bgBzZHRwAG1kaGQAaGRscgBtaW5mAHZtaGQAc21oZABkaW5mAHN0YmwAZHJlZgBlZHRzAGVsc3QAbW9vZgBtZmhkAHN0c2QAc3R0cwBzdHNjAHN0c3oAc3RjbwAAAAFtZWhkAHZpZGUAc291bgBBbnZhdG8gZURBU0ggMi4xAG1wNGEAYW52MgBhdmNDAGVzZHMAc2lkeABpb2RzAG1kYXQAVU5IQU5ETEVEOiAlcwoARXJyb3IAUGFja2V0IGNvdW50OiAlZCArIDEKAEJhZCBBQUMgcGFja2V0CgBFUlJPUgoAKHVuY2xlYW4gZW5kIG9mIGFhYyBmcmFtZXMuICVkIGJ5dGVzKQoAU1BTIFRvbyBsYXJnZS4gJWQKAFBQUyBUb28gbGFyZ2UuICVkCgBJRDMEAEJhZCBoZWFkZXIKAEdFT0JQUklWRnJhbWUgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIG9yIGludmFsaWQARnJhbWUgdHlwZTogR0VPQgoAR0VPQiBidWZmZXIgbm90IGVub3VnaAoAR0VPQiBFbmNvZGluZyBtdXN0IGJlIDMKAEZyYW1lIHR5cGU6IFBSSVYKAHR5cGU9cHJpdiZwYXlsb2FkPQAlcy5jdWUAdwAlcy42MDgAKERJU0NPTlRJTlVJVFkpAEJlZ2luIHdyaXRlX2Rhc2ggJXMKAEFQVFM6ICVmIC0gJWYKAFZQVFM6ICVmIC0gJWYKAFByZS1CZWdpbiBPZmZzZXQgRFRTOiAlZiwgU2VjdGlvbiBEVFM6ICVmLCBTZWdtZW50IG5vOiAlZCwgU2FtcGxlczogJWQvJWQKAERpc2NvbnRpbnVpdHkgaGFuZGxpbmc6AEF0IGRpc2NvbnRpbnVpdHksIGFfZHQgPSAlZgoAQXQgZGlzY29udGludWl0eSwgdl9kdCA9ICVmCgBBdCBkaXNjb250aW51aXR5LCBkdHNfc2VjdGlvbiA9ICVmCgBQb3N0LUJlZ2luIE9mZnNldCBEVFM6ICVmLCBTZWN0aW9uIERUUzogJWYsIFNlZ21lbnQgbm86ICVkLCBTYW1wbGVzOiAlZC8lZAoAdmlkZW8AYXVkaW8AKCVzKSBTTVBQVFM6ICVmIC0gJWYKACglcykgYmVnaW4gdGltZTogJWYgKCAlbGxkIC0gJWxsZCApCgAoJXMpIEJlZ2luID0gJWQsIGNudDogJWQKAGluaXQAZGF0YQAlcy0lYy0lcy5tcDQAQ2Fubm90IG9wZW4gJXMKAHJiAGZpbGUgbm90IGZvdW5kCgBDYW5ub3QgbG9hZCBzZWdtZW50AENhbm5vdCB3cml0ZSBkYXNoAHNpbS5kYXRhAHdiAEZhaWxlZCB0byB3cml0ZSBkYXRhAEZhaWxlZCB0byBhbGxvY2F0ZSBtZW1vcnkAJS4zZiAlYyVjICglMDJ4ICUwMngpCgDDqQDDrQDDswDDugDDugDDtwDDkQDDsQDilogAw6EAJS4zZiBbbWlkcm93XQoAwq4AwrAAwr0Awr8A4oSiAMKiAMKjAOKZqgDDoAAgAMOoAMOiAMOqAMOuAMO0AMO7ACUuM2YgU3BlY2lhbCAlYyAlYyAoJTAyeCAlMDJ4KQoAJS4zZiBbcHJlYW1ibGUgQCAlZCwlZF0KACUuM2YgW3RhYl0KACUuM2YgW2Vycm9yLXVua25vd24gYnl0ZXMgJTAyeCAlMDJ4XQoAJS4zZiBbJXNdCgAlLjNmIEVudGVyIHBvcC1vbiBtb2RlCgAlLjNmIEVudGVyIHBhaW50IG9uIG1vZGUKACUuM2YgRW50ZXIgcm9sbCB1cCBtb2RlCgBVbmtub3duIGNvbnRyb2wgY29kZSAlMDJ4ICUwMngKAC0rICAgMFgweAAobnVsbCkALTBYKzBYIDBYLTB4KzB4IDB4AGluZgBJTkYAbmFuAE5BTgAuAHJ3YQ=="
});var Module=void 0!==Module?Module:{};define("hlscore",function(){return function(){function e(e){return Module.locateFile?Module.locateFile(e,ue):ue+e}function t(e,t){return t||(t=Me),e=Math.ceil(e/t)*t}function n(e,t){e||ae("Assertion failed: "+t)}function r(e){var t=Module["_"+e];return n(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function i(e,t,n,i,a){var s=r(e),l=[],A=0;if(i)for(var d=0;d<i.length;d++){var c=Fe[n[d]];c?(0===A&&(A=bt()),l[d]=c(i[d])):l[d]=i[d]}var u=s.apply(null,l);return u=function(e){return"string"===t?o(e):"boolean"===t?Boolean(e):e}(u),0!==A&&Ct(A),u}function a(e,t,n,a){n=n||[];var o=n.every(function(e){return"number"===e});return"string"!==t&&o&&!a?r(e):function(){return i(e,t,n,arguments,a)}}function o(e,t){if(0===t||!e)return"";for(var n,r=0,i=0;;){if(n=Ie[e+i>>0],r|=n,0==n&&!t)break;if(i++,t&&i==t)break}t||(t=i);var a="";if(r<128){for(var o;t>0;)o=String.fromCharCode.apply(String,Ie.subarray(e,e+Math.min(t,1024))),a=a?a+o:o,e+=1024,t-=1024;return a}return l(e)}function s(e,t){for(var n=t;e[n];)++n;if(n-t>16&&e.subarray&&Ue)return Ue.decode(e.subarray(t,n));for(var r,i,a,o,s,l,A="";;){if(!(r=e[t++]))return A;if(128&r)if(i=63&e[t++],192!=(224&r))if(a=63&e[t++],224==(240&r)?r=(15&r)<<12|i<<6|a:(o=63&e[t++],240==(248&r)?r=(7&r)<<18|i<<12|a<<6|o:(s=63&e[t++],248==(252&r)?r=(3&r)<<24|i<<18|a<<12|o<<6|s:(l=63&e[t++],r=(1&r)<<30|i<<24|a<<18|o<<12|s<<6|l))),r<65536)A+=String.fromCharCode(r);else{var d=r-65536;A+=String.fromCharCode(55296|d>>10,56320|1023&d)}else A+=String.fromCharCode((31&r)<<6|i);else A+=String.fromCharCode(r)}}function l(e){return s(Ie,e)}function A(e,t,n,r){if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343){s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)}if(s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=2097151){if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=67108863){if(n+4>=a)break;t[n++]=248|s>>24,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+5>=a)break;t[n++]=252|s>>30,t[n++]=128|s>>24&63,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function d(e,t,n){return A(e,Ie,t,n)}function c(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:r<=2097151?4:r<=67108863?5:6}return t}function u(e){return e}function g(e){var t=/__Z[\w\d_]+/g;return e.replace(t,function(e){var t=u(e);return e===t?e:e+" ["+t+"]"})}function f(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function p(){var e=f();return Module.extraStackTrace&&(e+="\n"+Module.extraStackTrace()),g(e)}function h(e,t){return e%t>0&&(e+=t-e%t),e}function m(e){Module.buffer=me=e}function E(){Module.HEAP8=Ee=new Int8Array(me),Module.HEAP16=ye=new Int16Array(me),Module.HEAP32=Ce=new Int32Array(me),Module.HEAPU8=Ie=new Uint8Array(me),Module.HEAPU16=ve=new Uint16Array(me),Module.HEAPU32=be=new Uint32Array(me),Module.HEAPF32=Be=new Float32Array(me),Module.HEAPF64=we=new Float64Array(me)}function I(){ae("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+Ye+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function y(){var e=Module.usingWasm?xe:Ge,t=2147483648-e;if(Ce[_e>>2]>t)return!1;var n=Ye;for(Ye=Math.max(Ye,Ve);Ye<Ce[_e>>2];)Ye=Ye<=536870912?h(2*Ye,e):Math.min(h((3*Ye+2147483648)/4,e),t);var r=Module.reallocBuffer(Ye);return r&&r.byteLength==Ye?(m(r),E(),!0):(Ye=n,!1)}function v(){return Ye}function C(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?Module.dynCall_v(n):Module.dynCall_vi(n,t.arg):n(void 0===t.arg?null:t.arg)}else t()}}function b(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)T(Module.preRun.shift());C(Ke)}function B(){Ze||(Ze=!0,C(Je))}function w(){C(qe)}function S(){C(We),Xe=!0}function Q(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)D(Module.postRun.shift());C(ze)}function T(e){Ke.unshift(e)}function D(e){ze.unshift(e)}function k(e,t){Ee.set(e,t)}function R(e){return e}function _(e){et++,Module.monitorRunDependencies&&Module.monitorRunDependencies(et)}function M(e){if(et--,Module.monitorRunDependencies&&Module.monitorRunDependencies(et),0==et&&(null!==tt&&(clearInterval(tt),tt=null),nt)){var t=nt;nt=null,t()}}function N(e){return String.prototype.startsWith?e.startsWith(rt):0===e.indexOf(rt)}function L(){}function O(e){return Module.___errno_location&&(Ce[Module.___errno_location()>>2]=e),e}function P(e,t){ft.varargs=t;try{var n=ft.getStr();return gt.unlink(n),0}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function F(e,t){ft.varargs=t;try{var n=ft.getStreamFromFD(),r=(ft.get(),ft.get()),i=ft.get(),a=ft.get(),o=r;return gt.llseek(n,o,a),Ce[i>>2]=n.position,n.getdents&&0===o&&0===a&&(n.getdents=null),0}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function U(e,t){ft.varargs=t;try{var n=ft.getStreamFromFD(),r=ft.get(),i=ft.get();return ft.doReadv(n,r,i)}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function x(e,t){ft.varargs=t;try{var n=ft.getStreamFromFD(),r=ft.get(),i=ft.get();return ft.doWritev(n,r,i)}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function G(e,t){ft.varargs=t;try{var n=ft.getStreamFromFD();switch(ft.get()){case 0:var r=ft.get();if(r<0)return-at.EINVAL;var i;return i=gt.open(n.path,n.flags,0,r),i.fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var r=ft.get();return n.flags|=r,0;case 12:case 12:var r=ft.get();return ye[r+0>>1]=2,0;case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-at.EINVAL;case 9:return O(at.EINVAL),-1;default:return-at.EINVAL}}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function V(e,t){ft.varargs=t;try{var n=ft.getStr();return gt.rmdir(n),0}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function H(e,t){ft.varargs=t;try{var n=ft.getStr(),r=ft.get(),i=ft.get();return gt.open(n,r,i).fd}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function j(e,t){ft.varargs=t;try{var n=ft.getStreamFromFD(),r=ft.get();switch(r){case 21509:case 21505:return n.tty?0:-at.ENOTTY;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-at.ENOTTY;case 21519:if(!n.tty)return-at.ENOTTY;var i=ft.get();return Ce[i>>2]=0,0;case 21520:return n.tty?-at.EINVAL:-at.ENOTTY;case 21531:var i=ft.get();return gt.ioctl(n,r,i);case 21523:case 21524:return n.tty?0:-at.ENOTTY;default:ae("bad ioctl syscall "+r)}}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function Y(e,t){ft.varargs=t;try{var n=ft.getStreamFromFD();return gt.close(n),0}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function K(){}function J(e){ie(e)}function q(e){J(e)}function W(e,t,n){return Ie.set(Ie.subarray(t,t+n),e),e}function z(e,t,n){var r=n>0?n:c(e)+1,i=new Array(r),a=A(e,i,0,i.length);return t&&(i.length=a),i}function Z(e,t){var n=bt();try{return Module.dynCall_ii(e,t)}catch(e){if(Ct(n),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function X(e,t,n){var r=bt();try{return Module.dynCall_iii(e,t,n)}catch(e){if(Ct(r),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function $(e,t,n,r){var i=bt();try{return Module.dynCall_iiii(e,t,n,r)}catch(e){if(Ct(i),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function ee(e,t,n,r,i){var a=bt();try{Module.dynCall_viddi(e,t,n,r,i)}catch(e){if(Ct(a),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function te(e,t,n,r,i){var a=bt();try{Module.dynCall_viiii(e,t,n,r,i)}catch(e){if(Ct(a),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function ne(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function re(e){function t(){Module.calledRun||(Module.calledRun=!0,Le||(B(),w(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Q()))}e=e||Module.arguments,et>0||(b(),et>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}function ie(e,t){t&&Module.noExitRuntime&&0===e||(Module.noExitRuntime||(Le=!0,Oe=e,De=Bt,S(),Module.onExit&&Module.onExit(e)),Module.quit(e,new ne(e)))}function ae(e){throw Module.onAbort&&Module.onAbort(e),void 0!==e?(pe(e),he(e),e=JSON.stringify(e)):e="",Le=!0,Oe=1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}var oe,se={};for(oe in Module)Module.hasOwnProperty(oe)&&(se[oe]=Module[oe]);Module.arguments=[],Module.thisProgram="./this.program",Module.quit=function(e,t){throw t},Module.preRun=[],Module.postRun=[];var le=!1,Ae=!1,de=!1,ce=!1;le="object"==typeof window,Ae="function"==typeof importScripts,de="object"==typeof process&&"function"==typeof no_req&&!le&&!Ae,ce=!le&&!de&&!Ae;var ue="";if(de){ue=__dirname+"/";var ge,fe;Module.read=function(e,t){var n;return ge||(ge=no_req("fs")),fe||(fe=no_req("path")),e=fe.normalize(e),n=ge.readFileSync(e),t?n:n.toString()},Module.readBinary=function(e){var t=Module.read(e,!0);return t.buffer||(t=new Uint8Array(t)),n(t.buffer),t},process.argv.length>1&&(Module.thisProgram=process.argv[1].replace(/\\/g,"/")),Module.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),process.on("uncaughtException",function(e){if(!(e instanceof ne))throw e}),process.on("unhandledRejection",function(e,t){process.exit(1)}),Module.quit=function(e){process.exit(e)},Module.inspect=function(){return"[Emscripten Module object]"}}else ce?("undefined"!=typeof read&&(Module.read=function(e){return read(e)}),Module.readBinary=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(t=read(e,"binary"),n("object"==typeof t),t)},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:void 0!==arguments&&(Module.arguments=arguments),"function"==typeof quit&&(Module.quit=function(e){quit(e)})):(le||Ae)&&(le?document.currentScript&&(ue=document.currentScript.src):ue=self.location.href,ue=0!==ue.indexOf("blob:")?ue.substr(0,ue.lastIndexOf("/")+1):"",Module.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},Ae&&(Module.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Module.readAsync=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(200==r.status||0==r.status&&r.response)return void t(r.response);n()},r.onerror=n,r.send(null)},Module.setWindowTitle=function(e){document.title=e});var pe=Module.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),he=Module.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||pe);for(oe in se)se.hasOwnProperty(oe)&&(Module[oe]=se[oe]);se=void 0;var me,Ee,Ie,ye,ve,Ce,be,Be,we,Se,Qe,Te,De,ke,Re,_e,Me=16,Ne={"f64-rem":function(e,t){return e%t},debugger:function(){}},Le=(new Array(0),!1),Oe=0,Pe={stackSave:function(){bt()},stackRestore:function(){Ct()},arrayToC:function(e){var t=vt(e.length);return k(e,t),t},stringToC:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);t=vt(n),d(e,t,n)}return t}},Fe={string:Pe.stringToC,array:Pe.arrayToC},Ue="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,xe=("undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),65536),Ge=16777216,Ve=16777216;Se=Qe=Te=De=ke=Re=_e=0,Module.reallocBuffer||(Module.reallocBuffer=function(e){var t;try{var n=Ee;t=new ArrayBuffer(e);new Int8Array(t).set(n)}catch(e){return!1}return!!It(t)&&t});var He;try{He=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),He(new ArrayBuffer(4))}catch(e){He=function(e){return e.byteLength}}var je=Module.TOTAL_STACK||5242880,Ye=Module.TOTAL_MEMORY||16777216;Ye<je&&he("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+Ye+"! (TOTAL_STACK="+je+")"),Module.buffer?me=Module.buffer:("object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(Module.wasmMemory=new WebAssembly.Memory({initial:Ye/xe}),me=Module.wasmMemory.buffer):me=new ArrayBuffer(Ye),Module.buffer=me),E();var Ke=[],Je=[],qe=[],We=[],ze=[],Ze=!1,Xe=!1,$e=Math.abs,et=(Math.ceil,Math.floor,Math.min,0),tt=null,nt=null;Module.preloadedImages={},Module.preloadedAudios={};var rt="data:application/octet-stream;base64,";!function(){function t(e){var t=Module.buffer;e.byteLength<t.byteLength&&he("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var n=new Int8Array(t);new Int8Array(e).set(n),m(e),E()}function r(e){return e}function i(){try{if(Module.wasmBinary)return new Uint8Array(Module.wasmBinary);if(Module.readBinary)return Module.readBinary(l);throw"both async and sync fetching of the wasm failed"}catch(e){ae(e)}}function a(){return Module.wasmBinary||!le&&!Ae||"function"!=typeof fetch?new Promise(function(e,t){e(i())}):fetch(l,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+l+"'";return e.arrayBuffer()}).catch(function(){return i()})}function o(e,n,r){function i(e,n){c=e.exports,c.memory&&t(c.memory),Module.asm=c,Module.usingWasm=!0,M("wasm-instantiate")}function o(e){i(e.instance,e.module)}function s(e){a().then(function(e){return WebAssembly.instantiate(e,d)}).then(e).catch(function(e){he("failed to asynchronously prepare wasm: "+e),ae(e)})}if("object"!=typeof WebAssembly)return he("no native wasm support detected"),!1;if(!(Module.wasmMemory instanceof WebAssembly.Memory))return he("no native wasm Memory in use"),!1;if(n.memory=Module.wasmMemory,d.global={NaN:NaN,Infinity:1/0},d["global.Math"]=Math,d.env=n,_("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(d,i)}catch(e){return he("Module.instantiateWasm callback failed with error: "+e),!1}return Module.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||N(l)||"function"!=typeof fetch?s(o):WebAssembly.instantiateStreaming(fetch(l,{credentials:"same-origin"}),d).then(o).catch(function(e){he("wasm streaming compile failed: "+e),he("falling back to ArrayBuffer instantiation"),s(o)}),{}}var s="hlscore.wast",l="hlscore.wasm",A="hlscore.temp.asm.js";N(s)||(s=e(s)),N(l)||(l=e(l)),N(A)||(A=e(A));var d={global:null,env:null,asm2wasm:Ne,parent:Module},c=null;Module.asmPreload=Module.asm;var u=Module.reallocBuffer,g=function(e){e=h(e,Module.usingWasm?xe:Ge);var t=Module.buffer,n=t.byteLength;if(Module.usingWasm)try{return-1!==Module.wasmMemory.grow((e-n)/65536)?Module.buffer=Module.wasmMemory.buffer:null}catch(e){return null}};Module.reallocBuffer=function(e){return"asmjs"===f?u(e):g(e)};var f="";Module.asm=function(e,t,i){if(t=r(t),!t.table){var a=Module.wasmTableSize;void 0===a&&(a=1024);var s=Module.wasmMaxTableSize;"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?t.table=void 0!==s?new WebAssembly.Table({initial:a,maximum:s,element:"anyfunc"}):new WebAssembly.Table({initial:a,element:"anyfunc"}):t.table=new Array(a),Module.wasmTable=t.table}t.memoryBase||(t.memoryBase=Module.STATIC_BASE),t.tableBase||(t.tableBase=0);var l;return l=o(e,t,i),n(l,"no binaryen method succeeded."),l}}(),Se=1024,Qe=Se+8928,Je.push();Module.STATIC_BASE=Se,Module.STATIC_BUMP=8928;var it=Qe;Qe+=16;var at={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},ot={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device no_reqd",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address no_reqd",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},st={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return e=st.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),e||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=st.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return st.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return st.normalize(e.join("/"))},join2:function(e,t){return st.normalize(e+"/"+t)},resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:gt.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return e=st.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=st.resolve(e).substr(1),t=st.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),a=Math.min(r.length,i.length),o=a,s=0;s<a;s++)if(r[s]!==i[s]){o=s;break}for(var l=[],s=o;s<r.length;s++)l.push("..");return l=l.concat(i.slice(o)),l.join("/")}},lt={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){lt.ttys[e]={input:[],output:[],ops:t},gt.registerDevice(e,lt.stream_ops)},stream_ops:{open:function(e){var t=lt.ttys[e.node.rdev];if(!t)throw new gt.ErrnoError(at.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new gt.ErrnoError(at.ENXIO);for(var a=0,o=0;o<r;o++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new gt.ErrnoError(at.EIO)}if(void 0===s&&0===a)throw new gt.ErrnoError(at.EAGAIN);if(null===s||void 0===s)break;a++,t[n+o]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new gt.ErrnoError(at.ENXIO);for(var a=0;a<r;a++)try{e.tty.ops.put_char(e.tty,t[n+a])}catch(e){throw new gt.ErrnoError(at.EIO)}return r&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(de){var n=new Buffer(256),r=0,i="win32"!=process.platform,a=process.stdin.fd;if(i){var o=!1;try{a=ht.openSync("/dev/stdin","r"),o=!0}catch(e){}}try{r=ht.readSync(a,n,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;r=0}o&&ht.closeSync(a),t=r>0?n.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=z(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(pe(s(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(pe(s(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(he(s(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(he(s(e.output,0)),e.output=[])}}},At={ops_table:null,mount:function(e){return At.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(gt.isBlkdev(n)||gt.isFIFO(n))throw new gt.ErrnoError(at.EPERM);At.ops_table||(At.ops_table={dir:{node:{getattr:At.node_ops.getattr,setattr:At.node_ops.setattr,lookup:At.node_ops.lookup,mknod:At.node_ops.mknod,rename:At.node_ops.rename,unlink:At.node_ops.unlink,rmdir:At.node_ops.rmdir,readdir:At.node_ops.readdir,symlink:At.node_ops.symlink},stream:{llseek:At.stream_ops.llseek}},file:{node:{getattr:At.node_ops.getattr,setattr:At.node_ops.setattr},stream:{llseek:At.stream_ops.llseek,read:At.stream_ops.read,write:At.stream_ops.write,allocate:At.stream_ops.allocate,mmap:At.stream_ops.mmap,msync:At.stream_ops.msync}},link:{node:{getattr:At.node_ops.getattr,setattr:At.node_ops.setattr,readlink:At.node_ops.readlink},stream:{}},chrdev:{node:{getattr:At.node_ops.getattr,setattr:At.node_ops.setattr},stream:gt.chrdev_stream_ops}});var i=gt.createNode(e,t,n,r);return gt.isDir(i.mode)?(i.node_ops=At.ops_table.dir.node,i.stream_ops=At.ops_table.dir.stream,i.contents={}):gt.isFile(i.mode)?(i.node_ops=At.ops_table.file.node,i.stream_ops=At.ops_table.file.stream,i.usedBytes=0,i.contents=null):gt.isLink(i.mode)?(i.node_ops=At.ops_table.link.node,i.stream_ops=At.ops_table.link.stream):gt.isChrdev(i.mode)&&(i.node_ops=At.ops_table.chrdev.node,i.stream_ops=At.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],n=0;n<e.usedBytes;++n)t.push(e.contents[n]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=At.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var n=e.contents?e.contents.length:0;if(n>=t)return;t=Math.max(t,n*(n<1048576?2:1.125)|0),0!=n&&(t=Math.max(t,256));var r=e.contents;return e.contents=new Uint8Array(t),void(e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0))}for(!e.contents&&t>0&&(e.contents=[]);e.contents.length<t;)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=gt.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,gt.isDir(e.mode)?t.size=4096:gt.isFile(e.mode)?t.size=e.usedBytes:gt.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&At.resizeFileStorage(e,t.size)},lookup:function(e,t){throw gt.genericErrors[at.ENOENT]},mknod:function(e,t,n,r){return At.createNode(e,t,n,r)},rename:function(e,t,n){if(gt.isDir(e.mode)){var r;try{r=gt.lookupNode(t,n)}catch(e){}if(r)for(var i in r.contents)throw new gt.ErrnoError(at.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=n,t.contents[n]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var n=gt.lookupNode(e,t);for(var r in n.contents)throw new gt.ErrnoError(at.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=At.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!gt.isLink(e.mode))throw new gt.ErrnoError(at.EINVAL);return e.link}},stream_ops:{read:function(e,t,r,i,a){var o=e.node.contents;if(a>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-a,i);if(n(s>=0),s>8&&o.subarray)t.set(o.subarray(a,a+s),r);else for(var l=0;l<s;l++)t[r+l]=o[a+l];return s},write:function(e,t,n,r,i,a){if(!r)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(a)return o.contents=t.subarray(n,n+r),o.usedBytes=r,r;if(0===o.usedBytes&&0===i)return o.contents=new Uint8Array(t.subarray(n,n+r)),o.usedBytes=r,r;if(i+r<=o.usedBytes)return o.contents.set(t.subarray(n,n+r),i),r}if(At.expandFileStorage(o,i+r),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)o.contents[i+s]=t[n+s];return o.usedBytes=Math.max(o.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&gt.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new gt.ErrnoError(at.EINVAL);return r},allocate:function(e,t,n){At.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i,a,o){if(!gt.isFile(e.node.mode))throw new gt.ErrnoError(at.ENODEV);var s,l,A=e.node.contents;if(2&o||A.buffer!==t&&A.buffer!==t.buffer){if((i>0||i+r<e.node.usedBytes)&&(A=A.subarray?A.subarray(i,i+r):Array.prototype.slice.call(A,i,i+r)),l=!0,!(s=yt(r)))throw new gt.ErrnoError(at.ENOMEM);t.set(A,s)}else l=!1,s=A.byteOffset;return{ptr:s,allocated:l}},msync:function(e,t,n,r,i){if(!gt.isFile(e.node.mode))throw new gt.ErrnoError(at.ENODEV);if(2&i)return 0;At.stream_ops.write(e,t,0,r,n,!1);return 0}}},dt={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),n(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return At.mount.apply(null,arguments)},syncfs:function(e,t,n){dt.getLocalSet(e,function(r,i){if(r)return n(r);dt.getRemoteSet(e,function(e,r){if(e)return n(e);var a=t?r:i,o=t?i:r;dt.reconcile(a,o,n)})})},getDB:function(e,t){var n=dt.dbs[e];if(n)return t(null,n);var r;try{r=dt.indexedDB().open(e,dt.DB_VERSION)}catch(e){return t(e)}if(!r)return t("Unable to connect to IndexedDB");r.onupgradeneeded=function(e){var t,n=e.target.result,r=e.target.transaction;t=n.objectStoreNames.contains(dt.DB_STORE_NAME)?r.objectStore(dt.DB_STORE_NAME):n.createObjectStore(dt.DB_STORE_NAME),t.indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){n=r.result,dt.dbs[e]=n,t(null,n)},r.onerror=function(e){t(this.error),e.preventDefault()}},getLocalSet:function(e,t){function n(e){return"."!==e&&".."!==e}function r(e){return function(t){return st.join2(e,t)}}for(var i={},a=gt.readdir(e.mountpoint).filter(n).map(r(e.mountpoint));a.length;){var o,s=a.pop();try{o=gt.stat(s)}catch(e){return t(e)}gt.isDir(o.mode)&&a.push.apply(a,gt.readdir(s).filter(n).map(r(s))),i[s]={timestamp:o.mtime}}return t(null,{type:"local",entries:i})},getRemoteSet:function(e,t){var n={};dt.getDB(e.mountpoint,function(e,r){if(e)return t(e);try{var i=r.transaction([dt.DB_STORE_NAME],"readonly");i.onerror=function(e){t(this.error),e.preventDefault()};i.objectStore(dt.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var i=e.target.result;if(!i)return t(null,{type:"remote",db:r,entries:n});n[i.primaryKey]={timestamp:i.key},i.continue()}}catch(e){return t(e)}})},loadLocalEntry:function(e,t){var n,r;try{r=gt.lookupPath(e).node,n=gt.stat(e)}catch(e){return t(e)}return gt.isDir(n.mode)?t(null,{timestamp:n.mtime,mode:n.mode
}):gt.isFile(n.mode)?(r.contents=At.getFileDataAsTypedArray(r),t(null,{timestamp:n.mtime,mode:n.mode,contents:r.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,n){try{if(gt.isDir(t.mode))gt.mkdir(e,t.mode);else{if(!gt.isFile(t.mode))return n(new Error("node type not supported"));gt.writeFile(e,t.contents,{canOwn:!0})}gt.chmod(e,t.mode),gt.utime(e,t.timestamp,t.timestamp)}catch(e){return n(e)}n(null)},removeLocalEntry:function(e,t){try{var n=(gt.lookupPath(e),gt.stat(e));gt.isDir(n.mode)?gt.rmdir(e):gt.isFile(n.mode)&&gt.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,n){var r=e.get(t);r.onsuccess=function(e){n(null,e.target.result)},r.onerror=function(e){n(this.error),e.preventDefault()}},storeRemoteEntry:function(e,t,n,r){var i=e.put(n,t);i.onsuccess=function(){r(null)},i.onerror=function(e){r(this.error),e.preventDefault()}},removeRemoteEntry:function(e,t,n){var r=e.delete(t);r.onsuccess=function(){n(null)},r.onerror=function(e){n(this.error),e.preventDefault()}},reconcile:function(e,t,n){function r(e){if(e){if(!r.errored)return r.errored=!0,n(e)}else if(++s>=i)return n(null)}var i=0,a=[];Object.keys(e.entries).forEach(function(n){var r=e.entries[n],o=t.entries[n];(!o||r.timestamp>o.timestamp)&&(a.push(n),i++)});var o=[];if(Object.keys(t.entries).forEach(function(n){t.entries[n];e.entries[n]||(o.push(n),i++)}),!i)return n(null);var s=0,l="remote"===e.type?e.db:t.db,A=l.transaction([dt.DB_STORE_NAME],"readwrite"),d=A.objectStore(dt.DB_STORE_NAME);A.onerror=function(e){r(this.error),e.preventDefault()},a.sort().forEach(function(e){"local"===t.type?dt.loadRemoteEntry(d,e,function(t,n){if(t)return r(t);dt.storeLocalEntry(e,n,r)}):dt.loadLocalEntry(e,function(t,n){if(t)return r(t);dt.storeRemoteEntry(d,e,n,r)})}),o.sort().reverse().forEach(function(e){"local"===t.type?dt.removeLocalEntry(e,r):dt.removeRemoteEntry(d,e,r)})}},ct={isWindows:!1,staticInit:function(){ct.isWindows=!!process.platform.match(/^win/);var e=process.binding("constants");e.fs&&(e=e.fs),ct.flagsForNodeMap={1024:e.O_APPEND,64:e.O_CREAT,128:e.O_EXCL,0:e.O_RDONLY,2:e.O_RDWR,4096:e.O_SYNC,512:e.O_TRUNC,1:e.O_WRONLY}},bufferFrom:function(e){return Buffer.alloc?Buffer.from(e):new Buffer(e)},mount:function(e){return n(de),ct.createNode(null,"/",ct.getMode(e.opts.root),0)},createNode:function(e,t,n,r){if(!gt.isDir(n)&&!gt.isFile(n)&&!gt.isLink(n))throw new gt.ErrnoError(at.EINVAL);var i=gt.createNode(e,t,n);return i.node_ops=ct.node_ops,i.stream_ops=ct.stream_ops,i},getMode:function(e){var t;try{t=ht.lstatSync(e),ct.isWindows&&(t.mode=t.mode|(292&t.mode)>>2)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}return t.mode},realPath:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),st.join.apply(null,t)},flagsForNode:function(e){e&=-2097153,e&=-2049,e&=-32769,e&=-524289;var t=0;for(var n in ct.flagsForNodeMap)e&n&&(t|=ct.flagsForNodeMap[n],e^=n);if(e)throw new gt.ErrnoError(at.EINVAL);return t},node_ops:{getattr:function(e){var t,n=ct.realPath(e);try{t=ht.lstatSync(n)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}return ct.isWindows&&!t.blksize&&(t.blksize=4096),ct.isWindows&&!t.blocks&&(t.blocks=(t.size+t.blksize-1)/t.blksize|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,blksize:t.blksize,blocks:t.blocks}},setattr:function(e,t){var n=ct.realPath(e);try{if(void 0!==t.mode&&(ht.chmodSync(n,t.mode),e.mode=t.mode),void 0!==t.timestamp){var r=new Date(t.timestamp);ht.utimesSync(n,r,r)}void 0!==t.size&&ht.truncateSync(n,t.size)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},lookup:function(e,t){var n=st.join2(ct.realPath(e),t),r=ct.getMode(n);return ct.createNode(e,t,r)},mknod:function(e,t,n,r){var i=ct.createNode(e,t,n,r),a=ct.realPath(i);try{gt.isDir(i.mode)?ht.mkdirSync(a,i.mode):ht.writeFileSync(a,"",{mode:i.mode})}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}return i},rename:function(e,t,n){var r=ct.realPath(e),i=st.join2(ct.realPath(t),n);try{ht.renameSync(r,i)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},unlink:function(e,t){var n=st.join2(ct.realPath(e),t);try{ht.unlinkSync(n)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},rmdir:function(e,t){var n=st.join2(ct.realPath(e),t);try{ht.rmdirSync(n)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},readdir:function(e){var t=ct.realPath(e);try{return ht.readdirSync(t)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},symlink:function(e,t,n){var r=st.join2(ct.realPath(e),t);try{ht.symlinkSync(n,r)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},readlink:function(e){var t=ct.realPath(e);try{return t=ht.readlinkSync(t),t=mt.relative(mt.resolve(e.mount.opts.root),t)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}}},stream_ops:{open:function(e){var t=ct.realPath(e.node);try{gt.isFile(e.node.mode)&&(e.nfd=ht.openSync(t,ct.flagsForNode(e.flags)))}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},close:function(e){try{gt.isFile(e.node.mode)&&e.nfd&&ht.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},read:function(e,t,n,r,i){if(0===r)return 0;try{return ht.readSync(e.nfd,ct.bufferFrom(t.buffer),n,r,i)}catch(e){throw new gt.ErrnoError(at[e.code])}},write:function(e,t,n,r,i){try{return ht.writeSync(e.nfd,ct.bufferFrom(t.buffer),n,r,i)}catch(e){throw new gt.ErrnoError(at[e.code])}},llseek:function(e,t,n){var r=t;if(1===n)r+=e.position;else if(2===n&&gt.isFile(e.node.mode))try{var i=ht.fstatSync(e.nfd);r+=i.size}catch(e){throw new gt.ErrnoError(at[e.code])}if(r<0)throw new gt.ErrnoError(at.EINVAL);return r}}},ut={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){function t(e){for(var t=e.split("/"),n=i,r=0;r<t.length-1;r++){var o=t.slice(0,r+1).join("/");a[o]||(a[o]=ut.createNode(n,t[r],ut.DIR_MODE,0)),n=a[o]}return n}function r(e){var t=e.split("/");return t[t.length-1]}n(Ae),ut.reader||(ut.reader=new FileReaderSync);var i=ut.createNode(null,"/",ut.DIR_MODE,0),a={};return Array.prototype.forEach.call(e.opts.files||[],function(e){ut.createNode(t(e.name),r(e.name),ut.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){ut.createNode(t(e.name),r(e.name),ut.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(n){var i=n.filename.substr(1);ut.createNode(t(i),r(i),ut.FILE_MODE,0,e.blob.slice(n.start,n.end))})}),i},createNode:function(e,t,r,i,a,o){var s=gt.createNode(e,t,r);return s.mode=r,s.node_ops=ut.node_ops,s.stream_ops=ut.stream_ops,s.timestamp=(o||new Date).getTime(),n(ut.FILE_MODE!==ut.DIR_MODE),r===ut.FILE_MODE?(s.size=a.size,s.contents=a):(s.size=4096,s.contents={}),e&&(e.contents[t]=s),s},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new gt.ErrnoError(at.ENOENT)},mknod:function(e,t,n,r){throw new gt.ErrnoError(at.EPERM)},rename:function(e,t,n){throw new gt.ErrnoError(at.EPERM)},unlink:function(e,t){throw new gt.ErrnoError(at.EPERM)},rmdir:function(e,t){throw new gt.ErrnoError(at.EPERM)},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){throw new gt.ErrnoError(at.EPERM)},readlink:function(e){throw new gt.ErrnoError(at.EPERM)}},stream_ops:{read:function(e,t,n,r,i){if(i>=e.node.size)return 0;var a=e.node.contents.slice(i,i+r),o=ut.reader.readAsArrayBuffer(a);return t.set(new Uint8Array(o),n),a.size},write:function(e,t,n,r,i){throw new gt.ErrnoError(at.EIO)},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&gt.isFile(e.node.mode)&&(r+=e.node.size),r<0)throw new gt.ErrnoError(at.EINVAL);return r}}};Qe+=16,Qe+=16,Qe+=16;var gt={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof gt.ErrnoError))throw e+" : "+p();return O(e.errno)},lookupPath:function(e,t){if(e=st.resolve(gt.cwd(),e),t=t||{},!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===t[r]&&(t[r]=n[r]);if(t.recurse_count>8)throw new gt.ErrnoError(at.ELOOP);for(var i=st.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),a=gt.root,o="/",s=0;s<i.length;s++){var l=s===i.length-1;if(l&&t.parent)break;if(a=gt.lookupNode(a,i[s]),o=st.join2(o,i[s]),gt.isMountpoint(a)&&(!l||l&&t.follow_mount)&&(a=a.mounted.root),!l||t.follow)for(var A=0;gt.isLink(a.mode);){var d=gt.readlink(o);o=st.resolve(st.dirname(o),d);var c=gt.lookupPath(o,{recurse_count:t.recurse_count});if(a=c.node,A++>40)throw new gt.ErrnoError(at.ELOOP)}}return{path:o,node:a}},getPath:function(e){for(var t;;){if(gt.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%gt.nameTable.length},hashAddNode:function(e){var t=gt.hashName(e.parent.id,e.name);e.name_next=gt.nameTable[t],gt.nameTable[t]=e},hashRemoveNode:function(e){var t=gt.hashName(e.parent.id,e.name);if(gt.nameTable[t]===e)gt.nameTable[t]=e.name_next;else for(var n=gt.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=gt.mayLookup(e);if(n)throw new gt.ErrnoError(n,e);for(var r=gt.hashName(e.id,t),i=gt.nameTable[r];i;i=i.name_next){var a=i.name;if(i.parent.id===e.id&&a===t)return i}return gt.lookup(e,t)},createNode:function(e,t,n,r){if(!gt.FSNode){gt.FSNode=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=gt.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},gt.FSNode.prototype={};Object.defineProperties(gt.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return gt.isDir(this.mode)}},isDevice:{get:function(){return gt.isChrdev(this.mode)}}})}var i=new gt.FSNode(e,t,n,r);return gt.hashAddNode(i),i},destroyNode:function(e){gt.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=gt.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return gt.ignorePermissions?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:at.EACCES},mayLookup:function(e){var t=gt.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:at.EACCES)},mayCreate:function(e,t){try{gt.lookupNode(e,t);return at.EEXIST}catch(e){}return gt.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=gt.lookupNode(e,t)}catch(e){return e.errno}var i=gt.nodePermissions(e,"wx");if(i)return i;if(n){if(!gt.isDir(r.mode))return at.ENOTDIR;if(gt.isRoot(r)||gt.getPath(r)===gt.cwd())return at.EBUSY}else if(gt.isDir(r.mode))return at.EISDIR;return 0},mayOpen:function(e,t){return e?gt.isLink(e.mode)?at.ELOOP:gt.isDir(e.mode)&&("r"!==gt.flagsToPermissionString(t)||512&t)?at.EISDIR:gt.nodePermissions(e,gt.flagsToPermissionString(t)):at.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||gt.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!gt.streams[n])return n;throw new gt.ErrnoError(at.EMFILE)},getStream:function(e){return gt.streams[e]},createStream:function(e,t,n){gt.FSStream||(gt.FSStream=function(){},gt.FSStream.prototype={},Object.defineProperties(gt.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new gt.FSStream;for(var i in e)r[i]=e[i];e=r;var a=gt.nextfd(t,n);return e.fd=a,gt.streams[a]=e,e},closeStream:function(e){gt.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=gt.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new gt.ErrnoError(at.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){gt.devices[e]={stream_ops:t}},getDevice:function(e){return gt.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){function r(e){return n(gt.syncFSRequests>0),gt.syncFSRequests--,t(e)}function i(e){if(e){if(!i.errored)return i.errored=!0,r(e)}else++o>=a.length&&r(null)}"function"==typeof e&&(t=e,e=!1),++gt.syncFSRequests>1&&console.log("warning: "+gt.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var a=gt.getMounts(gt.root.mount),o=0;a.forEach(function(t){if(!t.type.syncfs)return i(null);t.type.syncfs(t,e,i)})},mount:function(e,t,n){var r,i="/"===n,a=!n;if(i&&gt.root)throw new gt.ErrnoError(at.EBUSY);if(!i&&!a){var o=gt.lookupPath(n,{follow_mount:!1});if(n=o.path,r=o.node,gt.isMountpoint(r))throw new gt.ErrnoError(at.EBUSY);if(!gt.isDir(r.mode))throw new gt.ErrnoError(at.ENOTDIR)}var s={type:e,opts:t,mountpoint:n,mounts:[]},l=e.mount(s);return l.mount=s,s.root=l,i?gt.root=l:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),l},unmount:function(e){var t=gt.lookupPath(e,{follow_mount:!1});if(!gt.isMountpoint(t.node))throw new gt.ErrnoError(at.EINVAL);var r=t.node,i=r.mounted,a=gt.getMounts(i);Object.keys(gt.nameTable).forEach(function(e){for(var t=gt.nameTable[e];t;){var n=t.name_next;-1!==a.indexOf(t.mount)&&gt.destroyNode(t),t=n}}),r.mounted=null;var o=r.mount.mounts.indexOf(i);n(-1!==o),r.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=gt.lookupPath(e,{parent:!0}),i=r.node,a=st.basename(e);if(!a||"."===a||".."===a)throw new gt.ErrnoError(at.EINVAL);var o=gt.mayCreate(i,a);if(o)throw new gt.ErrnoError(o);if(!i.node_ops.mknod)throw new gt.ErrnoError(at.EPERM);return i.node_ops.mknod(i,a,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,gt.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,gt.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{gt.mkdir(r,t)}catch(e){if(e.errno!=at.EEXIST)throw e}}},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,gt.mknod(e,t,n)},symlink:function(e,t){if(!st.resolve(e))throw new gt.ErrnoError(at.ENOENT);var n=gt.lookupPath(t,{parent:!0}),r=n.node;if(!r)throw new gt.ErrnoError(at.ENOENT);var i=st.basename(t),a=gt.mayCreate(r,i);if(a)throw new gt.ErrnoError(a);if(!r.node_ops.symlink)throw new gt.ErrnoError(at.EPERM);return r.node_ops.symlink(r,i,e)},rename:function(e,t){var n,r,i,a=st.dirname(e),o=st.dirname(t),s=st.basename(e),l=st.basename(t);try{n=gt.lookupPath(e,{parent:!0}),r=n.node,n=gt.lookupPath(t,{parent:!0}),i=n.node}catch(e){throw new gt.ErrnoError(at.EBUSY)}if(!r||!i)throw new gt.ErrnoError(at.ENOENT);if(r.mount!==i.mount)throw new gt.ErrnoError(at.EXDEV);var A=gt.lookupNode(r,s),d=st.relative(e,o);if("."!==d.charAt(0))throw new gt.ErrnoError(at.EINVAL);if(d=st.relative(t,a),"."!==d.charAt(0))throw new gt.ErrnoError(at.ENOTEMPTY);var c;try{c=gt.lookupNode(i,l)}catch(e){}if(A!==c){var u=gt.isDir(A.mode),g=gt.mayDelete(r,s,u);if(g)throw new gt.ErrnoError(g);if(g=c?gt.mayDelete(i,l,u):gt.mayCreate(i,l))throw new gt.ErrnoError(g);if(!r.node_ops.rename)throw new gt.ErrnoError(at.EPERM);if(gt.isMountpoint(A)||c&&gt.isMountpoint(c))throw new gt.ErrnoError(at.EBUSY);if(i!==r&&(g=gt.nodePermissions(r,"w")))throw new gt.ErrnoError(g);try{gt.trackingDelegate.willMovePath&&gt.trackingDelegate.willMovePath(e,t)}catch(n){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}gt.hashRemoveNode(A);try{r.node_ops.rename(A,i,l)}catch(e){throw e}finally{gt.hashAddNode(A)}try{gt.trackingDelegate.onMovePath&&gt.trackingDelegate.onMovePath(e,t)}catch(n){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}}},rmdir:function(e){var t=gt.lookupPath(e,{parent:!0}),n=t.node,r=st.basename(e),i=gt.lookupNode(n,r),a=gt.mayDelete(n,r,!0);if(a)throw new gt.ErrnoError(a);if(!n.node_ops.rmdir)throw new gt.ErrnoError(at.EPERM);if(gt.isMountpoint(i))throw new gt.ErrnoError(at.EBUSY);try{gt.trackingDelegate.willDeletePath&&gt.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}n.node_ops.rmdir(n,r),gt.destroyNode(i);try{gt.trackingDelegate.onDeletePath&&gt.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=gt.lookupPath(e,{follow:!0}),n=t.node;if(!n.node_ops.readdir)throw new gt.ErrnoError(at.ENOTDIR);return n.node_ops.readdir(n)},unlink:function(e){var t=gt.lookupPath(e,{parent:!0}),n=t.node,r=st.basename(e),i=gt.lookupNode(n,r),a=gt.mayDelete(n,r,!1);if(a)throw new gt.ErrnoError(a);if(!n.node_ops.unlink)throw new gt.ErrnoError(at.EPERM);if(gt.isMountpoint(i))throw new gt.ErrnoError(at.EBUSY);try{gt.trackingDelegate.willDeletePath&&gt.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}n.node_ops.unlink(n,r),gt.destroyNode(i);try{gt.trackingDelegate.onDeletePath&&gt.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=gt.lookupPath(e),n=t.node;if(!n)throw new gt.ErrnoError(at.ENOENT);if(!n.node_ops.readlink)throw new gt.ErrnoError(at.EINVAL);return st.resolve(gt.getPath(n.parent),n.node_ops.readlink(n))},stat:function(e,t){var n=gt.lookupPath(e,{follow:!t}),r=n.node;if(!r)throw new gt.ErrnoError(at.ENOENT);if(!r.node_ops.getattr)throw new gt.ErrnoError(at.EPERM);return r.node_ops.getattr(r)},lstat:function(e){return gt.stat(e,!0)},chmod:function(e,t,n){var r;if("string"==typeof e){r=gt.lookupPath(e,{follow:!n}).node}else r=e;if(!r.node_ops.setattr)throw new gt.ErrnoError(at.EPERM);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){gt.chmod(e,t,!0)},fchmod:function(e,t){var n=gt.getStream(e);if(!n)throw new gt.ErrnoError(at.EBADF);gt.chmod(n.node,t)},chown:function(e,t,n,r){var i;if("string"==typeof e){i=gt.lookupPath(e,{follow:!r}).node}else i=e;if(!i.node_ops.setattr)throw new gt.ErrnoError(at.EPERM);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){gt.chown(e,t,n,!0)},fchown:function(e,t,n){var r=gt.getStream(e);if(!r)throw new gt.ErrnoError(at.EBADF);gt.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new gt.ErrnoError(at.EINVAL);var n;if("string"==typeof e){n=gt.lookupPath(e,{follow:!0}).node}else n=e;if(!n.node_ops.setattr)throw new gt.ErrnoError(at.EPERM);if(gt.isDir(n.mode))throw new gt.ErrnoError(at.EISDIR);if(!gt.isFile(n.mode))throw new gt.ErrnoError(at.EINVAL);var r=gt.nodePermissions(n,"w");if(r)throw new gt.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=gt.getStream(e);if(!n)throw new gt.ErrnoError(at.EBADF);if(0==(2097155&n.flags))throw new gt.ErrnoError(at.EINVAL);gt.truncate(n.node,t)},utime:function(e,t,n){var r=gt.lookupPath(e,{follow:!0}),i=r.node;i.node_ops.setattr(i,{timestamp:Math.max(t,n)})},open:function(e,t,n,r,i){if(""===e)throw new gt.ErrnoError(at.ENOENT);t="string"==typeof t?gt.modeStringToFlags(t):t,n=void 0===n?438:n,n=64&t?4095&n|32768:0;var a;if("object"==typeof e)a=e;else{e=st.normalize(e);try{a=gt.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var o=!1;if(64&t)if(a){if(128&t)throw new gt.ErrnoError(at.EEXIST)}else a=gt.mknod(e,n,0),o=!0;if(!a)throw new gt.ErrnoError(at.ENOENT);if(gt.isChrdev(a.mode)&&(t&=-513),65536&t&&!gt.isDir(a.mode))throw new gt.ErrnoError(at.ENOTDIR);if(!o){var s=gt.mayOpen(a,t);if(s)throw new gt.ErrnoError(s)}512&t&&gt.truncate(a,0),t&=-641;var l=gt.createStream({node:a,path:gt.getPath(a),flags:t,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},r,i);l.stream_ops.open&&l.stream_ops.open(l),!Module.logReadFiles||1&t||(gt.readFiles||(gt.readFiles={}),e in gt.readFiles||(gt.readFiles[e]=1,s("read file: "+e)));try{if(gt.trackingDelegate.onOpenFile){var A=0;1!=(2097155&t)&&(A|=gt.tracking.openFlags.READ),0!=(2097155&t)&&(A|=gt.tracking.openFlags.WRITE),gt.trackingDelegate.onOpenFile(e,A)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return l},close:function(e){if(gt.isClosed(e))throw new gt.ErrnoError(at.EBADF);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{gt.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(gt.isClosed(e))throw new gt.ErrnoError(at.EBADF);if(!e.seekable||!e.stream_ops.llseek)throw new gt.ErrnoError(at.ESPIPE);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new gt.ErrnoError(at.EINVAL);if(gt.isClosed(e))throw new gt.ErrnoError(at.EBADF);if(1==(2097155&e.flags))throw new gt.ErrnoError(at.EBADF);if(gt.isDir(e.node.mode))throw new gt.ErrnoError(at.EISDIR);if(!e.stream_ops.read)throw new gt.ErrnoError(at.EINVAL);var a=void 0!==i;if(a){if(!e.seekable)throw new gt.ErrnoError(at.ESPIPE)}else i=e.position;var o=e.stream_ops.read(e,t,n,r,i);return a||(e.position+=o),o},write:function(e,t,n,r,i,a){if(r<0||i<0)throw new gt.ErrnoError(at.EINVAL);if(gt.isClosed(e))throw new gt.ErrnoError(at.EBADF);if(0==(2097155&e.flags))throw new gt.ErrnoError(at.EBADF);if(gt.isDir(e.node.mode))throw new gt.ErrnoError(at.EISDIR);if(!e.stream_ops.write)throw new gt.ErrnoError(at.EINVAL);1024&e.flags&&gt.llseek(e,0,2);var o=void 0!==i;if(o){if(!e.seekable)throw new gt.ErrnoError(at.ESPIPE)}else i=e.position;var s=e.stream_ops.write(e,t,n,r,i,a);o||(e.position+=s);try{e.path&&gt.trackingDelegate.onWriteToFile&&gt.trackingDelegate.onWriteToFile(e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return s},allocate:function(e,t,n){if(gt.isClosed(e))throw new gt.ErrnoError(at.EBADF);if(t<0||n<=0)throw new gt.ErrnoError(at.EINVAL);if(0==(2097155&e.flags))throw new gt.ErrnoError(at.EBADF);if(!gt.isFile(e.node.mode)&&!gt.isDir(e.node.mode))throw new gt.ErrnoError(at.ENODEV);if(!e.stream_ops.allocate)throw new gt.ErrnoError(at.EOPNOTSUPP);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i,a,o){if(1==(2097155&e.flags))throw new gt.ErrnoError(at.EACCES);if(!e.stream_ops.mmap)throw new gt.ErrnoError(at.ENODEV);return e.stream_ops.mmap(e,t,n,r,i,a,o)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new gt.ErrnoError(at.ENOTTY);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if(t=t||{},t.flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=gt.open(e,t.flags),i=gt.stat(e),a=i.size,o=new Uint8Array(a);return gt.read(r,o,0,a,0),"utf8"===t.encoding?n=s(o,0):"binary"===t.encoding&&(n=o),gt.close(r),n},writeFile:function(e,t,n){n=n||{},n.flags=n.flags||"w";var r=gt.open(e,n.flags,n.mode);if("string"==typeof t){var i=new Uint8Array(c(t)+1),a=A(t,i,0,i.length);gt.write(r,i,0,a,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");gt.write(r,t,0,t.byteLength,void 0,n.canOwn)}gt.close(r)},cwd:function(){return gt.currentPath},chdir:function(e){var t=gt.lookupPath(e,{follow:!0});if(null===t.node)throw new gt.ErrnoError(at.ENOENT);if(!gt.isDir(t.node.mode))throw new gt.ErrnoError(at.ENOTDIR);var n=gt.nodePermissions(t.node,"x");if(n)throw new gt.ErrnoError(n);gt.currentPath=t.path},createDefaultDirectories:function(){gt.mkdir("/tmp"),gt.mkdir("/home"),gt.mkdir("/home/web_user")},createDefaultDevices:function(){gt.mkdir("/dev"),gt.registerDevice(gt.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),gt.mkdev("/dev/null",gt.makedev(1,3)),lt.register(gt.makedev(5,0),lt.default_tty_ops),lt.register(gt.makedev(6,0),lt.default_tty1_ops),gt.mkdev("/dev/tty",gt.makedev(5,0)),gt.mkdev("/dev/tty1",gt.makedev(6,0));var e;if("undefined"!=typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else e=de?function(){return no_req("crypto").randomBytes(1)[0]}:function(){return 256*Math.random()|0};gt.createDevice("/dev","random",e),gt.createDevice("/dev","urandom",e),gt.mkdir("/dev/shm"),gt.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){gt.mkdir("/proc"),gt.mkdir("/proc/self"),gt.mkdir("/proc/self/fd"),gt.mount({mount:function(){var e=gt.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var n=+t,r=gt.getStream(n);if(!r)throw new gt.ErrnoError(at.EBADF);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?gt.createDevice("/dev","stdin",Module.stdin):gt.symlink("/dev/tty","/dev/stdin"),Module.stdout?gt.createDevice("/dev","stdout",null,Module.stdout):gt.symlink("/dev/tty","/dev/stdout"),Module.stderr?gt.createDevice("/dev","stderr",null,Module.stderr):gt.symlink("/dev/tty1","/dev/stderr");var e=gt.open("/dev/stdin","r");n(0===e.fd,"invalid handle for stdin ("+e.fd+")");var t=gt.open("/dev/stdout","w");n(1===t.fd,"invalid handle for stdout ("+t.fd+")");var r=gt.open("/dev/stderr","w");n(2===r.fd,"invalid handle for stderr ("+r.fd+")")},ensureErrnoError:function(){gt.ErrnoError||(gt.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e;for(var t in at)if(at[t]===e){this.code=t;break}},this.setErrno(e),this.message=ot[e],this.stack&&Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0})},gt.ErrnoError.prototype=new Error,gt.ErrnoError.prototype.constructor=gt.ErrnoError,[at.ENOENT].forEach(function(e){gt.genericErrors[e]=new gt.ErrnoError(e),gt.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){gt.ensureErrnoError(),gt.nameTable=new Array(4096),gt.mount(At,{},"/"),gt.createDefaultDirectories(),gt.createDefaultDevices(),gt.createSpecialDirectories(),gt.filesystems={MEMFS:At,IDBFS:dt,NODEFS:ct,WORKERFS:ut}},init:function(e,t,r){n(!gt.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),gt.init.initialized=!0,gt.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=t||Module.stdout,Module.stderr=r||Module.stderr,gt.createStandardStreams()},quit:function(){gt.init.initialized=!1;var e=Module._fflush;e&&e(0);for(var t=0;t<gt.streams.length;t++){var n=gt.streams[t];n&&gt.close(n)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},joinPath:function(e,t){var n=st.join.apply(null,e);return t&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,t){return st.resolve(t,e)},standardizePath:function(e){return st.normalize(e)},findObject:function(e,t){var n=gt.analyzePath(e,t);return n.exists?n.object:(O(n.error),null)},analyzePath:function(e,t){try{var n=gt.lookupPath(e,{follow:!t});e=n.path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=gt.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=st.basename(e),n=gt.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createFolder:function(e,t,n,r){var i=st.join2("string"==typeof e?e:gt.getPath(e),t),a=gt.getMode(n,r);return gt.mkdir(i,a)},createPath:function(e,t,n,r){e="string"==typeof e?e:gt.getPath(e);for(var i=t.split("/").reverse();i.length;){var a=i.pop();if(a){var o=st.join2(e,a);try{gt.mkdir(o)}catch(e){}e=o}}return o},createFile:function(e,t,n,r,i){var a=st.join2("string"==typeof e?e:gt.getPath(e),t),o=gt.getMode(r,i);return gt.create(a,o)},createDataFile:function(e,t,n,r,i,a){var o=t?st.join2("string"==typeof e?e:gt.getPath(e),t):e,s=gt.getMode(r,i),l=gt.create(o,s);if(n){if("string"==typeof n){for(var A=new Array(n.length),d=0,c=n.length;d<c;++d)A[d]=n.charCodeAt(d);n=A}gt.chmod(l,146|s);var u=gt.open(l,"w");gt.write(u,n,0,n.length,0,a),gt.close(u),gt.chmod(l,s)}return l},createDevice:function(e,t,n,r){var i=st.join2("string"==typeof e?e:gt.getPath(e),t),a=gt.getMode(!!n,!!r);gt.createDevice.major||(gt.createDevice.major=64);var o=gt.makedev(gt.createDevice.major++,0);return gt.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,a){for(var o=0,s=0;s<i;s++){var l;try{l=n()}catch(e){throw new gt.ErrnoError(at.EIO)}if(void 0===l&&0===o)throw new gt.ErrnoError(at.EAGAIN);if(null===l||void 0===l)break;o++,t[r+s]=l}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,i,a){for(var o=0;o<i;o++)try{r(t[n+o])}catch(e){throw new gt.ErrnoError(at.EIO)}return i&&(e.node.timestamp=Date.now()),o}}),gt.mkdev(i,a,o)},createLink:function(e,t,n,r,i){var a=st.join2("string"==typeof e?e:gt.getPath(e),t);return gt.symlink(n,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=z(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||O(at.EIO),t},createLazyFile:function(e,t,r,i,a){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;i||(o=n);var s=function(e,t){
if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",r,!1),n!==o&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+r+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):z(i.responseText||"",!0)},l=this;l.setDataGetter(function(e){var t=e*o,r=(e+1)*o-1;if(r=Math.min(r,n-1),void 0===l.chunks[e]&&(l.chunks[e]=s(t,r)),void 0===l.chunks[e])throw new Error("doXHR failed!");return l.chunks[e]}),!a&&n||(o=n=1,n=this.getter(0).length,o=n,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!Ae)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new o;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var l={isDevice:!1,contents:s}}else var l={isDevice:!1,url:r};var A=gt.createFile(e,t,l,i,a);l.contents?A.contents=l.contents:l.url&&(A.contents=null,A.url=l.url),Object.defineProperties(A,{usedBytes:{get:function(){return this.contents.length}}});var d={};return Object.keys(A.stream_ops).forEach(function(e){var t=A.stream_ops[e];d[e]=function(){if(!gt.forceLoadFile(A))throw new gt.ErrnoError(at.EIO);return t.apply(null,arguments)}}),d.read=function(e,t,r,i,a){if(!gt.forceLoadFile(A))throw new gt.ErrnoError(at.EIO);var o=e.node.contents;if(a>=o.length)return 0;var s=Math.min(o.length-a,i);if(n(s>=0),o.slice)for(var l=0;l<s;l++)t[r+l]=o[a+l];else for(var l=0;l<s;l++)t[r+l]=o.get(a+l);return s},A.stream_ops=d,A},createPreloadedFile:function(e,t,n,r,i,a,o,s,l,A){function d(n){function d(n){A&&A(),s||gt.createDataFile(e,t,n,r,i,l),a&&a(),M(u)}var g=!1;Module.preloadPlugins.forEach(function(e){g||e.canHandle(c)&&(e.handle(n,c,d,function(){o&&o(),M(u)}),g=!0)}),g||d(n)}Browser.init();var c=t?st.resolve(st.join2(e,t)):e,u=R("cp "+c);_(u),"string"==typeof n?Browser.asyncLoad(n,function(e){d(e)},o):d(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=gt.indexedDB();try{var i=r.open(gt.DB_NAME(),gt.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=function(){console.log("creating db"),i.result.createObjectStore(gt.DB_STORE_NAME)},i.onsuccess=function(){function r(){0==A?t():n()}var a=i.result,o=a.transaction([gt.DB_STORE_NAME],"readwrite"),s=o.objectStore(gt.DB_STORE_NAME),l=0,A=0,d=e.length;e.forEach(function(e){var t=s.put(gt.analyzePath(e).object.contents,e);t.onsuccess=function(){++l+A==d&&r()},t.onerror=function(){A++,l+A==d&&r()}}),o.onerror=n},i.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=gt.indexedDB();try{var i=r.open(gt.DB_NAME(),gt.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=n,i.onsuccess=function(){function r(){0==A?t():n()}var a=i.result;try{var o=a.transaction([gt.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var s=o.objectStore(gt.DB_STORE_NAME),l=0,A=0,d=e.length;e.forEach(function(e){var t=s.get(e);t.onsuccess=function(){gt.analyzePath(e).exists&&gt.unlink(e),gt.createDataFile(st.dirname(e),st.basename(e),t.result,!0,!0,!0),++l+A==d&&r()},t.onerror=function(){A++,l+A==d&&r()}}),o.onerror=n},i.onerror=n}},ft={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var n;if(-100===e)n=gt.cwd();else{var r=gt.getStream(e);if(!r)throw new gt.ErrnoError(at.EBADF);n=r.path}t=st.join2(n,t)}return t},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&st.normalize(t)!==st.normalize(gt.getPath(e.node)))return-at.ENOTDIR;throw e}return Ce[n>>2]=r.dev,Ce[n+4>>2]=0,Ce[n+8>>2]=r.ino,Ce[n+12>>2]=r.mode,Ce[n+16>>2]=r.nlink,Ce[n+20>>2]=r.uid,Ce[n+24>>2]=r.gid,Ce[n+28>>2]=r.rdev,Ce[n+32>>2]=0,Ce[n+36>>2]=r.size,Ce[n+40>>2]=4096,Ce[n+44>>2]=r.blocks,Ce[n+48>>2]=r.atime.getTime()/1e3|0,Ce[n+52>>2]=0,Ce[n+56>>2]=r.mtime.getTime()/1e3|0,Ce[n+60>>2]=0,Ce[n+64>>2]=r.ctime.getTime()/1e3|0,Ce[n+68>>2]=0,Ce[n+72>>2]=r.ino,0},doMsync:function(e,t,n,r){var i=new Uint8Array(Ie.subarray(e,e+n));gt.msync(t,i,0,n,r)},doMkdir:function(e,t){return e=st.normalize(e),"/"===e[e.length-1]&&(e=e.substr(0,e.length-1)),gt.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-at.EINVAL}return gt.mknod(e,t,n),0},doReadlink:function(e,t,n){if(n<=0)return-at.EINVAL;var r=gt.readlink(e),i=Math.min(n,c(r)),a=Ee[t+i];return d(r,t,n+1),Ee[t+i]=a,i},doAccess:function(e,t){if(-8&t)return-at.EINVAL;var n;n=gt.lookupPath(e,{follow:!0}).node;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&gt.nodePermissions(n,r)?-at.EACCES:0},doDup:function(e,t,n){var r=gt.getStream(n);return r&&gt.close(r),gt.open(e,t,0,n,n).fd},doReadv:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=Ce[t+8*a>>2],s=Ce[t+(8*a+4)>>2],l=gt.read(e,Ee,o,s,r);if(l<0)return-1;if(i+=l,l<s)break}return i},doWritev:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=Ce[t+8*a>>2],s=Ce[t+(8*a+4)>>2],l=gt.write(e,Ee,o,s,r);if(l<0)return-1;i+=l}return i},varargs:0,get:function(e){return ft.varargs+=4,Ce[ft.varargs-4>>2]},getStr:function(){return o(ft.get())},getStreamFromFD:function(){var e=gt.getStream(ft.get());if(!e)throw new gt.ErrnoError(at.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(ft.get());if(!e)throw new gt.ErrnoError(at.EBADF);return e},getSocketAddress:function(e){var t=ft.get(),n=ft.get();if(e&&0===t)return null;var r=__read_sockaddr(t,n);if(r.errno)throw new gt.ErrnoError(r.errno);return r.addr=DNS.lookup_addr(r.addr)||r.addr,r},get64:function(){var e=ft.get(),t=ft.get();return n(e>=0?0===t:-1===t),e},getZero:function(){n(0===ft.get())}},pt=$e;if(gt.staticInit(),Je.unshift(function(){Module.noFSInit||gt.init.initialized||gt.init()}),qe.push(function(){gt.ignorePermissions=!1}),We.push(function(){gt.quit()}),Je.unshift(function(){lt.init()}),We.push(function(){lt.shutdown()}),de){var ht=no_req("fs"),mt=no_req("path");ct.staticInit()}_e=function(e){var t=Qe;return Qe=Qe+e+15&-16,t}(4),Te=De=t(Qe),ke=Te+je,Re=t(ke),Ce[_e>>2]=Re;Module.wasmTableSize=15,Module.wasmMaxTableSize=15,Module.asmGlobalArg={},Module.asmLibraryArg={abort:ae,assert:n,enlargeMemory:y,getTotalMemory:v,abortOnCannotGrowMemory:I,invoke_ii:Z,invoke_iii:X,invoke_iiii:$,invoke_viddi:ee,invoke_viiii:te,___lock:L,___setErrNo:O,___syscall10:P,___syscall140:F,___syscall145:U,___syscall146:x,___syscall221:G,___syscall40:V,___syscall5:H,___syscall54:j,___syscall6:Y,___unlock:K,__exit:J,_emscripten_memcpy_big:W,_exit:q,_llvm_fabs_f64:pt,DYNAMICTOP_PTR:_e,tempDoublePtr:it,STACKTOP:De,STACK_MAX:ke};var Et=Module.asm(Module.asmGlobalArg,Module.asmLibraryArg,me);Module.asm=Et;var It=(Module.___errno_location=function(){return Module.asm.___errno_location.apply(null,arguments)},Module._convert_segment_file=function(){return Module.asm._convert_segment_file.apply(null,arguments)},Module._emscripten_replace_memory=function(){return Module.asm._emscripten_replace_memory.apply(null,arguments)}),yt=(Module._free=function(){return Module.asm._free.apply(null,arguments)},Module._get_dts_offset=function(){return Module.asm._get_dts_offset.apply(null,arguments)},Module._get_key_frame_first=function(){return Module.asm._get_key_frame_first.apply(null,arguments)},Module._get_last_vpts=function(){return Module.asm._get_last_vpts.apply(null,arguments)},Module._llvm_bswap_i16=function(){return Module.asm._llvm_bswap_i16.apply(null,arguments)},Module._llvm_bswap_i32=function(){return Module.asm._llvm_bswap_i32.apply(null,arguments)},Module._llvm_maxnum_f64=function(){return Module.asm._llvm_maxnum_f64.apply(null,arguments)},Module._llvm_minnum_f64=function(){return Module.asm._llvm_minnum_f64.apply(null,arguments)},Module._malloc=function(){return Module.asm._malloc.apply(null,arguments)}),vt=(Module._memcpy=function(){return Module.asm._memcpy.apply(null,arguments)},Module._memmove=function(){return Module.asm._memmove.apply(null,arguments)},Module._memset=function(){return Module.asm._memset.apply(null,arguments)},Module._sbrk=function(){return Module.asm._sbrk.apply(null,arguments)},Module._simulate_memory_allocation=function(){return Module.asm._simulate_memory_allocation.apply(null,arguments)},Module._stream_ctx_delete=function(){return Module.asm._stream_ctx_delete.apply(null,arguments)},Module._stream_ctx_new=function(){return Module.asm._stream_ctx_new.apply(null,arguments)},Module.establishStackSpace=function(){return Module.asm.establishStackSpace.apply(null,arguments)},Module.getTempRet0=function(){return Module.asm.getTempRet0.apply(null,arguments)},Module.runPostSets=function(){return Module.asm.runPostSets.apply(null,arguments)},Module.setTempRet0=function(){return Module.asm.setTempRet0.apply(null,arguments)},Module.setThrew=function(){return Module.asm.setThrew.apply(null,arguments)},Module.stackAlloc=function(){return Module.asm.stackAlloc.apply(null,arguments)}),Ct=Module.stackRestore=function(){return Module.asm.stackRestore.apply(null,arguments)},bt=Module.stackSave=function(){return Module.asm.stackSave.apply(null,arguments)};Module.dynCall_ii=function(){return Module.asm.dynCall_ii.apply(null,arguments)},Module.dynCall_iii=function(){return Module.asm.dynCall_iii.apply(null,arguments)},Module.dynCall_iiii=function(){return Module.asm.dynCall_iiii.apply(null,arguments)},Module.dynCall_viddi=function(){return Module.asm.dynCall_viddi.apply(null,arguments)},Module.dynCall_viiii=function(){return Module.asm.dynCall_viiii.apply(null,arguments)};Module.asm=Et,Module.cwrap=a,ne.prototype=new Error,ne.prototype.constructor=ne;var Bt;if(nt=function e(){Module.calledRun||re(),Module.calledRun||(nt=e)},Module.run=re,Module.abort=ae,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();return Module.noExitRuntime=!0,re(),{Module:Module,FS:gt}}});var Module=void 0!==Module?Module:{};define("hlscore-asm",function(){return function(){function e(e,t){return t||(t=Pe),e=Math.ceil(e/t)*t}function t(e,t){e||Ae("Assertion failed: "+t)}function n(e){var n=Module["_"+e];return t(n,"Cannot call unknown function "+e+", make sure it is exported"),n}function r(e,t,r,i,o){var s=n(e),l=[],A=0;if(i)for(var d=0;d<i.length;d++){var c=Ge[r[d]];c?(0===A&&(A=Dt()),l[d]=c(i[d])):l[d]=i[d]}var u=s.apply(null,l);return u=function(e){return"string"===t?a(e):"boolean"===t?Boolean(e):e}(u),0!==A&&Tt(A),u}function i(e,t,i,a){i=i||[];var o=i.every(function(e){return"number"===e});return"string"!==t&&o&&!a?n(e):function(){return r(e,t,i,arguments,a)}}function a(e,t){if(0===t||!e)return"";for(var n,r=0,i=0;;){if(n=be[e+i>>0],r|=n,0==n&&!t)break;if(i++,t&&i==t)break}t||(t=i);var a="";if(r<128){for(var o;t>0;)o=String.fromCharCode.apply(String,be.subarray(e,e+Math.min(t,1024))),a=a?a+o:o,e+=1024,t-=1024;return a}return s(e)}function o(e,t){for(var n=t;e[n];)++n;if(n-t>16&&e.subarray&&Ve)return Ve.decode(e.subarray(t,n));for(var r,i,a,o,s,l,A="";;){if(!(r=e[t++]))return A;if(128&r)if(i=63&e[t++],192!=(224&r))if(a=63&e[t++],224==(240&r)?r=(15&r)<<12|i<<6|a:(o=63&e[t++],240==(248&r)?r=(7&r)<<18|i<<12|a<<6|o:(s=63&e[t++],248==(252&r)?r=(3&r)<<24|i<<18|a<<12|o<<6|s:(l=63&e[t++],r=(1&r)<<30|i<<24|a<<18|o<<12|s<<6|l))),r<65536)A+=String.fromCharCode(r);else{var d=r-65536;A+=String.fromCharCode(55296|d>>10,56320|1023&d)}else A+=String.fromCharCode((31&r)<<6|i);else A+=String.fromCharCode(r)}}function s(e){return o(be,e)}function l(e,t,n,r){if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343){s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)}if(s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=2097151){if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=67108863){if(n+4>=a)break;t[n++]=248|s>>24,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+5>=a)break;t[n++]=252|s>>30,t[n++]=128|s>>24&63,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function A(e,t,n){return l(e,be,t,n)}function d(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:r<=2097151?4:r<=67108863?5:6}return t}function c(e){return e}function u(e){var t=/__Z[\w\d_]+/g;return e.replace(t,function(e){var t=c(e);return e===t?e:e+" ["+t+"]"})}function g(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function f(){var e=g();return Module.extraStackTrace&&(e+="\n"+Module.extraStackTrace()),u(e)}function p(e,t){return e%t>0&&(e+=t-e%t),e}function h(e){Module.buffer=ve=e}function m(){Module.HEAP8=Ce=new Int8Array(ve),Module.HEAP16=Be=new Int16Array(ve),Module.HEAP32=Se=new Int32Array(ve),Module.HEAPU8=be=new Uint8Array(ve),Module.HEAPU16=we=new Uint16Array(ve),Module.HEAPU32=Qe=new Uint32Array(ve),Module.HEAPF32=Te=new Float32Array(ve),Module.HEAPF64=De=new Float64Array(ve)}function E(){Ae("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+qe+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function I(){var e=Module.usingWasm?He:je,t=2147483648-e;if(Se[Oe>>2]>t)return!1;var n=qe;for(qe=Math.max(qe,Ye);qe<Se[Oe>>2];)qe=qe<=536870912?p(2*qe,e):Math.min(p((3*qe+2147483648)/4,e),t);var r=Module.reallocBuffer(qe);return r&&r.byteLength==qe?(h(r),m(),!0):(qe=n,!1)}function y(){return qe}function v(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?Module.dynCall_v(n):Module.dynCall_vi(n,t.arg):n(void 0===t.arg?null:t.arg)}else t()}}function C(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)Q(Module.preRun.shift());v(We)}function b(){et||(et=!0,v(ze))}function B(){v(Ze)}function w(){v(Xe),tt=!0}function S(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)T(Module.postRun.shift());v($e)}function Q(e){We.unshift(e)}function T(e){$e.unshift(e)}function D(e,t){Ce.set(e,t)}function k(e){return e}function R(e){rt++,Module.monitorRunDependencies&&Module.monitorRunDependencies(rt)}function _(e){if(rt--,Module.monitorRunDependencies&&Module.monitorRunDependencies(rt),0==rt&&(null!==it&&(clearInterval(it),it=null),at)){var t=at;at=null,t()}}function M(e){return String.prototype.startsWith?e.startsWith(st):0===e.indexOf(st)}function N(){}function L(e){return Module.___errno_location&&(Se[Module.___errno_location()>>2]=e),e}function O(e,t){Et.varargs=t;try{var n=Et.getStr();return mt.unlink(n),0}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||Ae(e),-e.errno}}function P(e,t){Et.varargs=t;try{var n=Et.getStreamFromFD(),r=(Et.get(),Et.get()),i=Et.get(),a=Et.get(),o=r;return mt.llseek(n,o,a),Se[i>>2]=n.position,n.getdents&&0===o&&0===a&&(n.getdents=null),0}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||Ae(e),-e.errno}}function F(e,t){Et.varargs=t;try{var n=Et.getStreamFromFD(),r=Et.get(),i=Et.get();return Et.doReadv(n,r,i)}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||Ae(e),-e.errno}}function U(e,t){Et.varargs=t;try{var n=Et.getStreamFromFD(),r=Et.get(),i=Et.get();return Et.doWritev(n,r,i)}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||Ae(e),-e.errno}}function x(e,t){Et.varargs=t;try{var n=Et.getStreamFromFD();switch(Et.get()){case 0:var r=Et.get();if(r<0)return-At.EINVAL;var i;return i=mt.open(n.path,n.flags,0,r),i.fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var r=Et.get();return n.flags|=r,0;case 12:case 12:var r=Et.get();return Be[r+0>>1]=2,0;case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-At.EINVAL;case 9:return L(At.EINVAL),-1;default:return-At.EINVAL}}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||Ae(e),-e.errno}}function G(e,t){Et.varargs=t;try{var n=Et.getStr();return mt.rmdir(n),0}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||Ae(e),-e.errno}}function V(e,t){Et.varargs=t;try{var n=Et.getStr(),r=Et.get(),i=Et.get();return mt.open(n,r,i).fd}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||Ae(e),-e.errno}}function H(e,t){Et.varargs=t;try{var n=Et.getStreamFromFD(),r=Et.get();switch(r){case 21509:case 21505:return n.tty?0:-At.ENOTTY;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-At.ENOTTY;case 21519:if(!n.tty)return-At.ENOTTY;var i=Et.get();return Se[i>>2]=0,0;case 21520:return n.tty?-At.EINVAL:-At.ENOTTY;case 21531:var i=Et.get();return mt.ioctl(n,r,i);case 21523:case 21524:return n.tty?0:-At.ENOTTY;default:Ae("bad ioctl syscall "+r)}}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||Ae(e),-e.errno}}function j(e,t){Et.varargs=t;try{var n=Et.getStreamFromFD();return mt.close(n),0}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||Ae(e),-e.errno}}function Y(){}function K(e){le(e)}function J(e){K(e)}function q(e,t,n){return be.set(be.subarray(t,t+n),e),e}function W(e,t,n){var r=n>0?n:d(e)+1,i=new Array(r),a=l(e,i,0,i.length);return t&&(i.length=a),i}function z(e){for(var n=[],r=0;r<e.length;r++){var i=e[r];i>255&&(Ct&&t(!1,"Character code "+i+" ("+String.fromCharCode(i)+")  at offset "+r+" not in 0x00-0xFF."),i&=255),n.push(String.fromCharCode(i))}return n.join("")}function Z(e){if("boolean"==typeof fe&&fe){var t;try{t=Buffer.from(e,"base64")}catch(n){t=new Buffer(e,"base64")}return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}try{for(var n=bt(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}catch(e){throw new Error("Converting base64 string to bytes failed.")}}function X(e){if(M(e))return Z(e.slice(st.length))}function $(e,t){var n=Dt();try{return Module.dynCall_ii(e,t)}catch(e){if(Tt(n),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function ee(e,t,n){var r=Dt();try{return Module.dynCall_iii(e,t,n)}catch(e){if(Tt(r),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function te(e,t,n,r){var i=Dt();try{return Module.dynCall_iiii(e,t,n,r)}catch(e){if(Tt(i),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function ne(e,t,n,r,i){var a=Dt();try{Module.dynCall_viddi(e,t,n,r,i)}catch(e){if(Tt(a),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function re(e,t,n,r,i){var a=Dt();try{Module.dynCall_viiii(e,t,n,r,i)}catch(e){if(Tt(a),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function ie(){Module.readAsync(ot,Rt,function(){throw"could not load memory initializer "+ot})}function ae(){var e=Module.memoryInitializerRequest,t=e.response;if(200!==e.status&&0!==e.status){var n=X(Module.memoryInitializerRequestURL);if(!n)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+e.status+", retrying "+ot),void ie();t=n.buffer}Rt(t)}function oe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function se(e){function t(){Module.calledRun||(Module.calledRun=!0,Fe||(b(),B(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),S()))}e=e||Module.arguments,rt>0||(C(),rt>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}function le(e,t){t&&Module.noExitRuntime&&0===e||(Module.noExitRuntime||(Fe=!0,Ue=e,Me=Mt,w(),Module.onExit&&Module.onExit(e)),Module.quit(e,new oe(e)))}function Ae(e){throw Module.onAbort&&Module.onAbort(e),void 0!==e?(Ie(e),ye(e),e=JSON.stringify(e)):e="",Fe=!0,Ue=1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}var de,ce={};for(de in Module)Module.hasOwnProperty(de)&&(ce[de]=Module[de]);Module.arguments=[],Module.thisProgram="./this.program",Module.quit=function(e,t){throw t},Module.preRun=[],Module.postRun=[];var ue=!1,ge=!1,fe=!1,pe=!1;ue="object"==typeof window,ge="function"==typeof importScripts,fe="object"==typeof process&&"function"==typeof no_req&&!ue&&!ge,pe=!ue&&!fe&&!ge;var he="";if(fe){he=__dirname+"/";var me,Ee;Module.read=function(e,t){var n;return n=X(e),n||(me||(me=no_req("fs")),Ee||(Ee=no_req("path")),e=Ee.normalize(e),n=me.readFileSync(e)),t?n:n.toString()},Module.readBinary=function(e){var n=Module.read(e,!0);return n.buffer||(n=new Uint8Array(n)),t(n.buffer),n},process.argv.length>1&&(Module.thisProgram=process.argv[1].replace(/\\/g,"/")),Module.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),process.on("uncaughtException",function(e){if(!(e instanceof oe))throw e}),process.on("unhandledRejection",function(e,t){process.exit(1)}),Module.quit=function(e){process.exit(e)},Module.inspect=function(){return"[Emscripten Module object]"}}else pe?("undefined"!=typeof read&&(Module.read=function(e){var t=X(e);return t?z(t):read(e)}),Module.readBinary=function(e){var n;return(n=X(e))?n:"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(n=read(e,"binary"),t("object"==typeof n),n)},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:void 0!==arguments&&(Module.arguments=arguments),"function"==typeof quit&&(Module.quit=function(e){quit(e)})):(ue||ge)&&(ue?document.currentScript&&(he=document.currentScript.src):he=self.location.href,he=0!==he.indexOf("blob:")?he.substr(0,he.lastIndexOf("/")+1):"",Module.read=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}catch(t){var n=X(e);if(n)return z(n);throw t}},ge&&(Module.readBinary=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}catch(t){var n=X(e);if(n)return n;throw t}}),Module.readAsync=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(200==r.status||0==r.status&&r.response)return void t(r.response);var i=X(e);if(i)return void t(i.buffer);n()},r.onerror=n,r.send(null)},Module.setWindowTitle=function(e){document.title=e});var Ie=Module.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),ye=Module.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||Ie);for(de in ce)ce.hasOwnProperty(de)&&(Module[de]=ce[de]);ce=void 0;var ve,Ce,be,Be,we,Se,Qe,Te,De,ke,Re,_e,Me,Ne,Le,Oe,Pe=16,Fe=(new Array(0),!1),Ue=0,xe={stackSave:function(){Dt()},stackRestore:function(){Tt()},arrayToC:function(e){var t=Qt(e.length);return D(e,t),t},stringToC:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);t=Qt(n),A(e,t,n)}return t}},Ge={string:xe.stringToC,array:xe.arrayToC},Ve="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,He=("undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),65536),je=16777216,Ye=16777216;ke=Re=_e=Me=Ne=Le=Oe=0,Module.reallocBuffer||(Module.reallocBuffer=function(e){var t;try{var n=Ce;t=new ArrayBuffer(e);new Int8Array(t).set(n)}catch(e){return!1}return!!wt(t)&&t});var Ke;try{Ke=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),Ke(new ArrayBuffer(4))}catch(e){Ke=function(e){return e.byteLength}}var Je=Module.TOTAL_STACK||5242880,qe=Module.TOTAL_MEMORY||16777216;qe<Je&&ye("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+qe+"! (TOTAL_STACK="+Je+")"),Module.buffer?ve=Module.buffer:(ve=new ArrayBuffer(qe),Module.buffer=ve),m();var We=[],ze=[],Ze=[],Xe=[],$e=[],et=!1,tt=!1;Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var n=e>>>16,r=65535&e,i=t>>>16,a=65535&t;return r*a+(n*a+r*i<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(e){var t=32,n=e>>16;return n&&(t-=16,e=n),n=e>>8,n&&(t-=8,e=n),n=e>>4,n&&(t-=4,e=n),n=e>>2,n&&(t-=2,e=n),n=e>>1,n?t-2:t-e}),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Math.trunc=Math.trunc;var nt=Math.abs,rt=(Math.ceil,Math.floor,Math.min,0),it=null,at=null;Module.preloadedImages={},Module.preloadedAudios={};var ot=null,st="data:application/octet-stream;base64,";ke=8,Re=ke+7920,ze.push(),
ot="data:application/octet-stream;base64,AAAAAAAAAAAAdwEAiFgBAAD6AACAuwAARKwAAAB9AADAXQAAIlYAAIA+AADgLgAAESsAAEAfAAC2HAAAAAAAAAAAAAAAAAAACwAAAP////8BAAAAAgAAAAMAAAAEAAAADAAAAA0AAAAOAAAADwAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAACAAAAAgAAAAMAAAADAAAABAAAAAQAAAAFAAAABQAAAAYAAAAGAAAABwAAAAcAAAAUkNMAAAAAABCUyAAAAAAAEFPRgAAAAAAQU9OAAAAAABERVIAAAAAAFJVMgAAAAAAUlUzAAAAAABSVTQAAAAAAEZPTgAAAAAAUkRDAAAAAABUUiAAAAAAAFJURAAAAAAARURNAAAAAABDUiAAAAAAAEVOTQAAAAAARU9DAAAAAAARAAoAERERAAAAAAUAAAAAAAAJAAAAAAsAAAAAAAAAABEADwoREREDCgcAARMJCwsAAAkGCwAACwAGEQAAABEREQAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAARAAoKERERAAoAAAIACQsAAAAJAAsAAAsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAA0AAAAEDQAAAAAJDgAAAAAADgAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAPAAAAAA8AAAAACRAAAAAAABAAABAAABIAAAASEhIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAABISEgAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAoAAAAACgAAAAAJCwAAAAAACwAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAwAAAAACQwAAAAAAAwAAAwAADAxMjM0NTY3ODlBQkNERUZUISIZDQECAxFLHAwQBAsdEh4naG5vcHFiIAUGDxMUFRoIFgcoJBcYCQoOGx8lI4OCfSYqKzw9Pj9DR0pNWFlaW1xdXl9gYWNkZWZnaWprbHJzdHl6e3wAAAAAAAAAAABJbGxlZ2FsIGJ5dGUgc2VxdWVuY2UARG9tYWluIGVycm9yAFJlc3VsdCBub3QgcmVwcmVzZW50YWJsZQBOb3QgYSB0dHkAUGVybWlzc2lvbiBkZW5pZWQAT3BlcmF0aW9uIG5vdCBwZXJtaXR0ZWQATm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeQBObyBzdWNoIHByb2Nlc3MARmlsZSBleGlzdHMAVmFsdWUgdG9vIGxhcmdlIGZvciBkYXRhIHR5cGUATm8gc3BhY2UgbGVmdCBvbiBkZXZpY2UAT3V0IG9mIG1lbW9yeQBSZXNvdXJjZSBidXN5AEludGVycnVwdGVkIHN5c3RlbSBjYWxsAFJlc291cmNlIHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlAEludmFsaWQgc2VlawBDcm9zcy1kZXZpY2UgbGluawBSZWFkLW9ubHkgZmlsZSBzeXN0ZW0ARGlyZWN0b3J5IG5vdCBlbXB0eQBDb25uZWN0aW9uIHJlc2V0IGJ5IHBlZXIAT3BlcmF0aW9uIHRpbWVkIG91dABDb25uZWN0aW9uIHJlZnVzZWQASG9zdCBpcyBkb3duAEhvc3QgaXMgdW5yZWFjaGFibGUAQWRkcmVzcyBpbiB1c2UAQnJva2VuIHBpcGUASS9PIGVycm9yAE5vIHN1Y2ggZGV2aWNlIG9yIGFkZHJlc3MAQmxvY2sgZGV2aWNlIHJlcXVpcmVkAE5vIHN1Y2ggZGV2aWNlAE5vdCBhIGRpcmVjdG9yeQBJcyBhIGRpcmVjdG9yeQBUZXh0IGZpbGUgYnVzeQBFeGVjIGZvcm1hdCBlcnJvcgBJbnZhbGlkIGFyZ3VtZW50AEFyZ3VtZW50IGxpc3QgdG9vIGxvbmcAU3ltYm9saWMgbGluayBsb29wAEZpbGVuYW1lIHRvbyBsb25nAFRvbyBtYW55IG9wZW4gZmlsZXMgaW4gc3lzdGVtAE5vIGZpbGUgZGVzY3JpcHRvcnMgYXZhaWxhYmxlAEJhZCBmaWxlIGRlc2NyaXB0b3IATm8gY2hpbGQgcHJvY2VzcwBCYWQgYWRkcmVzcwBGaWxlIHRvbyBsYXJnZQBUb28gbWFueSBsaW5rcwBObyBsb2NrcyBhdmFpbGFibGUAUmVzb3VyY2UgZGVhZGxvY2sgd291bGQgb2NjdXIAU3RhdGUgbm90IHJlY292ZXJhYmxlAFByZXZpb3VzIG93bmVyIGRpZWQAT3BlcmF0aW9uIGNhbmNlbGVkAEZ1bmN0aW9uIG5vdCBpbXBsZW1lbnRlZABObyBtZXNzYWdlIG9mIGRlc2lyZWQgdHlwZQBJZGVudGlmaWVyIHJlbW92ZWQARGV2aWNlIG5vdCBhIHN0cmVhbQBObyBkYXRhIGF2YWlsYWJsZQBEZXZpY2UgdGltZW91dABPdXQgb2Ygc3RyZWFtcyByZXNvdXJjZXMATGluayBoYXMgYmVlbiBzZXZlcmVkAFByb3RvY29sIGVycm9yAEJhZCBtZXNzYWdlAEZpbGUgZGVzY3JpcHRvciBpbiBiYWQgc3RhdGUATm90IGEgc29ja2V0AERlc3RpbmF0aW9uIGFkZHJlc3MgcmVxdWlyZWQATWVzc2FnZSB0b28gbGFyZ2UAUHJvdG9jb2wgd3JvbmcgdHlwZSBmb3Igc29ja2V0AFByb3RvY29sIG5vdCBhdmFpbGFibGUAUHJvdG9jb2wgbm90IHN1cHBvcnRlZABTb2NrZXQgdHlwZSBub3Qgc3VwcG9ydGVkAE5vdCBzdXBwb3J0ZWQAUHJvdG9jb2wgZmFtaWx5IG5vdCBzdXBwb3J0ZWQAQWRkcmVzcyBmYW1pbHkgbm90IHN1cHBvcnRlZCBieSBwcm90b2NvbABBZGRyZXNzIG5vdCBhdmFpbGFibGUATmV0d29yayBpcyBkb3duAE5ldHdvcmsgdW5yZWFjaGFibGUAQ29ubmVjdGlvbiByZXNldCBieSBuZXR3b3JrAENvbm5lY3Rpb24gYWJvcnRlZABObyBidWZmZXIgc3BhY2UgYXZhaWxhYmxlAFNvY2tldCBpcyBjb25uZWN0ZWQAU29ja2V0IG5vdCBjb25uZWN0ZWQAQ2Fubm90IHNlbmQgYWZ0ZXIgc29ja2V0IHNodXRkb3duAE9wZXJhdGlvbiBhbHJlYWR5IGluIHByb2dyZXNzAE9wZXJhdGlvbiBpbiBwcm9ncmVzcwBTdGFsZSBmaWxlIGhhbmRsZQBSZW1vdGUgSS9PIGVycm9yAFF1b3RhIGV4Y2VlZGVkAE5vIG1lZGl1bSBmb3VuZABXcm9uZyBtZWRpdW0gdHlwZQBObyBlcnJvciBpbmZvcm1hdGlvbgAAAAAAAOQKAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAO0eAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZAsAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAACAAAAiBQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADkCwAABQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAIAAACYGAAAAAQAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACv////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOQLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALweAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFkZGluZyBuZXcgUElEOiAlZAoATGVmdG92ZXIgZGF0YSBpbiBUUyBjb250ZXh0CgBFUlJPUjogVW5zdXBwb3J0ZWQgc2FtcGxpbmcgZnJlcXVlbmN5AEZhdGFsIEVycm9yLiBBdG9tIGJlZ2luIGlzIGFmdGVyIGVuZABmdHlwAGlzb20AaXNvNQBhdmMxAG1wNDIAZGFzaABzdHlwAG1zZGgAbXNpeABtb292AG12aGQAbXZleAB0cmFrAHRyZXgAdGtoZABtZGlhAHRyYWYAdGZoZAB0ZmR0AHRydW4Ac2R0cABtZGhkAGhkbHIAbWluZgB2bWhkAHNtaGQAZGluZgBzdGJsAGRyZWYAZWR0cwBlbHN0AG1vb2YAbWZoZABzdHNkAHN0dHMAc3RzYwBzdHN6AHN0Y28AAAABbWVoZAB2aWRlAHNvdW4AQW52YXRvIGVEQVNIIDIuMQBtcDRhAGFudjIAYXZjQwBlc2RzAHNpZHgAaW9kcwBtZGF0AFVOSEFORExFRDogJXMKAEVycm9yAFBhY2tldCBjb3VudDogJWQgKyAxCgBCYWQgQUFDIHBhY2tldAoARVJST1IKACh1bmNsZWFuIGVuZCBvZiBhYWMgZnJhbWVzLiAlZCBieXRlcykKAFNQUyBUb28gbGFyZ2UuICVkCgBQUFMgVG9vIGxhcmdlLiAlZAoASUQzBABCYWQgaGVhZGVyCgBHRU9CUFJJVkZyYW1lIHR5cGUgaXMgbm90IHN1cHBvcnRlZCBvciBpbnZhbGlkAEZyYW1lIHR5cGU6IEdFT0IKAEdFT0IgYnVmZmVyIG5vdCBlbm91Z2gKAEdFT0IgRW5jb2RpbmcgbXVzdCBiZSAzCgBGcmFtZSB0eXBlOiBQUklWCgB0eXBlPXByaXYmcGF5bG9hZD0AJXMuY3VlAHcAJXMuNjA4AChESVNDT05USU5VSVRZKQBCZWdpbiB3cml0ZV9kYXNoICVzCgBBUFRTOiAlZiAtICVmCgBWUFRTOiAlZiAtICVmCgBQcmUtQmVnaW4gT2Zmc2V0IERUUzogJWYsIFNlY3Rpb24gRFRTOiAlZiwgU2VnbWVudCBubzogJWQsIFNhbXBsZXM6ICVkLyVkCgBEaXNjb250aW51aXR5IGhhbmRsaW5nOgBBdCBkaXNjb250aW51aXR5LCBhX2R0ID0gJWYKAEF0IGRpc2NvbnRpbnVpdHksIHZfZHQgPSAlZgoAQXQgZGlzY29udGludWl0eSwgZHRzX3NlY3Rpb24gPSAlZgoAUG9zdC1CZWdpbiBPZmZzZXQgRFRTOiAlZiwgU2VjdGlvbiBEVFM6ICVmLCBTZWdtZW50IG5vOiAlZCwgU2FtcGxlczogJWQvJWQKAHZpZGVvAGF1ZGlvACglcykgU01QUFRTOiAlZiAtICVmCgAoJXMpIGJlZ2luIHRpbWU6ICVmICggJWxsZCAtICVsbGQgKQoAKCVzKSBCZWdpbiA9ICVkLCBjbnQ6ICVkCgBpbml0AGRhdGEAJXMtJWMtJXMubXA0AENhbm5vdCBvcGVuICVzCgByYgBmaWxlIG5vdCBmb3VuZAoAQ2Fubm90IGxvYWQgc2VnbWVudABDYW5ub3Qgd3JpdGUgZGFzaABzaW0uZGF0YQB3YgBGYWlsZWQgdG8gd3JpdGUgZGF0YQBGYWlsZWQgdG8gYWxsb2NhdGUgbWVtb3J5ACUuM2YgJWMlYyAoJTAyeCAlMDJ4KQoAw6kAw60Aw7MAw7oAw7oAw7cAw5EAw7EA4paIAMOhACUuM2YgW21pZHJvd10KAMKuAMKwAMK9AMK/AOKEogDCogDCowDimaoAw6AAIADDqADDogDDqgDDrgDDtADDuwAlLjNmIFNwZWNpYWwgJWMgJWMgKCUwMnggJTAyeCkKACUuM2YgW3ByZWFtYmxlIEAgJWQsJWRdCgAlLjNmIFt0YWJdCgAlLjNmIFtlcnJvci11bmtub3duIGJ5dGVzICUwMnggJTAyeF0KACUuM2YgWyVzXQoAJS4zZiBFbnRlciBwb3Atb24gbW9kZQoAJS4zZiBFbnRlciBwYWludCBvbiBtb2RlCgAlLjNmIEVudGVyIHJvbGwgdXAgbW9kZQoAVW5rbm93biBjb250cm9sIGNvZGUgJTAyeCAlMDJ4CgAtKyAgIDBYMHgAKG51bGwpAC0wWCswWCAwWC0weCsweCAweABpbmYASU5GAG5hbgBOQU4ALgByd2E=";var lt=Re;Re+=16;var At={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},dt={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device no_reqd",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address no_reqd",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},ct={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return e=ct.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),e||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=ct.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return ct.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return ct.normalize(e.join("/"))},join2:function(e,t){return ct.normalize(e+"/"+t)},resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:mt.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return e=ct.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=ct.resolve(e).substr(1),t=ct.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),a=Math.min(r.length,i.length),o=a,s=0;s<a;s++)if(r[s]!==i[s]){o=s;break}for(var l=[],s=o;s<r.length;s++)l.push("..");return l=l.concat(i.slice(o)),l.join("/")}},ut={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){ut.ttys[e]={input:[],output:[],ops:t},mt.registerDevice(e,ut.stream_ops)},stream_ops:{open:function(e){var t=ut.ttys[e.node.rdev];if(!t)throw new mt.ErrnoError(At.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new mt.ErrnoError(At.ENXIO);for(var a=0,o=0;o<r;o++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new mt.ErrnoError(At.EIO)}if(void 0===s&&0===a)throw new mt.ErrnoError(At.EAGAIN);if(null===s||void 0===s)break;a++,t[n+o]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new mt.ErrnoError(At.ENXIO);for(var a=0;a<r;a++)try{e.tty.ops.put_char(e.tty,t[n+a])}catch(e){throw new mt.ErrnoError(At.EIO)}return r&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(fe){var n=new Buffer(256),r=0,i="win32"!=process.platform,a=process.stdin.fd;if(i){var o=!1;try{a=yt.openSync("/dev/stdin","r"),o=!0}catch(e){}}try{r=yt.readSync(a,n,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;r=0}o&&yt.closeSync(a),t=r>0?n.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=W(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(Ie(o(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Ie(o(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(ye(o(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(ye(o(e.output,0)),e.output=[])}}},gt={ops_table:null,mount:function(e){return gt.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(mt.isBlkdev(n)||mt.isFIFO(n))throw new mt.ErrnoError(At.EPERM);gt.ops_table||(gt.ops_table={dir:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr,lookup:gt.node_ops.lookup,mknod:gt.node_ops.mknod,rename:gt.node_ops.rename,unlink:gt.node_ops.unlink,rmdir:gt.node_ops.rmdir,readdir:gt.node_ops.readdir,symlink:gt.node_ops.symlink},stream:{llseek:gt.stream_ops.llseek}},file:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr},stream:{llseek:gt.stream_ops.llseek,read:gt.stream_ops.read,write:gt.stream_ops.write,allocate:gt.stream_ops.allocate,mmap:gt.stream_ops.mmap,msync:gt.stream_ops.msync}},link:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr,readlink:gt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr},stream:mt.chrdev_stream_ops}});var i=mt.createNode(e,t,n,r);return mt.isDir(i.mode)?(i.node_ops=gt.ops_table.dir.node,i.stream_ops=gt.ops_table.dir.stream,i.contents={}):mt.isFile(i.mode)?(i.node_ops=gt.ops_table.file.node,i.stream_ops=gt.ops_table.file.stream,i.usedBytes=0,i.contents=null):mt.isLink(i.mode)?(i.node_ops=gt.ops_table.link.node,i.stream_ops=gt.ops_table.link.stream):mt.isChrdev(i.mode)&&(i.node_ops=gt.ops_table.chrdev.node,i.stream_ops=gt.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],n=0;n<e.usedBytes;++n)t.push(e.contents[n]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=gt.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var n=e.contents?e.contents.length:0;if(n>=t)return;t=Math.max(t,n*(n<1048576?2:1.125)|0),0!=n&&(t=Math.max(t,256));var r=e.contents;return e.contents=new Uint8Array(t),void(e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0))}for(!e.contents&&t>0&&(e.contents=[]);e.contents.length<t;)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=mt.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,mt.isDir(e.mode)?t.size=4096:mt.isFile(e.mode)?t.size=e.usedBytes:mt.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&gt.resizeFileStorage(e,t.size)},lookup:function(e,t){throw mt.genericErrors[At.ENOENT]},mknod:function(e,t,n,r){return gt.createNode(e,t,n,r)},rename:function(e,t,n){if(mt.isDir(e.mode)){var r;try{r=mt.lookupNode(t,n)}catch(e){}if(r)for(var i in r.contents)throw new mt.ErrnoError(At.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=n,t.contents[n]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var n=mt.lookupNode(e,t);for(var r in n.contents)throw new mt.ErrnoError(At.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=gt.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!mt.isLink(e.mode))throw new mt.ErrnoError(At.EINVAL);return e.link}},stream_ops:{read:function(e,n,r,i,a){var o=e.node.contents;if(a>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-a,i);if(t(s>=0),s>8&&o.subarray)n.set(o.subarray(a,a+s),r);else for(var l=0;l<s;l++)n[r+l]=o[a+l];return s},write:function(e,t,n,r,i,a){if(!r)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(a)return o.contents=t.subarray(n,n+r),o.usedBytes=r,r;if(0===o.usedBytes&&0===i)return o.contents=new Uint8Array(t.subarray(n,n+r)),o.usedBytes=r,r;if(i+r<=o.usedBytes)return o.contents.set(t.subarray(n,n+r),i),r}if(gt.expandFileStorage(o,i+r),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)o.contents[i+s]=t[n+s];return o.usedBytes=Math.max(o.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&mt.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new mt.ErrnoError(At.EINVAL);return r},allocate:function(e,t,n){gt.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i,a,o){if(!mt.isFile(e.node.mode))throw new mt.ErrnoError(At.ENODEV);var s,l,A=e.node.contents;if(2&o||A.buffer!==t&&A.buffer!==t.buffer){if((i>0||i+r<e.node.usedBytes)&&(A=A.subarray?A.subarray(i,i+r):Array.prototype.slice.call(A,i,i+r)),l=!0,!(s=St(r)))throw new mt.ErrnoError(At.ENOMEM);t.set(A,s)}else l=!1,s=A.byteOffset;return{ptr:s,allocated:l}},msync:function(e,t,n,r,i){if(!mt.isFile(e.node.mode))throw new mt.ErrnoError(At.ENODEV);if(2&i)return 0;gt.stream_ops.write(e,t,0,r,n,!1);return 0}}},ft={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),t(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return gt.mount.apply(null,arguments)},syncfs:function(e,t,n){ft.getLocalSet(e,function(r,i){if(r)return n(r);ft.getRemoteSet(e,function(e,r){if(e)return n(e);var a=t?r:i,o=t?i:r;ft.reconcile(a,o,n)})})},getDB:function(e,t){var n=ft.dbs[e];if(n)return t(null,n);var r;try{r=ft.indexedDB().open(e,ft.DB_VERSION)}catch(e){return t(e)}if(!r)return t("Unable to connect to IndexedDB");r.onupgradeneeded=function(e){var t,n=e.target.result,r=e.target.transaction;t=n.objectStoreNames.contains(ft.DB_STORE_NAME)?r.objectStore(ft.DB_STORE_NAME):n.createObjectStore(ft.DB_STORE_NAME),t.indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){n=r.result,ft.dbs[e]=n,t(null,n)},r.onerror=function(e){t(this.error),e.preventDefault()}},getLocalSet:function(e,t){function n(e){return"."!==e&&".."!==e}function r(e){return function(t){return ct.join2(e,t)}}for(var i={},a=mt.readdir(e.mountpoint).filter(n).map(r(e.mountpoint));a.length;){var o,s=a.pop();try{o=mt.stat(s)}catch(e){return t(e)}mt.isDir(o.mode)&&a.push.apply(a,mt.readdir(s).filter(n).map(r(s))),i[s]={timestamp:o.mtime}}return t(null,{type:"local",entries:i})},getRemoteSet:function(e,t){var n={};ft.getDB(e.mountpoint,function(e,r){if(e)return t(e);try{var i=r.transaction([ft.DB_STORE_NAME],"readonly");i.onerror=function(e){t(this.error),e.preventDefault()};i.objectStore(ft.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var i=e.target.result;if(!i)return t(null,{type:"remote",db:r,entries:n});n[i.primaryKey]={timestamp:i.key},i.continue()}}catch(e){return t(e)}})},loadLocalEntry:function(e,t){var n,r;try{r=mt.lookupPath(e).node,n=mt.stat(e)}catch(e){return t(e)}return mt.isDir(n.mode)?t(null,{timestamp:n.mtime,mode:n.mode}):mt.isFile(n.mode)?(r.contents=gt.getFileDataAsTypedArray(r),t(null,{timestamp:n.mtime,mode:n.mode,contents:r.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,n){try{if(mt.isDir(t.mode))mt.mkdir(e,t.mode);else{if(!mt.isFile(t.mode))return n(new Error("node type not supported"));mt.writeFile(e,t.contents,{canOwn:!0})}mt.chmod(e,t.mode),mt.utime(e,t.timestamp,t.timestamp)}catch(e){return n(e)}n(null)},removeLocalEntry:function(e,t){try{var n=(mt.lookupPath(e),mt.stat(e));mt.isDir(n.mode)?mt.rmdir(e):mt.isFile(n.mode)&&mt.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,n){var r=e.get(t);r.onsuccess=function(e){n(null,e.target.result)},r.onerror=function(e){n(this.error),e.preventDefault()}},storeRemoteEntry:function(e,t,n,r){var i=e.put(n,t);i.onsuccess=function(){r(null)},i.onerror=function(e){r(this.error),e.preventDefault()}},removeRemoteEntry:function(e,t,n){var r=e.delete(t);r.onsuccess=function(){n(null)},r.onerror=function(e){n(this.error),e.preventDefault()}},reconcile:function(e,t,n){function r(e){if(e){if(!r.errored)return r.errored=!0,n(e)}else if(++s>=i)return n(null)}var i=0,a=[];Object.keys(e.entries).forEach(function(n){var r=e.entries[n],o=t.entries[n];(!o||r.timestamp>o.timestamp)&&(a.push(n),i++)});var o=[];if(Object.keys(t.entries).forEach(function(n){t.entries[n];e.entries[n]||(o.push(n),i++)}),!i)return n(null);var s=0,l="remote"===e.type?e.db:t.db,A=l.transaction([ft.DB_STORE_NAME],"readwrite"),d=A.objectStore(ft.DB_STORE_NAME);A.onerror=function(e){r(this.error),e.preventDefault()},a.sort().forEach(function(e){"local"===t.type?ft.loadRemoteEntry(d,e,function(t,n){if(t)return r(t);ft.storeLocalEntry(e,n,r)}):ft.loadLocalEntry(e,function(t,n){if(t)return r(t);ft.storeRemoteEntry(d,e,n,r)})}),o.sort().reverse().forEach(function(e){"local"===t.type?ft.removeLocalEntry(e,r):ft.removeRemoteEntry(d,e,r)})}},pt={isWindows:!1,staticInit:function(){pt.isWindows=!!process.platform.match(/^win/);var e=process.binding("constants");e.fs&&(e=e.fs),pt.flagsForNodeMap={1024:e.O_APPEND,64:e.O_CREAT,128:e.O_EXCL,0:e.O_RDONLY,2:e.O_RDWR,4096:e.O_SYNC,512:e.O_TRUNC,1:e.O_WRONLY}},bufferFrom:function(e){return Buffer.alloc?Buffer.from(e):new Buffer(e)},mount:function(e){return t(fe),pt.createNode(null,"/",pt.getMode(e.opts.root),0)},createNode:function(e,t,n,r){if(!mt.isDir(n)&&!mt.isFile(n)&&!mt.isLink(n))throw new mt.ErrnoError(At.EINVAL);var i=mt.createNode(e,t,n);return i.node_ops=pt.node_ops,i.stream_ops=pt.stream_ops,i},getMode:function(e){var t;try{t=yt.lstatSync(e),pt.isWindows&&(t.mode=t.mode|(292&t.mode)>>2)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(At[e.code])}return t.mode},realPath:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),ct.join.apply(null,t)},flagsForNode:function(e){e&=-2097153,e&=-2049,e&=-32769,e&=-524289;var t=0;for(var n in pt.flagsForNodeMap)e&n&&(t|=pt.flagsForNodeMap[n],e^=n);if(e)throw new mt.ErrnoError(At.EINVAL);return t},node_ops:{getattr:function(e){var t,n=pt.realPath(e);try{t=yt.lstatSync(n)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(At[e.code])}return pt.isWindows&&!t.blksize&&(t.blksize=4096),pt.isWindows&&!t.blocks&&(t.blocks=(t.size+t.blksize-1)/t.blksize|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,blksize:t.blksize,blocks:t.blocks}},setattr:function(e,t){var n=pt.realPath(e);try{if(void 0!==t.mode&&(yt.chmodSync(n,t.mode),e.mode=t.mode),void 0!==t.timestamp){var r=new Date(t.timestamp);yt.utimesSync(n,r,r)}void 0!==t.size&&yt.truncateSync(n,t.size)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(At[e.code])}},lookup:function(e,t){var n=ct.join2(pt.realPath(e),t),r=pt.getMode(n);return pt.createNode(e,t,r)},mknod:function(e,t,n,r){var i=pt.createNode(e,t,n,r),a=pt.realPath(i);try{mt.isDir(i.mode)?yt.mkdirSync(a,i.mode):yt.writeFileSync(a,"",{mode:i.mode})}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(At[e.code])}return i},rename:function(e,t,n){var r=pt.realPath(e),i=ct.join2(pt.realPath(t),n);try{yt.renameSync(r,i)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(At[e.code])}},unlink:function(e,t){var n=ct.join2(pt.realPath(e),t);try{yt.unlinkSync(n)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(At[e.code])}},rmdir:function(e,t){var n=ct.join2(pt.realPath(e),t);try{yt.rmdirSync(n)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(At[e.code])}},readdir:function(e){var t=pt.realPath(e);try{return yt.readdirSync(t)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(At[e.code])}},symlink:function(e,t,n){var r=ct.join2(pt.realPath(e),t);try{yt.symlinkSync(n,r)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(At[e.code])}},readlink:function(e){var t=pt.realPath(e);try{return t=yt.readlinkSync(t),t=vt.relative(vt.resolve(e.mount.opts.root),t)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(At[e.code])}}},stream_ops:{open:function(e){var t=pt.realPath(e.node);try{mt.isFile(e.node.mode)&&(e.nfd=yt.openSync(t,pt.flagsForNode(e.flags)))}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(At[e.code])}},close:function(e){try{mt.isFile(e.node.mode)&&e.nfd&&yt.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(At[e.code])}},read:function(e,t,n,r,i){if(0===r)return 0;try{return yt.readSync(e.nfd,pt.bufferFrom(t.buffer),n,r,i)}catch(e){throw new mt.ErrnoError(At[e.code])}},write:function(e,t,n,r,i){try{return yt.writeSync(e.nfd,pt.bufferFrom(t.buffer),n,r,i)}catch(e){throw new mt.ErrnoError(At[e.code])}},llseek:function(e,t,n){var r=t;if(1===n)r+=e.position;else if(2===n&&mt.isFile(e.node.mode))try{var i=yt.fstatSync(e.nfd);r+=i.size}catch(e){throw new mt.ErrnoError(At[e.code])}if(r<0)throw new mt.ErrnoError(At.EINVAL);return r}}},ht={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){function n(e){for(var t=e.split("/"),n=i,r=0;r<t.length-1;r++){var o=t.slice(0,r+1).join("/");a[o]||(a[o]=ht.createNode(n,t[r],ht.DIR_MODE,0)),n=a[o]}return n}function r(e){var t=e.split("/");return t[t.length-1]}t(ge),ht.reader||(ht.reader=new FileReaderSync);var i=ht.createNode(null,"/",ht.DIR_MODE,0),a={};return Array.prototype.forEach.call(e.opts.files||[],function(e){ht.createNode(n(e.name),r(e.name),ht.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){ht.createNode(n(e.name),r(e.name),ht.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(t){var i=t.filename.substr(1);ht.createNode(n(i),r(i),ht.FILE_MODE,0,e.blob.slice(t.start,t.end))})}),i},createNode:function(e,n,r,i,a,o){var s=mt.createNode(e,n,r);return s.mode=r,s.node_ops=ht.node_ops,s.stream_ops=ht.stream_ops,s.timestamp=(o||new Date).getTime(),t(ht.FILE_MODE!==ht.DIR_MODE),r===ht.FILE_MODE?(s.size=a.size,s.contents=a):(s.size=4096,s.contents={}),e&&(e.contents[n]=s),s},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new mt.ErrnoError(At.ENOENT)},mknod:function(e,t,n,r){throw new mt.ErrnoError(At.EPERM)},rename:function(e,t,n){throw new mt.ErrnoError(At.EPERM)},unlink:function(e,t){throw new mt.ErrnoError(At.EPERM)},rmdir:function(e,t){throw new mt.ErrnoError(At.EPERM)},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){throw new mt.ErrnoError(At.EPERM)},readlink:function(e){throw new mt.ErrnoError(At.EPERM)}},stream_ops:{read:function(e,t,n,r,i){if(i>=e.node.size)return 0;var a=e.node.contents.slice(i,i+r),o=ht.reader.readAsArrayBuffer(a);return t.set(new Uint8Array(o),n),a.size},write:function(e,t,n,r,i){throw new mt.ErrnoError(At.EIO)},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&mt.isFile(e.node.mode)&&(r+=e.node.size),r<0)throw new mt.ErrnoError(At.EINVAL);return r}}};Re+=16,Re+=16,Re+=16;var mt={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof mt.ErrnoError))throw e+" : "+f();return L(e.errno)},lookupPath:function(e,t){if(e=ct.resolve(mt.cwd(),e),t=t||{},!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===t[r]&&(t[r]=n[r]);if(t.recurse_count>8)throw new mt.ErrnoError(At.ELOOP);for(var i=ct.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),a=mt.root,o="/",s=0;s<i.length;s++){var l=s===i.length-1;if(l&&t.parent)break;if(a=mt.lookupNode(a,i[s]),o=ct.join2(o,i[s]),mt.isMountpoint(a)&&(!l||l&&t.follow_mount)&&(a=a.mounted.root),!l||t.follow)for(var A=0;mt.isLink(a.mode);){var d=mt.readlink(o)
;o=ct.resolve(ct.dirname(o),d);var c=mt.lookupPath(o,{recurse_count:t.recurse_count});if(a=c.node,A++>40)throw new mt.ErrnoError(At.ELOOP)}}return{path:o,node:a}},getPath:function(e){for(var t;;){if(mt.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%mt.nameTable.length},hashAddNode:function(e){var t=mt.hashName(e.parent.id,e.name);e.name_next=mt.nameTable[t],mt.nameTable[t]=e},hashRemoveNode:function(e){var t=mt.hashName(e.parent.id,e.name);if(mt.nameTable[t]===e)mt.nameTable[t]=e.name_next;else for(var n=mt.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=mt.mayLookup(e);if(n)throw new mt.ErrnoError(n,e);for(var r=mt.hashName(e.id,t),i=mt.nameTable[r];i;i=i.name_next){var a=i.name;if(i.parent.id===e.id&&a===t)return i}return mt.lookup(e,t)},createNode:function(e,t,n,r){if(!mt.FSNode){mt.FSNode=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=mt.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},mt.FSNode.prototype={};Object.defineProperties(mt.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return mt.isDir(this.mode)}},isDevice:{get:function(){return mt.isChrdev(this.mode)}}})}var i=new mt.FSNode(e,t,n,r);return mt.hashAddNode(i),i},destroyNode:function(e){mt.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=mt.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return mt.ignorePermissions?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:At.EACCES},mayLookup:function(e){var t=mt.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:At.EACCES)},mayCreate:function(e,t){try{mt.lookupNode(e,t);return At.EEXIST}catch(e){}return mt.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=mt.lookupNode(e,t)}catch(e){return e.errno}var i=mt.nodePermissions(e,"wx");if(i)return i;if(n){if(!mt.isDir(r.mode))return At.ENOTDIR;if(mt.isRoot(r)||mt.getPath(r)===mt.cwd())return At.EBUSY}else if(mt.isDir(r.mode))return At.EISDIR;return 0},mayOpen:function(e,t){return e?mt.isLink(e.mode)?At.ELOOP:mt.isDir(e.mode)&&("r"!==mt.flagsToPermissionString(t)||512&t)?At.EISDIR:mt.nodePermissions(e,mt.flagsToPermissionString(t)):At.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||mt.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!mt.streams[n])return n;throw new mt.ErrnoError(At.EMFILE)},getStream:function(e){return mt.streams[e]},createStream:function(e,t,n){mt.FSStream||(mt.FSStream=function(){},mt.FSStream.prototype={},Object.defineProperties(mt.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new mt.FSStream;for(var i in e)r[i]=e[i];e=r;var a=mt.nextfd(t,n);return e.fd=a,mt.streams[a]=e,e},closeStream:function(e){mt.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=mt.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new mt.ErrnoError(At.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){mt.devices[e]={stream_ops:t}},getDevice:function(e){return mt.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,n){function r(e){return t(mt.syncFSRequests>0),mt.syncFSRequests--,n(e)}function i(e){if(e){if(!i.errored)return i.errored=!0,r(e)}else++o>=a.length&&r(null)}"function"==typeof e&&(n=e,e=!1),++mt.syncFSRequests>1&&console.log("warning: "+mt.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var a=mt.getMounts(mt.root.mount),o=0;a.forEach(function(t){if(!t.type.syncfs)return i(null);t.type.syncfs(t,e,i)})},mount:function(e,t,n){var r,i="/"===n,a=!n;if(i&&mt.root)throw new mt.ErrnoError(At.EBUSY);if(!i&&!a){var o=mt.lookupPath(n,{follow_mount:!1});if(n=o.path,r=o.node,mt.isMountpoint(r))throw new mt.ErrnoError(At.EBUSY);if(!mt.isDir(r.mode))throw new mt.ErrnoError(At.ENOTDIR)}var s={type:e,opts:t,mountpoint:n,mounts:[]},l=e.mount(s);return l.mount=s,s.root=l,i?mt.root=l:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),l},unmount:function(e){var n=mt.lookupPath(e,{follow_mount:!1});if(!mt.isMountpoint(n.node))throw new mt.ErrnoError(At.EINVAL);var r=n.node,i=r.mounted,a=mt.getMounts(i);Object.keys(mt.nameTable).forEach(function(e){for(var t=mt.nameTable[e];t;){var n=t.name_next;-1!==a.indexOf(t.mount)&&mt.destroyNode(t),t=n}}),r.mounted=null;var o=r.mount.mounts.indexOf(i);t(-1!==o),r.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=mt.lookupPath(e,{parent:!0}),i=r.node,a=ct.basename(e);if(!a||"."===a||".."===a)throw new mt.ErrnoError(At.EINVAL);var o=mt.mayCreate(i,a);if(o)throw new mt.ErrnoError(o);if(!i.node_ops.mknod)throw new mt.ErrnoError(At.EPERM);return i.node_ops.mknod(i,a,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,mt.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,mt.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{mt.mkdir(r,t)}catch(e){if(e.errno!=At.EEXIST)throw e}}},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,mt.mknod(e,t,n)},symlink:function(e,t){if(!ct.resolve(e))throw new mt.ErrnoError(At.ENOENT);var n=mt.lookupPath(t,{parent:!0}),r=n.node;if(!r)throw new mt.ErrnoError(At.ENOENT);var i=ct.basename(t),a=mt.mayCreate(r,i);if(a)throw new mt.ErrnoError(a);if(!r.node_ops.symlink)throw new mt.ErrnoError(At.EPERM);return r.node_ops.symlink(r,i,e)},rename:function(e,t){var n,r,i,a=ct.dirname(e),o=ct.dirname(t),s=ct.basename(e),l=ct.basename(t);try{n=mt.lookupPath(e,{parent:!0}),r=n.node,n=mt.lookupPath(t,{parent:!0}),i=n.node}catch(e){throw new mt.ErrnoError(At.EBUSY)}if(!r||!i)throw new mt.ErrnoError(At.ENOENT);if(r.mount!==i.mount)throw new mt.ErrnoError(At.EXDEV);var A=mt.lookupNode(r,s),d=ct.relative(e,o);if("."!==d.charAt(0))throw new mt.ErrnoError(At.EINVAL);if(d=ct.relative(t,a),"."!==d.charAt(0))throw new mt.ErrnoError(At.ENOTEMPTY);var c;try{c=mt.lookupNode(i,l)}catch(e){}if(A!==c){var u=mt.isDir(A.mode),g=mt.mayDelete(r,s,u);if(g)throw new mt.ErrnoError(g);if(g=c?mt.mayDelete(i,l,u):mt.mayCreate(i,l))throw new mt.ErrnoError(g);if(!r.node_ops.rename)throw new mt.ErrnoError(At.EPERM);if(mt.isMountpoint(A)||c&&mt.isMountpoint(c))throw new mt.ErrnoError(At.EBUSY);if(i!==r&&(g=mt.nodePermissions(r,"w")))throw new mt.ErrnoError(g);try{mt.trackingDelegate.willMovePath&&mt.trackingDelegate.willMovePath(e,t)}catch(n){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}mt.hashRemoveNode(A);try{r.node_ops.rename(A,i,l)}catch(e){throw e}finally{mt.hashAddNode(A)}try{mt.trackingDelegate.onMovePath&&mt.trackingDelegate.onMovePath(e,t)}catch(n){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}}},rmdir:function(e){var t=mt.lookupPath(e,{parent:!0}),n=t.node,r=ct.basename(e),i=mt.lookupNode(n,r),a=mt.mayDelete(n,r,!0);if(a)throw new mt.ErrnoError(a);if(!n.node_ops.rmdir)throw new mt.ErrnoError(At.EPERM);if(mt.isMountpoint(i))throw new mt.ErrnoError(At.EBUSY);try{mt.trackingDelegate.willDeletePath&&mt.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}n.node_ops.rmdir(n,r),mt.destroyNode(i);try{mt.trackingDelegate.onDeletePath&&mt.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=mt.lookupPath(e,{follow:!0}),n=t.node;if(!n.node_ops.readdir)throw new mt.ErrnoError(At.ENOTDIR);return n.node_ops.readdir(n)},unlink:function(e){var t=mt.lookupPath(e,{parent:!0}),n=t.node,r=ct.basename(e),i=mt.lookupNode(n,r),a=mt.mayDelete(n,r,!1);if(a)throw new mt.ErrnoError(a);if(!n.node_ops.unlink)throw new mt.ErrnoError(At.EPERM);if(mt.isMountpoint(i))throw new mt.ErrnoError(At.EBUSY);try{mt.trackingDelegate.willDeletePath&&mt.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}n.node_ops.unlink(n,r),mt.destroyNode(i);try{mt.trackingDelegate.onDeletePath&&mt.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=mt.lookupPath(e),n=t.node;if(!n)throw new mt.ErrnoError(At.ENOENT);if(!n.node_ops.readlink)throw new mt.ErrnoError(At.EINVAL);return ct.resolve(mt.getPath(n.parent),n.node_ops.readlink(n))},stat:function(e,t){var n=mt.lookupPath(e,{follow:!t}),r=n.node;if(!r)throw new mt.ErrnoError(At.ENOENT);if(!r.node_ops.getattr)throw new mt.ErrnoError(At.EPERM);return r.node_ops.getattr(r)},lstat:function(e){return mt.stat(e,!0)},chmod:function(e,t,n){var r;if("string"==typeof e){r=mt.lookupPath(e,{follow:!n}).node}else r=e;if(!r.node_ops.setattr)throw new mt.ErrnoError(At.EPERM);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){mt.chmod(e,t,!0)},fchmod:function(e,t){var n=mt.getStream(e);if(!n)throw new mt.ErrnoError(At.EBADF);mt.chmod(n.node,t)},chown:function(e,t,n,r){var i;if("string"==typeof e){i=mt.lookupPath(e,{follow:!r}).node}else i=e;if(!i.node_ops.setattr)throw new mt.ErrnoError(At.EPERM);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){mt.chown(e,t,n,!0)},fchown:function(e,t,n){var r=mt.getStream(e);if(!r)throw new mt.ErrnoError(At.EBADF);mt.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new mt.ErrnoError(At.EINVAL);var n;if("string"==typeof e){n=mt.lookupPath(e,{follow:!0}).node}else n=e;if(!n.node_ops.setattr)throw new mt.ErrnoError(At.EPERM);if(mt.isDir(n.mode))throw new mt.ErrnoError(At.EISDIR);if(!mt.isFile(n.mode))throw new mt.ErrnoError(At.EINVAL);var r=mt.nodePermissions(n,"w");if(r)throw new mt.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=mt.getStream(e);if(!n)throw new mt.ErrnoError(At.EBADF);if(0==(2097155&n.flags))throw new mt.ErrnoError(At.EINVAL);mt.truncate(n.node,t)},utime:function(e,t,n){var r=mt.lookupPath(e,{follow:!0}),i=r.node;i.node_ops.setattr(i,{timestamp:Math.max(t,n)})},open:function(e,t,n,r,i){if(""===e)throw new mt.ErrnoError(At.ENOENT);t="string"==typeof t?mt.modeStringToFlags(t):t,n=void 0===n?438:n,n=64&t?4095&n|32768:0;var a;if("object"==typeof e)a=e;else{e=ct.normalize(e);try{a=mt.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var o=!1;if(64&t)if(a){if(128&t)throw new mt.ErrnoError(At.EEXIST)}else a=mt.mknod(e,n,0),o=!0;if(!a)throw new mt.ErrnoError(At.ENOENT);if(mt.isChrdev(a.mode)&&(t&=-513),65536&t&&!mt.isDir(a.mode))throw new mt.ErrnoError(At.ENOTDIR);if(!o){var s=mt.mayOpen(a,t);if(s)throw new mt.ErrnoError(s)}512&t&&mt.truncate(a,0),t&=-641;var l=mt.createStream({node:a,path:mt.getPath(a),flags:t,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},r,i);l.stream_ops.open&&l.stream_ops.open(l),!Module.logReadFiles||1&t||(mt.readFiles||(mt.readFiles={}),e in mt.readFiles||(mt.readFiles[e]=1,s("read file: "+e)));try{if(mt.trackingDelegate.onOpenFile){var A=0;1!=(2097155&t)&&(A|=mt.tracking.openFlags.READ),0!=(2097155&t)&&(A|=mt.tracking.openFlags.WRITE),mt.trackingDelegate.onOpenFile(e,A)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return l},close:function(e){if(mt.isClosed(e))throw new mt.ErrnoError(At.EBADF);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{mt.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(mt.isClosed(e))throw new mt.ErrnoError(At.EBADF);if(!e.seekable||!e.stream_ops.llseek)throw new mt.ErrnoError(At.ESPIPE);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new mt.ErrnoError(At.EINVAL);if(mt.isClosed(e))throw new mt.ErrnoError(At.EBADF);if(1==(2097155&e.flags))throw new mt.ErrnoError(At.EBADF);if(mt.isDir(e.node.mode))throw new mt.ErrnoError(At.EISDIR);if(!e.stream_ops.read)throw new mt.ErrnoError(At.EINVAL);var a=void 0!==i;if(a){if(!e.seekable)throw new mt.ErrnoError(At.ESPIPE)}else i=e.position;var o=e.stream_ops.read(e,t,n,r,i);return a||(e.position+=o),o},write:function(e,t,n,r,i,a){if(r<0||i<0)throw new mt.ErrnoError(At.EINVAL);if(mt.isClosed(e))throw new mt.ErrnoError(At.EBADF);if(0==(2097155&e.flags))throw new mt.ErrnoError(At.EBADF);if(mt.isDir(e.node.mode))throw new mt.ErrnoError(At.EISDIR);if(!e.stream_ops.write)throw new mt.ErrnoError(At.EINVAL);1024&e.flags&&mt.llseek(e,0,2);var o=void 0!==i;if(o){if(!e.seekable)throw new mt.ErrnoError(At.ESPIPE)}else i=e.position;var s=e.stream_ops.write(e,t,n,r,i,a);o||(e.position+=s);try{e.path&&mt.trackingDelegate.onWriteToFile&&mt.trackingDelegate.onWriteToFile(e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return s},allocate:function(e,t,n){if(mt.isClosed(e))throw new mt.ErrnoError(At.EBADF);if(t<0||n<=0)throw new mt.ErrnoError(At.EINVAL);if(0==(2097155&e.flags))throw new mt.ErrnoError(At.EBADF);if(!mt.isFile(e.node.mode)&&!mt.isDir(e.node.mode))throw new mt.ErrnoError(At.ENODEV);if(!e.stream_ops.allocate)throw new mt.ErrnoError(At.EOPNOTSUPP);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i,a,o){if(1==(2097155&e.flags))throw new mt.ErrnoError(At.EACCES);if(!e.stream_ops.mmap)throw new mt.ErrnoError(At.ENODEV);return e.stream_ops.mmap(e,t,n,r,i,a,o)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new mt.ErrnoError(At.ENOTTY);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if(t=t||{},t.flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=mt.open(e,t.flags),i=mt.stat(e),a=i.size,s=new Uint8Array(a);return mt.read(r,s,0,a,0),"utf8"===t.encoding?n=o(s,0):"binary"===t.encoding&&(n=s),mt.close(r),n},writeFile:function(e,t,n){n=n||{},n.flags=n.flags||"w";var r=mt.open(e,n.flags,n.mode);if("string"==typeof t){var i=new Uint8Array(d(t)+1),a=l(t,i,0,i.length);mt.write(r,i,0,a,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");mt.write(r,t,0,t.byteLength,void 0,n.canOwn)}mt.close(r)},cwd:function(){return mt.currentPath},chdir:function(e){var t=mt.lookupPath(e,{follow:!0});if(null===t.node)throw new mt.ErrnoError(At.ENOENT);if(!mt.isDir(t.node.mode))throw new mt.ErrnoError(At.ENOTDIR);var n=mt.nodePermissions(t.node,"x");if(n)throw new mt.ErrnoError(n);mt.currentPath=t.path},createDefaultDirectories:function(){mt.mkdir("/tmp"),mt.mkdir("/home"),mt.mkdir("/home/web_user")},createDefaultDevices:function(){mt.mkdir("/dev"),mt.registerDevice(mt.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),mt.mkdev("/dev/null",mt.makedev(1,3)),ut.register(mt.makedev(5,0),ut.default_tty_ops),ut.register(mt.makedev(6,0),ut.default_tty1_ops),mt.mkdev("/dev/tty",mt.makedev(5,0)),mt.mkdev("/dev/tty1",mt.makedev(6,0));var e;if("undefined"!=typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else e=fe?function(){return no_req("crypto").randomBytes(1)[0]}:function(){return 256*Math.random()|0};mt.createDevice("/dev","random",e),mt.createDevice("/dev","urandom",e),mt.mkdir("/dev/shm"),mt.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){mt.mkdir("/proc"),mt.mkdir("/proc/self"),mt.mkdir("/proc/self/fd"),mt.mount({mount:function(){var e=mt.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var n=+t,r=mt.getStream(n);if(!r)throw new mt.ErrnoError(At.EBADF);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?mt.createDevice("/dev","stdin",Module.stdin):mt.symlink("/dev/tty","/dev/stdin"),Module.stdout?mt.createDevice("/dev","stdout",null,Module.stdout):mt.symlink("/dev/tty","/dev/stdout"),Module.stderr?mt.createDevice("/dev","stderr",null,Module.stderr):mt.symlink("/dev/tty1","/dev/stderr");var e=mt.open("/dev/stdin","r");t(0===e.fd,"invalid handle for stdin ("+e.fd+")");var n=mt.open("/dev/stdout","w");t(1===n.fd,"invalid handle for stdout ("+n.fd+")");var r=mt.open("/dev/stderr","w");t(2===r.fd,"invalid handle for stderr ("+r.fd+")")},ensureErrnoError:function(){mt.ErrnoError||(mt.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e;for(var t in At)if(At[t]===e){this.code=t;break}},this.setErrno(e),this.message=dt[e],this.stack&&Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0})},mt.ErrnoError.prototype=new Error,mt.ErrnoError.prototype.constructor=mt.ErrnoError,[At.ENOENT].forEach(function(e){mt.genericErrors[e]=new mt.ErrnoError(e),mt.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){mt.ensureErrnoError(),mt.nameTable=new Array(4096),mt.mount(gt,{},"/"),mt.createDefaultDirectories(),mt.createDefaultDevices(),mt.createSpecialDirectories(),mt.filesystems={MEMFS:gt,IDBFS:ft,NODEFS:pt,WORKERFS:ht}},init:function(e,n,r){t(!mt.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),mt.init.initialized=!0,mt.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=n||Module.stdout,Module.stderr=r||Module.stderr,mt.createStandardStreams()},quit:function(){mt.init.initialized=!1;var e=Module._fflush;e&&e(0);for(var t=0;t<mt.streams.length;t++){var n=mt.streams[t];n&&mt.close(n)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},joinPath:function(e,t){var n=ct.join.apply(null,e);return t&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,t){return ct.resolve(t,e)},standardizePath:function(e){return ct.normalize(e)},findObject:function(e,t){var n=mt.analyzePath(e,t);return n.exists?n.object:(L(n.error),null)},analyzePath:function(e,t){try{var n=mt.lookupPath(e,{follow:!t});e=n.path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=mt.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=ct.basename(e),n=mt.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createFolder:function(e,t,n,r){var i=ct.join2("string"==typeof e?e:mt.getPath(e),t),a=mt.getMode(n,r);return mt.mkdir(i,a)},createPath:function(e,t,n,r){e="string"==typeof e?e:mt.getPath(e);for(var i=t.split("/").reverse();i.length;){var a=i.pop();if(a){var o=ct.join2(e,a);try{mt.mkdir(o)}catch(e){}e=o}}return o},createFile:function(e,t,n,r,i){var a=ct.join2("string"==typeof e?e:mt.getPath(e),t),o=mt.getMode(r,i);return mt.create(a,o)},createDataFile:function(e,t,n,r,i,a){var o=t?ct.join2("string"==typeof e?e:mt.getPath(e),t):e,s=mt.getMode(r,i),l=mt.create(o,s);if(n){if("string"==typeof n){for(var A=new Array(n.length),d=0,c=n.length;d<c;++d)A[d]=n.charCodeAt(d);n=A}mt.chmod(l,146|s);var u=mt.open(l,"w");mt.write(u,n,0,n.length,0,a),mt.close(u),mt.chmod(l,s)}return l},createDevice:function(e,t,n,r){var i=ct.join2("string"==typeof e?e:mt.getPath(e),t),a=mt.getMode(!!n,!!r);mt.createDevice.major||(mt.createDevice.major=64);var o=mt.makedev(mt.createDevice.major++,0);return mt.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,a){for(var o=0,s=0;s<i;s++){var l;try{l=n()}catch(e){throw new mt.ErrnoError(At.EIO)}if(void 0===l&&0===o)throw new mt.ErrnoError(At.EAGAIN);if(null===l||void 0===l)break;o++,t[r+s]=l}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,i,a){for(var o=0;o<i;o++)try{r(t[n+o])}catch(e){throw new mt.ErrnoError(At.EIO)}return i&&(e.node.timestamp=Date.now()),o}}),mt.mkdev(i,a,o)},createLink:function(e,t,n,r,i){var a=ct.join2("string"==typeof e?e:mt.getPath(e),t);return mt.symlink(n,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=W(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||L(At.EIO),t},createLazyFile:function(e,n,r,i,a){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;i||(o=n);var s=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",r,!1),n!==o&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+r+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):W(i.responseText||"",!0)},l=this;l.setDataGetter(function(e){var t=e*o,r=(e+1)*o-1;if(r=Math.min(r,n-1),void 0===l.chunks[e]&&(l.chunks[e]=s(t,r)),void 0===l.chunks[e])throw new Error("doXHR failed!");return l.chunks[e]}),!a&&n||(o=n=1,n=this.getter(0).length,o=n,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ge)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new o;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var l={isDevice:!1,contents:s}}else var l={isDevice:!1,url:r};var A=mt.createFile(e,n,l,i,a);l.contents?A.contents=l.contents:l.url&&(A.contents=null,A.url=l.url),Object.defineProperties(A,{usedBytes:{get:function(){return this.contents.length}}});var d={};return Object.keys(A.stream_ops).forEach(function(e){var t=A.stream_ops[e];d[e]=function(){if(!mt.forceLoadFile(A))throw new mt.ErrnoError(At.EIO);return t.apply(null,arguments)}}),d.read=function(e,n,r,i,a){if(!mt.forceLoadFile(A))throw new mt.ErrnoError(At.EIO);var o=e.node.contents;if(a>=o.length)return 0;var s=Math.min(o.length-a,i);if(t(s>=0),o.slice)for(var l=0;l<s;l++)n[r+l]=o[a+l];else for(var l=0;l<s;l++)n[r+l]=o.get(a+l);return s},A.stream_ops=d,A},createPreloadedFile:function(e,t,n,r,i,a,o,s,l,A){function d(n){function d(n){A&&A(),s||mt.createDataFile(e,t,n,r,i,l),a&&a(),_(u)}var g=!1;Module.preloadPlugins.forEach(function(e){g||e.canHandle(c)&&(e.handle(n,c,d,function(){o&&o(),_(u)}),g=!0)}),g||d(n)}Browser.init();var c=t?ct.resolve(ct.join2(e,t)):e,u=k("cp "+c);R(u),"string"==typeof n?Browser.asyncLoad(n,function(e){d(e)},o):d(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=mt.indexedDB();try{var i=r.open(mt.DB_NAME(),mt.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=function(){console.log("creating db"),i.result.createObjectStore(mt.DB_STORE_NAME)},i.onsuccess=function(){function r(){0==A?t():n()}var a=i.result,o=a.transaction([mt.DB_STORE_NAME],"readwrite"),s=o.objectStore(mt.DB_STORE_NAME),l=0,A=0,d=e.length;e.forEach(function(e){var t=s.put(mt.analyzePath(e).object.contents,e);t.onsuccess=function(){++l+A==d&&r()},t.onerror=function(){A++,l+A==d&&r()}}),o.onerror=n},i.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=mt.indexedDB();try{var i=r.open(mt.DB_NAME(),mt.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=n,i.onsuccess=function(){function r(){0==A?t():n()}var a=i.result;try{var o=a.transaction([mt.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var s=o.objectStore(mt.DB_STORE_NAME),l=0,A=0,d=e.length;e.forEach(function(e){var t=s.get(e);t.onsuccess=function(){mt.analyzePath(e).exists&&mt.unlink(e),mt.createDataFile(ct.dirname(e),ct.basename(e),t.result,!0,!0,!0),++l+A==d&&r()},t.onerror=function(){A++,l+A==d&&r()}}),o.onerror=n},i.onerror=n}},Et={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var n;if(-100===e)n=mt.cwd();else{var r=mt.getStream(e);if(!r)throw new mt.ErrnoError(At.EBADF);n=r.path}t=ct.join2(n,t)}return t},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&ct.normalize(t)!==ct.normalize(mt.getPath(e.node)))return-At.ENOTDIR;throw e}return Se[n>>2]=r.dev,Se[n+4>>2]=0,Se[n+8>>2]=r.ino,Se[n+12>>2]=r.mode,Se[n+16>>2]=r.nlink,Se[n+20>>2]=r.uid,Se[n+24>>2]=r.gid,Se[n+28>>2]=r.rdev,Se[n+32>>2]=0,Se[n+36>>2]=r.size,Se[n+40>>2]=4096,Se[n+44>>2]=r.blocks,Se[n+48>>2]=r.atime.getTime()/1e3|0,Se[n+52>>2]=0,Se[n+56>>2]=r.mtime.getTime()/1e3|0,Se[n+60>>2]=0,Se[n+64>>2]=r.ctime.getTime()/1e3|0,Se[n+68>>2]=0,Se[n+72>>2]=r.ino,0},doMsync:function(e,t,n,r){var i=new Uint8Array(be.subarray(e,e+n));mt.msync(t,i,0,n,r)},doMkdir:function(e,t){return e=ct.normalize(e),"/"===e[e.length-1]&&(e=e.substr(0,e.length-1)),mt.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-At.EINVAL}return mt.mknod(e,t,n),0},doReadlink:function(e,t,n){if(n<=0)return-At.EINVAL;var r=mt.readlink(e),i=Math.min(n,d(r)),a=Ce[t+i];return A(r,t,n+1),Ce[t+i]=a,i},doAccess:function(e,t){if(-8&t)return-At.EINVAL;var n;n=mt.lookupPath(e,{follow:!0}).node;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&mt.nodePermissions(n,r)?-At.EACCES:0},doDup:function(e,t,n){var r=mt.getStream(n);return r&&mt.close(r),mt.open(e,t,0,n,n).fd},doReadv:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=Se[t+8*a>>2],s=Se[t+(8*a+4)>>2],l=mt.read(e,Ce,o,s,r);if(l<0)return-1;if(i+=l,l<s)break}return i},doWritev:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=Se[t+8*a>>2],s=Se[t+(8*a+4)>>2],l=mt.write(e,Ce,o,s,r);if(l<0)return-1;i+=l}return i},varargs:0,get:function(e){return Et.varargs+=4,Se[Et.varargs-4>>2]},getStr:function(){return a(Et.get())},getStreamFromFD:function(){var e=mt.getStream(Et.get());if(!e)throw new mt.ErrnoError(At.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(Et.get());if(!e)throw new mt.ErrnoError(At.EBADF);return e},getSocketAddress:function(e){var t=Et.get(),n=Et.get();if(e&&0===t)return null;var r=__read_sockaddr(t,n);if(r.errno)throw new mt.ErrnoError(r.errno);return r.addr=DNS.lookup_addr(r.addr)||r.addr,r},get64:function(){var e=Et.get(),n=Et.get();return t(e>=0?0===n:-1===n),e},getZero:function(){t(0===Et.get())}},It=nt;if(mt.staticInit(),ze.unshift(function(){Module.noFSInit||mt.init.initialized||mt.init()}),Ze.push(function(){mt.ignorePermissions=!1}),Xe.push(function(){mt.quit()}),ze.unshift(function(){ut.init()}),Xe.push(function(){ut.shutdown()}),fe){var yt=no_req("fs"),vt=no_req("path");pt.staticInit()}Oe=function(e){var t=Re;return Re=Re+e+15&-16,t}(4),_e=Me=e(Re),Ne=_e+Je,Le=e(Ne),Se[Oe>>2]=Le;var Ct=!1,bt="function"==typeof atob?atob:function(e){var t,n,r,i,a,o,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",A="",d=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{i=l.indexOf(e.charAt(d++)),a=l.indexOf(e.charAt(d++)),o=l.indexOf(e.charAt(d++)),s=l.indexOf(e.charAt(d++)),t=i<<2|a>>4,n=(15&a)<<4|o>>2,r=(3&o)<<6|s,A+=String.fromCharCode(t),64!==o&&(A+=String.fromCharCode(n)),64!==s&&(A+=String.fromCharCode(r))}while(d<e.length);return A};Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,byteLength:Ke},Module.asmLibraryArg={abort:Ae,assert:t,enlargeMemory:I,getTotalMemory:y,abortOnCannotGrowMemory:E,invoke_ii:$,invoke_iii:ee,invoke_iiii:te,invoke_viddi:ne,invoke_viiii:re,___lock:N,___setErrNo:L,___syscall10:O,___syscall140:P,___syscall145:F,___syscall146:U,___syscall221:x,___syscall40:G,___syscall5:V,___syscall54:H,___syscall6:j,___unlock:Y,__exit:K,_emscripten_memcpy_big:q,_exit:J,_llvm_fabs_f64:It,DYNAMICTOP_PTR:Oe,tempDoublePtr:lt,STACKTOP:Me,STACK_MAX:Ne};var Bt=function(e,t,n){"almost asm";function r(e){return!(16777215&bn(e)||bn(e)<=16777215||bn(e)>2147483648)&&(ln=new sn(e),dn=new An(e),un=new cn(e),fn=new gn(e),hn=new pn(e),En=new mn(e),yn=new In(e),Cn=new vn(e),n=e,!0)}function i(e){e|=0;var t=0;return t=Sn,Sn=Sn+e|0,Sn=Sn+15&-16,0|t}function a(){return 0|Sn}function o(e){e|=0,Sn=e}function s(e,t){e|=0,t|=0,Sn=e,Qn=t}function l(e,t){e|=0,t|=0,Tn||(Tn=e,Dn=t)}function A(e){e|=0,kn=e}function d(){return 0|kn}function c(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0;if(r=Sn,Sn=Sn+16|0,i=r,(0|e)>2)return void(Sn=r);un[i>>2]=n,we(0|un[696],t,i),Sn=r}function u(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,Q=0,T=0,D=0;if(i=Sn,Sn=Sn+32|0,a=i,(0|r)<9)return o=0,Sn=i,0|o;if(0|ln[n>>0])return o=0,Sn=i,0|o;if(0|ln[n+1>>0])return o=0,Sn=i,0|o;if(1!=(0|ln[n+2>>0]))return o=0,Sn=i,0|o;if(s=0|ln[n+3>>0],l=n+9|0,A=n+r|0,(d=l+(0|fn[n+8>>0])|0)>>>0>A>>>0)return o=0,Sn=i,0|o;c=0|fn[n+7>>0];do{if(128&c){if((0|r)<14)return o=0,Sn=i,0|o;if(u=0|Gt((0|fn[l>>0])>>>1&7|0,0,30),g=kn,f=0|Gt(0|fn[n+10>>0],0,22),p=kn,h=0|Gt((0|fn[n+11>>0])>>>1&255|0,0,15),m=kn,E=0|Gt(0|fn[n+12>>0],0,7),I=n+14|0,
y=(+((u|f|h|E|(0|fn[n+13>>0])>>>1&255)>>>0)+4294967296*+(g|p|m|kn|0))/9e4,192==(192&c|0)){if((0|r)<19)return o=0,Sn=i,0|o;m=0|Gt((0|fn[I>>0])>>>1&7|0,0,30),p=kn,g=0|Gt(0|fn[n+15>>0],0,22),E=kn,h=0|Gt((0|fn[n+16>>0])>>>1&255|0,0,15),f=kn,u=0|Gt(0|fn[n+17>>0],0,7),v=y,C=n+19|0,b=(+((m|g|h|u|(0|fn[n+18>>0])>>>1&255)>>>0)+4294967296*+(p|E|f|kn|0))/9e4;break}v=y,C=I,b=y}else v=-1,C=l,b=-1}while(0);if(32&c){if((l=C+6|0)>>>0>A>>>0)return o=0,Sn=i,0|o;B=l}else B=C;if(16&c){if((C=B+3|0)>>>0>A>>>0)return o=0,Sn=i,0|o;w=C}else w=B;if(8&c){if((B=w+1|0)>>>0>A>>>0)return o=0,Sn=i,0|o;S=B}else S=w;if(4&c){if((w=S+1|0)>>>0>A>>>0)return o=0,Sn=i,0|o;Q=w}else Q=S;if(2&c){if((S=Q+2|0)>>>0>A>>>0)return o=0,Sn=i,0|o;T=S}else T=Q;if(0!=(1&c|0)&(T+2|0)>>>0>A>>>0)return o=0,Sn=i,0|o;if(!(T=0|un[e+4904>>2]))return o=1,Sn=i,0|o;Cn[a>>3]=v,Cn[a+8>>3]=b,un[a+20>>2]=t,c=0|un[e+204>>2];e:do{if((0|c)>0){for(Q=0;;){if((0|hn[e+208+(194*Q|0)+2>>1])==(0|t))break;if(!((0|(S=Q+1|0))<(0|c))){D=0;break e}Q=S}D=0|fn[e+208+(194*Q|0)>>0]}else D=0}while(0);return un[a+24>>2]=D,un[a+16>>2]=255&s,ir[1&T](0|un[e+4908>>2],a,d,A-d|0),o=1,Sn=i,0|o}function g(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0;if(n=Sn,Sn=Sn+1952|0,r=n+1760|0,i=n,a=0|fn[t+1>>0],o=0!=(64&a|0),s=a<<8&7936|0|fn[t+2>>0],a=0|fn[t+3>>0],un[1832]=1+(0|un[1832]),l=t+4|0,32&a){if(((A=t+5+(0|fn[l>>0])|0)-t|0)>187)return void(Sn=n);d=A}else d=l;if(!(16&a))return void(Sn=n);if(!s){if(a=o?d+1|0:d,l=a,(t+188-l|0)<12)return void(Sn=n);A=(15&ln[a+1>>0])<<8|0|fn[a+2>>0],c=A+-1|0;e:do{if(A>>>0>9){for(u=a+8|0;;){if((0|fn[u>>0])<<8|0|fn[u+1>>0]|0)break;if(!(((g=u+4|0)-l|0)<(0|c))){f=0;break e}u=g}f=65535&((31&ln[u+2>>0])<<8|0|fn[u+3>>0])}else f=0}while(0);return dn[e+1764>>1]=f,void(Sn=n)}if(!((f=0|dn[e+1764>>1])<<16>>16!=0&(0|s)==(65535&f|0)))return void(Sn=n);f=o?d+1|0:d,d=f,o=t+188-d|0,qt(0|i,0,1760);e:do{if((0|o)>=12?(ln[i>>0]=0|ln[f>>0],t=(15&ln[f+1>>0])<<8|0|fn[f+2>>0],dn[i+2>>1]=t,dn[i+4>>1]=(0|fn[f+3>>0])<<8|0|fn[f+4>>0],s=f+5|0,ln[i+7>>0]=(0|fn[s>>0])>>>1&31,ln[i+6>>0]=1&ln[s>>0],ln[i+8>>0]=0|ln[f+6>>0],ln[i+9>>0]=0|ln[f+7>>0],dn[i+10>>1]=(31&ln[f+8>>0])<<8|0|fn[f+9>>0],s=(15&ln[f+10>>0])<<8|0|fn[f+11>>0],dn[i+12>>1]=s,c=f+12|0,(s+12|0)<=(0|o)):0){Kt(i+14|0,0|c,0|s),l=c+s|0,s=l-d|0,c=t+-1|0;t:do{if((0|s)<(0|c)){for(t=i+204|0,a=l,A=s;;){if(qt(0|r,0,188),(A+5|0)>(0|o))break;if(g=0|ln[a>>0],p=65535&((31&ln[a+1>>0])<<8|0|fn[a+2>>0]),h=(15&ln[a+3>>0])<<8|0|fn[a+4>>0],m=65535&h,E=a+5|0,m<<16>>16){if((E-d+h|0)>(0|o))break;Kt(0|r,0|E,0|h),I=E+h|0}else I=E;if(h=0|un[t>>2],(0|h)<8&&(E=i+208+(194*h|0)|0,ln[E>>0]=g,ln[E+1>>0]=0,dn[i+208+(194*h|0)+2>>1]=p,dn[i+208+(194*h|0)+4>>1]=m,Kt(i+208+(194*h|0)+6|0,0|r,188),un[t>>2]=h+1),(0|(A=I-d|0))>=(0|c))break t;a=I}break e}}while(0);Kt(0|e,0|i,1760),un[e+1760>>2]=1}}while(0);Sn=n}function f(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,Q=0,T=0,D=0;n=Sn,Sn=Sn+16|0,r=n,0|un[e+1760>>2]||g(e,t),i=t+1|0,a=0|ln[i>>0],o=255&a,s=64&o,l=o<<8&7936|fn[t+2>>0],o=0|ln[t+3>>0],A=255&o,d=15&A,f=255&d,p=0|un[e+4984>>2];e:do{if(0|p){if((0|p)<=0)return void(Sn=n);h=0;do{if((0|un[e+4920+(h<<2)>>2])==(0|l))break e;h=h+1|0}while((0|h)<(0|p));return void(Sn=n)}}while(0);p=e+4332|0,h=0|un[p>>2];e:do{if((0|h)>0){m=0;do{if(E=0|dn[e+1772+(20*m|0)+16>>1],(0|l)==(E<<16>>16|0)){I=m,y=a,v=E;break e}m=m+1|0}while((0|m)<(0|h));if((0|h)>=127)return void(Sn=n);C=13}else C=13}while(0);if(13==(0|C)&&(un[r>>2]=l,c(3,3540,r),r=0|un[p>>2],un[e+1772+(20*r|0)+12>>2]=0,un[p>>2]=r+1,p=65535&l,dn[e+1772+(20*r|0)+16>>1]=p,I=r,y=0|ln[i>>0],v=p),p=e+1772+(20*I|0)|0,i=e+1772+(20*I|0)+18|0,r=0|ln[i>>0],l=e+1772+(20*I|0)+12|0,(y<<24>>24>-1?(0|d)==(255&(0==(16&A|0)?r:r+1&15)|0):0)?b=0==(0|un[l>>2]):(un[l>>2]=0,b=1),ln[i>>0]=f,s)b?B=e+1772+(20*I|0)+4|0:(b=e+1772+(20*I|0)+4|0,u(e,v<<16>>16,0|un[p>>2],0|un[b>>2]),B=b),un[B>>2]=0,un[l>>2]=1;else if(b)return void(Sn=n);B=t+4|0;do{if(32&A){if((255&(b=0|ln[B>>0]))<=183){v=t+5+(255&b)|0,w=t+188-v|0,S=v;break}return un[l>>2]=0,void(Sn=n)}w=184,S=B}while(0);switch((255&o)>>>4&3){case 3:case 1:break;default:return void(Sn=n)}o=e+1772+(20*I|0)+8|0,t=e+1772+(20*I|0)+4|0,B=0|un[t>>2],A=B+w|0;do{if((0|un[o>>2])<(0|A)){if(un[o>>2]=A,v=0|X(0|un[p>>2],A),un[p>>2]=v,0|v){Q=p,T=v,D=0|un[t>>2];break}return un[t>>2]=0,un[o>>2]=0,un[l>>2]=0,void(Sn=n)}Q=p,T=0|un[p>>2],D=B}while(0);return Kt(T+D|0,0|S,0|w),S=(0|un[t>>2])+w|0,un[t>>2]=S,w=0|un[Q>>2],(0|S)<9?void(Sn=n):0|ln[w>>0]?void(Sn=n):0|ln[w+1>>0]?void(Sn=n):1!=(0|ln[w+2>>0])?void(Sn=n):(13==(0|ln[w+3>>0])?(6+(fn[w+4>>0]<<8|fn[w+5>>0])|0)<=(0|S):0)?(0|un[l>>2]&&u(e,0|dn[e+1772+(20*I|0)+16>>1],w,S),un[t>>2]=0,void(Sn=n)):void(Sn=n)}function p(){return 0|Z(1,4992)}function h(e){e|=0;var t=0,n=0,r=0,i=0,a=0;if(t=e+4900|0,(0|un[t>>2])>187){n=0;do{f(e,(188*n|0)+(e+4336)|0),n=n+1|0}while((0|n)<(0|(0|un[t>>2])/188))}if(t=e+4332|0,(0|un[t>>2])<=0)return void z(e);n=0|un[696],r=0;do{i=e+1772+(20*r|0)|0,a=0|un[e+1772+(20*r|0)+4>>2];do{if(0|a){if(0|un[e+1772+(20*r|0)+12>>2]){u(e,0|dn[e+1772+(20*r|0)+16>>1],0|un[i>>2],a);break}Bt(3560,28,1,n);break}}while(0);z(0|un[i>>2]),r=r+1|0}while((0|r)<(0|un[t>>2]));z(e)}function m(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,p=0,h=0,m=0,E=0,I=0;for(r=e+4900|0,i=e+4336|0,a=e+4524|0,o=e+4712|0,s=0,l=0|un[r>>2];;){if(A=564-l|0,d=n-s|0,c=(0|A)>(0|d)?d:A,Kt(e+4336+l|0,t+s|0,0|c),A=c+(0|un[r>>2])|0,un[r>>2]=A,s=c+s|0,564==(0|A)){for(c=0;;){if(u=e+4336+c|0,(71==(0|ln[u>>0])?71==(0|ln[c+188+(e+4336)>>0]):0)?71==(0|ln[c+376+(e+4336)>>0]):0){g=14;break}if(!((p=c+1|0)>>>0<188)){g=8;break}c=p}8==(0|g)?(g=0,h=188,m=e+4336+p|0,g=9):14==(0|g)&&(g=0,c?(h=c,m=u,g=9):(f(e,i),f(e,a),f(e,o),E=0)),9==(0|g)&&(g=0,Jt(0|i,0|m,564-h|0),E=(0|un[r>>2])-h|0),un[r>>2]=E,I=E}else I=A;if((0|s)==(0|n))break;l=I}}function E(e,t,n){e|=0,t|=0,n|=0,un[e+4904>>2]=t,un[e+4908>>2]=n}function I(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,l=0,A=0;t=e+4900|0,n=0|un[t>>2];e:do{if(0|n){if(r=(0|n)/188|0,i=(0|n)>187){a=0;t:for(;;){for(o=0;;){if(71!=(0|ln[(188*o|0)+a+(e+4336)>>0]))break;if((0|(o=o+1|0))>=(0|r))break t}if(!((o=a+1|0)>>>0<188))break e;a=o}if(0|a)break;if(i){o=0;do{f(e,(188*o|0)+(e+4336)|0),o=o+1|0}while((0|o)!=(0|r))}}un[t>>2]=0}}while(0);if(t=e+4332|0,!((0|(n=0|un[t>>2]))<=0))for(r=0,o=n;;){if(n=0|dn[e+1772+(20*r|0)+16>>1],(((((n<<16>>16>0?(i=0|un[e+1772+(20*r|0)>>2],a=e+1772+(20*r|0)+4|0,(0|(s=0|un[a>>2]))>=9):0)?0==(0|ln[i>>0]):0)?0==(0|ln[i+1>>0]):0)?1==(0|ln[i+2>>0]):0)?(6+(fn[i+4>>0]<<8|fn[i+5>>0])|0)<=(0|s):0)?(0|un[e+1772+(20*r|0)+12>>2]?(u(e,n<<16>>16,i,s),l=0|un[t>>2]):l=o,un[a>>2]=0,A=l):A=o,(0|(r=r+1|0))>=(0|A))break;o=A}}function y(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0;if(!((0|t)<=0))for(n=e+4|0,r=e+12|0,i=e+8|0,e=0,a=8,o=8;;){if(a){for(s=0|un[i>>2],l=0,A=0|un[n>>2],d=0|un[r>>2];;){if(c=d+-1|0,un[r>>2]=c,u=A>>>0<s>>>0?(0|fn[A>>0])>>>c&1:0,c?(f=A,p=c):(g=A+1|0,un[n>>2]=g,un[r>>2]=8,f=g,p=8),!(l>>>0<32&0==(0|u)&f>>>0<s>>>0))break;l=l+1|0,A=f,d=p}if(l)for(d=l+-1|0,A=0,c=0,g=f,m=p;;){if(E=m+-1|0,un[r>>2]=E,I=g>>>0<s>>>0?(0|fn[g>>0])>>>E&1:0,E?(v=g,C=E):(y=g+1|0,un[n>>2]=y,un[r>>2]=8,v=y,C=8),E=I<<d-c|A,(0|(c=c+1|0))==(0|l)){h=E;break}A=E,g=v,m=C}else h=0;m=h+(1<<l)|0,g=m+-1|0,b=1&g?(0|m)/2|0:(0|g)/-2|0,m=(o+256+b|0)%256|0,m?(B=m,w=m):S=22}else S=22;if(22==(0|S)&&(S=0,B=0,w=o),(0|(e=e+1|0))==(0|t))break;a=B,o=w}}function v(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,v=0,b=0,B=0,w=0,S=0,Q=0,T=0,D=0,k=0,R=0,_=0,M=0,N=0,L=0,O=0,P=0,F=0,U=0,x=0,G=0,V=0,H=0,j=0,Y=0,K=0,J=0,q=0,Z=0,X=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,Ae=0,de=0,ce=0,ue=0,ge=0,fe=0,pe=0,he=0,me=0,Ee=0,Ie=0,ye=0,ve=0,Ce=0,be=0,Be=0,we=0,Se=0,Qe=0,Te=0,De=0,ke=0,Re=0,_e=0,Me=0,Ne=0,Le=0,Oe=0,Pe=0,Fe=0,Ue=0,xe=0,Ge=0,Ve=0,He=0,je=0,Ye=0,Ke=0,Je=0,qe=0,We=0,ze=0,Ze=0,Xe=0,$e=0,et=0,tt=0,nt=0,rt=0,it=0,at=0,ot=0,st=0,lt=0,At=0,dt=0,ct=0,ut=0,gt=0,ft=0,pt=0,ht=0,mt=0,Et=0,It=0,yt=0,vt=0,Ct=0,bt=0,Bt=0,wt=0,St=0,Qt=0,Tt=0,Dt=0,kt=0,Rt=0,_t=0,Mt=0,Nt=0,Lt=0,Ot=0,Pt=0,Ft=0,Ut=0,xt=0,Gt=0,Vt=0,Ht=0,jt=0,Yt=0,Kt=0,Jt=0,Wt=0,zt=0,Zt=0,Xt=0,$t=0,en=0,tn=0,nn=0,rn=0,an=0,on=0,sn=0,ln=0,An=0,dn=0,cn=0,gn=0,pn=0,hn=0,mn=0,En=0,In=0,yn=0,vn=0,Cn=0,bn=0,Bn=0,wn=0,Qn=0,Tn=0,Dn=0,kn=0,Rn=0,Mn=0,Nn=0,Ln=0,On=0,Pn=0,Fn=0,Un=0,xn=0,Gn=0,Vn=0,Hn=0,jn=0,Yn=0,Kn=0,Jn=0,qn=0,Wn=0,zn=0,Zn=0,Xn=0,$n=0,er=0,tr=0,nr=0,rr=0,ir=0,ar=0,or=0,sr=0,lr=0,Ar=0,dr=0,cr=0,ur=0,gr=0,fr=0,pr=0,hr=0,mr=0,Er=0,Ir=0,yr=0,vr=0,Cr=0,br=0,Br=0,wr=0,Sr=0,Qr=0,Tr=0,Dr=0,kr=0,Rr=0,_r=0,Mr=0,Nr=0,Lr=0,Or=0,Pr=0,Fr=0,Ur=0,xr=0,Gr=0,Vr=0,Hr=0,jr=0,Yr=0,Kr=0,Jr=0,qr=0,Wr=0,zr=0,Zr=0,Xr=0,$r=0,ei=0,ti=0,ni=0,ri=0,ii=0,ai=0,oi=0,si=0,li=0,Ai=0,di=0,ci=0,ui=0,gi=0,fi=0,pi=0,hi=0,mi=0,Ei=0,Ii=0,yi=0,vi=0,Ci=0,bi=0,Bi=0,wi=0,Si=0,Qi=0,Ti=0,Di=0,ki=0,Ri=0,_i=0,Mi=0;i=Sn,Sn=Sn+1808|0,a=i,o=0|W(16),un[o>>2]=e,s=o+4|0,un[s>>2]=e,l=o+8|0,un[l>>2]=e+t,t=o+12|0,un[t>>2]=8,qt(a+4|0,0,1800),e=a+40|0,un[e>>2]=1,A=0|C(o),un[a>>2]=A,d=(0|un[t>>2])-1|0,un[t>>2]=d,c=0|un[s>>2],u=0|un[l>>2],g=c>>>0<u>>>0?(0|fn[c>>0])>>>d&1:0,d?(p=c,h=d):(f=c+1|0,un[s>>2]=f,un[t>>2]=8,p=f,h=8),un[a+4>>2]=g,g=h+-1|0,un[t>>2]=g,m=p>>>0<u>>>0?(0|fn[p>>0])>>>g&1:0,g?(E=p,I=g):(h=p+1|0,un[s>>2]=h,un[t>>2]=8,E=h,I=8),un[a+8>>2]=m,m=I+-1|0,un[t>>2]=m,v=E>>>0<u>>>0?(0|fn[E>>0])>>>m&1:0,m?(b=E,B=m):(I=E+1|0,un[s>>2]=I,un[t>>2]=8,b=I,B=8),un[a+12>>2]=v,v=B+-1|0,un[t>>2]=v,w=b>>>0<u>>>0?(0|fn[b>>0])>>>v&1:0,v?(S=b,Q=v):(B=b+1|0,un[s>>2]=B,un[t>>2]=8,S=B,Q=8),un[a+16>>2]=w,w=Q+-1|0,un[t>>2]=w,T=S>>>0<u>>>0?(0|fn[S>>0])>>>w&1:0,w?(D=w,k=S):(Q=S+1|0,un[s>>2]=Q,un[t>>2]=8,D=8,k=Q),un[a+20>>2]=T,T=D+-1|0,un[t>>2]=T,R=k>>>0<u>>>0?(0|fn[k>>0])>>>T&1:0;do{if(T){if(un[a+24>>2]=R,1==(0|T)){un[s>>2]=k+1,_=7;break}u=D+-3|0,u?_=u:(un[s>>2]=k+1,_=8)}else un[s>>2]=k+1,un[t>>2]=8,un[a+24>>2]=R,_=6}while(0);for(un[t>>2]=_,_=0|C(o),un[a+32>>2]=_,_=0|un[l>>2],R=0,k=0|un[s>>2],D=0|un[t>>2];;){if(T=D+-1|0,un[t>>2]=T,M=k>>>0<_>>>0?(0|fn[k>>0])>>>T&1:0,T?(N=k,L=T):(u=k+1|0,un[s>>2]=u,un[t>>2]=8,N=u,L=8),!(R>>>0<32&0==(0|M)&N>>>0<_>>>0))break;R=R+1|0,k=N,D=L}if(R)for(D=R+-1|0,k=0,M=0,T=N,N=L;;){if(L=N+-1|0,un[t>>2]=L,U=T>>>0<_>>>0?(0|fn[T>>0])>>>L&1:0,L?(x=T,G=L):(u=T+1|0,un[s>>2]=u,un[t>>2]=8,x=u,G=8),L=U<<D-M|k,(0|(M=M+1|0))==(0|R)){O=L,P=x,F=G;break}k=L,T=x,N=G}else O=0,P=N,F=L;un[a+36>>2]=(1<<R)-1+O;e:do{switch(0|A){case 144:case 122:case 110:case 100:for(O=0,R=P,G=F;;){if(N=G+-1|0,un[t>>2]=N,V=R>>>0<_>>>0?(0|fn[R>>0])>>>N&1:0,N?(H=R,j=N):(x=R+1|0,un[s>>2]=x,un[t>>2]=8,H=x,j=8),!(O>>>0<32&0==(0|V)&H>>>0<_>>>0))break;O=O+1|0,R=H,G=j}if(O)for(G=O+-1|0,R=0,N=0,x=H,T=j;;){if(k=T+-1|0,un[t>>2]=k,q=x>>>0<_>>>0?(0|fn[x>>0])>>>k&1:0,k?(Z=x,X=k):(M=x+1|0,un[s>>2]=M,un[t>>2]=8,Z=M,X=8),k=q<<G-N|R,(0|(N=N+1|0))==(0|O)){Y=k,K=Z,J=X;break}R=k,x=Z,T=X}else Y=0,K=H,J=j;for(T=(1<<O)-1+Y|0,un[e>>2]=T,3==(0|T)?(T=J+-1|0,un[t>>2]=T,$=K>>>0<_>>>0?(0|fn[K>>0])>>>T&1:0,T?(ee=K,te=T):(x=K+1|0,un[s>>2]=x,un[t>>2]=8,ee=x,te=8),un[a+44>>2]=$,ne=ee,re=te):(ne=K,re=J),T=0,x=ne,R=re;;){if(N=R+-1|0,un[t>>2]=N,ie=x>>>0<_>>>0?(0|fn[x>>0])>>>N&1:0,N?(ae=x,oe=N):(G=x+1|0,un[s>>2]=G,un[t>>2]=8,ae=G,oe=8),!(T>>>0<32&0==(0|ie)&ae>>>0<_>>>0))break;T=T+1|0,x=ae,R=oe}if(T)for(R=T+-1|0,x=0,O=0,N=ae,G=oe;;){if(k=G+-1|0,un[t>>2]=k,de=N>>>0<_>>>0?(0|fn[N>>0])>>>k&1:0,k?(ce=N,ue=k):(M=N+1|0,un[s>>2]=M,un[t>>2]=8,ce=M,ue=8),k=de<<R-O|x,(0|(O=O+1|0))==(0|T)){se=k,le=ce,Ae=ue;break}x=k,N=ce,G=ue}else se=0,le=ae,Ae=oe;for(un[a+48>>2]=(1<<T)-1+se,G=0,N=le,x=Ae;;){if(O=x+-1|0,un[t>>2]=O,ge=N>>>0<_>>>0?(0|fn[N>>0])>>>O&1:0,O?(fe=N,pe=O):(R=N+1|0,un[s>>2]=R,un[t>>2]=8,fe=R,pe=8),!(G>>>0<32&0==(0|ge)&fe>>>0<_>>>0))break;G=G+1|0,N=fe,x=pe}if(G)for(x=G+-1|0,N=0,T=0,O=fe,R=pe;;){if(k=R+-1|0,un[t>>2]=k,Ie=O>>>0<_>>>0?(0|fn[O>>0])>>>k&1:0,k?(ye=O,ve=k):(M=O+1|0,un[s>>2]=M,un[t>>2]=8,ye=M,ve=8),k=Ie<<x-T|N,(0|(T=T+1|0))==(0|G)){he=k,me=ye,Ee=ve;break}N=k,O=ye,R=ve}else he=0,me=fe,Ee=pe;if(un[a+52>>2]=(1<<G)-1+he,R=Ee+-1|0,un[t>>2]=R,Ce=me>>>0<_>>>0?(0|fn[me>>0])>>>R&1:0,R?(be=me,Be=R):(O=me+1|0,un[s>>2]=O,un[t>>2]=8,be=O,Be=8),un[a+56>>2]=Ce,R=Be+-1|0,un[t>>2]=R,we=be>>>0<_>>>0?(0|fn[be>>0])>>>R&1:0,R?(Se=be,Qe=R):(O=be+1|0,un[s>>2]=O,un[t>>2]=8,Se=O,Qe=8),un[a+60>>2]=we,!we){Te=Se,De=_,ke=Qe;break e}if(R=Qe+-1|0,un[t>>2]=R,Re=Se>>>0<_>>>0?(0|fn[Se>>0])>>>R&1:0,R?(_e=Se,Me=R):(O=Se+1|0,un[s>>2]=O,un[t>>2]=8,_e=O,Me=8),un[a+64>>2]=Re,Re?(y(o,16),Ne=0|un[s>>2],Le=0|un[l>>2],Oe=0|un[t>>2]):(Ne=_e,Le=_,Oe=Me),R=Oe+-1|0,un[t>>2]=R,Pe=Ne>>>0<Le>>>0?(0|fn[Ne>>0])>>>R&1:0,R?(Fe=Ne,Ue=R):(O=Ne+1|0,un[s>>2]=O,un[t>>2]=8,Fe=O,Ue=8),un[a+68>>2]=Pe,Pe?(y(o,16),xe=0|un[s>>2],Ge=0|un[l>>2],Ve=0|un[t>>2]):(xe=Fe,Ge=Le,Ve=Ue),R=Ve+-1|0,un[t>>2]=R,He=xe>>>0<Ge>>>0?(0|fn[xe>>0])>>>R&1:0,R?(je=xe,Ye=R):(O=xe+1|0,un[s>>2]=O,un[t>>2]=8,je=O,Ye=8),un[a+72>>2]=He,He?(y(o,16),Ke=0|un[s>>2],Je=0|un[l>>2],qe=0|un[t>>2]):(Ke=je,Je=Ge,qe=Ye),R=qe+-1|0,un[t>>2]=R,We=Ke>>>0<Je>>>0?(0|fn[Ke>>0])>>>R&1:0,R?(ze=Ke,Ze=R):(O=Ke+1|0,un[s>>2]=O,un[t>>2]=8,ze=O,Ze=8),un[a+76>>2]=We,We?(y(o,16),Xe=0|un[s>>2],$e=0|un[l>>2],et=0|un[t>>2]):(Xe=ze,$e=Je,et=Ze),R=et+-1|0,un[t>>2]=R,tt=Xe>>>0<$e>>>0?(0|fn[Xe>>0])>>>R&1:0,R?(nt=Xe,rt=R):(O=Xe+1|0,un[s>>2]=O,un[t>>2]=8,nt=O,rt=8),un[a+80>>2]=tt,tt?(y(o,16),it=0|un[s>>2],at=0|un[l>>2],ot=0|un[t>>2]):(it=nt,at=$e,ot=rt),R=ot+-1|0,un[t>>2]=R,st=it>>>0<at>>>0?(0|fn[it>>0])>>>R&1:0,R?(lt=it,At=R):(O=it+1|0,un[s>>2]=O,un[t>>2]=8,lt=O,At=8),un[a+84>>2]=st,st?(y(o,16),dt=0|un[s>>2],ct=0|un[l>>2],ut=0|un[t>>2]):(dt=lt,ct=at,ut=At),R=ut+-1|0,un[t>>2]=R,gt=dt>>>0<ct>>>0?(0|fn[dt>>0])>>>R&1:0,R?(ft=dt,pt=R):(O=dt+1|0,un[s>>2]=O,un[t>>2]=8,ft=O,pt=8),un[a+88>>2]=gt,gt?(y(o,64),ht=0|un[s>>2],mt=0|un[l>>2],Et=0|un[t>>2]):(ht=ft,mt=ct,Et=pt),R=Et+-1|0,un[t>>2]=R,It=ht>>>0<mt>>>0?(0|fn[ht>>0])>>>R&1:0,R?(yt=ht,vt=R):(O=ht+1|0,un[s>>2]=O,un[t>>2]=8,yt=O,vt=8),un[a+92>>2]=It,!It){Te=yt,De=mt,ke=vt;break e}y(o,64),Te=0|un[s>>2],De=0|un[l>>2],ke=0|un[t>>2];break;default:Te=P,De=_,ke=F}}while(0);for(F=0,_=Te,Te=ke;;){if(ke=Te+-1|0,un[t>>2]=ke,Ct=_>>>0<De>>>0?(0|fn[_>>0])>>>ke&1:0,ke?(bt=_,Bt=ke):(P=_+1|0,un[s>>2]=P,un[t>>2]=8,bt=P,Bt=8),!(F>>>0<32&0==(0|Ct)&bt>>>0<De>>>0))break;F=F+1|0,_=bt,Te=Bt}if(F)for(Te=F+-1|0,_=0,Ct=0,ke=bt,bt=Bt;;){if(Bt=bt+-1|0,un[t>>2]=Bt,Tt=ke>>>0<De>>>0?(0|fn[ke>>0])>>>Bt&1:0,Bt?(Dt=ke,kt=Bt):(P=ke+1|0,un[s>>2]=P,un[t>>2]=8,Dt=P,kt=8),Bt=Tt<<Te-Ct|_,(0|(Ct=Ct+1|0))==(0|F)){wt=Bt,St=Dt,Qt=kt;break}_=Bt,ke=Dt,bt=kt}else wt=0,St=bt,Qt=Bt;for(un[a+160>>2]=(1<<F)-1+wt,wt=0,F=St,St=Qt;;){if(Qt=St+-1|0,un[t>>2]=Qt,Rt=F>>>0<De>>>0?(0|fn[F>>0])>>>Qt&1:0,Qt?(_t=F,Mt=Qt):(kt=F+1|0,un[s>>2]=kt,un[t>>2]=8,_t=kt,Mt=8),!(wt>>>0<32&0==(0|Rt)&_t>>>0<De>>>0))break;wt=wt+1|0,F=_t,St=Mt}if(wt)for(St=wt+-1|0,F=0,Rt=0,Qt=_t,_t=Mt;;){if(Mt=_t+-1|0,un[t>>2]=Mt,Pt=Qt>>>0<De>>>0?(0|fn[Qt>>0])>>>Mt&1:0,Mt?(Ft=Qt,Ut=Mt):(kt=Qt+1|0,un[s>>2]=kt,un[t>>2]=8,Ft=kt,Ut=8),Mt=Pt<<St-Rt|F,(0|(Rt=Rt+1|0))==(0|wt)){Nt=Mt,Lt=Ft,Ot=Ut;break}F=Mt,Qt=Ft,_t=Ut}else Nt=0,Lt=_t,Ot=Mt;Ut=(1<<wt)-1+Nt|0,un[a+164>>2]=Ut;e:do{switch(0|Ut){case 0:for(Nt=Ut,wt=Lt,_t=Ot;;){if(Ft=_t+-1|0,un[t>>2]=Ft,xt=wt>>>0<De>>>0?(0|fn[wt>>0])>>>Ft&1:0,Ft?(Gt=wt,Vt=Ft):(Qt=wt+1|0,un[s>>2]=Qt,un[t>>2]=8,Gt=Qt,Vt=8),!(Nt>>>0<32&0==(0|xt)&Gt>>>0<De>>>0))break;Nt=Nt+1|0,wt=Gt,_t=Vt}if(Nt)for(_t=Nt+-1|0,wt=0,G=0,Ft=Gt,Qt=Vt;;){if(F=Qt+-1|0,un[t>>2]=F,Kt=Ft>>>0<De>>>0?(0|fn[Ft>>0])>>>F&1:0,F?(Jt=Ft,Wt=F):(Rt=Ft+1|0,un[s>>2]=Rt,un[t>>2]=8,Jt=Rt,Wt=8),F=Kt<<_t-G|wt,(0|(G=G+1|0))==(0|Nt)){Ht=F,jt=Jt,Yt=Wt;break}wt=F,Ft=Jt,Qt=Wt}else Ht=0,jt=Gt,Yt=Vt;un[a+168>>2]=(1<<Nt)-1+Ht,zt=jt,Zt=Yt;break;case 1:for(Qt=Ot+-1|0,un[t>>2]=Qt,Xt=Lt>>>0<De>>>0?(0|fn[Lt>>0])>>>Qt&1:0,Qt?($t=Lt,en=Qt):(Ft=Lt+1|0,un[s>>2]=Ft,un[t>>2]=8,$t=Ft,en=8),un[a+172>>2]=Xt,Qt=0,Ft=$t,wt=en;;){if(G=wt+-1|0,un[t>>2]=G,tn=Ft>>>0<De>>>0?(0|fn[Ft>>0])>>>G&1:0,G?(nn=Ft,rn=G):(_t=Ft+1|0,un[s>>2]=_t,un[t>>2]=8,nn=_t,rn=8),!(Qt>>>0<32&0==(0|tn)&nn>>>0<De>>>0))break;Qt=Qt+1|0,Ft=nn,wt=rn}if(Qt)for(wt=Qt+-1|0,Ft=0,Nt=0,G=nn,_t=rn;;){if(F=_t+-1|0,un[t>>2]=F,ln=G>>>0<De>>>0?(0|fn[G>>0])>>>F&1:0,F?(An=G,dn=F):(Rt=G+1|0,un[s>>2]=Rt,un[t>>2]=8,An=Rt,dn=8),F=ln<<wt-Nt|Ft,(0|(Nt=Nt+1|0))==(0|Qt)){an=F,on=An,sn=dn;break}Ft=F,G=An,_t=dn}else an=0,on=nn,sn=rn;for(_t=an+(1<<Qt)|0,G=_t+-1|0,cn=1&G?(0|_t)/2|0:(0|G)/-2|0,un[a+176>>2]=cn,_t=0,G=on,Ft=sn;;){if(Nt=Ft+-1|0,un[t>>2]=Nt,gn=G>>>0<De>>>0?(0|fn[G>>0])>>>Nt&1:0,Nt?(pn=G,hn=Nt):(wt=G+1|0,un[s>>2]=wt,un[t>>2]=8,pn=wt,hn=8),!(_t>>>0<32&0==(0|gn)&pn>>>0<De>>>0))break;_t=_t+1|0,G=pn,Ft=hn}if(_t)for(Ft=_t+-1|0,G=0,Qt=0,Nt=pn,wt=hn;;){if(F=wt+-1|0,un[t>>2]=F,yn=Nt>>>0<De>>>0?(0|fn[Nt>>0])>>>F&1:0,F?(vn=Nt,Cn=F):(Rt=Nt+1|0,un[s>>2]=Rt,un[t>>2]=8,vn=Rt,Cn=8),F=yn<<Ft-Qt|G,(0|(Qt=Qt+1|0))==(0|_t)){mn=F,En=vn,In=Cn;break}G=F,Nt=vn,wt=Cn}else mn=0,En=pn,In=hn;for(wt=mn+(1<<_t)|0,Nt=wt+-1|0,bn=1&Nt?(0|wt)/2|0:(0|Nt)/-2|0,un[a+180>>2]=bn,wt=0,Nt=En,G=In;;){if(Qt=G+-1|0,un[t>>2]=Qt,Bn=Nt>>>0<De>>>0?(0|fn[Nt>>0])>>>Qt&1:0,Qt?(wn=Nt,Qn=Qt):(Ft=Nt+1|0,un[s>>2]=Ft,un[t>>2]=8,wn=Ft,Qn=8),!(wt>>>0<32&0==(0|Bn)&wn>>>0<De>>>0))break;wt=wt+1|0,Nt=wn,G=Qn}if(wt)for(G=wt+-1|0,Nt=0,_t=0,Qt=wn,Ft=Qn;;){if(F=Ft+-1|0,un[t>>2]=F,Rn=Qt>>>0<De>>>0?(0|fn[Qt>>0])>>>F&1:0,F?(Mn=Qt,Nn=F):(Rt=Qt+1|0,un[s>>2]=Rt,un[t>>2]=8,Mn=Rt,Nn=8),F=Rn<<G-_t|Nt,(0|(_t=_t+1|0))==(0|wt)){Tn=F,Dn=Mn,kn=Nn;break}Nt=F,Qt=Mn,Ft=Nn}else Tn=0,Dn=wn,kn=Qn;if(Ft=(1<<wt)-1+Tn|0,un[a+184>>2]=Ft,(0|Ft)<=0){zt=Dn,Zt=kn;break e}for(Qt=0,Nt=Dn,_t=kn;;){for(G=0,F=Nt,Rt=_t;;){if(St=Rt+-1|0,un[t>>2]=St,Ln=F>>>0<De>>>0?(0|fn[F>>0])>>>St&1:0,St?(On=F,Pn=St):(Pt=F+1|0,un[s>>2]=Pt,un[t>>2]=8,On=Pt,Pn=8),!(G>>>0<32&0==(0|Ln)&On>>>0<De>>>0))break;G=G+1|0,F=On,Rt=Pn}if(G)for(Rt=G+-1|0,F=0,St=0,Pt=On,Mt=On,kt=Pn;;){if(bt=kt+-1|0,un[t>>2]=bt,Gn=Pt>>>0<De>>>0?(0|fn[Pt>>0])>>>bt&1:0,bt?(Vn=Mt,Hn=Pt,jn=bt):(Dt=Pt+1|0,un[s>>2]=Dt,un[t>>2]=8,Vn=Dt,Hn=Dt,jn=8),bt=Gn<<Rt-St|F,(0|(St=St+1|0))==(0|G)){Fn=bt,Un=Vn,xn=jn;break}F=bt,Pt=Hn,Mt=Vn,kt=jn}else Fn=0,Un=On,xn=Pn;if(kt=Fn+(1<<G)|0,Mt=kt+-1|0,Yn=1&Mt?(0|kt)/2|0:(0|Mt)/-2|0,un[a+188+(Qt<<2)>>2]=Yn,(0|(Qt=Qt+1|0))==(0|Ft)){zt=Un,Zt=xn;break}Nt=Un,_t=xn}break;default:zt=Lt,Zt=Ot}}while(0);for(Ot=0,Lt=zt,zt=Zt;;){if(Zt=zt+-1|0,un[t>>2]=Zt,Kn=Lt>>>0<De>>>0?(0|fn[Lt>>0])>>>Zt&1:0,Zt?(Jn=Lt,qn=Zt):(xn=Lt+1|0,un[s>>2]=xn,un[t>>2]=8,Jn=xn,qn=8),!(Ot>>>0<32&0==(0|Kn)&Jn>>>0<De>>>0))break;Ot=Ot+1|0,Lt=Jn,zt=qn}if(Ot)for(zt=Ot+-1|0,Lt=0,Kn=0,Zt=Jn,Jn=qn;;){if(qn=Jn+-1|0,un[t>>2]=qn,Xn=Zt>>>0<De>>>0?(0|fn[Zt>>0])>>>qn&1:0,qn?($n=Zt,er=qn):(xn=Zt+1|0,un[s>>2]=xn,un[t>>2]=8,$n=xn,er=8),qn=Xn<<zt-Kn|Lt,(0|(Kn=Kn+1|0))==(0|Ot)){Wn=qn,zn=$n,Zn=er;break}Lt=qn,Zt=$n,Jn=er}else Wn=0,zn=Jn,Zn=qn;for(un[a+1212>>2]=(1<<Ot)-1+Wn,Wn=Zn+-1|0,un[t>>2]=Wn,tr=zn>>>0<De>>>0?(0|fn[zn>>0])>>>Wn&1:0,Wn?(nr=zn,rr=Wn):(Zn=zn+1|0,un[s>>2]=Zn,un[t>>2]=8,nr=Zn,rr=8),un[a+1216>>2]=tr,tr=0,Wn=nr,nr=rr;;){if(rr=nr+-1|0,un[t>>2]=rr,ir=Wn>>>0<De>>>0?(0|fn[Wn>>0])>>>rr&1:0,rr?(ar=Wn,or=rr):(zn=Wn+1|0,un[s>>2]=zn,un[t>>2]=8,ar=zn,or=8),!(tr>>>0<32&0==(0|ir)&ar>>>0<De>>>0))break;tr=tr+1|0,Wn=ar,nr=or}if(tr)for(nr=tr+-1|0,Wn=0,ir=0,rr=ar,ar=or;;){if(or=ar+-1|0,un[t>>2]=or,dr=rr>>>0<De>>>0?(0|fn[rr>>0])>>>or&1:0,or?(cr=rr,ur=or):(zn=rr+1|0,un[s>>2]=zn,un[t>>2]=8,cr=zn,ur=8),or=dr<<nr-ir|Wn,(0|(ir=ir+1|0))==(0|tr)){sr=or,lr=cr,Ar=ur;break}Wn=or,rr=cr,ar=ur}else sr=0,lr=ar,Ar=or;for(ur=(1<<tr)-1+sr|0,un[a+1220>>2]=ur,sr=0,tr=lr,lr=Ar;;){if(Ar=lr+-1|0,un[t>>2]=Ar,gr=tr>>>0<De>>>0?(0|fn[tr>>0])>>>Ar&1:0,Ar?(fr=tr,pr=Ar):(ar=tr+1|0,un[s>>2]=ar,un[t>>2]=8,fr=ar,pr=8),!(sr>>>0<32&0==(0|gr)&fr>>>0<De>>>0))break;sr=sr+1|0,tr=fr,lr=pr}if(sr)for(lr=sr+-1|0,tr=0,gr=0,Ar=fr,fr=pr;;){if(pr=fr+-1|0,un[t>>2]=pr,Ir=Ar>>>0<De>>>0?(0|fn[Ar>>0])>>>pr&1:0,pr?(yr=Ar,vr=pr):(ar=Ar+1|0,un[s>>2]=ar,un[t>>2]=8,yr=ar,vr=8),pr=Ir<<lr-gr|tr,(0|(gr=gr+1|0))==(0|sr)){hr=pr,mr=yr,Er=vr;break}tr=pr,Ar=yr,fr=vr}else hr=0,mr=fr,Er=pr;if(vr=1<<sr,un[a+1224>>2]=vr+-1+hr,sr=Er+-1|0,un[t>>2]=sr,Cr=mr>>>0<De>>>0?(0|fn[mr>>0])>>>sr&1:0,sr?(br=mr,Br=sr):(Er=mr+1|0,un[s>>2]=Er,un[t>>2]=8,br=Er,Br=8),un[a+1228>>2]=Cr,Cr?(Tr=br,Dr=Br):(sr=Br+-1|0,un[t>>2]=sr,wr=br>>>0<De>>>0?(0|fn[br>>0])>>>sr&1:0,sr?(Sr=br,Qr=sr):(mr=br+1|0,un[s>>2]=mr,un[t>>2]=8,Sr=mr,Qr=8),un[a+1232>>2]=wr,Tr=Sr,Dr=Qr),Br=Dr+-1|0,un[t>>2]=Br,kr=Tr>>>0<De>>>0?(0|fn[Tr>>0])>>>Br&1:0,Br?(Rr=Tr,_r=Br):(Dr=Tr+1|0,un[s>>2]=Dr,un[t>>2]=8,Rr=Dr,_r=8),un[a+1236>>2]=kr,kr=_r+-1|0,un[t>>2]=kr,Mr=Rr>>>0<De>>>0?(0|fn[Rr>>0])>>>kr&1:0,kr?(Nr=Rr,Lr=kr):(_r=Rr+1|0,un[s>>2]=_r,un[t>>2]=8,Nr=_r,Lr=8),un[a+1240>>2]=Mr,!Mr)return Or=0|un[a+1244>>2],Pr=0|un[a+1248>>2],Fr=0|un[a+1256>>2],Ur=0|un[a+1252>>2],z(o),xr=ur<<4,Gr=xr+16|0,Vr=Or<<1,Hr=Gr-Vr|0,jr=Pr<<1,Yr=Hr-jr|0,un[n>>2]=Yr,Kr=vr+hr|0,Jr=Cr<<4,qr=32-Jr|0,Wr=0|_n(qr,Kr),zr=Fr<<1,Zr=Wr-zr|0,Xr=Ur<<1,$r=Zr-Xr|0,un[r>>2]=$r,void(Sn=i);for(Mr=0,kr=Nr,Nr=Lr;;){if(Lr=Nr+-1|0,un[t>>2]=Lr,ei=kr>>>0<De>>>0?(0|fn[kr>>0])>>>Lr&1:0,Lr?(ti=kr,ni=Lr):(Rr=kr+1|0,un[s>>2]=Rr,un[t>>2]=8,ti=Rr,ni=8),!(Mr>>>0<32&0==(0|ei)&ti>>>0<De>>>0))break;Mr=Mr+1|0,kr=ti,Nr=ni}if(Mr)for(Nr=Mr+-1|0,kr=0,ei=0,Lr=ti,ti=ni;;){if(ni=ti+-1|0,un[t>>2]=ni,oi=Lr>>>0<De>>>0?(0|fn[Lr>>0])>>>ni&1:0,ni?(si=Lr,li=ni):(Rr=Lr+1|0,un[s>>2]=Rr,un[t>>2]=8,si=Rr,li=8),ni=oi<<Nr-ei|kr,(0|(ei=ei+1|0))==(0|Mr)){ri=ni,ii=si,ai=li;break}kr=ni,Lr=si,ti=li}else ri=0,ii=ti,ai=ni;for(li=(1<<Mr)-1+ri|0,un[a+1244>>2]=li,ri=0,Mr=ii,ii=ai;;){if(ai=ii+-1|0,un[t>>2]=ai,Ai=Mr>>>0<De>>>0?(0|fn[Mr>>0])>>>ai&1:0,ai?(di=Mr,ci=ai):(ti=Mr+1|0,un[s>>2]=ti,un[t>>2]=8,di=ti,ci=8),!(ri>>>0<32&0==(0|Ai)&di>>>0<De>>>0))break;ri=ri+1|0,Mr=di,ii=ci}if(ri)for(ii=ri+-1|0,Mr=0,Ai=0,ai=di,di=ci;;){if(ci=di+-1|0,un[t>>2]=ci,pi=ai>>>0<De>>>0?(0|fn[ai>>0])>>>ci&1:0,ci?(hi=ai,mi=ci):(ti=ai+1|0,un[s>>2]=ti,un[t>>2]=8,hi=ti,mi=8),ci=pi<<ii-Ai|Mr,(0|(Ai=Ai+1|0))==(0|ri)){ui=ci,gi=hi,fi=mi;break}Mr=ci,ai=hi,di=mi}else ui=0,gi=di,fi=ci;for(mi=(1<<ri)-1+ui|0,un[a+1248>>2]=mi,ui=0,ri=gi,gi=fi;;){if(fi=gi+-1|0,un[t>>2]=fi,Ei=ri>>>0<De>>>0?(0|fn[ri>>0])>>>fi&1:0,fi?(Ii=ri,yi=fi):(di=ri+1|0,un[s>>2]=di,un[t>>2]=8,Ii=di,yi=8),!(ui>>>0<32&0==(0|Ei)&Ii>>>0<De>>>0))break;ui=ui+1|0,ri=Ii,gi=yi}if(ui)for(gi=ui+-1|0,ri=0,Ei=0,fi=Ii,Ii=yi;;){if(yi=Ii+-1|0,un[t>>2]=yi,Bi=fi>>>0<De>>>0?(0|fn[fi>>0])>>>yi&1:0,yi?(wi=fi,Si=yi):(di=fi+1|0,un[s>>2]=di,un[t>>2]=8,wi=di,Si=8),yi=Bi<<gi-Ei|ri,(0|(Ei=Ei+1|0))==(0|ui)){vi=yi,Ci=wi,bi=Si;break}ri=yi,fi=wi,Ii=Si}else vi=0,Ci=Ii,bi=yi;for(Si=(1<<ui)-1+vi|0,un[a+1252>>2]=Si,vi=0,ui=Ci,Ci=bi;;){if(bi=Ci+-1|0,un[t>>2]=bi,Qi=ui>>>0<De>>>0?(0|fn[ui>>0])>>>bi&1:0,bi?(Ti=ui,Di=bi):(Ii=ui+1|0,un[s>>2]=Ii,un[t>>2]=8,Ti=Ii,Di=8),!(vi>>>0<32&0==(0|Qi)&Ti>>>0<De>>>0))break;vi=vi+1|0,ui=Ti,Ci=Di}if(vi)for(Ci=vi+-1|0,ui=0,Qi=0,bi=Ti,Ti=Di;;){if(Di=Ti+-1|0,un[t>>2]=Di,Ri=bi>>>0<De>>>0?(0|fn[bi>>0])>>>Di&1:0,Di?(_i=bi,Mi=Di):(Ii=bi+1|0,un[s>>2]=Ii,un[t>>2]=8,_i=Ii,Mi=8),Di=Ri<<Ci-Qi|ui,(0|(Qi=Qi+1|0))==(0|vi)){ki=Di;break}ui=Di,bi=_i,Ti=Mi}else ki=0;Mi=(1<<vi)-1+ki|0,un[a+1256>>2]=Mi,Or=li,Pr=mi,Fr=Mi,Ur=Si,z(o),xr=ur<<4,Gr=xr+16|0,Vr=Or<<1,Hr=Gr-Vr|0,jr=Pr<<1,Yr=Hr-jr|0,un[n>>2]=Yr,Kr=vr+hr|0,Jr=Cr<<4,qr=32-Jr|0,Wr=0|_n(qr,Kr),zr=Fr<<1,Zr=Wr-zr|0,Xr=Ur<<1,$r=Zr-Xr|0,un[r>>2]=$r,Sn=i}function C(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,Q=0;return t=e+12|0,n=0|un[t>>2],r=e+4|0,i=0|un[r>>2],a=0|un[e+8>>2],8==(0|n)&i>>>0<a>>>0?(e=0|fn[i>>0],un[r>>2]=i+1,0|e):(e=n+-1|0,un[t>>2]=e,o=i>>>0<a>>>0?(0|fn[i>>0])>>>e<<7&128:0,e?(s=i,l=e):(n=i+1|0,un[r>>2]=n,un[t>>2]=8,s=n,l=8),e=l+-1|0,un[t>>2]=e,A=s>>>0<a>>>0?(0|fn[s>>0])>>>e<<6&64:0,e?(d=s,c=e):(l=s+1|0,un[r>>2]=l,un[t>>2]=8,d=l,c=8),e=c+-1|0,un[t>>2]=e,u=d>>>0<a>>>0?(0|fn[d>>0])>>>e<<5&32:0,e?(g=d,f=e):(c=d+1|0,un[r>>2]=c,un[t>>2]=8,g=c,f=8),e=f+-1|0,un[t>>2]=e,p=g>>>0<a>>>0?(0|fn[g>>0])>>>e<<4&16:0,e?(h=g,m=e):(f=g+1|0,un[r>>2]=f,un[t>>2]=8,h=f,m=8),e=m+-1|0,un[t>>2]=e,E=h>>>0<a>>>0?(0|fn[h>>0])>>>e<<3&8:0,e?(I=h,y=e):(m=h+1|0,un[r>>2]=m,un[t>>2]=8,I=m,y=8),e=y+-1|0,un[t>>2]=e,v=I>>>0<a>>>0?(0|fn[I>>0])>>>e<<2&4:0,e?(C=I,b=e):(y=I+1|0,un[r>>2]=y,un[t>>2]=8,C=y,b=8),e=b+-1|0,un[t>>2]=e,B=C>>>0<a>>>0?(0|fn[C>>0])>>>e<<1&2:0,e?(w=C,S=e):(b=C+1|0,un[r>>2]=b,un[t>>2]=8,w=b,S=8),e=S+-1|0,un[t>>2]=e,Q=w>>>0<a>>>0?(0|fn[w>>0])>>>e&1:0,e||(un[r>>2]=w+1,un[t>>2]=8),0|(Q|B|v|E|p|u|A|o))}function b(){var e=0,t=0;return e=0|Z(72,1),t=0|J(0,0),un[e+56>>2]=t,0|e}function B(e){return e|=0,q(0|un[e+56>>2]),z(e),0}function w(e){e|=0;var t=0,n=0;return t=Sn,Sn=Sn+16|0,n=t,un[n>>2]=256,Bt(n,4,1,e),un[n>>2]=0,Bt(n,4,1,e),un[n>>2]=0,Bt(n,4,1,e),un[n>>2]=0,Bt(n,4,1,e),un[n>>2]=256,Bt(n,4,1,e),un[n>>2]=0,Bt(n,4,1,e),un[n>>2]=0,Bt(n,4,1,e),un[n>>2]=0,Bt(n,4,1,e),un[n>>2]=64,Bt(n,4,1,e),Sn=t,0}function S(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0;return n=Sn,Sn=Sn+16|0,r=n,un[r>>2]=0,Bt(r,4,1,t),Ct(3,t),i=e+2090|0,Ct(385875968+((0|hn[i>>1])<<24)>>24,t),dn[r>>1]=256,Bt(r,2,1,t),Ct(0,t),Ct(4,t),Ct(251658240+((0|hn[i>>1])<<24)>>24,t),Ct(64,t),Ct(21,t),Ct(0,t),Ct(0,t),Ct(0,t),a=e+8|0,o=0|Ht(0|(1==(0|un[a>>2])?12e5:128189)),un[r>>2]=o,Bt(r,4,1,t),o=0|Ht(0|(1==(0|un[a>>2])?12e5:128189)),un[r>>2]=o,Bt(r,4,1,t),Ct(5,t),Ct((0|hn[i>>1])<<24>>24,t),Bt(e+2092|0,0|hn[i>>1],1,t),Ct(6,t),Ct(1,t),Ct(2,t),Sn=n,0}function Q(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,C=0,b=0,B=0,T=0,D=0,k=0,R=0,_=0,M=0,N=0;r=Sn,Sn=Sn+32|0,i=r+8|0,a=r,o=r+12|0,s=r+17|0,l=0|Et(n),un[a>>2]=0,Bt(a,4,1,n),Bt(t,1,4,n);e:do{if(0|Ee(t,3664)){if(!(0|Ee(t,3694))){ln[o>>0]=0|ln[3699],ln[o+1>>0]=0|ln[3700],ln[o+2>>0]=0|ln[3701],ln[o+3>>0]=0|ln[3702],ln[o+4>>0]=0|ln[3703],Bt(o,1,4,n),un[a>>2]=16777216,Bt(a,4,1,n),Bt(3699,1,4,n),Bt(3704,1,4,n);break}if(!(0|Ee(t,3709))){Q(e,3714,n),Q(e,3719,n),Q(e,3724,n);break}if(!(0|Ee(t,3719))){Q(e,3729,n);break}if(!(0|Ee(t,3724))){Q(e,3734,n),Q(e,3739,n);break}if(!(0|Ee(t,3744))){Q(e,3749,n),Q(e,3754,n),Q(e,3759,n),Q(e,3764,n);break}if(!(0|Ee(t,3739))){Q(e,3769,n),Q(e,3774,n),Q(e,3779,n);break}if(!(0|Ee(t,3779))){Q(e,1==(0|un[e+8>>2])?3784:3789,n),Q(e,3794,n),Q(e,3799,n);break}if(!(0|Ee(t,3794))){Q(e,3804,n);break}if(!(0|Ee(t,3809))){Q(e,3814,n);break}if(!(0|Ee(t,3819))){Q(e,3824,n),Q(e,3744,n);break}if(!(0|Ee(t,3799))){Q(e,3829,n),Q(e,3834,n),Q(e,3839,n),Q(e,3844,n),Q(e,3849,n);break}if(!(0|Ee(t,3714))){un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n);do{if(1!=(0|un[e+8>>2])){if((A=(0|fn[e+2093>>0])>>>7|ln[e+2092>>0]<<1&14)>>>0>12){Qt(3589),d=48e3;break}d=0|un[16+(A<<2)>>2];break}d=1e5}while(0);A=0|Ht(0|d),un[a>>2]=A,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=256,Bt(a,4,1,n),dn[a>>1]=0,Bt(a,2,1,n),dn[a>>1]=0,Bt(a,2,1,n),un[a>>2]=0,Bt(a,4,1,n),Bt(a,4,1,n),w(n),un[a>>2]=0,Bt(a,4,1,n),Bt(a,4,1,n),Bt(a,4,1,n),Bt(a,4,1,n),Bt(a,4,1,n),Bt(a,4,1,n),un[a>>2]=33554432,Bt(a,4,1,n);break}if(!(0|Ee(t,3804))){un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=16777216,Bt(a,4,1,n),un[a>>2]=201326592,un[o>>2]=543978101,ln[s>>0]=0|ln[3854],ln[s+1>>0]=0|ln[3855],ln[s+2>>0]=0|ln[3856],Bt(a,4,1,n),Bt(o,4,1,n),Ct(0,n),Bt(s,3,1,n);break}if(!(0|Ee(t,3834))){un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n);break}if(!(0|Ee(t,3839))){un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n);break}if(!(0|Ee(t,3844))){un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n);break}if(!(0|Ee(t,3849))){un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n);break}if(!(0|Ee(t,3857))){un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=-1064563456,Bt(a,4,1,n);break}if(!(0|Ee(t,3729))){if(un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=16777216,Bt(a,4,1,n),un[a>>2]=16777216,Bt(a,4,1,n),(0|(A=0|un[e+4>>2]))>1){c=A+-1|0,A=0|un[e>>2],u=0,g=0,f=+Cn[A+24>>3];do{u=u+1|0,p=f,f=+Cn[A+(48*u|0)+24>>3],g+=f-p}while((0|u)!=(0|c));f=g/+(0|c);do{if(1!=(0|un[e+8>>2])){if((u=(0|fn[e+2093>>0])>>>7|ln[e+2092>>0]<<1&14)>>>0>12){Qt(3589),h=48e3;break}h=+(0|un[16+(u<<2)>>2]);break}h=1e5}while(0);m=0|Rt(f*h)}else m=1==(0|un[e+8>>2])?1e3:1024;c=0|Ht(0|m),un[a>>2]=c,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n);break}if(!(0|Ee(t,3734))){Ct(0,n),Ct(0,n),Ct(0,n),Ct(3,n),un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=16777216,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n),Bt(a,4,1,n),Bt(a,4,1,n),c=e+8|0,dn[a>>1]=1!=(0|un[c>>2])&1,Bt(a,2,1,n),dn[a>>1]=0,Bt(a,2,1,n),w(n);do{if(1==(0|un[c>>2])){if(u=e+41|0,A=e+38|0,v(u,(0|hn[A>>1])-1|0,a,o),E=un[a>>2]<<16,1!=(0|un[c>>2])){I=E,y=0;break}v(u,(0|hn[A>>1])-1|0,a,o),I=E,y=un[o>>2]<<16}else I=0,y=0}while(0);c=0|Ht(0|I),un[a>>2]=c,Bt(a,4,1,n),c=0|Ht(0|y),un[a>>2]=c,Bt(a,4,1,n);break}if(!(0|Ee(t,3814))){un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=16777216,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n),dn[a>>1]=256,Bt(a,2,1,n),dn[a>>1]=0,Bt(a,2,1,n);break}if(!(0|Ee(t,3769))){un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n);do{if(1!=(0|un[e+8>>2])){if((c=(0|fn[e+2093>>0])>>>7|ln[e+2092>>0]<<1&14)>>>0>12){Qt(3589),C=48e3;break}C=0|un[16+(c<<2)>>2];break}C=1e5}while(0);c=0|Ht(0|C),un[a>>2]=c,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n),Ct(85,n),Ct(-60,n),dn[a>>1]=0,Bt(a,2,1,n);break}if(!(0|Ee(t,3774))){un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n),Bt(1==(0|un[e+8>>2])?3862:3867,1,4,n),un[a>>2]=0,Bt(a,4,1,n),Bt(a,4,1,n),Bt(a,4,1,n),Bt(3872,17,1,n);break}if(!(0|Ee(t,3784))){Ct(0,n),Ct(0,n),Ct(0,n),Ct(1,n),dn[a>>1]=0,Bt(a,2,1,n),dn[a>>1]=0,Bt(a,2,1,n),dn[a>>1]=0,Bt(a,2,1,n),dn[a>>1]=0,Bt(a,2,1,n);break}if(!(0|Ee(t,3789))){un[a>>2]=0,Bt(a,4,1,n),dn[a>>1]=0,Bt(a,2,1,n),dn[a>>1]=0,Bt(a,2,1,n);break}if(!(0|Ee(t,3829))){if(un[a>>2]=0,Bt(a,4,1,n),un[a>>2]=16777216,Bt(a,4,1,n),1==(0|un[e+8>>2])){Q(e,3679,n);break}Q(e,3889,n);break}if(!(0|Ee(t,3679))){un[a>>2]=0,Bt(a,4,1,n),dn[a>>1]=0,Bt(a,2,1,n),dn[a>>1]=256,Bt(a,2,1,n),dn[a>>1]=0,Bt(a,2,1,n),dn[a>>1]=0,Bt(a,2,1,n),un[a>>2]=0,Bt(a,4,1,n),Bt(a,4,1,n),Bt(a,4,1,n),c=e+41|0,E=e+38|0,v(c,(0|hn[E>>1])-1|0,a,o),A=0|Vt(65535&un[a>>2]|0),dn[a>>1]=A,Bt(a,2,1,n),v(c,(0|hn[E>>1])-1|0,a,o),E=0|Vt(65535&un[o>>2]|0),dn[a>>1]=E,Bt(a,2,1,n),un[a>>2]=18432,Bt(a,4,1,n),Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n),dn[a>>1]=256,Bt(a,2,1,n),Bt(3894,1,4,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),dn[a>>1]=6144,Bt(a,2,1,n),dn[a>>1]=-1,Bt(a,2,1,n),Q(e,3899,n);break}if(!(0|Ee(t,3899))){Ct(1,n),Ct(0|ln[e+41>>0],n),Ct(0|ln[e+42>>0],n),Ct(0|ln[e+43>>0],n),Ct((117440512+(fn[e+36>>0]<<24)|-134217728)>>24,n),Ct(-31,n),E=e+38|0,c=0|Vt(0|dn[E>>1]),dn[a>>1]=c,Bt(a,2,1,n),Bt(e+40|0,1,0|hn[E>>1],n),Ct(1,n),E=e+1064|0,c=0|Vt(0|dn[E>>1]),dn[a>>1]=c,Bt(a,2,1,n),Bt(e+1066|0,1,0|hn[E>>1],n);break}if(!(0|Ee(t,3889))){un[a>>2]=0,Bt(a,4,1,n),dn[a>>1]=0,Bt(a,2,1,n),dn[a>>1]=256,Bt(a,2,1,n),un[a>>2]=0,Bt(a,4,1,n),Bt(a,4,1,n),dn[a>>1]=512,Bt(a,2,1,n),dn[a>>1]=4096,Bt(a,2,1,n),dn[a>>1]=0,Bt(a,2,1,n),dn[a>>1]=0,Bt(a,2,1,n),E=(0|fn[e+2093>>0])>>>7|ln[e+2092>>0]<<1&14,E>>>0>12?(Qt(3589),b=-1149239296):b=un[16+(E<<2)>>2]<<16,E=0|Ht(0|b),un[a>>2]=E,Bt(a,4,1,n),Q(e,3904,n);break}if(!(0|Ee(t,3904))){S(e,n);break}if(!(0|Ee(t,3909))){Ct(1,n),Ct(0,n),Ct(0,n),Ct(0,n),un[a>>2]=16777216,Bt(a,4,1,n);do{if(1!=(0|un[e+8>>2])){if((E=(0|fn[e+2093>>0])>>>7|ln[e+2092>>0]<<1&14)>>>0>12){Qt(3589),B=48e3;break}B=0|un[16+(E<<2)>>2];break}B=1e5}while(0);if(E=0|Ht(0|B),un[a>>2]=E,Bt(a,4,1,n),E=e+16|0,c=0|un[E+4>>2],A=0|Ht(0|un[E>>2]),E=0|Ht(0|c),c=a,un[c>>2]=E,un[c+4>>2]=A,Bt(a,8,1,n),A=a,un[A>>2]=0,un[A+4>>2]=0,Bt(a,8,1,n),dn[a>>1]=0,Bt(a,2,1,n),dn[a>>1]=256,Bt(a,2,1,n),A=0|un[e+4>>2],c=A+100+(A<<4)|0,(0|A)>0){E=0|un[e>>2],u=0,T=0;do{T=(0|un[E+(48*u|0)+12>>2])+T|0,u=u+1|0}while((0|u)!=(0|A));D=T+8|0}else D=8;A=0|Ht(c+D&2147483647|0),un[a>>2]=A,Bt(a,4,1,n),un[a>>2]=0,Bt(a,4,1,n),Ct(-128,n),Ct(0,n),Ct(0,n),Ct(0,n);break}if(!(0|Ee(t,3824))){Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),A=0|Ht(0|un[e+32>>2]),un[a>>2]=A,Bt(a,4,1,n);break}if(!(0|Ee(t,3914))){Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),Ct(16,n),Ct(7,n),Ct(0,n),Ct(79,n),Ct(-1,n),Ct(-1,n),Ct(-1,n),Ct(21,n),Ct(-1,n);break}if(!(0|Ee(t,3749))){Ct(0,n),Ct(0,n),Ct(0,n),Ct(0,n),un[a>>2]=16777216,Bt(a,4,1,n);break}if(!(0|Ee(t,3754))){Ct(1,n),Ct(0,n),Ct(0,n),Ct(0,n),A=e+24|0,u=0|un[A+4>>2],E=0|Ht(0|un[A>>2]),A=0|Ht(0|u),u=a,
un[u>>2]=A,un[u+4>>2]=E,Bt(a,8,1,n);break}if(0|Ee(t,3759)){if(!(0|Ee(t,3764))){if(un[a>>2]=0,Bt(a,4,1,n),E=e+4|0,(0|un[E>>2])<=0)break;for(u=0;;)if(Ct(0==(0|un[(0|un[e>>2])+(48*u|0)+32>>2])?16:32,n),(0|(u=u+1|0))>=(0|un[E>>2]))break e}if(0|Ee(t,3919)&&(un[i>>2]=t,wt(3924,i),$n(0)),E=e+4|0,(0|un[E>>2])<=0)break;for(u=0;;)if(c=0|un[e>>2],Bt(0|un[c+(48*u|0)+8>>2],0|un[c+(48*u|0)+12>>2],1,n),(0|(u=u+1|0))>=(0|un[E>>2]))break e}if(Ct(1,n),Ct(0,n),Ct(15,n),Ct(1,n),E=e+4|0,u=0|Ht(0|un[E>>2]),un[a>>2]=u,Bt(a,4,1,n),u=0|un[E>>2],c=0|Ht(u+108+(u<<4)|0),un[a>>2]=c,Bt(a,4,1,n),(0|(c=0|un[E>>2]))>1){u=c+-1|0,c=0|un[e>>2],T=0,f=0,g=+Cn[c+24>>3];do{T=T+1|0,p=g,g=+Cn[c+(48*T|0)+24>>3],f+=g-p}while((0|T)!=(0|u));g=f/+(0|u),T=e+8|0,c=0|un[T>>2];do{if(1!=(0|c)){if((A=(0|fn[e+2093>>0])>>>7|ln[e+2092>>0]<<1&14)>>>0>12){Qt(3589),k=48e3,R=0|un[T>>2];break}k=+(0|un[16+(A<<2)>>2]),R=c;break}k=1e5,R=1}while(0);_=0|Rt(g*k),M=R}else c=0|un[e+8>>2],_=1==(0|c)?1e3:1024,M=c;do{if(1!=(0|M)){if((c=(0|fn[e+2093>>0])>>>7|ln[e+2092>>0]<<1&14)>>>0>12){Qt(3589),N=48e3;break}N=+(0|un[16+(c<<2)>>2]);break}N=1e5}while(0);if((0|un[E>>2])<=0)break;c=0|Ht(0|_),T=0;do{un[a>>2]=c,Bt(a,4,1,n),u=0|Ht(0|un[(0|un[e>>2])+(48*T|0)+12>>2]),un[a>>2]=u,Bt(a,4,1,n),0|un[(0|un[e>>2])+(48*T|0)+32>>2]?(Ct(2,n),Ct(0,n),Ct(0,n),Ct(0,n)):(Ct(1,n),Ct(1,n),Ct(0,n),Ct(0,n)),u=0|un[e>>2],A=0|Rt(N*(+Cn[u+(48*T|0)+16>>3]-+Cn[u+(48*T|0)+24>>3])),u=0|Ht(0|((0|A)>0?A:0)),un[a>>2]=u,Bt(a,4,1,n),T=T+1|0}while((0|T)<(0|un[E>>2]))}else A=e+8|0,1==(0|un[A>>2])?Bt(3669,1,4,n):Bt(3674,1,4,n),un[a>>2]=16777216,Bt(a,4,1,n),1==(0|un[A>>2])&&(Bt(3679,1,4,n),Bt(3684,1,4,n)),Bt(3689,1,4,n)}while(0);return(0|(e=0|Et(n)))<(0|l)?(Qt(3627),$n(0),0):(vt(n,l,0),_=0|Ht(e-l|0),un[a>>2]=_,Bt(a,4,1,n),vt(n,e,0),Sn=r,0)}function T(e,t,n,r){e|=0,t=+t,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,Q=0,T=0,D=0,k=0,R=0,_=0,M=0;i=Sn,Sn=Sn+16|0,a=i+8|0,o=i,s=n+r|0,l=e+50094|0,A=e+50096|0,d=e+50097|0,c=e+50098|0,u=e+50099|0,g=e+50100|0,f=e+8|0,p=e+4|0,h=n,n=r,r=0;e:for(;;){if((0|n)<7){m=5;break}if(-1!=(0|ln[h>>0])){m=5;break}switch((1|(E=0|ln[h+1>>0]))<<24>>24){case-7:case-15:break;default:m=5;break e}if(I=0|fn[h+2>>0],y=I>>>2,v=0|fn[h+3>>0],C=v<<11&6144|fn[h+4>>0]<<3|(0|fn[h+5>>0])>>>5,b=3&ln[h+6>>0],b<<24>>24&&(un[o>>2]=255&b,wt(3945,o)),dn[l>>1]=2,b=I>>>3,ln[A>>0]=8+(I>>>6<<3)|7&b,ln[d>>0]=(I<<2&4|v>>>6)<<3|y<<7,ln[c>>0]=86,ln[u>>0]=-27,ln[g>>0]=0,v=1&y|b<<1&14,v>>>0>12?(Qt(3589),B=48e3):B=0|un[16+(v<<2)>>2],w=1024*+(0|r)/+(0|B)+t,1&E)S=-7,Q=7;else{if((0|n)<9){m=13;break}S=-9,Q=9}if(E=h+Q|0,v=C+S|0,(E+v|0)>>>0>s>>>0){m=18;break}if(b=0|un[f>>2],y=0|un[p>>2],I=64+(y<<1)|0,(0|b)==(0|y)?(un[p>>2]=I,y=0|X(0|un[e>>2],48*I|0),un[e>>2]=y,T=0|un[f>>2],D=y):(T=b,D=0|un[e>>2]),un[f>>2]=T+1,un[D+(48*T|0)+32>>2]=1,b=0|W(v),un[D+(48*T|0)+8>>2]=b,Kt(0|b,0|E,0|v),un[D+(48*T|0)+12>>2]=v,Cn[D+(48*T|0)+16>>3]=w,Cn[D+(48*T|0)+24>>3]=w,!((0|(v=n-C|0))>7)){k=v,m=20;break}h=h+C|0,n=v,r=r+1|0}if(5==(0|m))Qt(3939),k=n,m=20;else{if(13==(0|m))return Bt(3967,15,1,0|un[696]),R=1,Sn=i,0|R;18==(0|m)&&(r=0|un[696],Bt(3983,6,1,r),_=n,M=r)}do{if(20==(0|m)){if(k){_=k,M=0|un[696];break}return R=1,Sn=i,0|R}}while(0);return un[a>>2]=_,nt(M,3990,a),R=0,Sn=i,0|R}function D(e,t,n,r,i){e|=0,t=+t,n=+n,r|=0,i|=0;var a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,Q=0,T=0,D=0,k=0,R=0,_=0,M=0,N=0,L=0,O=0;if((r+4|0)>>>0<=i>>>0?1==((0|fn[r+1>>0])<<16|(0|fn[r>>0])<<24|(0|fn[r+2>>0])<<8|0|fn[r+3>>0]|0)?(a=0,o=r,s=0):(l=0,A=3):(l=1,A=3),3==(0|A)){if((0|(d=0|un[e+20>>2]))<1)return;if(c=0|un[e+12>>2],u=d+-1|0,d=c+(48*u|0)|0,+Rn(+(+Cn[c+(48*u|0)+24>>3]-n))>1e-4)return;for(g=r,f=l;;){if((l=g+3|0)>>>0<=i>>>0){if(1==((0|fn[g+1>>0])<<8|(0|fn[g>>0])<<16|0|fn[g+2>>0]|0)){p=f,A=10;break}h=f}else h=1;if((g+4|0)>>>0>i>>>0){m=1,E=i;break}if(I=g+1|0,0!=(0|h)||1==((0|fn[I>>0])<<16|(0|fn[g>>0])<<24|(0|fn[g+2>>0])<<8|0|fn[l>>0]|0)){p=h,A=10;break}g=I,f=0}10==(0|A)&&(h=0==(0|p),m=1&(1^h),E=h?g:i),g=r,h=E-g|0,(0|h)>0?(p=0|un[c+(48*u|0)+36>>2],f=(0|un[c+(48*u|0)+44>>2])-1|0,I=p+(12*f|0)|0,l=E+(0|un[I>>2])-g|0,g=p+(12*f|0)+4|0,f=0|X(0|un[g>>2],l),un[g>>2]=f,Kt(f+(0|un[I>>2])|0,0|r,0|h),un[I>>2]=l,l=c+(48*u|0)+12|0,un[l>>2]=(0|un[l>>2])+h,a=d,o=E,s=m):(a=d,o=E,s=m)}e:do{if(0==(0|s)&(0|o)!=(0|i))for(m=e+20|0,E=e+16|0,d=e+12|0,h=e+51124|0,l=a,u=o;;){for(c=u;;){I=c+3|0,r=I>>>0>i>>>0,r?(v=1,A=19):1==((0|fn[c+1>>0])<<8|(0|fn[c>>0])<<16|0|fn[c+2>>0]|0)?(y=0,A=24):(v=0,A=19);do{if(19==(0|A)){if(A=0,(c+4|0)>>>0<=i>>>0){if(f=c+1|0,0==(0|v)?1!=((0|fn[f>>0])<<16|(0|fn[c>>0])<<24|(0|fn[c+2>>0])<<8|0|fn[I>>0]|0):0){C=f;break}b=v}else b=1;if(r){B=l;break e}f=c+1|0,1==((0|fn[f>>0])<<8|(0|fn[c>>0])<<16|0|fn[c+2>>0]|0)?(y=b,A=24):(w=b,S=f,A=25)}}while(0);if(24==(0|A)&&(A=0,w=y,S=c,A=25),25==(0|A)){if(A=0,0|w){B=l;break e}if((Q=S+3|0)>>>0>i>>>0){B=l;break e}if(1!=((0|fn[S+1>>0])<<8|(0|fn[S>>0])<<16|0|fn[S+2>>0]|0)){B=l;break e}for(r=Q;;){if((I=r+3|0)>>>0<=i>>>0){if(1==((0|fn[r+1>>0])<<8|(0|fn[r>>0])<<16|0|fn[r+2>>0]|0)){A=34;break}T=0}else T=1;if((r+4|0)>>>0>i>>>0){D=1,k=i;break}if(f=r+1|0,!((R=0==(0|T))&1!=((0|fn[f>>0])<<16|(0|fn[r>>0])<<24|(0|fn[r+2>>0])<<8|0|fn[I>>0]|0))){A=33;break}r=f}if(33==(0|A)&&(A=0,R?A=34:(D=1,k=i)),34==(0|A)&&(A=0,D=0,k=r),(0|(_=k-Q|0))>=1)break;if(!(0==(0|D)&(0|k)!=(0|i))){B=l;break e}C=k}c=C}switch(l?L=l:(c=0|un[m>>2],f=0|un[E>>2],I=64+(f<<1)|0,(0|c)==(0|f)?(un[E>>2]=I,f=0|X(0|un[d>>2],48*I|0),un[d>>2]=f,M=f,N=0|un[m>>2]):(M=0|un[d>>2],N=c),un[m>>2]=N+1,Cn[M+(48*N|0)+16>>3]=t,Cn[M+(48*N|0)+24>>3]=n,un[M+(48*N|0)+12>>2]=0,un[M+(48*N|0)+32>>2]=0,un[M+(48*N|0)+40>>2]=0,un[M+(48*N|0)+44>>2]=0,c=0|W(12),un[M+(48*N|0)+36>>2]=c,L=M+(48*N|0)|0),c=L+44|0,f=L+40|0,I=0|un[f>>2],g=4+(I<<1)|0,p=L+36|0,(0|un[c>>2])==(0|I)&&(un[f>>2]=g,f=0|X(0|un[p>>2],12*g|0),un[p>>2]=f),f=0|ln[Q>>0],g=31&f,g<<24>>24==5&&(un[h>>2]=1,un[L+32>>2]=1),I=0|W(_),Kt(0|I,0|Q,0|_),O=0|un[p>>2],p=0|un[c>>2],un[O+(12*p|0)>>2]=_,ln[O+(12*p|0)+8>>0]=g,un[O+(12*p|0)+4>>2]=I,un[c>>2]=p+1,31&f){case 1:case 5:case 7:case 8:f=L+12|0,un[f>>2]=_+4+(0|un[f>>2])}if(!(0==(0|D)&(0|k)!=(0|i))){B=L;break e}l=L,u=k}else B=a}while(0);if(0|un[e+51120>>2]&&!(0|un[e+51124>>2])){if(a=B+44|0,L=B+36|0,(0|un[a>>2])>0){k=0;do{z(0|un[(0|un[L>>2])+(12*k|0)+4>>2]),k=k+1|0}while((0|k)<(0|un[a>>2]))}un[a>>2]=0,un[B+40>>2]=0,z(0|un[L>>2]),L=e+20|0,un[L>>2]=(0|un[L>>2])-1}}function k(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,Q=0,T=0,D=0,k=0,R=0,_=0,M=0,N=0,L=0,O=0,P=0,F=0,U=0,x=0,G=0,V=0,H=0,j=0,Y=0,K=0,J=0,q=0,Z=0,X=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,Ae=0,de=0,ce=0,ue=0,ge=0,fe=0,pe=0,he=0,me=0,Ee=0,Ie=0,ye=0,ve=0,Ce=0,be=0,Be=0,we=0,Se=0;if(t=Sn,Sn=Sn+16|0,n=t+8|0,r=t,i=e+20|0,(0|un[i>>2])<=0)return void(Sn=t);a=e+12|0,o=e+48024|0,s=e+48042|0,l=e+48044|0,A=0|un[696],d=e+49068|0,c=e+49070|0,u=0;do{if(g=0|un[a>>2],f=0|W(0|un[g+(48*u|0)+12>>2]),p=g+(48*u|0)+44|0,h=g+(48*u|0)+36|0,(0|un[p>>2])>0){for(m=g+(48*u|0)+16|0,E=0,I=0;;){y=0|un[h>>2],v=0|ln[y+(12*I|0)+8>>0],C=0|un[y+(12*I|0)>>2];e:do{switch(v<<24>>24){case 7:if(C>>>0<1024){dn[s>>1]=C,Kt(0|l,0|un[y+(12*I|0)+4>>2],65535&C|0),b=77;break e}un[r>>2]=C,nt(A,4029,r),b=77;break e;case 8:if(C>>>0<1024){dn[d>>1]=C,Kt(0|c,0|un[y+(12*I|0)+4>>2],65535&C|0),b=77;break e}un[n>>2]=C,nt(A,4048,n),b=77;break e;default:t:do{if(v<<24>>24==6&0!=(0|C)){B=+Cn[m>>3],w=0|un[y+(12*I|0)+4>>2],S=w+C|0,Q=S,T=w+1|0;do{if((0|T)==(0|S))break t;for(w=0,D=T;;){if((k=0|ln[D>>0])<<24>>24!=-1)break;if((0|(R=D+1|0))==(0|S))break t;w=w+255|0,D=R}if(R=w+(255&k)|0,(0|(_=D+1|0))==(0|S))break t;for(M=0,N=D,L=_;;){if((O=0|ln[L>>0])<<24>>24!=-1)break;if((0|(_=L+1|0))==(0|S))break t;P=L,M=M+255|0,L=_,N=P}L=N+2|0,T=L+(M+(255&O))|0;do{if(((((((4==(0|R)?(0|(D=Q-L|0))>6:0)?-75==(0|ln[L>>0]):0)?0==(0|ln[N+3>>0]):0)?49==(0|ln[N+4>>0]):0)?(w=N+5|0,P=D+-3|0,(0|D)>=12):0)?71==(0|ln[w>>0]):0)?65==(0|ln[N+6>>0]):0){if(57!=(0|ln[N+7>>0]))break;if(52!=(0|ln[N+8>>0]))break;if(3!=(0|ln[N+9>>0]))break;if(D=N+10|0,_=w+P|0,w=(P<<3)-32|0,P=(0|w)<1,F=1&(1^P),P|(w-F|0)<1)break;for(w=1,P=D,U=F,F=D,D=0,x=0,G=0,V=1;;){if(H=8-U|0,j=(0|w)<(0|H)?w:H,Y=(0|fn[F>>0])>>>(H-j|0),H=0|xt(-1,-1,64-j|0),w=w-j|0,K=0|Gt(H&Y|0,kn&((0|Y)<0)<<31>>31|0,0|w),D|=K,x|=kn,K=j+U|0,j=8==(0|K),Y=F+1|0,H=Y,V=j?0:K,P=j?H:P,(0|w)<=0)break;U=j?0:K,F=j?Y:F}if(!((G>>>0<1|1==(0|G)&V>>>0<0)&(8-V+(_-P<<3)|0)>0))break;for(F=1,U=P,w=V,x=P,Y=G,j=V;;){if(K=8-w|0,H=(0|F)<(0|K)?F:K,F=F-H|0,K=H+w|0,H=8==(0|K),J=x+1|0,q=J,j=H?0:K,U=H?q:U,(0|F)<=0)break;w=H?0:K,x=H?J:x}if(!((Y>>>0<1|1==(0|Y)&j>>>0<0)&(8-j+(_-U<<3)|0)>4))break;for(x=5,w=U,F=j,V=U,G=0,P=0,J=Y,H=j;;){if(K=8-F|0,q=(0|x)<(0|K)?x:K,Z=(0|fn[V>>0])>>>(K-q|0),K=0|xt(-1,-1,64-q|0),x=x-q|0,X=0|Gt(K&Z|0,kn&((0|Z)<0)<<31>>31|0,0|x),G|=X,P|=kn,X=q+F|0,q=8==(0|X),Z=V+1|0,K=Z,H=q?0:X,w=q?K:w,(0|x)<=0)break;F=q?0:X,V=q?Z:V}if(!((J>>>0<1|1==(0|J)&H>>>0<0)&(8-H+(_-w<<3)|0)>7))break;for(V=8,F=w,x=H,P=w,j=J,Y=H;;){if(U=8-x|0,Z=(0|V)<(0|U)?V:U,V=V-Z|0,U=Z+x|0,Z=8==(0|U),q=P+1|0,X=q,Y=Z?0:U,F=Z?X:F,(0|V)<=0)break;x=Z?0:U,P=Z?q:P}if(!((0|G)>0&0!=(0|D)&(j>>>0<1|1==(0|j)&Y>>>0<0)))break;for(P=0,x=F,V=Y,H=j;;){if(J=_-x<<3,(8-V+J|0)<8)$=0,ee=J,te=x,ne=V,re=1;else{for(J=8,w=x,q=V,Z=x,U=0,X=0,K=V,ie=H;;){if(ae=8-q|0,oe=(0|J)<(0|ae)?J:ae,se=(0|fn[Z>>0])>>>(ae-oe|0),ae=0|xt(-1,-1,64-oe|0),J=J-oe|0,le=0|Gt(ae&se|0,kn&((0|se)<0)<<31>>31|0,0|J),U|=le,X|=kn,le=oe+q|0,oe=8==(0|le),se=Z+1|0,ae=se,K=oe?0:le,w=oe?ae:w,(0|J)<=0)break;q=oe?0:le,Z=oe?se:Z}$=U,ee=_-w<<3,te=w,ne=K,re=ie}Z=ee+8|0,q=te;do{if((Z-ne|0)<8)Ae=0,de=q,ce=Z,ue=te,ge=ne,fe=1;else{if(!(re>>>0<1|1==(0|re)&ne>>>0<0)){Ae=0,de=q,ce=Z,ue=te,ge=ne,fe=re;break}for(J=8,X=te,se=ne,oe=q,le=0,ae=0,pe=ne,he=re;;){if(me=8-se|0,Ee=(0|J)<(0|me)?J:me,Ie=(0|fn[oe>>0])>>>(me-Ee|0),me=0|xt(-1,-1,64-Ee|0),J=J-Ee|0,ye=0|Gt(me&Ie|0,kn&((0|Ie)<0)<<31>>31|0,0|J),le|=ye,ae|=kn,ye=Ee+se|0,Ee=8==(0|ye),Ie=oe+1|0,me=Ie,pe=Ee?0:ye,X=Ee?me:X,(0|J)<=0)break;se=Ee?0:ye,oe=Ee?Ie:oe}Ae=255&le,de=X,ce=8+(_-X<<3)|0,ue=X,ge=pe,fe=he}}while(0);do{if((ce-ge|0)<8)ve=0,Ce=ue,be=1,Be=ge;else{if(!(fe>>>0<1|1==(0|fe)&ge>>>0<0)){ve=0,Ce=ue,be=fe,Be=ge;break}for(q=8,Z=ue,ie=ge,K=de,w=0,U=0,oe=ge,se=fe;;){if(J=8-ie|0,ae=(0|q)<(0|J)?q:J,Ie=(0|fn[K>>0])>>>(J-ae|0),J=0|xt(-1,-1,64-ae|0),q=q-ae|0,Ee=0|Gt(J&Ie|0,kn&((0|Ie)<0)<<31>>31|0,0|q),w|=Ee,U|=kn,Ee=ae+ie|0,ae=8==(0|Ee),Ie=K+1|0,J=Ie,oe=ae?0:Ee,Z=ae?J:Z,(0|q)<=0)break;ie=ae?0:Ee,K=ae?Ie:K}ve=255&w,Ce=Z,be=se,Be=oe}}while(0);do{if(4&$|0){if(3&$|be|0)break;if((K=0|un[o>>2])>>>0>=3e3)break;ln[e+24+(K<<4)+8>>0]=Ae,ln[e+24+(K<<4)+9>>0]=ve,Cn[e+24+(K<<4)>>3]=B,un[o>>2]=K+1}}while(0);if(!((0|(P=P+1|0))<(0|G)&(be>>>0<1|1==(0|be)&Be>>>0<0)))break;x=Ce,V=Be,H=be}}}while(0)}while(T>>>0<S>>>0)}}while(0);switch(v<<24>>24){case 7:case 8:case 5:case 1:b=77;break;default:we=E}}}while(0);if(77==(0|b)&&(b=0,v=0|Ht(0|C),S=f+E|0,ln[S>>0]=v,ln[S+1>>0]=v>>8,ln[S+2>>0]=v>>16,ln[S+3>>0]=v>>24,v=E+4|0,Kt(f+v|0,0|un[y+(12*I|0)+4>>2],0|C),we=C+v|0),I=I+1|0,Se=0|un[p>>2],(0|I)>=(0|Se))break;E=we}if(un[g+(48*u|0)+8>>2]=f,(0|Se)>0){E=0;do{z(0|un[(0|un[h>>2])+(12*E|0)+4>>2]),E=E+1|0}while((0|E)<(0|un[p>>2]))}}else un[g+(48*u|0)+8>>2]=f;un[p>>2]=0,un[g+(48*u|0)+40>>2]=0,z(0|un[h>>2]),u=u+1|0}while((0|u)<(0|un[i>>2]));Sn=t}function R(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0;i=t+24|0,a=0|un[i>>2];do{if(27==(0|a)){if(o=e+51128|0,s=0|un[o>>2],l=0|un[t+20>>2],-1!=(0|s)){if((0|l)!=(0|s))break}else un[o>>2]=l;D(e,+Cn[t>>3],+Cn[t+8>>3],n,n+r|0),A=0|un[i>>2],d=6}else A=a,d=6}while(0);do{if(6==(0|d)?15==(0|A):0){if(a=e+51132|0,i=0|un[a>>2],l=0|un[t+20>>2],-1!=(0|i)){if((0|l)!=(0|i))break}else un[a>>2]=l;T(e,+Cn[t>>3],n,r)}}while(0);if(13==(0|un[t+16>>2])&&(c=+Cn[t>>3],!((0|r)<21))){if(0|be(4067,n,5))return void Bt(4072,11,1,0|un[696]);if(t=n+10|0,0|be(4084,t,4)){if(0|be(4088,t,4))return void Bt(4092,38,1,0|un[696]);Bt(4198,17,1,0|un[728]),t=0|Z(r+4|0,1),g=t,i=4216,u=g+18|0;do{ln[g>>0]=0|ln[i>>0],g=g+1|0,i=i+1|0}while((0|g)<(0|u));for(i=14,g=0,u=0,l=18;;){d=0|ln[n+i>>0],A=d<<24>>24!=0;do{if(2!=(0|u)){if(a=0!=(0|g),A){h=a?g:1,m=u,E=l;break}h=g,m=u+(1&a)|0,E=l;break}A?(ln[t+l>>0]=d,h=g,m=2,E=l+1|0):(h=g,m=3,E=l)}while(0);if((0|(i=i+1|0))==(0|r)){f=t,p=E;break}g=h,u=m,l=E}}else{if(Bt(4131,17,1,0|un[728]),(A=fn[n+15>>0]<<14|fn[n+14>>0]<<21|fn[n+16>>0]<<7|fn[n+17>>0])>>>0<4|(A+20|0)>(0|r))return void Bt(4149,23,1,0|un[696]);if(3!=(0|ln[n+20>>0]))return void Bt(4173,24,1,0|un[696]);if(!(d=0|Z(A+16|0,1)))return;for(l=0,a=1,i=0;;){if(o=0|ln[n+(a+20)>>0],3==(0|i)?(ln[d+l>>0]=o,u=l+1|0,g=3):(u=l,g=i+(o<<24>>24==0&1)|0),(0|(a=a+1|0))==(0|A)){f=d,p=u;break}l=u,i=g}}E=e+48036|0,l=0|un[E>>2],m=e+48032|0,u=0|un[m>>2],h=64+(u<<1)|0,g=e+48028|0,(0|l)==(0|u)?(un[m>>2]=h,m=0|X(0|un[g>>2],h<<4),un[g>>2]=m,I=0|un[E>>2],y=m):(I=l,y=0|un[g>>2]),un[E>>2]=I+1,un[y+(I<<4)+8>>2]=f,un[y+(I<<4)+12>>2]=p,Cn[y+(I<<4)>>3]=c}}function _(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,A=0,d=0;if(t=Sn,Sn=Sn+528|0,i=t+512|0,a=t,un[i>>2]=r,Ce(a,511,4235,i),!(r=0|ot(a,4242)))return o=1,Sn=t,0|o;if(a=n+48036|0,un[i>>2]=un[a>>2],Bt(i,4,1,r),(0|un[a>>2])>0){s=n+48028|0,n=e+8|0,l=e+48|0,e=0;do{A=0|un[s>>2],un[i>>2]=~~(1e3*(+Cn[A+(e<<4)>>3]-+Cn[n>>3]+ +Cn[l>>3]))>>>0,Bt(i,4,1,r),d=A+(e<<4)+12|0,un[i>>2]=un[d>>2],Bt(i,4,1,r),Bt(0|un[A+(e<<4)+8>>2],0|un[d>>2],1,r),e=e+1|0}while((0|e)<(0|un[a>>2]))}return st(r),o=0,Sn=t,0|o}function M(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,Q=0;if(i=Sn,Sn=Sn+2464|0,a=i+512|0,o=i,s=i+516|0,un[a>>2]=r,Ce(o,511,4244,a),!(r=0|ot(o,4242)))return l=1,Sn=i,0|l;if((0|un[e+68>>2])>=(0|t)&&Y(0|un[e+56>>2]),t=n+48024|0,un[a>>2]=un[t>>2],Bt(a,4,1,r),(0|un[t>>2])>0){o=e+56|0,A=e+8|0,d=e+48|0,e=s+129|0,c=s+258|0,u=s+387|0,g=s+516|0,f=s+645|0,p=s+774|0,h=s+903|0,m=s+1032|0,E=s+1161|0,I=s+1290|0,y=s+1419|0,v=s+1548|0,C=s+1677|0,b=s+1806|0,B=0;do{w=n+24+(B<<4)|0,j(0|un[o>>2],+Cn[w>>3],n+24+(B<<4)+8|0,2),K(0|un[o>>2],+Cn[w>>3]),V(0|un[o>>2],s),S=(0!=(0|ln[s>>0])&1)+(0!=(0|ln[e>>0])&1)+(0!=(0|ln[c>>0])&1)+(0!=(0|ln[u>>0])&1)+(0!=(0|ln[g>>0])&1)+(0!=(0|ln[f>>0])&1)+(0!=(0|ln[p>>0])&1)+(0!=(0|ln[h>>0])&1)+(0!=(0|ln[m>>0])&1)+(0!=(0|ln[E>>0])&1)+(0!=(0|ln[I>>0])&1)+(0!=(0|ln[y>>0])&1)+(0!=(0|ln[v>>0])&1)+(0!=(0|ln[C>>0])&1)+(0!=(0|ln[b>>0])&1)|0,un[a>>2]=~~(1e3*(+Cn[w>>3]-+Cn[A>>3]+ +Cn[d>>3]))>>>0,Bt(a,4,1,r),Ct(S<<24>>24,r),S=0;do{w=s+(129*S|0)|0,0|ln[w>>0]&&(Q=0|ve(w),Ct(S<<24>>24,r),Ct(Q<<24>>24,r),Bt(w,255&Q,1,r)),S=S+1|0}while(15!=(0|S));B=B+1|0}while((0|B)<(0|un[t>>2]))}return st(r),l=0,Sn=i,0|l}function N(e,t,n,r,i){e|=0,t|=0,n|=0,r|=0,i|=0;var a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,T=0,D=0,k=0,R=0,_=0,M=0,N=0,L=0,O=0,P=0,F=0,U=0,x=0,G=0,V=0,H=0,j=0,Y=0,K=0,J=0,q=0,W=0,z=0,Z=0,X=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,Ae=0,de=0,ce=0,ue=0,ge=0,fe=0,pe=0,he=0,me=0,Ee=0,Ie=0,ye=0,ve=0,be=0,Be=0,we=0,Se=0,Qe=0,Te=0,De=0,ke=0,Re=0,_e=0,Me=0;if(a=Sn,Sn=Sn+3856|0,o=a+3848|0,s=a+3832|0,l=a+3816|0,A=a+3784|0,d=a+3760|0,c=a+3728|0,u=a+3720|0,g=a+3712|0,f=a+3704|0,p=a+3672|0,h=a+3656|0,m=a+3640|0,E=a+3632|0,I=a+512|0,y=a,v=r+8|0,C=0|un[v>>2],C?(T=0|un[r>>2],D=C+-1|0,b=+Cn[T+16>>3],B=+Cn[T+(48*D|0)+16>>3],w=+Cn[T+(48*D|0)+24>>3],S=+Cn[T+24>>3]):(b=0,B=0,w=0,S=0),T=r+20|0,D=0|un[T>>2],D?(N=0|un[r+12>>2],L=D+-1|0,k=+Cn[N+16>>3],R=+Cn[N+(48*L|0)+24>>3],_=+Cn[N+24>>3],M=+Cn[N+(48*L|0)+16>>3]):(k=0,R=0,_=0,M=0),(O=+jt(+ +(0|C),+ +(0|D)))>0)for(L=r+12|0,N=0,P=b,F=B,U=k,x=M;;){if((0|N)<(0|C)?(G=+Cn[(0|un[r>>2])+(48*N|0)+16>>3],V=+Yt(+G,+P),H=V,j=+jt(+G,+F)):(H=P,j=F),(0|N)<(0|D)?(G=+Cn[(0|un[L>>2])+(48*N|0)+16>>3],V=+Yt(+G,+U),Y=V,K=+jt(+G,+x)):(Y=U,K=x),N=N+1|0,!(O>+(0|N))){J=H,q=j,W=Y,z=K;break}P=H,F=j,U=Y,x=K}else J=b,q=B,W=k,z=M;if(p=e+64|0,(0!=(0|un[e>>2])?(0|un[p>>2])<(0|t):0)?0|n&&(0|un[v>>2]?(M=+Cn[e+40>>3]-S,Z=M):Z=0,f=0|un[T>>2],f?(M=+Cn[e+32>>3]-_,X=M,$=f):(X=0,$=0),g=0==(0|$),0|un[v>>2]?(M=+Yt(+Z,+X),ee=g?Z:M,te=34):g||(ee=X,te=34),34==(0|te)&&(Cn[e+48>>3]=ee)):(un[p>>2]=t,p=0==(0|un[T>>2]),p||(Cn[e+8>>3]=_),(0|un[v>>2]?(u=e+8|0,p|+Cn[u>>3]>S):0)&&(Cn[u>>3]=S),un[e>>2]=1),u=0|un[v>>2],ee=+Cn[e+48>>3],(0|u)>0){p=0|un[r>>2],g=0;do{$=p+(48*g|0)+16|0,Cn[$>>3]=ee+ +Cn[$>>3],$=p+(48*g|0)+24|0,Cn[$>>3]=ee+ +Cn[$>>3],g=g+1|0}while((0|g)<(0|u))}if(g=0|un[T>>2],(0|g)>0?(p=0|un[r+12>>2],$=p+16|0,Cn[$>>3]=ee+ +Cn[$>>3],$=p+24|0,Cn[$>>3]=ee+ +Cn[$>>3],1!=(0|g)):0){$=1;do{f=p+(48*$|0)+16|0,Cn[f>>3]=ee+ +Cn[f>>3],f=p+(48*$|0)+24|0,Cn[f>>3]=ee+ +Cn[f>>3],$=$+1|0}while((0|$)<(0|g))}M=J+ee,J=W+ee,W=S+ee,S=_+ee,0|u&&(Cn[e+24>>3]=q+ee,Cn[e+40>>3]=w+ee),0|g&&(Cn[e+16>>3]=z+ee,Cn[e+32>>3]=R+ee,un[e+60>>2]=un[32+(0|un[r+12>>2])>>2]),$=e+8|0,c=I+32|0,u=I+36|0,g=r+49068|0,e=I+1064|0,p=I+1066|0,f=r+49070|0,n=r+48042|0,m=I+38|0,h=I+40|0,E=r+48044|0,N=r+50094|0,L=I+2090|0,D=I+2092|0,C=r+50096|0,ne=I+8|0,re=I+4|0,ie=r+12|0,ae=I+2093|0,oe=I+16|0,se=I+24|0,le=0;e:for(;;){Ae=0==(1&le|0),qt(0|I,0,3120),un[c>>2]=t,ln[u>>0]=4,de=0|dn[g>>1],dn[e>>1]=de,Kt(0|p,0|f,65535&de|0),de=0|dn[n>>1],dn[m>>1]=de,Kt(0|h,0|E,65535&de|0),ce=0|dn[N>>1],dn[L>>1]=ce,Kt(0|D,0|C,65535&ce|0);do{if(le>>>0<2)if(ce=0|un[T>>2]){if(Ae?de<<16>>16==0|0==(0|dn[e>>1]):0){te=82;break}if(un[I>>2]=un[ie>>2],un[re>>2]=ce,un[ne>>2]=1,ee=+Cn[$>>3],(R=J-ee)<0){te=83;break e}ce=0|Rt(1e5*R),ue=oe,un[ue>>2]=ce,un[ue+4>>2]=((0|ce)<0)<<31>>31,ge=S-ee,fe=1e5,pe=ee,te=67}else te=82;else if(ce=0|un[v>>2]){if(un[I>>2]=un[r>>2],un[re>>2]=ce,un[ne>>2]=0,ee=+Cn[$>>3],(R=M-ee)<0){te=83;break e}ce=(0|fn[ae>>0])>>>7|ln[D>>0]<<1&14,ce>>>0>12?(Qt(3589),z=+Cn[$>>3],he=48e3,me=M-z,Ee=0|un[ne>>2],Ie=z):(he=0|un[16+(ce<<2)>>2],me=R,Ee=0,Ie=ee),ce=0|Rt(me*+(0|he)),ue=oe,un[ue>>2]=ce,un[ue+4>>2]=((0|ce)<0)<<31>>31;do{if(1!=(0|Ee)){if((ce=(0|fn[ae>>0])>>>7|ln[D>>0]<<1&14)>>>0>12){Qt(3589),ye=48e3,ve=+Cn[$>>3];break}ye=0|un[16+(ce<<2)>>2],ve=Ie;break}ye=1e5,ve=Ie}while(0);ge=W-ve,fe=+(0|ye),pe=ve,te=67}else te=82}while(0);if(67==(0|te)){if(te=0,de=0|Rt(ge*fe),ce=se,un[ce>>2]=de,un[ce+4>>2]=((0|de)<0)<<31>>31,!(!0|Ae)){de=0|un[ne>>2];do{if(1!=(0|de)){if((ce=(0|fn[ae>>0])>>>7|ln[D>>0]<<1&14)>>>0>12){Qt(3589),be=48e3,Be=+Cn[$>>3],we=0|un[ne>>2];break}be=0|un[16+(ce<<2)>>2],Be=pe,we=de;break}be=1e5,Be=pe,we=1}while(0);de=0|un[I>>2],ee=+Cn[de+16>>3],ce=0|Rt((ee-Be)*+(0|be)),ue=((0|ce)<0)<<31>>31;do{if(1!=(0|we)){if((Se=(0|fn[ae>>0])>>>7|ln[D>>0]<<1&14)>>>0>12){Qt(3589),Qe=0|un[I>>2],Te=48e3,De=Qe,ke=+Cn[$>>3],Re=0|un[ne>>2],_e=+Cn[Qe+16>>3];break}Te=0|un[16+(Se<<2)>>2],De=de,ke=Be,Re=we,_e=ee;break}Te=1e5,De=de,ke=Be,Re=1,_e=ee}while(0);ee=+Cn[De+(48*((0|un[re>>2])-1|0)|0)+16>>3],de=0|Rt((ee-ke)*+(0|Te)),un[d>>2]=1==(0|Re)?4587:4593,Cn[d+8>>3]=_e,Cn[d+16>>3]=ee,wt(4599,d),ee=+Cn[16+(0|un[I>>2])>>3]-+Cn[$>>3],un[A>>2]=1==(0|un[ne>>2])?4587:4593,Cn[A+8>>3]=ee,Se=A+16|0,un[Se>>2]=ce,un[Se+4>>2]=ue,Se=A+24|0,un[Se>>2]=de,un[Se+4>>2]=((0|de)<0)<<31>>31,wt(4621,A),de=0|un[oe>>2],Se=0|un[re>>2],un[l>>2]=1==(0|un[ne>>2])?4587:4593,un[l+4>>2]=de,un[l+8>>2]=Se,wt(4658,l)}if(Se=1==(0|un[ne>>2])?118:115,un[s>>2]=i,un[s+4>>2]=Se,un[s+8>>2]=Ae?4684:4689,Ce(y,511,4694,s),!(Se=0|ot(y,4242))){te=78;break}Ae?(Q(I,3664,Se),Q(I,3709,Se)):(Q(I,3694,Se),Q(I,3909,Se),Q(I,3819,Se),Q(I,3919,Se)),st(Se)}else 82==(0|te)&&(te=0);if((le=le+1|0)>>>0>=4){Me=0,te=86;break}}return 78==(0|te)?(un[o>>2]=y,wt(4707,o),Me=1,Sn=a,0|Me):83==(0|te)?(Me=1,Sn=a,0|Me):86==(0|te)?(Sn=a,0|Me):0}function L(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0;if(t=e+20|0,(0|un[t>>2])>0){n=e+12|0,r=0;do{z(0|un[(0|un[n>>2])+(48*r|0)+8>>2]),r=r+1|0}while((0|r)<(0|un[t>>2]))}if(t=e+8|0,(0|un[t>>2])>0){r=0;do{z(0|un[(0|un[e>>2])+(48*r|0)+8>>2]),r=r+1|0}while((0|r)<(0|un[t>>2]))}if(t=e+48036|0,r=e+48028|0,(0|un[t>>2])<=0)return i=0|un[e>>2],z(i),a=e+12|0,o=0|un[a>>2],z(o),s=0|un[r>>2],z(s),void qt(0|e,0,51136);n=0;do{z(0|un[(0|un[r>>2])+(n<<4)+8>>2]),n=n+1|0}while((0|n)<(0|un[t>>2]));i=0|un[e>>2],z(i),a=e+12|0,o=0|un[a>>2],z(o),s=0|un[r>>2],z(s),qt(0|e,0,51136)}function O(e){return e|=0,+ +Cn[e+16>>3]}function P(e){return e|=0,+ +Cn[e+8>>3]}function F(e){return e|=0,0|un[e+60>>2]}function U(e,t,n,r,i,a){e|=0,t|=0,n|=0,r|=0,i|=0,a|=0;var o=0,s=0,l=0,A=0,d=0,c=0,u=0;if(o=Sn,Sn=Sn+52704|0,s=o+512|0,l=o+1568|0,A=o+1552|0,d=o+1536|0,c=o,un[d>>2]=i,un[d+4>>2]=118,un[d+8>>2]=4689,Ce(c,511,4694,d),bt(c),un[A>>2]=i,un[A+4>>2]=118,un[A+8>>2]=4684,Ce(c,511,4694,A),bt(c),un[l>>2]=i,un[l+4>>2]=115,un[l+8>>2]=4689,Ce(c,511,4694,l),bt(c),un[s>>2]=i,un[s+4>>2]=115,un[s+8>>2]=4684,Ce(c,511,4694,s),bt(c),qt(0|l,0,51128),un[l+51120>>2]=a,un[l+51128>>2]=-1,un[l+51132>>2]=-1,!(a=0|ot(r,4723)))return Bt(4726,15,1,0|un[696]),Qt(4742),u=1,Sn=o,0|u;r=0|p(),E(r,1,l);do{if((0|(c=0|Tt(s,1,1024,a)))<1)break;m(r,s,c)}while(!(0|Dt(a)));return I(r),st(a),h(r),k(l),0|N(e,t,n,l,i)?(Qt(4762),L(l),u=1,Sn=o,0|u):(M(e,t,l,i),_(e,0,l,i),un[e+68>>2]=t,L(l),u=0,Sn=o,0|u)}function x(e){e|=0;var t=0,n=0;if(t=0|ot(4780,4789),!(n=0|Z(e,1)))return void Qt(4813);(0|Bt(n,1,e,t))!=(0|e)&&Qt(4792),st(t),z(n)}function G(e,t){e|=0,t|=0;var n=0,r=0,i=0;n=+Cn[e>>3],r=+Cn[t>>3];do{if(n==r)i=0;else{if(r>n){if(!(r-n<47721.85884)){i=1;break}}else if(!(n>r&!(n-r<47721.85884))){i=1;break}i=-1}}while(0);return 0|i}function V(e,t){e|=0,t|=0,0!=(0|e)&0!=(0|t)&&(Kt(0|t,e+7224|0,129),Kt(t+129|0,e+7353|0,129),Kt(t+258|0,e+7482|0,129),Kt(t+387|0,e+7611|0,129),Kt(t+516|0,e+7740|0,129),Kt(t+645|0,e+7869|0,129),Kt(t+774|0,e+7998|0,129),Kt(t+903|0,e+8127|0,129),Kt(t+1032|0,e+8256|0,129),Kt(t+1161|0,e+8385|0,129),Kt(t+1290|0,e+8514|0,129),Kt(t+1419|0,e+8643|0,129),Kt(t+1548|0,e+8772|0,129),Kt(t+1677|0,e+8901|0,129),Kt(t+1806|0,e+9030|0,129))}function H(e,t,n,r){e|=0,t=+t,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,A=0,d=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,Q=0,T=0,D=0,k=0,R=0,_=0,M=0,N=0,L=0,O=0,P=0,F=0,U=0,x=0,G=0,V=0,H=0,j=0,Y=0,K=0,J=0,q=0,W=0,z=0,Z=0,X=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,Ae=0,de=0,ce=0,ue=0,ge=0,fe=0,pe=0,he=0,me=0,Ee=0,Ie=0,ye=0,Ce=0,be=0,Be=0,we=0,Se=0,Qe=0,Te=0,De=0,ke=0,Re=0,_e=0,Me=0,Ne=0,Le=0,Oe=0,Pe=0,Fe=0,Ue=0,xe=0,Ge=0,Ve=0,He=0,je=0,Ye=0,Ke=0,Je=0,qe=0,We=0,ze=0,Ze=0,Xe=0,$e=0,et=0,tt=0,nt=0,rt=0;if(i=Sn,Sn=Sn+288|0,a=i+272|0,o=i+264|0,s=i+256|0,l=i+248|0,A=i+232|0,d=i+208|0,u=i+200|0,g=i+184|0,f=i+160|0,p=i+152|0,h=i+128|0,m=i,(0|r)<=0)return void(Sn=i);for(E=e+3216|0,I=e+3224|0,y=e+5160|0,v=e+3220|0,C=m+4|0,b=m+8|0,B=m+12|0,w=m+16|0,S=m+20|0,Q=m+24|0,T=m+28|0,D=m+32|0,k=m+36|0,R=m+40|0,_=m+44|0,M=m+48|0,N=m+52|0,L=m+56|0,O=m+60|0,P=e+3208|0,F=e+3212|0,U=e+7224|0,x=e+5168|0,G=e+7104|0,V=e+5297|0,H=e+5426|0,j=e+5555|0,Y=e+5684|0,K=e+5813|0,J=e+5942|0,q=e+6071|0,W=e+6200|0,z=e+6329|0,Z=e+6458|0,X=e+6587|0,$=e+6716|0,ee=e+6845|0,te=e+6974|0,ne=e+9160|0,re=e+7353|0,ie=e+7482|0,ae=e+7611|0,oe=e+7740|0,se=e+7869|0,le=e+7998|0,Ae=e+8127|0,de=e+8256|0,ce=e+8385|0,ue=e+8514|0,ge=e+8643|0,fe=e+8772|0,pe=e+8901|0,he=e+9030|0,me=e+3228|0,Ee=e+9168|0,Ie=e+9176|0,ye=e+9184|0,Ce=e+9192|0,be=e+9200|0,Be=e+9208|0,we=e+9216|0,Se=e+9224|0,Qe=e+9232|0,Te=e+9240|0,De=e+9248|0,ke=e+9256|0,Re=e+9264|0,_e=e+9272|0,Me=0;;){if((0|(Ne=1|Me))>=(0|r)){Le=4;break}Oe=0|ln[n+Me>>0],Pe=127&Oe,Fe=255&Pe,Ue=0|ln[n+Ne>>0],Ne=127&Ue,xe=255&Ne;e:do{if(96&Fe){switch(Cn[h>>3]=t,un[h+8>>2]=Fe,un[h+12>>2]=xe,un[h+16>>2]=Fe,un[h+20>>2]=xe,c(3,4839,h),127&Oe){case 42:et=4890;break;case 92:et=4862;break;case 94:et=4865;break;case 95:et=4868;break;case 96:et=4871;break;case 123:et=4874;break;case 124:et=4877;break;case 125:et=4880;break;case 126:et=4883;break;case 127:et=4886;break;default:et=0}if(He=0|un[y>>2],2!=(0|un[I>>2])?(je=e+7224+(129*He|0)|0,0|ln[je>>0]?tt=je:(Cn[e+9160+(He<<3)>>3]=t,tt=je)):tt=e+5168+(129*He|0)|0,et){if((0|(He=0|ve(et)))>0){je=0;do{Je=0|ve(tt),(0|Je)<128&&(ln[tt+Je>>0]=0|ln[et+je>>0],ln[tt+(Je+1)>>0]=0),je=je+1|0}while((0|je)!=(0|He))}}else(0|(He=0|ve(tt)))<128&&(ln[tt+He>>0]=Pe,ln[tt+(He+1)>>0]=0);switch(127&Ue){case 42:nt=4890;break;case 92:nt=4862;break;case 94:nt=4865;break;case 95:nt=4868;break;case 96:nt=4871;break;case 123:nt=4874;break;case 124:nt=4877;break;case 125:nt=4880;break;case 126:nt=4883;break;case 127:nt=4886;break;default:nt=0}if(He=0|un[y>>2],2!=(0|un[I>>2])?(je=e+7224+(129*He|0)|0,0|ln[je>>0]?rt=je:(Cn[e+9160+(He<<3)>>3]=t,rt=je)):rt=e+5168+(129*He|0)|0,!nt){if((0|(He=0|ve(rt)))>=128)break;ln[rt+He>>0]=Ne,ln[rt+(He+1)>>0]=0;break}if((0|(He=0|ve(nt)))>0){je=0;do{Je=0|ve(rt),(0|Je)<128&&(ln[rt+Je>>0]=0|ln[nt+je>>0],ln[rt+(Je+1)>>0]=0),je=je+1|0}while((0|je)!=(0|He))}}else{if((0|un[E>>2])==(0|Fe)?(0|un[v>>2])==(0|xe):0){un[v>>2]=0,un[E>>2]=0;break}if(un[E>>2]=Fe,un[v>>2]=xe,Ge=8|Pe,Ve=Ge<<24>>24==25,He=112&Ue,(je=He<<24>>24==32)&Ve){if(Cn[p>>3]=t,c(3,4893,p),Ye=0|un[y>>2],2==(0|un[I>>2])){if((0|(Ke=0|ve(e+5168+(129*Ye|0)|0)))>=128)break;ln[e+5168+(129*Ye|0)+Ke>>0]=32,ln[Ke+1+(e+5168+(129*Ye|0))>>0]=0;break}if(Ke=e+7224+(129*Ye|0)|0,0|ln[Ke>>0]||(Cn[e+9160+(Ye<<3)>>3]=t),(0|(Je=0|ve(Ke)))>=128)break;ln[e+7224+(129*Ye|0)+Je>>0]=32,ln[Je+1+(e+7224+(129*Ye|0))>>0]=0;break}if(He<<24>>24==48&Ve){if(un[m>>2]=4908,un[C>>2]=4911,un[b>>2]=4914,un[B>>2]=4917,un[w>>2]=4920,un[S>>2]=4924,un[Q>>2]=4927,un[T>>2]=4930,un[D>>2]=4934,un[k>>2]=4937,un[R>>2]=4939,un[_>>2]=4942,un[M>>2]=4945,un[N>>2]=4948,un[L>>2]=4951,un[O>>2]=4954,Cn[f>>3]=t,un[f+8>>2]=Fe,un[f+12>>2]=xe,un[f+16>>2]=Fe,un[f+20>>2]=xe,c(3,4957,f),Ve=xe+-48|0,He=0|un[y>>2],2==(0|un[I>>2])){if(Ye=e+5168+(129*He|0)|0,Je=0|un[m+(Ve<<2)>>2],(0|(Ke=0|ve(Je)))>0){qe=0;do{We=0|ve(Ye),(0|We)<128&&(ln[e+5168+(129*He|0)+We>>0]=0|ln[Je+qe>>0],ln[We+1+(e+5168+(129*He|0))>>0]=0),qe=qe+1|0}while((0|qe)!=(0|Ke))}}else if(Ke=e+7224+(129*He|0)|0,0|ln[Ke>>0]||(Cn[e+9160+(He<<3)>>3]=t),qe=0|un[m+(Ve<<2)>>2],(0|(Je=0|ve(qe)))>0){Ye=0;do{We=0|ve(Ke),(0|We)<128&&(ln[e+7224+(129*He|0)+We>>0]=0|ln[qe+Ye>>0],ln[We+1+(e+7224+(129*He|0))>>0]=0),Ye=Ye+1|0}while((0|Ye)!=(0|Je))}break}if(16==(112&Oe)&(255&Ne)>63){Je=(0|un[80+((xe>>>5&1|Oe<<1&14)<<2)>>2])-1|0,Ye=(0|Je)>0?Je:0,Je=((255&Ne)>95?-96:-64)+xe|0,He=0|un[144+(Je<<2)>>2],qe=0|un[I>>2],Ke=1==(0|qe)?14:(0|Ye)<14?Ye:14,Ye=(Je+-18|0)>>>0<14,Je=129*Ke|0,2==(0|qe)?(Ye&&qt(e+(Je+5168)|0,32,0|((0|He)>1?He:1)),ze=e+5168+(129*Ke|0)+He|0):(Ye&&qt(e+(Je+7224)|0,32,0|((0|He)>1?He:1)),ze=e+7224+(129*Ke|0)+He|0),ln[ze>>0]=0,un[y>>2]=Ke,Cn[g>>3]=t,un[g+8>>2]=Ke,un[g+12>>2]=He,c(3,4989,g);break}if(Ge<<24>>24==31&(Ne+-33&255)<3)for(c(3,5014,u),He=xe+-32|0,Ke=0;;)if(Je=0|un[y>>2],2==(0|un[I>>2])?(0|(Ye=0|ve(e+5168+(129*Je|0)|0)))<128&&(ln[e+5168+(129*Je|0)+Ye>>0]=32,ln[Ye+1+(e+5168+(129*Je|0))>>0]=0):(Ye=e+7224+(129*Je|0)|0,0|ln[Ye>>0]||(Cn[e+9160+(Je<<3)>>3]=t),(0|(qe=0|ve(Ye)))<128&&(ln[e+7224+(129*Je|0)+qe>>0]=32,ln[qe+1+(e+7224+(129*Je|0))>>0]=0)),(0|(Ke=Ke+1|0))==(0|He))break e;if(Ge<<24>>24==28){if(He=xe+-32|0,Ke=272+(He<<3)|0,!je){Cn[d>>3]=t,un[d+8>>2]=Ke,un[d+12>>2]=Fe,un[d+16>>2]=xe,c(3,5026,d);break}switch(Cn[A>>3]=t,un[A+8>>2]=Ke,c(3,5064,A),127&Ue){case 32:if(2!=(0|un[I>>2])){ln[x>>0]=0,ln[V>>0]=0,ln[H>>0]=0,ln[j>>0]=0,ln[Y>>0]=0,ln[K>>0]=0,ln[J>>0]=0,ln[q>>0]=0,ln[W>>0]=0,ln[z>>0]=0,ln[Z>>0]=0,ln[X>>0]=0,ln[$>>0]=0,ln[ee>>0]=0,ln[te>>0]=0,ln[re>>0]=0,ln[ie>>0]=0,ln[ae>>0]=0,ln[oe>>0]=0,ln[se>>0]=0,ln[le>>0]=0,ln[Ae>>0]=0,ln[de>>0]=0,ln[ce>>0]=0,ln[ue>>0]=0,ln[ge>>0]=0,ln[fe>>0]=0,ln[pe>>0]=0,ln[he>>0]=0,Ze=ne,Xe=Ze+120|0;do{un[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));Ze=G,Xe=Ze+120|0;do{un[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));ln[G+120>>0]=0}Cn[l>>3]=t,c(3,5075,l),un[I>>2]=2;break e;case 47:if(2==(0|un[I>>2])){je=0;do{Ge=e+5168+(129*je|0)|0,Ke=0|ln[Ge>>0],Ze=m,Je=e+5168+(129*je|0)+1|0,Xe=Ze+128|0;do{ln[Ze>>0]=0|ln[Je>>0],Ze=Ze+1|0,Je=Je+1|0}while((0|Ze)<(0|Xe));qe=e+7224+(129*je|0)|0,Kt(0|Ge,0|qe,129),(0|ln[qe>>0]?0|(Ye=0|un[P>>2]):0)&&rr[0&Ye](0|un[F>>2],+Cn[e+9160+(je<<3)>>3],t,qe),Ke<<24>>24&&(Cn[e+9160+(je<<3)>>3]=t),ln[qe>>0]=Ke,Ze=e+7224+(129*je|0)+1|0,Je=m,Xe=Ze+128|0;do{ln[Ze>>0]=0|ln[Je>>0],Ze=Ze+1|0,Je=Je+1|0}while((0|Ze)<(0|Xe));je=je+1|0}while(15!=(0|je))}else{ln[x>>0]=0,ln[V>>0]=0,ln[H>>0]=0,ln[j>>0]=0,ln[Y>>0]=0,ln[K>>0]=0,ln[J>>0]=0,ln[q>>0]=0,ln[W>>0]=0,ln[z>>0]=0,ln[Z>>0]=0,ln[X>>0]=0,ln[$>>0]=0,ln[ee>>0]=0,ln[te>>0]=0,ln[re>>0]=0,ln[ie>>0]=0,ln[ae>>0]=0,ln[oe>>0]=0,ln[se>>0]=0,ln[le>>0]=0,ln[Ae>>0]=0,ln[de>>0]=0,ln[ce>>0]=0,ln[ue>>0]=0,ln[ge>>0]=0,ln[fe>>0]=0,ln[pe>>0]=0,ln[he>>0]=0,Ze=ne,Xe=Ze+120|0;do{un[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));Ze=G,Xe=Ze+120|0;do{un[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));ln[G+120>>0]=0}un[I>>2]=2;break e;case 46:if(2!=(0|un[I>>2]))break e;ln[x>>0]=0,ln[V>>0]=0,ln[H>>0]=0,ln[j>>0]=0,ln[Y>>0]=0,ln[K>>0]=0,ln[J>>0]=0,ln[q>>0]=0,ln[W>>0]=0,ln[z>>0]=0,ln[Z>>0]=0,ln[X>>0]=0,ln[$>>0]=0,ln[ee>>0]=0,ln[te>>0]=0,Ze=G,Xe=Ze+120|0;do{un[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));break e;case 41:Cn[s>>3]=t,c(3,5099,s),un[I>>2]=3;break e;case 45:if(1!=(0|un[I>>2]))break e;if(je=0|un[me>>2],Je=15-je|0,Ke=e+7224+(129*Je|0)|0,(0!=(0|ln[Ke>>0])?0!=(0|(Ge=0|un[P>>2])):0)?(rr[0&Ge](0|un[F>>2],+Cn[e+9160+(Je<<3)>>3],t,Ke),$e=0|un[me>>2]):$e=je,(0|$e)<=1)break e;for(je=$e;;){if(Ke=15-je|0,Je=Ke+1|0,Ge=e+7224+(129*Je|0)|0,Kt(e+7224+(129*Ke|0)|0,0|Ge,129),ln[Ge>>0]=0,Cn[e+9160+(Ke<<3)>>3]=+Cn[e+9160+(Je<<3)>>3],!((0|je)>2))break;je=je+-1|0}break;case 44:(0|ln[U>>0]?0|(je=0|un[P>>2]):0)&&rr[0&je](0|un[F>>2],+Cn[ne>>3],t,U),(0|ln[re>>0]?0|(je=0|un[P>>2]):0)&&rr[0&je](0|un[F>>2],+Cn[Ee>>3],t,re),(0|ln[ie>>0]?0|(je=0|un[P>>2]):0)&&rr[0&je](0|un[F>>2],+Cn[Ie>>3],t,ie),(0|ln[ae>>0]?0|(je=0|un[P>>2]):0)&&rr[0&je](0|un[F>>2],+Cn[ye>>3],t,ae),(0|ln[oe>>0]?0|(je=0|un[P>>2]):0)&&rr[0&je](0|un[F>>2],+Cn[Ce>>3],t,oe);do{if(0|ln[se>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[be>>3],t,se)}}while(0);do{if(0|ln[le>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[Be>>3],t,le)}}while(0);do{if(0|ln[Ae>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[we>>3],t,Ae)}}while(0);do{if(0|ln[de>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[Se>>3],t,de)}}while(0);do{if(0|ln[ce>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[Qe>>3],t,ce)}}while(0);do{if(0|ln[ue>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[Te>>3],t,ue)}}while(0);do{if(0|ln[ge>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[De>>3],t,ge)}}while(0);do{if(0|ln[fe>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[ke>>3],t,fe)}}while(0);do{if(0|ln[pe>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[Re>>3],t,pe)}}while(0);do{if(0|ln[he>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[_e>>3],t,he)}}while(0);ln[U>>0]=0,ln[re>>0]=0,ln[ie>>0]=0,ln[ae>>0]=0,ln[oe>>0]=0,ln[se>>0]=0,ln[le>>0]=0,ln[Ae>>0]=0,ln[de>>0]=0,ln[ce>>0]=0,ln[ue>>0]=0,ln[ge>>0]=0,ln[fe>>0]=0,ln[pe>>0]=0,ln[he>>0]=0,Ze=ne,Xe=Ze+120|0;do{un[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));break e;case 43:case 42:un[I>>2]=4;break e;case 39:case 38:case 37:if(1!=(0|un[I>>2])){(0|ln[U>>0]?0|(je=0|un[P>>2]):0)&&rr[0&je](0|un[F>>2],+Cn[ne>>3],t,U),(0|ln[re>>0]?0|(je=0|un[P>>2]):0)&&rr[0&je](0|un[F>>2],+Cn[Ee>>3],t,re),(0|ln[ie>>0]?0|(je=0|un[P>>2]):0)&&rr[0&je](0|un[F>>2],+Cn[Ie>>3],t,ie);do{if(0|ln[ae>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[ye>>3],t,ae)}}while(0);do{if(0|ln[oe>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[Ce>>3],t,oe)}}while(0);do{if(0|ln[se>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[be>>3],t,se)}}while(0);do{if(0|ln[le>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[Be>>3],t,le)}}while(0);do{if(0|ln[Ae>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[we>>3],t,Ae)}}while(0);do{if(0|ln[de>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[Se>>3],t,de)}}while(0);do{if(0|ln[ce>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[Qe>>3],t,ce)}}while(0);do{if(0|ln[ue>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[Te>>3],t,ue)}}while(0);do{if(0|ln[ge>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[De>>3],t,ge)}}while(0);do{if(0|ln[fe>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[ke>>3],t,fe)}}while(0);do{if(0|ln[pe>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[Re>>3],t,pe)}}while(0);do{if(0|ln[he>>0]){if(!(je=0|un[P>>2]))break;rr[0&je](0|un[F>>2],+Cn[_e>>3],t,he)}}while(0)
;ln[x>>0]=0,ln[V>>0]=0,ln[H>>0]=0,ln[j>>0]=0,ln[Y>>0]=0,ln[K>>0]=0,ln[J>>0]=0,ln[q>>0]=0,ln[W>>0]=0,ln[z>>0]=0,ln[Z>>0]=0,ln[X>>0]=0,ln[$>>0]=0,ln[ee>>0]=0,ln[te>>0]=0,ln[re>>0]=0,ln[ie>>0]=0,ln[ae>>0]=0,ln[oe>>0]=0,ln[se>>0]=0,ln[le>>0]=0,ln[Ae>>0]=0,ln[de>>0]=0,ln[ce>>0]=0,ln[ue>>0]=0,ln[ge>>0]=0,ln[fe>>0]=0,ln[pe>>0]=0,ln[he>>0]=0,Ze=ne,Xe=Ze+120|0;do{un[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));Ze=G,Xe=Ze+120|0;do{un[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));ln[G+120>>0]=0}un[I>>2]=1,un[me>>2]=7==(0|He)?4:6==(0|He)?3:2,Cn[o>>3]=t,c(3,5125,o);break e;default:un[a>>2]=Fe,un[a+4>>2]=xe,c(3,5150,a);break e}}}}while(0);if((0|(Me=Me+2|0))>=(0|r)){Le=4;break}}return 4==(0|Le)?void(Sn=i):void 0}function j(e,t,n,r){e|=0,t=+t,n|=0,r|=0;var i=0,a=0,o=0;if(i=(0|r)/2|0,!((0|r)<=1))for(r=0;;){if(200==(0|(a=0|un[e>>2]))){5;break}if(un[e>>2]=a+1,Cn[e+8+(a<<4)>>3]=t,o=r<<1,ln[e+8+(a<<4)+8>>0]=0|ln[n+o>>0],ln[e+8+(a<<4)+9>>0]=0|ln[n+(1|o)>>0],(0|(r=r+1|0))>=(0|i)){5;break}}}function Y(e){e|=0,qt(e+8|0,0,3200),un[e>>2]=0}function K(e,t){e|=0,t=+t;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,A=0;n=e+8|0,Ae(n,0|un[e>>2],16,1),r=0|un[e>>2];e:do{if((0|r)>0){for(i=t+-.5,a=0,o=r;;){if(s=+Cn[e+8+(a<<4)>>3],i>s){if(!(i-s<47721.85884))break}else if(!(s>i)|s-i<47721.85884)break;if(H(e,s+.1,e+8+(a<<4)+8|0,2),l=a+1|0,!((0|(A=0|un[e>>2]))>(0|l)))break e;a=l,o=A}A=o-a|0,0|a&&(Jt(0|n,e+8+(a<<4)|0,A<<4|0),un[e>>2]=A)}}while(0);Cn[e+13408>>3]=t}function J(e,t){e|=0,t|=0;var n=0;return(n=0|Z(1,13416))?(un[n+3208>>2]=e,un[n+3212>>2]=t,un[n+5160>>2]=14,0|n):0|0}function q(e){e|=0,z(e)}function W(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,Q=0,T=0,D=0,k=0,R=0,_=0,M=0,N=0,L=0,O=0,P=0,F=0,U=0,x=0,G=0,V=0,H=0,j=0,Y=0,K=0,J=0,q=0,W=0,z=0,Z=0,X=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,oe=0,se=0,le=0,Ae=0,de=0,ce=0,ue=0,ge=0,fe=0,pe=0,he=0,me=0,Ee=0,Ie=0,ye=0,ve=0,Ce=0,be=0,Be=0,we=0,Se=0,Qe=0,Te=0,De=0,ke=0,Re=0,_e=0,Me=0,Ne=0;t=Sn,Sn=Sn+16|0,n=t;do{if(e>>>0<245){if(r=e>>>0<11?16:e+11&-8,i=r>>>3,a=0|un[1833],3&(o=a>>>i)|0)return s=(1&o^1)+i|0,l=7372+(s<<1<<2)|0,A=l+8|0,d=0|un[A>>2],c=d+8|0,u=0|un[c>>2],(0|u)==(0|l)?un[1833]=a&~(1<<s):(un[u+12>>2]=l,un[A>>2]=u),u=s<<3,un[d+4>>2]=3|u,s=d+u+4|0,un[s>>2]=1|un[s>>2],g=c,Sn=t,0|g;if(c=0|un[1835],r>>>0>c>>>0){if(0|o)return s=2<<i,u=o<<i&(s|0-s),s=(u&0-u)-1|0,u=s>>>12&16,i=s>>>u,s=i>>>5&8,o=i>>>s,i=o>>>2&4,d=o>>>i,o=d>>>1&2,A=d>>>o,d=A>>>1&1,l=(s|u|i|o|d)+(A>>>d)|0,d=7372+(l<<1<<2)|0,A=d+8|0,o=0|un[A>>2],i=o+8|0,u=0|un[i>>2],(0|u)==(0|d)?(s=a&~(1<<l),un[1833]=s,f=s):(un[u+12>>2]=d,un[A>>2]=u,f=a),u=l<<3,l=u-r|0,un[o+4>>2]=3|r,A=o+r|0,un[A+4>>2]=1|l,un[o+u>>2]=l,0|c&&(u=0|un[1838],o=c>>>3,d=7372+(o<<1<<2)|0,s=1<<o,f&s?(s=d+8|0,p=0|un[s>>2],h=s):(un[1833]=f|s,p=d,h=d+8|0),un[h>>2]=u,un[p+12>>2]=u,un[u+8>>2]=p,un[u+12>>2]=d),un[1835]=l,un[1838]=A,g=i,Sn=t,0|g;if(i=0|un[1834]){for(A=(i&0-i)-1|0,l=A>>>12&16,d=A>>>l,A=d>>>5&8,u=d>>>A,d=u>>>2&4,s=u>>>d,u=s>>>1&2,o=s>>>u,s=o>>>1&1,m=0|un[7636+((A|l|d|u|s)+(o>>>s)<<2)>>2],s=m,o=m,u=(-8&un[m+4>>2])-r|0;;){if(m=0|un[s+16>>2])E=m;else{if(!(d=0|un[s+20>>2]))break;E=d}m=(-8&un[E+4>>2])-r|0,d=m>>>0<u>>>0,s=E,o=d?E:o,u=d?m:u}if((s=o+r|0)>>>0>o>>>0){m=0|un[o+24>>2],d=0|un[o+12>>2];do{if((0|d)==(0|o)){if(l=o+20|0,A=0|un[l>>2])C=A,b=l;else{if(I=o+16|0,!(y=0|un[I>>2])){v=0;break}C=y,b=I}for(l=C,A=b;;){if(I=l+20|0,y=0|un[I>>2])S=y,Q=I;else{if(B=l+16|0,!(w=0|un[B>>2]))break;S=w,Q=B}l=S,A=Q}un[A>>2]=0,v=l}else I=0|un[o+8>>2],un[I+12>>2]=d,un[d+8>>2]=I,v=d}while(0);do{if(0|m){if(d=0|un[o+28>>2],I=7636+(d<<2)|0,(0|o)==(0|un[I>>2])){if(un[I>>2]=v,!v){un[1834]=i&~(1<<d);break}}else if(d=m+16|0,un[((0|un[d>>2])==(0|o)?d:m+20|0)>>2]=v,!v)break;un[v+24>>2]=m,d=0|un[o+16>>2],0|d&&(un[v+16>>2]=d,un[d+24>>2]=v),d=0|un[o+20>>2],0|d&&(un[v+20>>2]=d,un[d+24>>2]=v)}}while(0);return u>>>0<16?(m=u+r|0,un[o+4>>2]=3|m,i=o+m+4|0,un[i>>2]=1|un[i>>2]):(un[o+4>>2]=3|r,un[s+4>>2]=1|u,un[s+u>>2]=u,0|c&&(i=0|un[1838],m=c>>>3,d=7372+(m<<1<<2)|0,I=1<<m,I&a?(I=d+8|0,T=0|un[I>>2],D=I):(un[1833]=I|a,T=d,D=d+8|0),un[D>>2]=i,un[T+12>>2]=i,un[i+8>>2]=T,un[i+12>>2]=d),un[1835]=u,un[1838]=s),g=o+8|0,Sn=t,0|g}k=r}else k=r}else k=r}else if(e>>>0<=4294967231)if(d=e+11|0,i=-8&d,I=0|un[1834]){m=0-i|0,y=d>>>8,y?i>>>0>16777215?R=31:(d=(y+1048320|0)>>>16&8,B=y<<d,y=(B+520192|0)>>>16&4,w=B<<y,B=(w+245760|0)>>>16&2,_=14-(y|d|B)+(w<<B>>>15)|0,R=i>>>(_+7|0)&1|_<<1):R=0,_=0|un[7636+(R<<2)>>2];e:do{if(_)for(B=0,w=m,d=_,y=i<<(31==(0|R)?0:25-(R>>>1)|0),P=0;;){if((F=(-8&un[d+4>>2])-i|0)>>>0<w>>>0){if(!F){U=d,x=0,G=d,O=65;break e}V=d,H=F}else V=B,H=w;if(F=0|un[d+20>>2],d=0|un[d+16+(y>>>31<<2)>>2],j=0==(0|F)|(0|F)==(0|d)?P:F,!d){M=j,N=V,L=H,O=61;break}B=V,w=H,y<<=1,P=j}else M=0,N=0,L=m,O=61}while(0);if(61==(0|O)){if(0==(0|M)&0==(0|N)){if(_=2<<R,!(m=(_|0-_)&I)){k=i;break}_=(m&0-m)-1|0,m=_>>>12&16,r=_>>>m,_=r>>>5&8,o=r>>>_,r=o>>>2&4,s=o>>>r,o=s>>>1&2,u=s>>>o,s=u>>>1&1,Y=0,K=0|un[7636+((_|m|r|o|s)+(u>>>s)<<2)>>2]}else Y=N,K=M;K?(U=Y,x=L,G=K,O=65):(J=Y,q=L)}if(65==(0|O))for(s=U,u=x,o=G;;){if(r=(-8&un[o+4>>2])-i|0,m=r>>>0<u>>>0,_=m?r:u,r=m?o:s,m=0|un[o+16>>2],!(W=m||0|un[o+20>>2])){J=r,q=_;break}s=r,u=_,o=W}if((0!=(0|J)?q>>>0<((0|un[1835])-i|0)>>>0:0)?(o=J+i|0)>>>0>J>>>0:0){u=0|un[J+24>>2],s=0|un[J+12>>2];do{if((0|s)==(0|J)){if(_=J+20|0,r=0|un[_>>2])Z=r,X=_;else{if(m=J+16|0,!(a=0|un[m>>2])){z=0;break}Z=a,X=m}for(_=Z,r=X;;){if(m=_+20|0,a=0|un[m>>2])$=a,ee=m;else{if(c=_+16|0,!(P=0|un[c>>2]))break;$=P,ee=c}_=$,r=ee}un[r>>2]=0,z=_}else m=0|un[J+8>>2],un[m+12>>2]=s,un[s+8>>2]=m,z=s}while(0);do{if(u){if(s=0|un[J+28>>2],m=7636+(s<<2)|0,(0|J)==(0|un[m>>2])){if(un[m>>2]=z,!z){m=I&~(1<<s),un[1834]=m,te=m;break}}else if(m=u+16|0,un[((0|un[m>>2])==(0|J)?m:u+20|0)>>2]=z,!z){te=I;break}un[z+24>>2]=u,m=0|un[J+16>>2],0|m&&(un[z+16>>2]=m,un[m+24>>2]=z),m=0|un[J+20>>2],m?(un[z+20>>2]=m,un[m+24>>2]=z,te=I):te=I}else te=I}while(0);e:do{if(q>>>0<16)I=q+i|0,un[J+4>>2]=3|I,u=J+I+4|0,un[u>>2]=1|un[u>>2];else{if(un[J+4>>2]=3|i,un[o+4>>2]=1|q,un[o+q>>2]=q,u=q>>>3,q>>>0<256){I=7372+(u<<1<<2)|0,m=0|un[1833],s=1<<u,m&s?(s=I+8|0,ne=0|un[s>>2],re=s):(un[1833]=m|s,ne=I,re=I+8|0),un[re>>2]=o,un[ne+12>>2]=o,un[o+8>>2]=ne,un[o+12>>2]=I;break}if(I=q>>>8,I?q>>>0>16777215?ie=31:(s=(I+1048320|0)>>>16&8,m=I<<s,I=(m+520192|0)>>>16&4,u=m<<I,m=(u+245760|0)>>>16&2,a=14-(I|s|m)+(u<<m>>>15)|0,ie=q>>>(a+7|0)&1|a<<1):ie=0,a=7636+(ie<<2)|0,un[o+28>>2]=ie,m=o+16|0,un[m+4>>2]=0,un[m>>2]=0,m=1<<ie,!(te&m)){un[1834]=te|m,un[a>>2]=o,un[o+24>>2]=a,un[o+12>>2]=o,un[o+8>>2]=o;break}m=0|un[a>>2];t:do{if((-8&un[m+4>>2]|0)!=(0|q)){for(a=q<<(31==(0|ie)?0:25-(ie>>>1)|0),u=m;;){if(se=u+16+(a>>>31<<2)|0,!(s=0|un[se>>2]))break;if((-8&un[s+4>>2]|0)==(0|q)){oe=s;break t}a<<=1,u=s}un[se>>2]=o,un[o+24>>2]=u,un[o+12>>2]=o,un[o+8>>2]=o;break e}oe=m}while(0);m=oe+8|0,_=0|un[m>>2],un[_+12>>2]=o,un[m>>2]=o,un[o+8>>2]=_,un[o+12>>2]=oe,un[o+24>>2]=0}}while(0);return g=J+8|0,Sn=t,0|g}k=i}else k=i;else k=-1}while(0);if((J=0|un[1835])>>>0>=k>>>0)return oe=J-k|0,se=0|un[1838],oe>>>0>15?(q=se+k|0,un[1838]=q,un[1835]=oe,un[q+4>>2]=1|oe,un[se+J>>2]=oe,un[se+4>>2]=3|k):(un[1835]=0,un[1838]=0,un[se+4>>2]=3|J,oe=se+J+4|0,un[oe>>2]=1|un[oe>>2]),g=se+8|0,Sn=t,0|g;if((se=0|un[1836])>>>0>k>>>0)return oe=se-k|0,un[1836]=oe,J=0|un[1839],q=J+k|0,un[1839]=q,un[q+4>>2]=1|oe,un[J+4>>2]=3|k,g=J+8|0,Sn=t,0|g;if(0|un[1951]?le=0|un[1953]:(un[1953]=4096,un[1952]=4096,un[1954]=-1,un[1955]=-1,un[1956]=0,un[1944]=0,un[1951]=-16&n^1431655768,le=4096),n=k+48|0,J=k+47|0,oe=le+J|0,q=0-le|0,(le=oe&q)>>>0<=k>>>0)return g=0,Sn=t,0|g;if(ie=0|un[1943],0|ie?(te=0|un[1941],(ne=te+le|0)>>>0<=te>>>0|ne>>>0>ie>>>0):0)return g=0,Sn=t,0|g;e:do{if(4&un[1944])fe=0,O=143;else{ie=0|un[1839];t:do{if(ie){for(ne=7780;;){if(te=0|un[ne>>2],te>>>0<=ie>>>0?(te+(0|un[ne+4>>2])|0)>>>0>ie>>>0:0)break;if(!(te=0|un[ne+8>>2])){O=128;break t}ne=te}if((te=oe-se&q)>>>0<2147483647)if((0|(re=0|Wt(0|te)))==((0|un[ne>>2])+(0|un[ne+4>>2])|0)){if(-1!=(0|re)){de=te,ce=re,O=145;break e}Ae=te}else ue=re,ge=te,O=136;else Ae=0}else O=128}while(0);do{if(128==(0|O))if(ie=0|Wt(0),-1!=(0|ie)?(i=ie,te=0|un[1952],re=te+-1|0,z=(0==(re&i|0)?0:(re+i&0-te)-i|0)+le|0,i=0|un[1941],te=z+i|0,z>>>0>k>>>0&z>>>0<2147483647):0){if(re=0|un[1943],0|re?te>>>0<=i>>>0|te>>>0>re>>>0:0){Ae=0;break}if((0|(re=0|Wt(0|z)))==(0|ie)){de=z,ce=ie,O=145;break e}ue=re,ge=z,O=136}else Ae=0}while(0);do{if(136==(0|O)){if(z=0-ge|0,!(n>>>0>ge>>>0&ge>>>0<2147483647&-1!=(0|ue))){if(-1==(0|ue)){Ae=0;break}de=ge,ce=ue,O=145;break e}if(re=0|un[1953],(ie=J-ge+re&0-re)>>>0>=2147483647){de=ge,ce=ue,O=145;break e}if(-1==(0|Wt(0|ie))){Wt(0|z),Ae=0;break}de=ie+ge|0,ce=ue,O=145;break e}}while(0);un[1944]=4|un[1944],fe=Ae,O=143}}while(0);if(!(143==(0|O)?le>>>0<2147483647:0)||(Ae=0|Wt(0|le),le=0|Wt(0),ue=le-Ae|0,ge=ue>>>0>(k+40|0)>>>0,-1==(0|Ae)|1^ge|Ae>>>0<le>>>0&-1!=(0|Ae)&-1!=(0|le)^1)||(de=ge?ue:fe,ce=Ae,O=145),145==(0|O)){Ae=(0|un[1941])+de|0,un[1941]=Ae,Ae>>>0>(0|un[1942])>>>0&&(un[1942]=Ae),Ae=0|un[1839];e:do{if(Ae){for(fe=7780;;){if(pe=0|un[fe>>2],he=0|un[fe+4>>2],(0|ce)==(pe+he|0)){O=154;break}if(!(ue=0|un[fe+8>>2]))break;fe=ue}if((154==(0|O)?(ue=fe+4|0,0==(8&un[fe+12>>2]|0)):0)?ce>>>0>Ae>>>0&pe>>>0<=Ae>>>0:0){un[ue>>2]=he+de,ue=(0|un[1836])+de|0,ge=Ae+8|0,le=0==(7&ge|0)?0:0-ge&7,ge=Ae+le|0,J=ue-le|0,un[1839]=ge,un[1836]=J,un[ge+4>>2]=1|J,un[Ae+ue+4>>2]=40,un[1840]=un[1955];break}for(ce>>>0<(0|un[1837])>>>0&&(un[1837]=ce),ue=ce+de|0,J=7780;;){if((0|un[J>>2])==(0|ue)){O=162;break}if(!(ge=0|un[J+8>>2]))break;J=ge}if(162==(0|O)?0==(8&un[J+12>>2]|0):0){un[J>>2]=ce,fe=J+4|0,un[fe>>2]=(0|un[fe>>2])+de,fe=ce+8|0,ge=ce+(0==(7&fe|0)?0:0-fe&7)|0,fe=ue+8|0,le=ue+(0==(7&fe|0)?0:0-fe&7)|0,fe=ge+k|0,n=le-ge-k|0,un[ge+4>>2]=3|k;t:do{if((0|Ae)==(0|le))q=(0|un[1836])+n|0,un[1836]=q,un[1839]=fe,un[fe+4>>2]=1|q;else{if((0|un[1838])==(0|le)){q=(0|un[1835])+n|0,un[1835]=q,un[1838]=fe,un[fe+4>>2]=1|q,un[fe+q>>2]=q;break}if(1==(3&(q=0|un[le+4>>2])|0)){se=-8&q,oe=q>>>3;n:do{if(q>>>0<256){if(ie=0|un[le+8>>2],(0|(z=0|un[le+12>>2]))==(0|ie)){un[1833]=un[1833]&~(1<<oe);break}un[ie+12>>2]=z,un[z+8>>2]=ie;break}ie=0|un[le+24>>2],z=0|un[le+12>>2];do{if((0|z)==(0|le)){if(re=le+16|0,te=re+4|0,i=0|un[te>>2])Ee=i,Ie=te;else{if(!(ee=0|un[re>>2])){me=0;break}Ee=ee,Ie=re}for(te=Ee,i=Ie;;){if(re=te+20|0,ee=0|un[re>>2])ye=ee,ve=re;else{if($=te+16|0,!(X=0|un[$>>2]))break;ye=X,ve=$}te=ye,i=ve}un[i>>2]=0,me=te}else re=0|un[le+8>>2],un[re+12>>2]=z,un[z+8>>2]=re,me=z}while(0);if(!ie)break;z=0|un[le+28>>2],u=7636+(z<<2)|0;do{if((0|un[u>>2])==(0|le)){if(un[u>>2]=me,0|me)break;un[1834]=un[1834]&~(1<<z);break n}if(re=ie+16|0,un[((0|un[re>>2])==(0|le)?re:ie+20|0)>>2]=me,!me)break n}while(0);if(un[me+24>>2]=ie,z=le+16|0,u=0|un[z>>2],0|u&&(un[me+16>>2]=u,un[u+24>>2]=me),!(u=0|un[z+4>>2]))break;un[me+20>>2]=u,un[u+24>>2]=me}while(0);Ce=le+se|0,be=se+n|0}else Ce=le,be=n;if(oe=Ce+4|0,un[oe>>2]=-2&un[oe>>2],un[fe+4>>2]=1|be,un[fe+be>>2]=be,oe=be>>>3,be>>>0<256){q=7372+(oe<<1<<2)|0,ne=0|un[1833],u=1<<oe,ne&u?(u=q+8|0,Be=0|un[u>>2],we=u):(un[1833]=ne|u,Be=q,we=q+8|0),un[we>>2]=fe,un[Be+12>>2]=fe,un[fe+8>>2]=Be,un[fe+12>>2]=q;break}q=be>>>8;do{if(q){if(be>>>0>16777215){Se=31;break}u=(q+1048320|0)>>>16&8,ne=q<<u,oe=(ne+520192|0)>>>16&4,z=ne<<oe,ne=(z+245760|0)>>>16&2,re=14-(oe|u|ne)+(z<<ne>>>15)|0,Se=be>>>(re+7|0)&1|re<<1}else Se=0}while(0);if(q=7636+(Se<<2)|0,un[fe+28>>2]=Se,se=fe+16|0,un[se+4>>2]=0,un[se>>2]=0,se=0|un[1834],re=1<<Se,!(se&re)){un[1834]=se|re,un[q>>2]=fe,un[fe+24>>2]=q,un[fe+12>>2]=fe,un[fe+8>>2]=fe;break}re=0|un[q>>2];n:do{if((-8&un[re+4>>2]|0)!=(0|be)){for(q=be<<(31==(0|Se)?0:25-(Se>>>1)|0),se=re;;){if(Te=se+16+(q>>>31<<2)|0,!(ne=0|un[Te>>2]))break;if((-8&un[ne+4>>2]|0)==(0|be)){Qe=ne;break n}q<<=1,se=ne}un[Te>>2]=fe,un[fe+24>>2]=se,un[fe+12>>2]=fe,un[fe+8>>2]=fe;break t}Qe=re}while(0);re=Qe+8|0,q=0|un[re>>2],un[q+12>>2]=fe,un[re>>2]=fe,un[fe+8>>2]=q,un[fe+12>>2]=Qe,un[fe+24>>2]=0}}while(0);return g=ge+8|0,Sn=t,0|g}for(fe=7780;;){if(n=0|un[fe>>2],n>>>0<=Ae>>>0?(De=n+(0|un[fe+4>>2])|0)>>>0>Ae>>>0:0)break;fe=0|un[fe+8>>2]}fe=De+-47|0,ge=fe+8|0,n=fe+(0==(7&ge|0)?0:0-ge&7)|0,ge=Ae+16|0,fe=n>>>0<ge>>>0?Ae:n,n=fe+8|0,le=de+-40|0,ue=ce+8|0,J=0==(7&ue|0)?0:0-ue&7,ue=ce+J|0,q=le-J|0,un[1839]=ue,un[1836]=q,un[ue+4>>2]=1|q,un[ce+le+4>>2]=40,un[1840]=un[1955],le=fe+4|0,un[le>>2]=27,un[n>>2]=un[1945],un[n+4>>2]=un[1946],un[n+8>>2]=un[1947],un[n+12>>2]=un[1948],un[1945]=ce,un[1946]=de,un[1948]=0,un[1947]=n,n=fe+24|0;do{q=n,n=n+4|0,un[n>>2]=7}while((q+8|0)>>>0<De>>>0);if((0|fe)!=(0|Ae)){if(n=fe-Ae|0,un[le>>2]=-2&un[le>>2],un[Ae+4>>2]=1|n,un[fe>>2]=n,q=n>>>3,n>>>0<256){ue=7372+(q<<1<<2)|0,J=0|un[1833],re=1<<q,J&re?(re=ue+8|0,ke=0|un[re>>2],Re=re):(un[1833]=J|re,ke=ue,Re=ue+8|0),un[Re>>2]=Ae,un[ke+12>>2]=Ae,un[Ae+8>>2]=ke,un[Ae+12>>2]=ue;break}if(ue=n>>>8,ue?n>>>0>16777215?_e=31:(re=(ue+1048320|0)>>>16&8,J=ue<<re,ue=(J+520192|0)>>>16&4,q=J<<ue,J=(q+245760|0)>>>16&2,ie=14-(ue|re|J)+(q<<J>>>15)|0,_e=n>>>(ie+7|0)&1|ie<<1):_e=0,ie=7636+(_e<<2)|0,un[Ae+28>>2]=_e,un[Ae+20>>2]=0,un[ge>>2]=0,J=0|un[1834],q=1<<_e,!(J&q)){un[1834]=J|q,un[ie>>2]=Ae,un[Ae+24>>2]=ie,un[Ae+12>>2]=Ae,un[Ae+8>>2]=Ae;break}q=0|un[ie>>2];t:do{if((-8&un[q+4>>2]|0)!=(0|n)){for(ie=n<<(31==(0|_e)?0:25-(_e>>>1)|0),J=q;;){if(Ne=J+16+(ie>>>31<<2)|0,!(re=0|un[Ne>>2]))break;if((-8&un[re+4>>2]|0)==(0|n)){Me=re;break t}ie<<=1,J=re}un[Ne>>2]=Ae,un[Ae+24>>2]=J,un[Ae+12>>2]=Ae,un[Ae+8>>2]=Ae;break e}Me=q}while(0);n=Me+8|0,q=0|un[n>>2],un[q+12>>2]=Ae,un[n>>2]=Ae,un[Ae+8>>2]=q,un[Ae+12>>2]=Me,un[Ae+24>>2]=0}}else q=0|un[1837],0==(0|q)|ce>>>0<q>>>0&&(un[1837]=ce),un[1945]=ce,un[1946]=de,un[1948]=0,un[1842]=un[1951],un[1841]=-1,un[1846]=7372,un[1845]=7372,un[1848]=7380,un[1847]=7380,un[1850]=7388,un[1849]=7388,un[1852]=7396,un[1851]=7396,un[1854]=7404,un[1853]=7404,un[1856]=7412,un[1855]=7412,un[1858]=7420,un[1857]=7420,un[1860]=7428,un[1859]=7428,un[1862]=7436,un[1861]=7436,un[1864]=7444,un[1863]=7444,un[1866]=7452,un[1865]=7452,un[1868]=7460,un[1867]=7460,un[1870]=7468,un[1869]=7468,un[1872]=7476,un[1871]=7476,un[1874]=7484,un[1873]=7484,un[1876]=7492,un[1875]=7492,un[1878]=7500,un[1877]=7500,un[1880]=7508,un[1879]=7508,un[1882]=7516,un[1881]=7516,un[1884]=7524,un[1883]=7524,un[1886]=7532,un[1885]=7532,un[1888]=7540,un[1887]=7540,un[1890]=7548,un[1889]=7548,un[1892]=7556,un[1891]=7556,un[1894]=7564,un[1893]=7564,un[1896]=7572,un[1895]=7572,un[1898]=7580,un[1897]=7580,un[1900]=7588,un[1899]=7588,un[1902]=7596,un[1901]=7596,un[1904]=7604,un[1903]=7604,un[1906]=7612,un[1905]=7612,un[1908]=7620,un[1907]=7620,q=de+-40|0,n=ce+8|0,ge=0==(7&n|0)?0:0-n&7,n=ce+ge|0,fe=q-ge|0,un[1839]=n,un[1836]=fe,un[n+4>>2]=1|fe,un[ce+q+4>>2]=40,un[1840]=un[1955]}while(0);if((ce=0|un[1836])>>>0>k>>>0)return de=ce-k|0,un[1836]=de,ce=0|un[1839],Ae=ce+k|0,un[1839]=Ae,un[Ae+4>>2]=1|de,un[ce+4>>2]=3|k,g=ce+8|0,Sn=t,0|g}return ce=0|ae(),un[ce>>2]=12,g=0,Sn=t,0|g}function z(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,Q=0,T=0,D=0,k=0,R=0,_=0,M=0;if(e){t=e+-8|0,n=0|un[1837],r=0|un[e+-4>>2],e=-8&r,i=t+e|0;do{if(1&r)d=t,c=e,u=t;else{if(a=0|un[t>>2],!(3&r))return;if(o=t+(0-a)|0,s=a+e|0,o>>>0<n>>>0)return;if((0|un[1838])==(0|o)){if(l=i+4|0,3!=(3&(A=0|un[l>>2])|0)){d=o,c=s,u=o;break}return un[1835]=s,un[l>>2]=-2&A,un[o+4>>2]=1|s,void(un[o+s>>2]=s)}if(A=a>>>3,a>>>0<256){if(a=0|un[o+8>>2],(0|(l=0|un[o+12>>2]))==(0|a)){un[1833]=un[1833]&~(1<<A),d=o,c=s,u=o;break}un[a+12>>2]=l,un[l+8>>2]=a,d=o,c=s,u=o;break}a=0|un[o+24>>2],l=0|un[o+12>>2];do{if((0|l)==(0|o)){if(A=o+16|0,g=A+4|0,f=0|un[g>>2])m=f,E=g;else{if(!(p=0|un[A>>2])){h=0;break}m=p,E=A}for(g=m,f=E;;){if(A=g+20|0,p=0|un[A>>2])v=p,C=A;else{if(I=g+16|0,!(y=0|un[I>>2]))break;v=y,C=I}g=v,f=C}un[f>>2]=0,h=g}else A=0|un[o+8>>2],un[A+12>>2]=l,un[l+8>>2]=A,h=l}while(0);if(a){if(l=0|un[o+28>>2],A=7636+(l<<2)|0,(0|un[A>>2])==(0|o)){if(un[A>>2]=h,!h){un[1834]=un[1834]&~(1<<l),d=o,c=s,u=o;break}}else if(l=a+16|0,un[((0|un[l>>2])==(0|o)?l:a+20|0)>>2]=h,!h){d=o,c=s,u=o;break}un[h+24>>2]=a,l=o+16|0,A=0|un[l>>2],0|A&&(un[h+16>>2]=A,un[A+24>>2]=h),A=0|un[l+4>>2],A?(un[h+20>>2]=A,un[A+24>>2]=h,d=o,c=s,u=o):(d=o,c=s,u=o)}else d=o,c=s,u=o}}while(0);if(!(u>>>0>=i>>>0)&&(t=i+4|0,1&(e=0|un[t>>2]))){if(2&e)un[t>>2]=-2&e,un[d+4>>2]=1|c,un[u+c>>2]=c,T=c;else{if((0|un[1839])==(0|i)){if(h=(0|un[1836])+c|0,un[1836]=h,un[1839]=d,un[d+4>>2]=1|h,(0|d)!=(0|un[1838]))return;return un[1838]=0,void(un[1835]=0)}if((0|un[1838])==(0|i))return h=(0|un[1835])+c|0,un[1835]=h,un[1838]=u,un[d+4>>2]=1|h,void(un[u+h>>2]=h);h=(-8&e)+c|0,C=e>>>3;do{if(e>>>0<256){if(v=0|un[i+8>>2],(0|(E=0|un[i+12>>2]))==(0|v)){un[1833]=un[1833]&~(1<<C);break}un[v+12>>2]=E,un[E+8>>2]=v;break}v=0|un[i+24>>2],E=0|un[i+12>>2];do{if((0|E)==(0|i)){if(m=i+16|0,n=m+4|0,r=0|un[n>>2])B=r,w=n;else{if(!(A=0|un[m>>2])){b=0;break}B=A,w=m}for(n=B,r=w;;){if(m=n+20|0,A=0|un[m>>2])S=A,Q=m;else{if(l=n+16|0,!(p=0|un[l>>2]))break;S=p,Q=l}n=S,r=Q}un[r>>2]=0,b=n}else g=0|un[i+8>>2],un[g+12>>2]=E,un[E+8>>2]=g,b=E}while(0);if(0|v){if(E=0|un[i+28>>2],o=7636+(E<<2)|0,(0|un[o>>2])==(0|i)){if(un[o>>2]=b,!b){un[1834]=un[1834]&~(1<<E);break}}else if(E=v+16|0,un[((0|un[E>>2])==(0|i)?E:v+20|0)>>2]=b,!b)break;un[b+24>>2]=v,E=i+16|0,o=0|un[E>>2],0|o&&(un[b+16>>2]=o,un[o+24>>2]=b),o=0|un[E+4>>2],0|o&&(un[b+20>>2]=o,un[o+24>>2]=b)}}while(0);if(un[d+4>>2]=1|h,un[u+h>>2]=h,(0|d)==(0|un[1838]))return void(un[1835]=h);T=h}if(c=T>>>3,T>>>0<256)return u=7372+(c<<1<<2)|0,e=0|un[1833],t=1<<c,e&t?(t=u+8|0,D=0|un[t>>2],k=t):(un[1833]=e|t,D=u,k=u+8|0),un[k>>2]=d,un[D+12>>2]=d,un[d+8>>2]=D,void(un[d+12>>2]=u);u=T>>>8,u?T>>>0>16777215?R=31:(D=(u+1048320|0)>>>16&8,k=u<<D,u=(k+520192|0)>>>16&4,t=k<<u,k=(t+245760|0)>>>16&2,e=14-(u|D|k)+(t<<k>>>15)|0,R=T>>>(e+7|0)&1|e<<1):R=0,e=7636+(R<<2)|0,un[d+28>>2]=R,un[d+20>>2]=0,un[d+16>>2]=0,k=0|un[1834],t=1<<R;e:do{if(k&t){D=0|un[e>>2];t:do{if((-8&un[D+4>>2]|0)!=(0|T)){for(u=T<<(31==(0|R)?0:25-(R>>>1)|0),c=D;;){if(M=c+16+(u>>>31<<2)|0,!(h=0|un[M>>2]))break;if((-8&un[h+4>>2]|0)==(0|T)){_=h;break t}u<<=1,c=h}un[M>>2]=d,un[d+24>>2]=c,un[d+12>>2]=d,un[d+8>>2]=d;break e}_=D}while(0);D=_+8|0,v=0|un[D>>2],un[v+12>>2]=d,un[D>>2]=d,un[d+8>>2]=v,un[d+12>>2]=_,un[d+24>>2]=0}else un[1834]=k|t,un[e>>2]=d,un[d+24>>2]=e,un[d+12>>2]=d,un[d+8>>2]=d}while(0);if(d=(0|un[1841])-1|0,un[1841]=d,!(0|d)){for(d=7788;;){if(!(_=0|un[d>>2]))break;d=_+8|0}un[1841]=-1}}}}function Z(e,t){e|=0,t|=0;var n=0,r=0;return e?(n=0|_n(t,e),r=(t|e)>>>0>65535?(0|(n>>>0)/(e>>>0))==(0|t)?n:-1:n):r=0,(n=0|W(r))&&3&un[n+-4>>2]?(qt(0|n,0,0|r),0|n):0|n}function X(e,t){e|=0,t|=0;var n=0,r=0,i=0;return e?t>>>0>4294967231?(n=0|ae(),un[n>>2]=12,0|0):0|(n=0|$(e+-8|0,t>>>0<11?16:t+11&-8))?0|(n+8|0):(n=0|W(t))?(r=0|un[e+-4>>2],i=(-8&r)-(0==(3&r|0)?8:4)|0,Kt(0|n,0|e,0|(i>>>0<t>>>0?i:t)),z(e),0|n):0|0:0|(0|W(t))}function $(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0;if(n=e+4|0,r=0|un[n>>2],i=-8&r,a=e+i|0,!(3&r))return t>>>0<256?0|0:(i>>>0>=(t+4|0)>>>0?(i-t|0)>>>0<=un[1953]<<1>>>0:0)?0|e:0|0;if(i>>>0>=t>>>0)return(o=i-t|0)>>>0<=15?0|e:(s=e+t|0,un[n>>2]=1&r|t|2,un[s+4>>2]=3|o,l=a+4|0,un[l>>2]=1|un[l>>2],ee(s,o),0|e);if((0|un[1839])==(0|a))return o=(0|un[1836])+i|0,s=o-t|0,l=e+t|0,o>>>0<=t>>>0?0|0:(un[n>>2]=1&r|t|2,un[l+4>>2]=1|s,un[1839]=l,un[1836]=s,0|e);if((0|un[1838])==(0|a))return(s=(0|un[1835])+i|0)>>>0<t>>>0?0|0:(l=s-t|0,l>>>0>15?(o=e+t|0,A=e+s|0,un[n>>2]=1&r|t|2,un[o+4>>2]=1|l,un[A>>2]=l,d=A+4|0,un[d>>2]=-2&un[d>>2],c=o,u=l):(un[n>>2]=1&r|s|2,l=e+s+4|0,un[l>>2]=1|un[l>>2],c=0,u=0),un[1835]=u,un[1838]=c,0|e);if(2&(c=0|un[a+4>>2])|0)return 0|0;if((u=(-8&c)+i|0)>>>0<t>>>0)return 0|0;i=u-t|0,l=c>>>3;do{if(c>>>0<256){if(s=0|un[a+8>>2],(0|(o=0|un[a+12>>2]))==(0|s)){un[1833]=un[1833]&~(1<<l);break}un[s+12>>2]=o,un[o+8>>2]=s;break}s=0|un[a+24>>2],o=0|un[a+12>>2];do{if((0|o)==(0|a)){if(d=a+16|0,A=d+4|0,g=0|un[A>>2])h=g,m=A;else{if(!(f=0|un[d>>2])){p=0;break}h=f,m=d}for(A=h,g=m;;){if(d=A+20|0,f=0|un[d>>2])y=f,v=d;else{if(E=A+16|0,!(I=0|un[E>>2]))break;y=I,v=E}A=y,g=v}un[g>>2]=0,p=A}else d=0|un[a+8>>2],un[d+12>>2]=o,un[o+8>>2]=d,p=o}while(0);if(0|s){if(o=0|un[a+28>>2],d=7636+(o<<2)|0,(0|un[d>>2])==(0|a)){if(un[d>>2]=p,!p){un[1834]=un[1834]&~(1<<o);break}}else if(o=s+16|0,un[((0|un[o>>2])==(0|a)?o:s+20|0)>>2]=p,!p)break;un[p+24>>2]=s,o=a+16|0,d=0|un[o>>2],0|d&&(un[p+16>>2]=d,un[d+24>>2]=p),d=0|un[o+4>>2],0|d&&(un[p+20>>2]=d,un[d+24>>2]=p)}}while(0);return i>>>0<16?(un[n>>2]=1&r|u|2,p=e+u+4|0,un[p>>2]=1|un[p>>2],0|e):(p=e+t|0,un[n>>2]=1&r|t|2,un[p+4>>2]=3|i,t=e+u+4|0,un[t>>2]=1|un[t>>2],ee(p,i),0|e)}function ee(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,Q=0,T=0,D=0,k=0,R=0;n=e+t|0,r=0|un[e+4>>2];do{if(1&r)A=e,d=t;else{if(i=0|un[e>>2],!(3&r))return;if(a=e+(0-i)|0,o=i+t|0,(0|un[1838])==(0|a)){if(s=n+4|0,3!=(3&(l=0|un[s>>2])|0)){A=a,d=o;break}return un[1835]=o,un[s>>2]=-2&l,un[a+4>>2]=1|o,void(un[n>>2]=o)}if(l=i>>>3,i>>>0<256){if(i=0|un[a+8>>2],(0|(s=0|un[a+12>>2]))==(0|i)){un[1833]=un[1833]&~(1<<l),A=a,d=o;break}un[i+12>>2]=s,un[s+8>>2]=i,A=a,d=o;break}i=0|un[a+24>>2],s=0|un[a+12>>2];do{if((0|s)==(0|a)){if(l=a+16|0,c=l+4|0,u=0|un[c>>2])p=u,h=c;else{if(!(g=0|un[l>>2])){f=0;break}p=g,h=l}for(c=p,u=h;;){if(l=c+20|0,g=0|un[l>>2])I=g,y=l;else{if(m=c+16|0,!(E=0|un[m>>2]))break;I=E,y=m}c=I,u=y}un[u>>2]=0,f=c}else l=0|un[a+8>>2],un[l+12>>2]=s,un[s+8>>2]=l,f=s}while(0);if(i){if(s=0|un[a+28>>2],l=7636+(s<<2)|0,(0|un[l>>2])==(0|a)){if(un[l>>2]=f,!f){un[1834]=un[1834]&~(1<<s),A=a,d=o;break}}else if(s=i+16|0,un[((0|un[s>>2])==(0|a)?s:i+20|0)>>2]=f,!f){A=a,d=o;break}un[f+24>>2]=i,s=a+16|0,l=0|un[s>>2],0|l&&(un[f+16>>2]=l,un[l+24>>2]=f),l=0|un[s+4>>2],l?(un[f+20>>2]=l,un[l+24>>2]=f,A=a,d=o):(A=a,d=o)}else A=a,d=o}}while(0);if(t=n+4|0,2&(e=0|un[t>>2]))un[t>>2]=-2&e,un[A+4>>2]=1|d,un[A+d>>2]=d,S=d;else{if((0|un[1839])==(0|n)){if(f=(0|un[1836])+d|0,un[1836]=f,un[1839]=A,un[A+4>>2]=1|f,(0|A)!=(0|un[1838]))return;return un[1838]=0,void(un[1835]=0)}if((0|un[1838])==(0|n))return f=(0|un[1835])+d|0,un[1835]=f,un[1838]=A,un[A+4>>2]=1|f,void(un[A+f>>2]=f);f=(-8&e)+d|0,y=e>>>3;do{if(e>>>0<256){if(I=0|un[n+8>>2],(0|(h=0|un[n+12>>2]))==(0|I)){un[1833]=un[1833]&~(1<<y);break}un[I+12>>2]=h,un[h+8>>2]=I;break}I=0|un[n+24>>2],h=0|un[n+12>>2];do{if((0|h)==(0|n)){if(p=n+16|0,r=p+4|0,l=0|un[r>>2])C=l,b=r;else{if(!(s=0|un[p>>2])){v=0;break}C=s,b=p}for(r=C,l=b;;){if(p=r+20|0,s=0|un[p>>2])B=s,w=p;else{if(g=r+16|0,!(m=0|un[g>>2]))break;B=m,w=g}r=B,l=w}un[l>>2]=0,v=r}else c=0|un[n+8>>2],un[c+12>>2]=h,un[h+8>>2]=c,v=h}while(0);if(0|I){if(h=0|un[n+28>>2],o=7636+(h<<2)|0,(0|un[o>>2])==(0|n)){if(un[o>>2]=v,!v){un[1834]=un[1834]&~(1<<h);break}}else if(h=I+16|0,un[((0|un[h>>2])==(0|n)?h:I+20|0)>>2]=v,!v)break;un[v+24>>2]=I,h=n+16|0,o=0|un[h>>2],0|o&&(un[v+16>>2]=o,un[o+24>>2]=v),o=0|un[h+4>>2],0|o&&(un[v+20>>2]=o,un[o+24>>2]=v)}}while(0);if(un[A+4>>2]=1|f,un[A+f>>2]=f,(0|A)==(0|un[1838]))return void(un[1835]=f);S=f}if(d=S>>>3,S>>>0<256)return e=7372+(d<<1<<2)|0,t=0|un[1833],f=1<<d,t&f?(f=e+8|0,Q=0|un[f>>2],T=f):(un[1833]=t|f,Q=e,T=e+8|0),un[T>>2]=A,un[Q+12>>2]=A,un[A+8>>2]=Q,void(un[A+12>>2]=e);if(e=S>>>8,e?S>>>0>16777215?D=31:(Q=(e+1048320|0)>>>16&8,T=e<<Q,e=(T+520192|0)>>>16&4,f=T<<e,T=(f+245760|0)>>>16&2,t=14-(e|Q|T)+(f<<T>>>15)|0,D=S>>>(t+7|0)&1|t<<1):D=0,t=7636+(D<<2)|0,un[A+28>>2]=D,un[A+20>>2]=0,un[A+16>>2]=0,T=0|un[1834],f=1<<D,!(T&f))return un[1834]=T|f,un[t>>2]=A,un[A+24>>2]=t,un[A+12>>2]=A,void(un[A+8>>2]=A);f=0|un[t>>2];e:do{if((-8&un[f+4>>2]|0)!=(0|S)){for(t=S<<(31==(0|D)?0:25-(D>>>1)|0),T=f;;){if(R=T+16+(t>>>31<<2)|0,!(Q=0|un[R>>2]))break;if((-8&un[Q+4>>2]|0)==(0|S)){k=Q;break e}t<<=1,T=Q}return un[R>>2]=A,un[A+24>>2]=T,un[A+12>>2]=A,void(un[A+8>>2]=A)}k=f}while(0);R=k+8|0,S=0|un[R>>2],un[S+12>>2]=A,un[R>>2]=A,un[A+8>>2]=S,un[A+12>>2]=k,un[A+24>>2]=0}function te(e){e|=0;var t=0,n=0,r=0;return t=Sn,Sn=Sn+16|0,n=t,r=0|oe(0|un[e+60>>2]),un[n>>2]=r,r=0|ie(0|zn(6,0|n)),Sn=t,0|r}function ne(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0;r=Sn,Sn=Sn+48|0,i=r+32|0,a=r+16|0,o=r,s=e+28|0,l=0|un[s>>2],un[o>>2]=l,A=e+20|0,d=(0|un[A>>2])-l|0,un[o+4>>2]=d,un[o+8>>2]=t,un[o+12>>2]=n,t=d+n|0,d=e+60|0,un[a>>2]=un[d>>2],un[a+4>>2]=o,un[a+8>>2]=2,l=0|ie(0|Yn(146,0|a));e:do{if((0|t)!=(0|l)){for(a=2,c=t,u=o,g=l;;){if((0|g)<0)break;if(c=c-g|0,f=0|un[u+4>>2],p=g>>>0>f>>>0,h=p?u+8|0:u,m=a+(p<<31>>31)|0,E=g-(p?f:0)|0,un[h>>2]=(0|un[h>>2])+E,f=h+4|0,un[f>>2]=(0|un[f>>2])-E,un[i>>2]=un[d>>2],un[i+4>>2]=h,un[i+8>>2]=m,g=0|ie(0|Yn(146,0|i)),(0|c)==(0|g)){I=3;break e}a=m,u=h}un[e+16>>2]=0,un[s>>2]=0,un[A>>2]=0,un[e>>2]=32|un[e>>2],y=2==(0|a)?0:n-(0|un[u+4>>2])|0}else I=3}while(0);return 3==(0|I)&&(I=0|un[e+44>>2],un[e+16>>2]=I+(0|un[e+48>>2]),e=I,un[s>>2]=e,un[A>>2]=e,y=n),Sn=r,0|y}function re(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0;return r=Sn,Sn=Sn+32|0,i=r,a=r+20|0,un[i>>2]=un[e+60>>2],un[i+4>>2]=0,un[i+8>>2]=t,un[i+12>>2]=a,un[i+16>>2]=n,(0|ie(0|Hn(140,0|i)))<0?(un[a>>2]=-1,o=-1):o=0|un[a>>2],Sn=r,0|o}function ie(e){e|=0;var t=0,n=0;return e>>>0>4294963200?(t=0|ae(),un[t>>2]=0-e,n=-1):n=e,0|n}function ae(){return 7892}function oe(e){return 0|(e|=0)}function se(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0;return r=Sn,Sn=Sn+32|0,i=r+16|0,a=r,un[a>>2]=t,o=a+4|0,s=e+48|0,l=0|un[s>>2],un[o>>2]=n-(0!=(0|l)&1),A=e+44|0,un[a+8>>2]=un[A>>2],un[a+12>>2]=l,un[i>>2]=un[e+60>>2],un[i+4>>2]=a,un[i+8>>2]=2,a=0|ie(0|jn(145,0|i)),(0|a)>=1?(i=0|un[o>>2],a>>>0>i>>>0?(o=0|un[A>>2],A=e+4|0,un[A>>2]=o,l=o,un[e+8>>2]=l+(a-i),0|un[s>>2]?(un[A>>2]=l+1,ln[t+(n+-1)>>0]=0|ln[l>>0],d=n):d=n):d=a):(un[e>>2]=un[e>>2]|48&a^16,d=a),Sn=r,0|d}function le(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0;return r=Sn,Sn=Sn+32|0,i=r,un[e+36>>2]=1,(0==(64&un[e>>2]|0)?(un[i>>2]=un[e+60>>2],un[i+4>>2]=21523,un[i+8>>2]=r+16,0|Wn(54,0|i)):0)&&(ln[e+75>>0]=-1),i=0|ne(e,t,n),Sn=r,0|i}function Ae(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0;i=Sn,Sn=Sn+208|0,a=i,o=i+192|0,s=0|_n(n,t),t=o,un[t>>2]=1,un[t+4>>2]=0;e:do{if(0|s){for(t=0-n|0,un[a+4>>2]=n,un[a>>2]=n,l=2,A=n,d=n;;){if(c=A+n+d|0,un[a+(l<<2)>>2]=c,!(c>>>0<s>>>0))break;u=d,l=l+1|0,d=c,A=u}if((A=e+s+t|0)>>>0>e>>>0)for(d=A,l=1,u=e,c=1;;){do{if(3!=(3&c|0)){if(g=l+-1|0,(0|un[a+(g<<2)>>2])>>>0<(d-u|0)>>>0?de(u,n,r,l,a):ue(u,n,r,o,l,0,a),1==(0|l)){ge(o,1),f=0;break}ge(o,g),f=1;break}de(u,n,r,l,a),ce(o,2),f=l+2|0}while(0);if(g=1|un[o>>2],un[o>>2]=g,!((p=u+n|0)>>>0<A>>>0)){h=f,m=p,E=g;break}l=f,u=p,c=g}else h=1,m=e,E=1;for(ue(m,n,r,o,h,0,a),c=o+4|0,u=m,l=h,A=E;;){if(1==(0|l)&1==(0|A)){if(!(0|un[c>>2]))break e;I=19}else(0|l)<2?I=19:(ge(o,2),d=l+-2|0,un[o>>2]=7^un[o>>2],ce(o,1),ue(u+(0-(0|un[a+(d<<2)>>2]))+t|0,n,r,o,l+-1|0,1,a),ge(o,1),g=1|un[o>>2],un[o>>2]=g,p=u+t|0,ue(p,n,r,o,d,1,a),y=p,v=d,C=g);19==(0|I)&&(I=0,g=0|fe(o),ce(o,g),y=u+t|0,v=g+l|0,C=0|un[o>>2]),u=y,l=v,A=C}}}while(0);Sn=i}function de(e,t,n,r,i){e|=0,t|=0,n|=0,r|=0,i|=0;var a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0;a=Sn,Sn=Sn+240|0,o=a,un[o>>2]=e;e:do{if((0|r)>1)for(s=0-t|0,l=e,A=r,d=1,c=e;;){if(u=l+s|0,g=A+-2|0,f=u+(0-(0|un[i+(g<<2)>>2]))|0,(0|tr[1&n](c,f))>-1?(0|tr[1&n](c,u))>-1:0){p=d;break e}if(h=o+(d<<2)|0,(0|tr[1&n](f,u))>-1?(un[h>>2]=f,m=f,E=A+-1|0):(un[h>>2]=u,m=u,E=g),g=d+1|0,(0|E)<=1){p=g;break e}l=m,A=E,d=g,c=0|un[o>>2]}else p=1}while(0);he(t,o,p),Sn=a}function ce(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0;n=e+4|0,t>>>0>31?(r=0|un[n>>2],un[e>>2]=r,un[n>>2]=0,i=t+-32|0,a=0,o=r):(i=t,a=0|un[n>>2],o=0|un[e>>2]),un[e>>2]=a<<32-i|o>>>i,un[n>>2]=a>>>i}function ue(e,t,n,r,i,a,o){e|=0,t|=0,n|=0,r|=0,i|=0,a|=0,o|=0;var s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,Q=0,T=0,D=0;s=Sn,Sn=Sn+240|0,l=s+232|0,A=s,d=0|un[r>>2],un[l>>2]=d,c=0|un[r+4>>2],r=l+4|0,un[r>>2]=c,un[A>>2]=e;e:do{if(1!=(0|d)|0!=(0|c)?(u=0-t|0,g=e+(0-(0|un[o+(i<<2)>>2]))|0,(0|tr[1&n](g,e))>=1):0)for(f=1,p=i,h=0==(0|a),m=e,E=g;;){if(h&(0|p)>1){if(g=m+u|0,I=0|un[o+(p+-2<<2)>>2],(0|tr[1&n](g,E))>-1){y=f,v=p,C=m,b=10;break e}if((0|tr[1&n](g+(0-I)|0,E))>-1){y=f,v=p,C=m,b=10;break e}}if(I=f+1|0,un[A+(f<<2)>>2]=E,g=0|fe(l),ce(l,g),B=g+p|0,!(1!=(0|un[l>>2])|0!=(0|un[r>>2]))){y=I,v=B,C=E,b=10;break e}if(g=E+(0-(0|un[o+(B<<2)>>2]))|0,(0|tr[1&n](g,0|un[A>>2]))<1){w=E,S=I,Q=B,T=0,b=9;break}D=E,f=I,p=B,h=1,E=g,m=D}else w=e,S=1,Q=i,T=a,b=9}while(0);(9==(0|b)?0==(0|T):0)&&(y=S,v=Q,C=w,b=10),10==(0|b)&&(he(t,A,y),de(C,t,n,v,o)),Sn=s}function ge(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0;n=e+4|0,t>>>0>31?(r=0|un[e>>2],un[n>>2]=r,un[e>>2]=0,i=t+-32|0,a=0,o=r):(i=t,a=0|un[e>>2],o=0|un[n>>2]),un[n>>2]=a>>>(32-i|0)|o<<i,un[e>>2]=a<<i}function fe(e){e|=0;var t=0,n=0;return t=0|pe((0|un[e>>2])-1|0),t?0|t:(n=0|pe(0|un[e+4>>2]),0|(0==(0|n)?0:n+32|0))}function pe(e){e|=0;var t=0,n=0,r=0;if(e)if(1&e)r=0;else for(t=e,e=0;;){if(n=e+1|0,2&t){r=n;break}t>>>=1,e=n}else r=32;return 0|r}function he(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0;r=Sn,Sn=Sn+256|0,i=r;e:do{if((0|n)>=2?(a=t+(n<<2)|0,un[a>>2]=i,0|e):0)for(o=e,s=i;;){l=o>>>0<256?o:256,Kt(0|s,0|un[t>>2],0|l),A=0;do{d=t+(A<<2)|0,A=A+1|0,Kt(0|un[d>>2],0|un[t+(A<<2)>>2],0|l),un[d>>2]=(0|un[d>>2])+l}while((0|A)!=(0|n));if(!(A=o-l|0))break e;o=A,s=0|un[a>>2]}}while(0);Sn=r}function me(e){return((e|=0)+-48|0)>>>0<10|0}function Ee(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0;if(n=0|ln[e>>0],r=0|ln[t>>0],n<<24>>24==0?1:n<<24>>24!=r<<24>>24)i=r,a=n;else{n=t,t=e;do{t=t+1|0,n=n+1|0,e=0|ln[t>>0],r=0|ln[n>>0]}while(!(e<<24>>24==0?1:e<<24>>24!=r<<24>>24));i=r,a=e}return(255&a)-(255&i)|0}function Ie(){return 3172}function ye(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0;n=255&t;e:do{if(n){if(3&e)for(a=255&t,o=e;;){if(s=0|ln[o>>0],s<<24>>24==0?1:s<<24>>24==a<<24>>24){r=o;break e}if(!(3&(s=o+1|0))){i=s;break}o=s}else i=e;o=0|_n(n,16843009),a=0|un[i>>2];t:do{if((-2139062144&a^-2139062144)&a+-16843009)d=i;else for(s=i,l=a;;){if((-2139062144&(A=l^o)^-2139062144)&A+-16843009|0){d=s;break t}if(A=s+4|0,(-2139062144&(l=0|un[A>>2])^-2139062144)&l+-16843009|0){d=A;break}s=A}}while(0);for(o=255&t,a=d;;){if(s=0|ln[a>>0],s<<24>>24==0?1:s<<24>>24==o<<24>>24){r=a;break}a=a+1|0}}else r=e+(0|ve(e))|0}while(0);return 0|r}function ve(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,l=0,A=0;t=e;e:do{if(3&t)for(i=e,a=t;;){if(!(0|ln[i>>0])){o=a;break e}if(s=i+1|0,!(3&(a=s))){n=s,r=5;break}i=s}else n=e,r=5}while(0);if(5==(0|r)){for(r=n;;){if((-2139062144&(l=0|un[r>>2])^-2139062144)&l+-16843009)break;r=r+4|0}if((255&l)<<24>>24)for(l=r;;){if(r=l+1|0,!(0|ln[r>>0])){A=r;break}l=r}else A=r;o=A}return o-t|0}function Ce(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0;return i=Sn,Sn=Sn+16|0,a=i,un[a>>2]=r,r=0|Be(e,t,n,a),Sn=i,0|r}function be(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0;e:do{if(n){for(i=e,a=n,o=t;;){if(s=0|ln[i>>0],l=0|ln[o>>0],s<<24>>24!=l<<24>>24)break;if(!(a=a+-1|0)){r=0;break e}i=i+1|0,o=o+1|0}r=(255&s)-(255&l)|0}else r=0}while(0);return 0|r}function Be(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0;i=Sn,Sn=Sn+128|0,a=i+124|0,o=i,s=o,l=3416,A=s+124|0;do{un[s>>2]=un[l>>2],s=s+4|0,l=l+4|0}while((0|s)<(0|A));return(t+-1|0)>>>0>2147483646?t?(a=0|ae(),un[a>>2]=75,g=-1):(d=a,c=1,u=4):(d=e,c=t,u=4),4==(0|u)&&(u=-2-d|0,t=c>>>0>u>>>0?u:c,un[o+48>>2]=t,c=o+20|0,un[c>>2]=d,un[o+44>>2]=d,u=d+t|0,d=o+16|0,un[d>>2]=u,un[o+28>>2]=u,u=0|we(o,n,r),t?(t=0|un[c>>2],ln[t+(((0|t)==(0|un[d>>2]))<<31>>31)>>0]=0,g=u):g=u),Sn=i,0|g}function we(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0;r=Sn,Sn=Sn+224|0,i=r+208|0,a=r+160|0,o=r+80|0,s=r,l=a,A=l+40|0;do{un[l>>2]=0,l=l+4|0}while((0|l)<(0|A));return un[i>>2]=un[n>>2],(0|Se(0,t,i,o,a))<0?d=-1:(c=(0|un[e+76>>2])>-1?0|Qe(e):0,n=0|un[e>>2],l=32&n,(0|ln[e+74>>0])<1&&(un[e>>2]=-33&n),n=e+48|0,0|un[n>>2]?h=0|Se(e,t,i,o,a):(A=e+44|0,u=0|un[A>>2],un[A>>2]=s,g=e+28|0,un[g>>2]=s,f=e+20|0,un[f>>2]=s,un[n>>2]=80,p=e+16|0,un[p>>2]=s+80,s=0|Se(e,t,i,o,a),u?(nr[7&un[e+36>>2]](e,0,0),m=0==(0|un[f>>2])?-1:s,un[A>>2]=u,un[n>>2]=0,un[p>>2]=0,un[g>>2]=0,un[f>>2]=0,h=m):h=s),a=0|un[e>>2],un[e>>2]=a|l,0|c&&Te(e),d=0==(32&a|0)?h:-1),Sn=r,0|d}function Se(e,t,n,r,i){e|=0,t|=0,n|=0,r|=0,i|=0
;var a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,Q=0,T=0,D=0,k=0,R=0,_=0,M=0,N=0,L=0,O=0,P=0,F=0,U=0,x=0,G=0,V=0,H=0,j=0,Y=0,K=0,J=0,q=0,W=0,z=0,Z=0,X=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,oe=0,se=0,le=0,Ae=0,de=0,ce=0,ue=0,ge=0,fe=0,pe=0,he=0,Ee=0,Ie=0,ye=0,ve=0,Ce=0,be=0,Be=0,we=0;a=Sn,Sn=Sn+64|0,o=a+56|0,s=a+40|0,l=a,A=a+48|0,d=a+60|0,un[o>>2]=t,t=0!=(0|e),c=l+40|0,u=c,g=l+39|0,l=A+4|0,f=0,p=0,h=0;e:for(;;){for(m=f,E=p;;){do{if((0|E)>-1){if((0|m)>(2147483647-E|0)){I=0|ae(),un[I>>2]=75,y=-1;break}y=m+E|0;break}y=E}while(0);if(v=0|un[o>>2],!((I=0|ln[v>>0])<<24>>24)){C=94;break e}b=I,I=v;t:for(;;){switch(b<<24>>24){case 37:C=10;break t;case 0:B=I;break t}w=I+1|0,un[o>>2]=w,b=0|ln[w>>0],I=w}t:do{if(10==(0|C))for(C=0,b=I,w=I;;){if(37!=(0|ln[w+1>>0])){B=b;break t}if(S=b+1|0,w=w+2|0,un[o>>2]=w,37!=(0|ln[w>>0])){B=S;break}b=S}}while(0);if(m=B-v|0,t&&De(e,v,m),!m)break;E=y}if(E=0==(0|me(0|ln[1+(0|un[o>>2])>>0])),m=0|un[o>>2],(E?0:36==(0|ln[m+2>>0]))?(Q=(0|ln[m+1>>0])-48|0,T=1,D=3):(Q=-1,T=h,D=1),E=m+D|0,un[o>>2]=E,m=0|ln[E>>0],(I=(m<<24>>24)-32|0)>>>0>31|0==(1<<I&75913|0))k=0,R=m,_=E;else for(m=0,b=I,I=E;;){if(E=1<<b|m,w=I+1|0,un[o>>2]=w,S=0|ln[w>>0],(b=(S<<24>>24)-32|0)>>>0>31|0==(1<<b&75913|0)){k=E,R=S,_=w;break}m=E,I=w}if(R<<24>>24==42){if(0!=(0|me(0|ln[_+1>>0]))?(I=0|un[o>>2],36==(0|ln[I+2>>0])):0)m=I+1|0,un[i+((0|ln[m>>0])-48<<2)>>2]=10,M=0|un[r+((0|ln[m>>0])-48<<3)>>2],N=1,L=I+3|0;else{if(0|T){O=-1;break}t?(I=3+(0|un[n>>2])&-4,m=0|un[I>>2],un[n>>2]=I+4,P=m):P=0,M=P,N=0,L=1+(0|un[o>>2])|0}un[o>>2]=L,m=(0|M)<0,F=m?0-M|0:M,U=m?8192|k:k,x=N,G=L}else{if((0|(m=0|ke(o)))<0){O=-1;break}F=m,U=k,x=T,G=0|un[o>>2]}do{if(46==(0|ln[G>>0])){if(m=G+1|0,42!=(0|ln[m>>0])){un[o>>2]=m,m=0|ke(o),V=m,H=0|un[o>>2];break}if(0|me(0|ln[G+2>>0])?(m=0|un[o>>2],36==(0|ln[m+3>>0])):0){I=m+2|0,un[i+((0|ln[I>>0])-48<<2)>>2]=10,b=0|un[r+((0|ln[I>>0])-48<<3)>>2],I=m+4|0,un[o>>2]=I,V=b,H=I;break}if(0|x){O=-1;break e}t?(I=3+(0|un[n>>2])&-4,b=0|un[I>>2],un[n>>2]=I+4,j=b):j=0,b=2+(0|un[o>>2])|0,un[o>>2]=b,V=j,H=b}else V=-1,H=G}while(0);for(b=0,I=H;;){if(((0|ln[I>>0])-65|0)>>>0>57){O=-1;break e}if(m=I,I=I+1|0,un[o>>2]=I,Y=0|ln[(0|ln[m>>0])-65+(400+(58*b|0))>>0],((K=255&Y)+-1|0)>>>0>=8)break;b=K}if(!(Y<<24>>24)){O=-1;break}m=(0|Q)>-1;do{if(Y<<24>>24==19){if(m){O=-1;break e}C=54}else{if(m){un[i+(Q<<2)>>2]=K,w=r+(Q<<3)|0,E=0|un[w+4>>2],S=s,un[S>>2]=un[w>>2],un[S+4>>2]=E,C=54;break}if(!t){O=0;break e}Re(s,K,n),J=0|un[o>>2],C=55}}while(0);54==(0|C)&&(C=0,t?(J=I,C=55):q=0);t:do{if(55==(0|C)){C=0,m=0|ln[J+-1>>0],E=0!=(0|b)&3==(15&m|0)?-33&m:m,m=-65537&U,S=0==(8192&U|0)?U:m;n:do{switch(0|E){case 110:switch((255&b)<<24>>24){case 0:case 1:un[un[s>>2]>>2]=y,q=0;break t;case 2:w=0|un[s>>2],un[w>>2]=y,un[w+4>>2]=((0|y)<0)<<31>>31,q=0;break t;case 3:dn[un[s>>2]>>1]=y,q=0;break t;case 4:ln[un[s>>2]>>0]=y,q=0;break t;case 6:un[un[s>>2]>>2]=y,q=0;break t;case 7:w=0|un[s>>2],un[w>>2]=y,un[w+4>>2]=((0|y)<0)<<31>>31,q=0;break t;default:q=0;break t}break;case 112:W=120,z=V>>>0>8?V:8,Z=8|S,C=67;break;case 88:case 120:W=E,z=V,Z=S,C=67;break;case 111:w=s,X=0|un[w>>2],$=0|un[w+4>>2],w=0|Me(X,$,c),ee=u-w|0,te=w,ne=0,re=5182,ie=0==(8&S|0)|(0|V)>(0|ee)?V:ee+1|0,oe=S,se=X,le=$,C=73;break;case 105:case 100:if($=s,X=0|un[$>>2],(0|(ee=0|un[$+4>>2]))<0){$=0|Ot(0,0,0|X,0|ee),w=kn,Ae=s,un[Ae>>2]=$,un[Ae+4>>2]=w,de=1,ce=5182,ue=$,ge=w,C=72;break n}de=0!=(2049&S|0)&1,ce=0==(2048&S|0)?0==(1&S|0)?5182:5184:5183,ue=X,ge=ee,C=72;break n;case 117:ee=s,de=0,ce=5182,ue=0|un[ee>>2],ge=0|un[ee+4>>2],C=72;break;case 99:ln[g>>0]=un[s>>2],fe=g,pe=0,he=5182,Ee=1,Ie=m,ye=u;break;case 109:ee=0|ae(),ve=0|Le(0|un[ee>>2]),C=77;break;case 115:ee=0|un[s>>2],ve=0==(0|ee)?5192:ee,C=77;break;case 67:un[A>>2]=un[s>>2],un[l>>2]=0,un[s>>2]=A,Ce=-1,C=81;break;case 83:V?(Ce=V,C=81):(Pe(e,32,F,0,S),be=0,C=91);break;case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:q=0|Ue(e,+Cn[s>>3],F,V,S,E);break t;default:fe=v,pe=0,he=5182,Ee=V,Ie=S,ye=u}}while(0);n:do{if(67==(0|C))C=0,E=s,ee=0|un[E>>2],X=0|un[E+4>>2],E=0|_e(ee,X,c,32&W),w=0==(8&Z|0)|0==(0|ee)&0==(0|X),te=E,ne=w?0:2,re=w?5182:5182+(W>>>4)|0,ie=z,oe=Z,se=ee,le=X,C=73;else if(72==(0|C))C=0,te=0|Ne(ue,ge,c),ne=de,re=ce,ie=V,oe=S,se=ue,le=ge,C=73;else if(77==(0|C))C=0,X=0|Oe(ve,0,V),ee=0==(0|X),fe=ve,pe=0,he=5182,Ee=ee?V:X-ve|0,Ie=m,ye=ee?ve+V|0:X;else if(81==(0|C)){for(C=0,X=0|un[s>>2],ee=0;;){if(!(w=0|un[X>>2])){Be=ee;break}if(E=0|Fe(d,w),(we=(0|E)<0)|E>>>0>(Ce-ee|0)>>>0){C=85;break}if(w=E+ee|0,!(Ce>>>0>w>>>0)){Be=w;break}X=X+4|0,ee=w}if(85==(0|C)){if(C=0,we){O=-1;break e}Be=ee}if(Pe(e,32,F,Be,S),Be)for(X=0|un[s>>2],w=0;;){if(!(E=0|un[X>>2])){be=Be,C=91;break n}if($=0|Fe(d,E),(0|(w=$+w|0))>(0|Be)){be=Be,C=91;break n}if(De(e,d,$),w>>>0>=Be>>>0){be=Be,C=91;break}X=X+4|0}else be=0,C=91}}while(0);if(73==(0|C))C=0,m=0!=(0|se)|0!=(0|le),X=0!=(0|ie)|m,w=u-te+(1&(1^m))|0,fe=X?te:c,pe=ne,he=re,Ee=X?(0|ie)>(0|w)?ie:w:0,Ie=(0|ie)>-1?-65537&oe:oe,ye=u;else if(91==(0|C)){C=0,Pe(e,32,F,be,8192^S),q=(0|F)>(0|be)?F:be;break}w=ye-fe|0,X=(0|Ee)<(0|w)?w:Ee,m=X+pe|0,ee=(0|F)<(0|m)?m:F,Pe(e,32,ee,m,Ie),De(e,he,pe),Pe(e,48,ee,m,65536^Ie),Pe(e,48,X,w,0),De(e,fe,w),Pe(e,32,ee,m,8192^Ie),q=ee}}while(0);f=q,p=y,h=x}e:do{if(94==(0|C))if(e)O=y;else if(h){for(x=1;;){if(!(p=0|un[i+(x<<2)>>2]))break;if(Re(r+(x<<3)|0,p,n),!((p=x+1|0)>>>0<10)){O=1;break e}x=p}for(p=x;;){if(0|un[i+(p<<2)>>2]){O=-1;break e}if((p=p+1|0)>>>0>=10){O=1;break}}}else O=0}while(0);return Sn=a,0|O}function Qe(e){return e|=0,0}function Te(e){e|=0}function De(e,t,n){e|=0,t|=0,n|=0,32&un[e>>2]||Ze(t,n,e)}function ke(e){e|=0;var t=0,n=0,r=0,i=0,a=0;if(0|me(0|ln[un[e>>2]>>0]))for(n=0;;){if(r=0|un[e>>2],i=(10*n|0)-48+(0|ln[r>>0])|0,a=r+1|0,un[e>>2]=a,!(0|me(0|ln[a>>0]))){t=i;break}n=i}else t=0;return 0|t}function Re(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0;e:do{if(t>>>0<=20)switch(0|t){case 9:r=3+(0|un[n>>2])&-4,i=0|un[r>>2],un[n>>2]=r+4,un[e>>2]=i;break e;case 10:i=3+(0|un[n>>2])&-4,r=0|un[i>>2],un[n>>2]=i+4,i=e,un[i>>2]=r,un[i+4>>2]=((0|r)<0)<<31>>31;break e;case 11:r=3+(0|un[n>>2])&-4,i=0|un[r>>2],un[n>>2]=r+4,r=e,un[r>>2]=i,un[r+4>>2]=0;break e;case 12:r=7+(0|un[n>>2])&-8,i=r,a=0|un[i>>2],o=0|un[i+4>>2],un[n>>2]=r+8,r=e,un[r>>2]=a,un[r+4>>2]=o;break e;case 13:o=3+(0|un[n>>2])&-4,r=0|un[o>>2],un[n>>2]=o+4,o=(65535&r)<<16>>16,r=e,un[r>>2]=o,un[r+4>>2]=((0|o)<0)<<31>>31;break e;case 14:o=3+(0|un[n>>2])&-4,r=0|un[o>>2],un[n>>2]=o+4,o=e,un[o>>2]=65535&r,un[o+4>>2]=0;break e;case 15:o=3+(0|un[n>>2])&-4,r=0|un[o>>2],un[n>>2]=o+4,o=(255&r)<<24>>24,r=e,un[r>>2]=o,un[r+4>>2]=((0|o)<0)<<31>>31;break e;case 16:o=3+(0|un[n>>2])&-4,r=0|un[o>>2],un[n>>2]=o+4,o=e,un[o>>2]=255&r,un[o+4>>2]=0;break e;case 17:case 18:o=7+(0|un[n>>2])&-8,s=+Cn[o>>3],un[n>>2]=o+8,Cn[e>>3]=s;break e;default:break e}}while(0)}function _e(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0;if(0==(0|e)&0==(0|t))i=n;else for(a=n,n=t,t=e;;){if(e=a+-1|0,ln[e>>0]=0|fn[864+(15&t)>>0]|r,t=0|xt(0|t,0|n,4),n=kn,0==(0|t)&0==(0|n)){i=e;break}a=e}return 0|i}function Me(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0;if(0==(0|e)&0==(0|t))r=n;else for(i=n,n=t,t=e;;){if(e=i+-1|0,ln[e>>0]=7&t|48,t=0|xt(0|t,0|n,3),n=kn,0==(0|t)&0==(0|n)){r=e;break}i=e}return 0|r}function Ne(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0;if(t>>>0>0|0==(0|t)&e>>>0>4294967295){r=n,i=e,a=t;do{t=i,i=0|Ut(0|i,0|a,10,0),o=a,a=kn,s=0|Nt(0|i,0|a,10,0),l=0|Ot(0|t,0|o,0|s,0|kn),r=r+-1|0,ln[r>>0]=255&l|48}while(o>>>0>9|9==(0|o)&t>>>0>4294967295);A=i,d=r}else A=e,d=n;if(A)for(n=A,A=d;;){if(d=n,n=(n>>>0)/10|0,e=A+-1|0,ln[e>>0]=d-(10*n|0)|48,d>>>0<10){c=e;break}A=e}else c=d;return 0|c}function Le(e){e|=0;var t=0;return t=188+(0|Ye())|0,0|Ke(e,0|un[t>>2])}function Oe(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0;r=255&t,i=0!=(0|n);e:do{if(i&0!=(3&e|0))for(a=255&t,o=e,s=n;;){if((0|ln[o>>0])==a<<24>>24){l=o,A=s,d=6;break e}if(c=o+1|0,u=s+-1|0,!((g=0!=(0|u))&0!=(3&c|0))){f=c,p=u,h=g,d=5;break}o=c,s=u}else f=e,p=n,h=i,d=5}while(0);5==(0|d)&&(h?(l=f,A=p,d=6):d=16);e:do{if(6==(0|d)){if(p=255&t,(0|ln[l>>0])==p<<24>>24){if(A){m=l;break}d=16;break}f=0|_n(r,16843009);t:do{if(A>>>0>3)for(h=l,i=A;;){if((-2139062144&(n=un[h>>2]^f)^-2139062144)&n+-16843009|0){E=i,I=h;break t}if(n=h+4|0,!((e=i+-4|0)>>>0>3)){y=n,v=e,d=11;break}h=n,i=e}else y=l,v=A,d=11}while(0);if(11==(0|d)){if(!v){d=16;break}E=v,I=y}for(f=I,i=E;;){if((0|ln[f>>0])==p<<24>>24){m=f;break e}if(!(i=i+-1|0)){d=16;break}f=f+1|0}}}while(0);return 16==(0|d)&&(m=0),0|m}function Pe(e,t,n,r,i){e|=0,t|=0,n|=0,r|=0,i|=0;var a=0,o=0,s=0;if(a=Sn,Sn=Sn+256|0,o=a,(0|n)>(0|r)&0==(73728&i|0)){if(i=n-r|0,qt(0|o,t<<24>>24|0,0|(i>>>0<256?i:256)),i>>>0>255){t=n-r|0,r=i;do{De(e,o,256),r=r+-256|0}while(r>>>0>255);s=255&t}else s=i;De(e,o,s)}Sn=a}function Fe(e,t){e|=0,t|=0;return 0|(e?0|He(e,t,0):0)}function Ue(e,t,n,r,i,a){e|=0,t=+t,n|=0,r|=0,i|=0,a|=0;var o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,Q=0,T=0,D=0,k=0,R=0,_=0,M=0,N=0,L=0,O=0,P=0,F=0,U=0,x=0,G=0,V=0,H=0,j=0,Y=0,K=0,J=0,q=0,W=0,z=0,Z=0,X=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,Ae=0,de=0,ce=0,ue=0,ge=0,fe=0,pe=0,he=0,me=0,Ee=0,Ie=0,ye=0,ve=0,Ce=0,be=0,Be=0,we=0,Se=0,Qe=0,Te=0;o=Sn,Sn=Sn+560|0,s=o+32|0,l=o+536|0,A=o,d=A,c=o+540|0,un[l>>2]=0,u=c+12|0,g=0|xe(t),f=kn,(0|f)<0?(p=-t,h=0|xe(p),m=p,E=1,I=5199,y=kn,v=h):(m=t,E=0!=(2049&i|0)&1,I=0==(2048&i|0)?0==(1&i|0)?5200:5205:5202,y=f,v=g);do{if(!0&2146435072==(2146435072&y|0))g=0!=(32&a|0),v=E+3|0,Pe(e,32,n,v,-65537&i),De(e,I,E),De(e,m!=m|!1?g?5226:5230:g?5218:5222,3),Pe(e,32,n,v,8192^i),C=v;else{if(t=2*+Ge(m,l),v=0!=t,v&&(un[l>>2]=(0|un[l>>2])-1),97==(0|(g=32|a))){f=32&a,h=0==(0|f)?I:I+9|0,b=2|E,B=12-r|0;do{if(!(r>>>0>11|0==(0|B))){p=8,w=B;do{w=w+-1|0,p*=16}while(0!=(0|w));if(45==(0|ln[h>>0])){S=-(p+(-t-p));break}S=t+p-p;break}S=t}while(0);for(B=0|un[l>>2],w=(0|B)<0?0-B|0:B,Q=0|Ne(w,((0|w)<0)<<31>>31,u),(0|Q)==(0|u)?(w=c+11|0,ln[w>>0]=48,T=w):T=Q,ln[T+-1>>0]=43+(B>>31&2),B=T+-2|0,ln[B>>0]=a+15,Q=(0|r)<1,w=0==(8&i|0),D=A,k=S;;){if(R=~~k,_=D+1|0,ln[D>>0]=f|fn[864+R>>0],k=16*(k-+(0|R)),1!=(_-d|0)||w&Q&0==k?M=_:(ln[_>>0]=46,M=D+2|0),0==k)break;D=M}D=M,(0!=(0|r)?(-2-d+D|0)<(0|r):0)?(Q=u,w=B,N=r+2+Q-w|0,L=Q,O=w):(w=u,Q=B,N=w-d-Q+D|0,L=w,O=Q),Q=N+b|0,Pe(e,32,n,Q,i),De(e,h,b),Pe(e,48,n,Q,65536^i),w=D-d|0,De(e,A,w),D=L-O|0,Pe(e,48,N-(w+D)|0,0,0),De(e,B,D),Pe(e,32,n,Q,8192^i),C=Q;break}Q=(0|r)<0?6:r,v?(D=(0|un[l>>2])-28|0,un[l>>2]=D,P=268435456*t,F=D):(P=t,F=0|un[l>>2]),D=(0|F)<0?s:s+288|0,w=D,k=P;do{f=~~k>>>0,un[w>>2]=f,w=w+4|0,k=1e9*(k-+(f>>>0))}while(0!=k);if(v=D,(0|F)>0)for(B=D,b=w,h=F;;){if(f=(0|h)<29?h:29,(_=b+-4|0)>>>0>=B>>>0){R=_,_=0;do{U=0|Gt(0|un[R>>2],0,0|f),x=0|Lt(0|U,0|kn,0|_,0),U=kn,_=0|Ut(0|x,0|U,1e9,0),G=0|Nt(0|_,0|kn,1e9,0),V=0|Ot(0|x,0|U,0|G,0|kn),un[R>>2]=V,R=R+-4|0}while(R>>>0>=B>>>0);_?(R=B+-4|0,un[R>>2]=_,H=R):H=B}else H=B;e:do{if(b>>>0>H>>>0)for(R=b;;){if(V=R+-4|0,0|un[V>>2]){j=R;break e}if(!(V>>>0>H>>>0)){j=V;break}R=V}else j=b}while(0);if(_=(0|un[l>>2])-f|0,un[l>>2]=_,!((0|_)>0)){Y=H,K=j,J=_;break}B=H,b=j,h=_}else Y=D,K=w,J=F;if((0|J)<0)for(h=1+((Q+25|0)/9|0)|0,b=102==(0|g),B=Y,_=K,R=J;;){if(V=0-R|0,G=(0|V)<9?V:9,B>>>0<_>>>0){V=(1<<G)-1|0,U=1e9>>>G,x=0,q=B;do{W=0|un[q>>2],un[q>>2]=(W>>>G)+x,x=0|_n(W&V,U),q=q+4|0}while(q>>>0<_>>>0);q=0==(0|un[B>>2])?B+4|0:B,x?(un[_>>2]=x,z=_+4|0,Z=q):(z=_,Z=q)}else z=_,Z=0==(0|un[B>>2])?B+4|0:B;if(q=b?D:Z,U=(z-q>>2|0)>(0|h)?q+(h<<2)|0:z,R=(0|un[l>>2])+G|0,un[l>>2]=R,(0|R)>=0){X=Z,$=U;break}B=Z,_=U}else X=Y,$=K;if(X>>>0<$>>>0)if(_=9*(v-X>>2)|0,(B=0|un[X>>2])>>>0<10)ee=_;else for(R=_,_=10;;){if(_=10*_|0,h=R+1|0,B>>>0<_>>>0){ee=h;break}R=h}else ee=0;if(R=103==(0|g),_=0!=(0|Q),(0|(B=Q-(102==(0|g)?0:ee)+((_&R)<<31>>31)|0))<((9*($-v>>2)|0)-9|0)){if(h=B+9216|0,B=(0|h)/9|0,b=D+4+(B+-1024<<2)|0,(0|(w=h-(9*B|0)|0))<8)for(B=w,w=10;;){if(h=10*w|0,!((0|B)<7)){te=h;break}B=B+1|0,w=h}else te=10;if(w=0|un[b>>2],B=(w>>>0)/(te>>>0)|0,g=w-(0|_n(B,te))|0,(h=(b+4|0)==(0|$))&0==(0|g))se=b,le=ee,Ae=X;else if(p=0==(1&B|0)?9007199254740992:9007199254740994,B=te>>>1,k=g>>>0<B>>>0?.5:h&(0|g)==(0|B)?1:1.5,E?(B=45==(0|ln[I>>0]),ne=B?-k:k,re=B?-p:p):(ne=k,re=p),B=w-g|0,un[b>>2]=B,re+ne!=re){if(g=B+te|0,un[b>>2]=g,g>>>0>999999999)for(g=b,B=X;;){if(w=g+-4|0,un[g>>2]=0,w>>>0<B>>>0?(h=B+-4|0,un[h>>2]=0,ie=h):ie=B,h=1+(0|un[w>>2])|0,un[w>>2]=h,!(h>>>0>999999999)){ae=w,oe=ie;break}g=w,B=ie}else ae=b,oe=X;if(B=9*(v-oe>>2)|0,(g=0|un[oe>>2])>>>0<10)se=ae,le=B,Ae=oe;else for(w=B,B=10;;){if(B=10*B|0,h=w+1|0,g>>>0<B>>>0){se=ae,le=h,Ae=oe;break}w=h}}else se=b,le=ee,Ae=X;w=se+4|0,de=le,ce=$>>>0>w>>>0?w:$,ue=Ae}else de=ee,ce=$,ue=X;w=0-de|0;e:do{if(ce>>>0>ue>>>0)for(B=ce;;){if(g=B+-4|0,0|un[g>>2]){ge=B,fe=1;break e}if(!(g>>>0>ue>>>0)){ge=g,fe=0;break}B=g}else ge=ce,fe=0}while(0);do{if(R){if(b=Q+(1&(1^_))|0,(0|b)>(0|de)&(0|de)>-5?(pe=a+-1|0,he=b+-1-de|0):(pe=a+-2|0,he=b+-1|0),!(8&i)){if(fe?0!=(0|(b=0|un[ge+-4>>2])):0)if((b>>>0)%10|0)me=0;else for(B=0,G=10;;){if(G=10*G|0,x=B+1|0,0|(b>>>0)%(G>>>0)){me=x;break}B=x}else me=9;if(B=(9*(ge-v>>2)|0)-9|0,102==(32|pe)){G=B-me|0,b=(0|G)>0?G:0,Ee=pe,Ie=(0|he)<(0|b)?he:b;break}b=B+de-me|0,B=(0|b)>0?b:0,Ee=pe,Ie=(0|he)<(0|B)?he:B;break}Ee=pe,Ie=he}else Ee=a,Ie=Q}while(0);if(Q=0!=(0|Ie),v=Q?1:i>>>3&1,_=102==(32|Ee))ye=0,ve=(0|de)>0?de:0;else{if(R=(0|de)<0?w:de,B=0|Ne(R,((0|R)<0)<<31>>31,u),((R=u)-B|0)<2)for(b=B;;){if(G=b+-1|0,ln[G>>0]=48,!((R-G|0)<2)){Ce=G;break}b=G}else Ce=B;ln[Ce+-1>>0]=43+(de>>31&2),b=Ce+-2|0,ln[b>>0]=Ee,ye=b,ve=R-b|0}if(b=E+1+Ie+v+ve|0,Pe(e,32,n,b,i),De(e,I,E),Pe(e,48,n,b,65536^i),_){w=ue>>>0>D>>>0?D:ue,G=A+9|0,x=G,g=A+8|0,h=w;do{if(U=0|Ne(0|un[h>>2],0,G),(0|h)==(0|w))(0|U)==(0|G)?(ln[g>>0]=48,be=g):be=U;else if(U>>>0>A>>>0)for(qt(0|A,48,U-d|0),q=U;;){if(!((V=q+-1|0)>>>0>A>>>0)){be=V;break}q=V}else be=U;De(e,be,x-be|0),h=h+4|0}while(h>>>0<=D>>>0);if(0==(8&i|0)&(1^Q)||De(e,5234,1),h>>>0<ge>>>0&(0|Ie)>0)for(D=Ie,x=h;;){if((g=0|Ne(0|un[x>>2],0,G))>>>0>A>>>0)for(qt(0|A,48,g-d|0),w=g;;){if(!((_=w+-1|0)>>>0>A>>>0)){Be=_;break}w=_}else Be=g;if(De(e,Be,(0|D)<9?D:9),x=x+4|0,w=D+-9|0,!(x>>>0<ge>>>0&(0|D)>9)){we=w;break}D=w}else we=Ie;Pe(e,48,we+9|0,9,0)}else{if(D=fe?ge:ue+4|0,ue>>>0<D>>>0&(0|Ie)>-1)for(x=A+9|0,G=0==(8&i|0),h=x,Q=0-d|0,w=A+8|0,U=Ie,_=ue;;){v=0|Ne(0|un[_>>2],0,x),(0|v)==(0|x)?(ln[w>>0]=48,Se=w):Se=v;do{if((0|_)==(0|ue)){if(v=Se+1|0,De(e,Se,1),G&(0|U)<1){Qe=v;break}De(e,5234,1),Qe=v}else{if(Se>>>0<=A>>>0){Qe=Se;break}for(qt(0|A,48,Se+Q|0),v=Se;;){if(!((R=v+-1|0)>>>0>A>>>0)){Qe=R;break}v=R}}}while(0);if(g=h-Qe|0,De(e,Qe,(0|U)>(0|g)?g:U),v=U-g|0,!((_=_+4|0)>>>0<D>>>0&(0|v)>-1)){Te=v;break}U=v}else Te=Ie;Pe(e,48,Te+18|0,18,0),De(e,ye,u-ye|0)}Pe(e,32,n,b,8192^i),C=b}}while(0);return Sn=o,0|((0|C)<(0|n)?n:C)}function xe(e){e=+e;var t=0;return Cn[wn>>3]=e,t=0|un[wn>>2],kn=0|un[wn+4>>2],0|t}function Ge(e,t){return e=+e,t|=0,+ +Ve(e,t)}function Ve(e,t){e=+e,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0;switch(Cn[wn>>3]=e,n=0|un[wn>>2],r=0|un[wn+4>>2],2047&(i=0|xt(0|n,0|r,52))){case 0:0!=e?(a=+Ve(0x10000000000000000*e,t),o=a,s=(0|un[t>>2])-64|0):(o=e,s=0),un[t>>2]=s,l=o;break;case 2047:l=e;break;default:un[t>>2]=(2047&i)-1022,un[wn>>2]=n,un[wn+4>>2]=-2146435073&r|1071644672,l=+Cn[wn>>3]}return+l}function He(e,t,n){e|=0,t|=0,n|=0;var r=0;do{if(e){if(t>>>0<128){ln[e>>0]=t,r=1;break}if(n=188+(0|je())|0,!(0|un[un[n>>2]>>2])){if(57216==(-128&t|0)){ln[e>>0]=t,r=1;break}n=0|ae(),un[n>>2]=84,r=-1;break}if(t>>>0<2048){ln[e>>0]=t>>>6|192,ln[e+1>>0]=63&t|128,r=2;break}if(t>>>0<55296|57344==(-8192&t|0)){ln[e>>0]=t>>>12|224,ln[e+1>>0]=t>>>6&63|128,ln[e+2>>0]=63&t|128,r=3;break}if((t+-65536|0)>>>0<1048576){ln[e>>0]=t>>>18|240,ln[e+1>>0]=t>>>12&63|128,ln[e+2>>0]=t>>>6&63|128,ln[e+3>>0]=63&t|128,r=4;break}n=0|ae(),un[n>>2]=84,r=-1;break}r=1}while(0);return 0|r}function je(){return 0|Ie()}function Ye(){return 0|Ie()}function Ke(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0;for(n=0;;){if((0|fn[880+n>>0])==(0|e)){r=4;break}if(87==(0|(i=n+1|0))){a=87,r=5;break}n=i}if(4==(0|r)&&(n?(a=n,r=5):o=976),5==(0|r))for(r=976,n=a;;){a=r;do{e=a,a=a+1|0}while(0!=(0|ln[e>>0]));if(!(n=n+-1|0)){o=a;break}r=a}return 0|Je(o,0|un[t+20>>2])}function Je(e,t){return e|=0,t|=0,0|qe(e,t)}function qe(e,t){e|=0,t|=0;var n=0;return n=t?0|We(0|un[t>>2],0|un[t+4>>2],e):0,0|(0==(0|n)?e:n)}function We(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0;r=1794895138+(0|un[e>>2])|0,i=0|ze(0|un[e+8>>2],r),a=0|ze(0|un[e+12>>2],r),o=0|ze(0|un[e+16>>2],r);e:do{if((i>>>0<t>>>2>>>0?(s=t-(i<<2)|0,a>>>0<s>>>0&o>>>0<s>>>0):0)?0==(3&(o|a)|0):0){for(s=a>>>2,l=o>>>2,A=0,d=i;;){if(c=d>>>1,u=A+c|0,g=u<<1,f=g+s|0,p=0|ze(0|un[e+(f<<2)>>2],r),!((h=0|ze(0|un[e+(f+1<<2)>>2],r))>>>0<t>>>0&p>>>0<(t-h|0)>>>0)){m=0;break e}if(0|ln[e+(h+p)>>0]){m=0;break e}if(!(p=0|Ee(n,e+h|0)))break;if(h=(0|p)<0,1==(0|d)){m=0;break e}A=h?A:u,d=h?c:d-c|0}d=g+l|0,A=0|ze(0|un[e+(d<<2)>>2],r),s=0|ze(0|un[e+(d+1<<2)>>2],r),m=s>>>0<t>>>0&A>>>0<(t-s|0)>>>0&&0==(0|ln[e+(s+A)>>0])?e+s|0:0}else m=0}while(0);return 0|m}function ze(e,t){e|=0,t|=0;var n=0;return n=0|Ht(0|e),0|(0==(0|t)?e:n)}function Ze(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0;r=n+16|0,i=0|un[r>>2],i?(a=i,o=5):0|Xe(n)?s=0:(a=0|un[r>>2],o=5);e:do{if(5==(0|o)){if(i=n+20|0,r=0|un[i>>2],l=r,(a-r|0)>>>0<t>>>0){s=0|nr[7&un[n+36>>2]](n,e,t);break}t:do{if((0|ln[n+75>>0])<0|0==(0|t))A=0,d=e,c=t,u=l;else{for(r=t;;){if(g=r+-1|0,10==(0|ln[e+g>>0]))break;if(!g){A=0,d=e,c=t,u=l;break t}r=g}if((g=0|nr[7&un[n+36>>2]](n,e,r))>>>0<r>>>0){s=g;break e}A=r,d=e+r|0,c=t-r|0,u=0|un[i>>2]}}while(0);Kt(0|u,0|d,0|c),un[i>>2]=(0|un[i>>2])+c,s=A+c|0}}while(0);return 0|s}function Xe(e){e|=0;var t=0,n=0,r=0;return t=e+74|0,n=0|ln[t>>0],ln[t>>0]=n+255|n,n=0|un[e>>2],8&n?(un[e>>2]=32|n,r=-1):(un[e+8>>2]=0,un[e+4>>2]=0,t=0|un[e+44>>2],un[e+28>>2]=t,un[e+20>>2]=t,un[e+16>>2]=t+(0|un[e+48>>2]),r=0),0|r}function $e(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0;return r=e+20|0,i=0|un[r>>2],a=(0|un[e+16>>2])-i|0,e=a>>>0>n>>>0?n:a,Kt(0|i,0|t,0|e),un[r>>2]=(0|un[r>>2])+e,0|n}function et(e,t){e|=0,t|=0;var n=0;return n=0|ye(e,t),0|((0|ln[n>>0])==(255&t)<<24>>24?n:0)}function tt(e){e|=0;var t=0,n=0,r=0;return t=e+74|0,n=0|ln[t>>0],ln[t>>0]=n+255|n,n=e+20|0,t=e+28|0,(0|un[n>>2])>>>0>(0|un[t>>2])>>>0&&nr[7&un[e+36>>2]](e,0,0),un[e+16>>2]=0,un[t>>2]=0,un[n>>2]=0,n=0|un[e>>2],4&n?(un[e>>2]=32|n,r=-1):(t=(0|un[e+44>>2])+(0|un[e+48>>2])|0,un[e+8>>2]=t,un[e+4>>2]=t,r=n<<27>>31),0|r}function nt(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0;return r=Sn,Sn=Sn+16|0,i=r,un[i>>2]=n,n=0|we(e,t,i),Sn=r,0|n}function rt(e){return e|=0,0}function it(e){e|=0;var t=0,n=0,r=0,i=0;return t=0==(0|et(e,43)),n=0|ln[e>>0],r=t?n<<24>>24!=114&1:2,t=0==(0|et(e,120)),i=t?r:128|r,r=0==(0|et(e,101)),e=r?i:524288|i,i=n<<24>>24==114?e:64|e,e=n<<24>>24==119?512|i:i,0|(n<<24>>24==97?1024|e:e)}function at(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0;do{if(e){if((0|un[e+76>>2])<=-1){t=0|ft(e);break}n=0==(0|Qe(e)),r=0|ft(e),n?t=r:(Te(e),t=r)}else{if(i=0|un[792]?0|at(0|un[792]):0,r=0|At(),n=0|un[r>>2])for(r=n,n=i;;){if(o=(0|un[r+76>>2])>-1?0|Qe(r):0,s=(0|un[r+20>>2])>>>0>(0|un[r+28>>2])>>>0?0|ft(r)|n:n,0|o&&Te(r),!(r=0|un[r+56>>2])){a=s;break}n=s}else a=i;dt(),t=a}}while(0);return 0|t}function ot(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0;return n=Sn,Sn=Sn+48|0,r=n+32|0,i=n+16|0,a=n,0|et(5236,0|ln[t>>0])?(o=0|it(t),un[a>>2]=e,un[a+4>>2]=32768|o,un[a+8>>2]=438,e=0|ie(0|qn(5,0|a)),(0|e)>=0?(524288&o|0&&(un[i>>2]=e,un[i+4>>2]=2,un[i+8>>2]=1,Kn(221,0|i)),i=0|ut(e,t),i?s=i:(un[r>>2]=e,zn(6,0|r),s=0)):s=0):(i=0|ae(),un[i>>2]=22,s=0),Sn=n,0|s}function st(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0;return t=(0|un[e+76>>2])>-1?0|Qe(e):0,lt(e),n=0!=(1&un[e>>2]|0),n||(r=0|At(),i=0|un[e+52>>2],a=e+56|0,0|i&&(un[i+56>>2]=un[a>>2]),o=0|un[a>>2],0|o&&(un[o+52>>2]=i),(0|un[r>>2])==(0|e)&&(un[r>>2]=o),dt()),o=0|at(e),r=0|er[1&un[e+12>>2]](e)|o,o=0|un[e+92>>2],0|o&&z(o),n?0|t&&Te(e):z(e),0|r}function lt(e){e|=0;var t=0,n=0,r=0;0|un[e+68>>2]&&(t=0|un[e+116>>2],n=e+112|0,0|t&&(un[t+112>>2]=un[n>>2]),e=0|un[n>>2],r=e?e+116|0:232+(0|ct())|0,un[r>>2]=t)}function At(){return xn(7896),7904}function dt(){Zn(7896)}function ct(){return 0|Ie()}function ut(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0;return n=Sn,Sn=Sn+64|0,r=n+40|0,i=n+24|0,a=n+16|0,o=n,s=n+56|0,0|et(5236,0|ln[t>>0])?(l=0|W(1156),l?(qt(0|l,0,124),0|et(t,43)||(un[l>>2]=114==(0|ln[t>>0])?8:4),0|et(t,101)&&(un[o>>2]=e,un[o+4>>2]=2,un[o+8>>2]=1,Kn(221,0|o)),97==(0|ln[t>>0])?(un[a>>2]=e,un[a+4>>2]=3,t=0|Kn(221,0|a),1024&t||(un[i>>2]=e,un[i+4>>2]=4,un[i+8>>2]=1024|t,Kn(221,0|i)),i=128|un[l>>2],un[l>>2]=i,d=i):d=0|un[l>>2],un[l+60>>2]=e,un[l+44>>2]=l+132,un[l+48>>2]=1024,i=l+75|0,ln[i>>0]=-1,(0==(8&d|0)?(un[r>>2]=e,un[r+4>>2]=21523,un[r+8>>2]=s,0==(0|Wn(54,0|r))):0)&&(ln[i>>0]=10),un[l+32>>2]=3,un[l+36>>2]=1,un[l+40>>2]=2,un[l+12>>2]=1,0|un[1958]||(un[l+76>>2]=-1),gt(l),A=l):A=0):(l=0|ae(),un[l>>2]=22,A=0),Sn=n,0|A}function gt(e){e|=0;var t=0,n=0;return t=0|At(),un[e+56>>2]=un[t>>2],n=0|un[t>>2],0|n&&(un[n+52>>2]=e),un[t>>2]=e,dt(),0|e}function ft(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0;return t=e+20|0,n=e+28|0,((0|un[t>>2])>>>0>(0|un[n>>2])>>>0?(nr[7&un[e+36>>2]](e,0,0),0==(0|un[t>>2])):0)?r=-1:(i=e+4|0,a=0|un[i>>2],o=e+8|0,s=0|un[o>>2],a>>>0<s>>>0&&nr[7&un[e+40>>2]](e,a-s|0,1),un[e+16>>2]=0,un[n>>2]=0,un[t>>2]=0,un[o>>2]=0,un[i>>2]=0,r=0),0|r}function pt(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,A=0,d=0;n=Sn,Sn=Sn+16|0,r=n,i=255&t,ln[r>>0]=i,a=e+16|0,o=0|un[a>>2],o?(s=o,l=4):0|Xe(e)?A=-1:(s=0|un[a>>2],l=4);do{if(4==(0|l)){if(o=e+20|0,a=0|un[o>>2],a>>>0<s>>>0?(0|(d=255&t))!=(0|ln[e+75>>0]):0){un[o>>2]=a+1,ln[a>>0]=i,A=d;break}A=1==(0|nr[7&un[e+36>>2]](e,r,1))?0|fn[r>>0]:-1}}while(0);return Sn=n,0|A}function ht(e){e|=0;var t=0,n=0;return t=128&un[e>>2]&&(0|un[e+20>>2])>>>0>(0|un[e+28>>2])>>>0?2:1,n=0|nr[7&un[e+40>>2]](e,0,t),0|((0|n)<0?n:n-(0|un[e+8>>2])+(0|un[e+4>>2])+(0|un[e+20>>2])-(0|un[e+28>>2])|0)}function mt(e){e|=0;var t=0,n=0;return(0|un[e+76>>2])>-1?(0==(0|Qe(e)),t=0|ht(e),n=t):n=0|ht(e),0|n}function Et(e){return e|=0,0|mt(e)}function It(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0;return r=1==(0|n)?t-(0|un[e+8>>2])+(0|un[e+4>>2])|0:t,t=e+20|0,i=e+28|0,((0|un[t>>2])>>>0>(0|un[i>>2])>>>0?(nr[7&un[e+36>>2]](e,0,0),0==(0|un[t>>2])):0)?a=-1:(un[e+16>>2]=0,un[i>>2]=0,un[t>>2]=0,(0|nr[7&un[e+40>>2]](e,r,n))<0?a=-1:(un[e+8>>2]=0,un[e+4>>2]=0,un[e>>2]=-17&un[e>>2],a=0)),0|a}function yt(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0;return(0|un[e+76>>2])>-1?(r=0==(0|Qe(e)),i=0|It(e,t,n),r?a=i:(Te(e),a=i)):a=0|It(e,t,n),0|a}function vt(e,t,n){return e|=0,t|=0,n|=0,0|yt(e,t,n)}function Ct(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0;((0|un[t+76>>2])>=0?0!=(0|Qe(t)):0)?(n=255&e,r=255&e,((0|r)!=(0|ln[t+75>>0])?(i=t+20|0,(a=0|un[i>>2])>>>0<(0|un[t+16>>2])>>>0):0)?(un[i>>2]=a+1,ln[a>>0]=n,o=r):o=0|pt(t,e),Te(t),s=o):l=3;do{if(3==(0|l)){if(o=255&e,r=255&e,(0|r)!=(0|ln[t+75>>0])?(n=t+20|0,(a=0|un[n>>2])>>>0<(0|un[t+16>>2])>>>0):0){un[n>>2]=a+1,ln[a>>0]=o,s=r;break}s=0|pt(t,e)}}while(0);return 0|s}function bt(e){e|=0;var t=0,n=0,r=0,i=0,a=0;return t=Sn,Sn=Sn+16|0,n=t+8|0,r=t,i=e,un[r>>2]=i,e=0|Vn(10,0|r),-21==(0|e)?(un[n>>2]=i,a=0|Jn(40,0|n)):a=e,e=0|ie(a),Sn=t,0|e}function Bt(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0;return i=0|_n(n,t),a=0==(0|t)?0:n,(0|un[r+76>>2])>-1?(n=0==(0|Qe(r)),o=0|Ze(e,i,r),n?s=o:(Te(r),s=o)):s=0|Ze(e,i,r),0|((0|s)==(0|i)?a:(s>>>0)/(t>>>0)|0)}function wt(e,t){e|=0,t|=0;var n=0,r=0;return n=Sn,Sn=Sn+16|0,r=n,un[r>>2]=t,t=0|we(0|un[760],e,r),Sn=n,0|t}function St(e,t){e|=0,t|=0;var n=0;return n=0|ve(e),((0|Bt(e,1,n,t))!=(0|n))<<31>>31|0}function Qt(e){e|=0;var t=0,n=0,r=0,i=0,a=0;t=0|un[760],n=(0|un[t+76>>2])>-1?0|Qe(t):0;do{if((0|St(e,t))<0)r=-1;else{if(10!=(0|ln[t+75>>0])?(i=t+20|0,(a=0|un[i>>2])>>>0<(0|un[t+16>>2])>>>0):0){un[i>>2]=a+1,ln[a>>0]=10,r=0;break}r=(0|pt(t,10))>>31}}while(0);return 0|n&&Te(t),0|r}function Tt(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0;i=0|_n(n,t),a=0==(0|t)?0:n,o=(0|un[r+76>>2])>-1?0|Qe(r):0,n=r+74|0,s=0|ln[n>>0],ln[n>>0]=s+255|s,s=r+4|0,n=0|un[s>>2],l=(0|un[r+8>>2])-n|0,(0|l)>0?(A=l>>>0<i>>>0?l:i,Kt(0|e,0|n,0|A),un[s>>2]=(0|un[s>>2])+A,d=i-A|0,c=e+A|0):(d=i,c=e);e:do{if(d){for(e=r+32|0,A=c,s=d;;){if(0|tt(r))break;if(((n=0|nr[7&un[e>>2]](r,A,s))+1|0)>>>0<2)break;if(!(l=s-n|0)){u=13;break e}A=A+n|0,s=l}0|o&&Te(r),g=((i-s|0)>>>0)/(t>>>0)|0}else u=13}while(0);return 13==(0|u)&&(o?(Te(r),g=a):g=a),0|g}function Dt(e){e|=0;var t=0,n=0;return(0|un[e+76>>2])>-1?(0==(0|Qe(e)),t=(0|un[e>>2])>>>4&1,n=t):n=(0|un[e>>2])>>>4&1,0|n}function kt(e){e=+e;var t=0,n=0,r=0,i=0;return Cn[wn>>3]=e,t=0|un[wn+4>>2],n=2146435072&t,n>>>0>1126170624|1126170624==(0|n)&!1?i=e:(n=(0|t)<0,r=n?e+-4503599627370496+4503599627370496:e+4503599627370496+-4503599627370496,i=0==r?n?-0:0:r),+i}function Rt(e){e=+e;return 0|rt(32),0|~~+kt(e)}function _t(){}function Mt(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0;return n=65535&e,r=65535&t,i=0|_n(r,n),a=e>>>16,e=(i>>>16)+(0|_n(r,a))|0,r=t>>>16,t=0|_n(r,n),0|(kn=(e>>>16)+(0|_n(r,a))+(((65535&e)+t|0)>>>16)|0,e+t<<16|65535&i|0)}function Nt(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0;return i=e,e=n,n=0|Mt(i,e),a=kn,0|(kn=(0|_n(t,e))+(0|_n(r,i))+a|0&a,0|n)}function Lt(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0;return i=e+n>>>0,0|(kn=t+r+(i>>>0<e>>>0|0)>>>0,0|i)}function Ot(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0;return i=t-r>>>0,i=t-r-(n>>>0>e>>>0|0)>>>0,0|(kn=i,e-n>>>0|0)}function Pt(e){return e|=0,0|(e?31-(0|Ln(e^e-1))|0:32)}function Ft(e,t,n,r,i){e|=0,t|=0,n|=0,r|=0,i|=0;var a=0,o=0,s=0,l=0,A=0,d=0,c=0,u=0,g=0,f=0,p=0,h=0,m=0,E=0,I=0,y=0,v=0,C=0,b=0,B=0,w=0,S=0,Q=0,T=0,D=0,k=0,R=0;if(a=e,o=t,s=o,l=n,A=r,d=A,!s)return c=0!=(0|i),d?c?(un[i>>2]=0|e,un[i+4>>2]=0&t,u=0,g=0,0|(kn=u,g)):(u=0,g=0,0|(kn=u,g)):(c&&(un[i>>2]=(a>>>0)%(l>>>0),un[i+4>>2]=0),u=0,g=(a>>>0)/(l>>>0)>>>0,0|(kn=u,g));c=0==(0|d);do{if(l){if(!c){if((f=(0|Ln(0|d))-(0|Ln(0|s))|0)>>>0<=31){p=f+1|0,h=31-f|0,m=f-31>>31,E=p,I=a>>>(p>>>0)&m|s<<h,y=s>>>(p>>>0)&m,v=0,C=a<<h;break}return i?(un[i>>2]=0|e,un[i+4>>2]=o|0&t,u=0,g=0,0|(kn=u,g)):(u=0,g=0,0|(kn=u,g))}if((h=l-1|0)&l|0){m=33+(0|Ln(0|l))-(0|Ln(0|s))|0,p=64-m|0,f=32-m|0,b=f>>31,B=m-32|0,w=B>>31,E=m,I=f-1>>31&s>>>(B>>>0)|(s<<f|a>>>(m>>>0))&w,y=w&s>>>(m>>>0),v=a<<p&b,C=(s<<p|a>>>(B>>>0))&b|a<<f&m-33>>31;break}return 0|i&&(un[i>>2]=h&a,un[i+4>>2]=0),1==(0|l)?(u=o|0&t,g=0|e,0|(kn=u,g)):(h=0|Pt(0|l),u=s>>>(h>>>0)|0,g=s<<32-h|a>>>(h>>>0)|0,0|(kn=u,g))}if(c)return 0|i&&(un[i>>2]=(s>>>0)%(l>>>0),un[i+4>>2]=0),u=0,g=(s>>>0)/(l>>>0)>>>0,0|(kn=u,g);if(!a)return 0|i&&(un[i>>2]=0,un[i+4>>2]=(s>>>0)%(d>>>0)),u=0,g=(s>>>0)/(d>>>0)>>>0,0|(kn=u,g);if(!((h=d-1|0)&d))return 0|i&&(un[i>>2]=0|e,un[i+4>>2]=h&s|0&t),u=0,g=s>>>((0|Pt(0|d))>>>0),0|(kn=u,g);if((h=(0|Ln(0|d))-(0|Ln(0|s))|0)>>>0<=30){m=h+1|0,f=31-h|0,E=m,I=s<<f|a>>>(m>>>0),y=s>>>(m>>>0),v=0,C=a<<f;break}return i?(un[i>>2]=0|e,un[i+4>>2]=o|0&t,u=0,g=0,0|(kn=u,g)):(u=0,g=0,0|(kn=u,g))}while(0);if(E){t=0|n,n=A|0&r,r=0|Lt(0|t,0|n,-1,-1),A=kn,o=C,C=v,v=y,y=I,I=E,E=0;do{e=o,o=C>>>31|o<<1,C=E|C<<1,a=y<<1|e>>>31|0,e=y>>>31|v<<1|0,Ot(0|r,0|A,0|a,0|e),s=kn,d=s>>31|((0|s)<0?-1:0)<<1,E=1&d,y=0|Ot(0|a,0|e,d&t|0,(((0|s)<0?-1:0)>>31|((0|s)<0?-1:0)<<1)&n|0),v=kn,I=I-1|0}while(0!=(0|I));S=o,Q=C,T=v,D=y,k=0,R=E}else S=C,Q=v,T=y,D=I,k=0,R=0;return E=Q,Q=0,0|i&&(un[i>>2]=D,un[i+4>>2]=T),u=(0|E)>>>31|(S|Q)<<1|0&(Q<<1|E>>>31)|k,g=-2&(E<<1|0)|R,0|(kn=u,g)}function Ut(e,t,n,r){return e|=0,t|=0,n|=0,r|=0,0|Ft(e,t,n,r,0)}function xt(e,t,n){return e|=0,t|=0,(0|(n|=0))<32?(kn=t>>>n,e>>>n|(t&(1<<n)-1)<<32-n):(kn=0,t>>>n-32|0)}function Gt(e,t,n){return e|=0,t|=0,(0|(n|=0))<32?(kn=t<<n|(e&(1<<n)-1<<32-n)>>>32-n,e<<n):(kn=e<<n-32,0)}function Vt(e){return(255&(e|=0))<<8|e>>8&255|0}function Ht(e){return(255&(e|=0))<<24|(e>>8&255)<<16|(e>>16&255)<<8|e>>>24|0}function jt(e,t){return e=+e,t=+t,e!=e?+t:t!=t?+e:+Nn(+e,+t)}function Yt(e,t){return e=+e,t=+t,e!=e?+t:t!=t?+e:+Mn(+e,+t)}function Kt(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0;if((0|n)>=8192)return 0|Xn(0|e,0|t,0|n);if(r=0|e,i=e+n|0,(3&e)==(3&t)){for(;3&e;){if(!n)return 0|r;ln[e>>0]=0|ln[t>>0],e=e+1|0,t=t+1|0,n=n-1|0}for(a=-4&i|0,n=a-64|0;(0|e)<=(0|n);)un[e>>2]=un[t>>2],un[e+4>>2]=un[t+4>>2],un[e+8>>2]=un[t+8>>2],un[e+12>>2]=un[t+12>>2],un[e+16>>2]=un[t+16>>2],un[e+20>>2]=un[t+20>>2],un[e+24>>2]=un[t+24>>2],un[e+28>>2]=un[t+28>>2],un[e+32>>2]=un[t+32>>2],un[e+36>>2]=un[t+36>>2],un[e+40>>2]=un[t+40>>2],un[e+44>>2]=un[t+44>>2],un[e+48>>2]=un[t+48>>2],un[e+52>>2]=un[t+52>>2],un[e+56>>2]=un[t+56>>2],un[e+60>>2]=un[t+60>>2],e=e+64|0,t=t+64|0;for(;(0|e)<(0|a);)un[e>>2]=un[t>>2],e=e+4|0,t=t+4|0}else for(a=i-4|0;(0|e)<(0|a);)ln[e>>0]=0|ln[t>>0],ln[e+1>>0]=0|ln[t+1>>0],ln[e+2>>0]=0|ln[t+2>>0],ln[e+3>>0]=0|ln[t+3>>0],e=e+4|0,t=t+4|0;for(;(0|e)<(0|i);)ln[e>>0]=0|ln[t>>0],e=e+1|0,t=t+1|0;return 0|r}function Jt(e,t,n){e|=0,t|=0,n|=0;var r=0;if((0|t)<(0|e)&(0|e)<(t+n|0)){for(r=e,t=t+n|0,e=e+n|0;(0|n)>0;)e=e-1|0,t=t-1|0,n=n-1|0,ln[e>>0]=0|ln[t>>0];e=r}else Kt(e,t,n);return 0|e}function qt(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0;if(r=e+n|0,t&=255,(0|n)>=67){for(;3&e;)ln[e>>0]=t,e=e+1|0;for(i=-4&r|0,a=i-64|0,o=t|t<<8|t<<16|t<<24;(0|e)<=(0|a);)un[e>>2]=o,un[e+4>>2]=o,un[e+8>>2]=o,un[e+12>>2]=o,un[e+16>>2]=o,un[e+20>>2]=o,un[e+24>>2]=o,un[e+28>>2]=o,un[e+32>>2]=o,un[e+36>>2]=o,un[e+40>>2]=o,un[e+44>>2]=o,un[e+48>>2]=o,un[e+52>>2]=o,un[e+56>>2]=o,un[e+60>>2]=o,e=e+64|0;for(;(0|e)<(0|i);)un[e>>2]=o,e=e+4|0}for(;(0|e)<(0|r);)ln[e>>0]=t,e=e+1|0;return r-n|0}function Wt(e){e|=0;var t=0,n=0;return t=0|un[Bn>>2],n=t+e|0,(0|e)>0&(0|n)<(0|t)|(0|n)<0?(Un(),Gn(12),-1):(un[Bn>>2]=n,((0|n)>(0|Fn())?0==(0|Pn()):0)?(un[Bn>>2]=t,Gn(12),-1):0|t)}function zt(e,t){return e|=0,t|=0,0|er[1&e](0|t)}function Zt(e,t,n){return e|=0,t|=0,n|=0,0|tr[1&e](0|t,0|n)}function Xt(e,t,n,r){return e|=0,t|=0,n|=0,r|=0,0|nr[7&e](0|t,0|n,0|r)}function $t(e,t,n,r,i){e|=0,t|=0,n=+n,r=+r,i|=0,rr[0&e](0|t,+n,+r,0|i)}function en(e,t,n,r,i){e|=0,t|=0,n|=0,r|=0,i|=0,ir[1&e](0|t,0|n,0|r,0|i)}function tn(e){return e|=0,On(0),0}function nn(e,t){return e|=0,t|=0,On(1),0}function rn(e,t,n){return e|=0,t|=0,n|=0,On(2),0}function an(e,t,n,r){e|=0,t=+t,n=+n,r|=0,On(3)}function on(e,t,n,r){e|=0,t|=0,n|=0,r|=0,On(4)}var sn=e.Int8Array,ln=new sn(n),An=e.Int16Array,dn=new An(n),cn=e.Int32Array,un=new cn(n),gn=e.Uint8Array,fn=new gn(n),pn=e.Uint16Array,hn=new pn(n),mn=e.Uint32Array,En=new mn(n),In=e.Float32Array,yn=new In(n),vn=e.Float64Array,Cn=new vn(n),bn=e.byteLength,Bn=0|t.DYNAMICTOP_PTR,wn=0|t.tempDoublePtr,Sn=0|t.STACKTOP,Qn=0|t.STACK_MAX,Tn=0,Dn=0,kn=(e.NaN,e.Infinity,0),Rn=(e.Math.floor,e.Math.abs),_n=(e.Math.sqrt,e.Math.pow,e.Math.cos,e.Math.sin,e.Math.tan,e.Math.acos,e.Math.asin,e.Math.atan,e.Math.atan2,e.Math.exp,e.Math.log,e.Math.ceil,e.Math.imul),Mn=e.Math.min,Nn=e.Math.max,Ln=e.Math.clz32,On=t.abort,Pn=(t.assert,t.enlargeMemory),Fn=t.getTotalMemory,Un=t.abortOnCannotGrowMemory,xn=(t.invoke_ii,t.invoke_iii,t.invoke_iiii,t.invoke_viddi,t.invoke_viiii,t.___lock),Gn=t.___setErrNo,Vn=t.___syscall10,Hn=t.___syscall140,jn=t.___syscall145,Yn=t.___syscall146,Kn=t.___syscall221,Jn=t.___syscall40,qn=t.___syscall5,Wn=t.___syscall54,zn=t.___syscall6,Zn=t.___unlock,Xn=(t.__exit,t._emscripten_memcpy_big),$n=t._exit,er=(t._llvm_fabs_f64,[tn,te]),tr=[nn,G],nr=[rn,ne,re,se,le,$e,rn,rn],rr=[an],ir=[on,R];return{___errno_location:ae,___muldi3:Nt,___udivdi3:Ut,_bitshift64Lshr:xt,_bitshift64Shl:Gt,_convert_segment_file:U,_emscripten_replace_memory:r,_free:z,_get_dts_offset:P,_get_key_frame_first:F,_get_last_vpts:O,_i64Add:Lt,_i64Subtract:Ot,_llvm_bswap_i16:Vt,_llvm_bswap_i32:Ht,_llvm_maxnum_f64:jt,_llvm_minnum_f64:Yt,_malloc:W,_memcpy:Kt,_memmove:Jt,_memset:qt,_sbrk:Wt,_simulate_memory_allocation:x,_stream_ctx_delete:B,_stream_ctx_new:b,dynCall_ii:zt,dynCall_iii:Zt,dynCall_iiii:Xt,dynCall_viddi:$t,dynCall_viiii:en,establishStackSpace:s,getTempRet0:d,runPostSets:_t,setTempRet0:A,setThrew:l,stackAlloc:i,stackRestore:o,stackSave:a}}(Module.asmGlobalArg,Module.asmLibraryArg,ve),wt=(Module.___errno_location=Bt.___errno_location,Module.___muldi3=Bt.___muldi3,Module.___udivdi3=Bt.___udivdi3,Module._bitshift64Lshr=Bt._bitshift64Lshr,Module._bitshift64Shl=Bt._bitshift64Shl,
Module._convert_segment_file=Bt._convert_segment_file,Module._emscripten_replace_memory=Bt._emscripten_replace_memory),St=(Module._free=Bt._free,Module._get_dts_offset=Bt._get_dts_offset,Module._get_key_frame_first=Bt._get_key_frame_first,Module._get_last_vpts=Bt._get_last_vpts,Module._i64Add=Bt._i64Add,Module._i64Subtract=Bt._i64Subtract,Module._llvm_bswap_i16=Bt._llvm_bswap_i16,Module._llvm_bswap_i32=Bt._llvm_bswap_i32,Module._llvm_maxnum_f64=Bt._llvm_maxnum_f64,Module._llvm_minnum_f64=Bt._llvm_minnum_f64,Module._malloc=Bt._malloc),Qt=(Module._memcpy=Bt._memcpy,Module._memmove=Bt._memmove,Module._memset=Bt._memset,Module._sbrk=Bt._sbrk,Module._simulate_memory_allocation=Bt._simulate_memory_allocation,Module._stream_ctx_delete=Bt._stream_ctx_delete,Module._stream_ctx_new=Bt._stream_ctx_new,Module.establishStackSpace=Bt.establishStackSpace,Module.getTempRet0=Bt.getTempRet0,Module.runPostSets=Bt.runPostSets,Module.setTempRet0=Bt.setTempRet0,Module.setThrew=Bt.setThrew,Module.stackAlloc=Bt.stackAlloc),Tt=Module.stackRestore=Bt.stackRestore,Dt=Module.stackSave=Bt.stackSave;Module.dynCall_ii=Bt.dynCall_ii,Module.dynCall_iii=Bt.dynCall_iii,Module.dynCall_iiii=Bt.dynCall_iiii,Module.dynCall_viddi=Bt.dynCall_viddi,Module.dynCall_viiii=Bt.dynCall_viiii;if(Module.asm=Bt,Module.cwrap=i,ot)if(M(ot)||(ot=function(e){return Module.locateFile?Module.locateFile(e,he):he+e}(ot)),fe||pe){var kt=Module.readBinary(ot);be.set(kt,8)}else{R("memory initializer");var Rt=function(e){e.byteLength&&(e=new Uint8Array(e)),be.set(e,8),Module.memoryInitializerRequest&&delete Module.memoryInitializerRequest.response,_("memory initializer")},_t=X(ot);_t?Rt(_t.buffer):Module.memoryInitializerRequest?Module.memoryInitializerRequest.response?setTimeout(ae,0):Module.memoryInitializerRequest.addEventListener("load",ae):ie()}oe.prototype=new Error,oe.prototype.constructor=oe;var Mt;if(at=function e(){Module.calledRun||se(),Module.calledRun||(at=e)},Module.run=se,Module.abort=Ae,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();return Module.noExitRuntime=!0,se(),{Module:Module,FS:mt}}}),function(e,t){if("function"==typeof define&&define.amd)define("es6!HlscoreLoader",["exports","base64-hlscore-wasm","hlscore","hlscore-asm","util"],t);else if("undefined"!=typeof exports)t(exports,require("base64-hlscore-wasm"),require("hlscore"),require("hlscore-asm"),require("util"));else{var n={exports:{}};t(n.exports,e.base64HlscoreWasm,e.hlscore,e.hlscoreAsm,e.util),e.unknown=n.exports}}(this,function(e,t,n,r,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function s(e,t){if(!o(e,t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function d(){this.hasRuntimeInitialized_=!0,this.hlscore_&&this.releaseQueue()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=a(t),n=a(n),r=a(r),i=a(i);var c=function(){function e(n,r){s(this,e),this.mode_=r.mode,window.Module={onRuntimeInitialized:d.bind(this),locateFile:function(e,t){return r.baseUrl+"lib/"+e}},this.mode_==e.Mode.MODULARIZED_WEB_ASSEMBLY&&(window.Module.wasmBinary=i.default.base64ToUint8Array(t.default)),this.log_=n?n.getLogFn("HlscoreLoader"):function(){console.log.apply(console,["[!HlscoreLoader!]\t"].concat(Array.prototype.slice.call(arguments)))},this.hlscore_=null,this.callbackQueue_=[],this.hasRuntimeInitialized_=!1}return A(e,[{key:"releaseQueue",value:function(){for(;this.callbackQueue_.length;){var e=this.callbackQueue_.shift();"function"==typeof e&&e(this.hlscore_)}}},{key:"load",value:function(){if(this.log_("@load with mode:",this.mode_),!this.hlscore_){var t;t=this.mode_==e.Mode.ASM?r.default:n.default,this.hlscore_=t(),this.hasRuntimeInitialized_&&this.releaseQueue()}}},{key:"registerCallback",value:function(e){this.callbackQueue_.push(e),this.hasRuntimeInitialized_&&this.releaseQueue()}},{key:"resetCallbackQueue",value:function(){this.callbackQueue_=[]}},{key:"destroy",value:function(){this.mode_=null,this.hlscore_=null,this.callbackQueue_=[],this.hasRuntimeInitialized_=!1}}]),e}();e.default=c,c.Mode={ASM:"ASM",WEB_ASSEMBLY:"WEB_ASSEMBLY",MODULARIZED_WEB_ASSEMBLY:"MODULARIZED_WEB_ASSEMBLY"}}),define("VideoManager",["util","PlayerSelector","Video","ExternalVideoInterface","JSHlsVideo","DashVideo","FlashVideo","ShakaVideo","Audio","es6!HlscoreLoader","hlscore"],function(e,t,n,r,i,a,o,s,l,A,d){function c(d,c,u,g,f,p){function h(){P("@onHlscoreReady")}function m(e){switch(P("@setVideoInstanceType",e),H.resetCallbackQueue(),e){case x.MSE:M=new i(d,c,u,g),H.registerCallback(M.setHlscore),V.mode==A.default.Mode.ASM&&H.load();break;case x.HTML5:M=new n(d,c,u,g);break;case x.FLASH:M=new o(d,c,u,g);break;case x.EXTERNAL:M=new r(d,c,u,g);break;case x.DASH:M=new a(d,c,u,g);break;case x.SHAKA:M=new s(d,c,u,g,F);break;case x.AUDIO:M=new l(d,c,u,g);break;default:throw new Error("Unrecognized video instance type set with setVideoInstanceType")}p.dispatchEvent("PLAYER_TYPE_SET",e),d.publish("playerTypeSet",e)}function E(e){var t=Array.prototype.slice.call(arguments,1);try{if(e in M)return M[e].apply(null,t)}catch(t){console.error("Encountered an error while calling method: "+e+" on selectedVideoInstance:",t.message)}}function I(){M&&M.destroy&&M.destroy()}function y(e,t){return R.filterPublishedUrls(e,t)}function v(n,r,i){N=i;var a,o=r.videoElement,s=r.audioElement,l=r.audioPosterElement;return arguments.length>2&&(arguments[1].videoElement="",arguments[1].audioElement="",arguments[1].audioPosterElement="",O=e.deepCopy(Array.prototype.slice.call(arguments)),arguments[1].videoElement=O[1].videoElement=o,arguments[1].audioElement=O[1].audioElement=s,arguments[1].audioPosterElement=O[1].audioPosterElement=l,O[2]=i),n&&"object"==typeof n&&"length"in n?(a=y(n,r.isLive),_=R.getSelection({isLive:r.isLive},U,a.filteredTypes,a.filtered),L=U==t.SelectionTypes.STRICT_MEDIA_URL_ORDER?a.filtered[_.selectedFormatIndex]:D(a.filtered,r.duration,r.isLive,r.selectedBitrate),L&&"adBreakInfo"in L||g.compactInfo?d.publish("adBreakInfoDetected",L.adBreakInfo||g.compactInfo):d.publish("adBreakInfoDetected",null),!!_&&(g.externalVideoInterface&&r.isLive?(P("@setSourceOnCompatiblePlayer using ExternalVideoInterface as videoObj"),"getType"in M&&M.getType()!=x.EXTERNAL&&(P("@setSourceOnCompatiblePlayer creating ExternalVideoInterface as videoObj"),M.destroy(),M.setVideoInstanceType(x.EXTERNAL),M.init())):(P("@setSourceOnCompatiblePlayer creating",_.selectedPlayer,"as videoObj"),P("@setSourceOnCompatiblePlayer","getType"in M,M.getType(),_.selectedPlayer,M.getType()!=_.selectedPlayer),P("@setSourceOnCompatiblePlayer destroying ",M.getType(),"to create",_.selectedPlayer),M.destroy(),m(_.selectedPlayer),M.init(r.videoElement,r.width,r.height,{element:r.audioElement,posterElement:r.audioPosterElement,posterUrl:r.poster})),!L||"object"!=typeof L||"length"in L?P("@setSourceOnCompatiblePlayer Invalid source info",L):(L.video=r.uploadId,L.timeDelta=r.timeDelta,P("@setSourceOnCompatiblePlayer selectedVideoSourceInfo",L),C(L,_,r.isLive),M.setSource(L,T,r.offset,r.useBackup,r.livePlayAt)),!0)):void console.error("No valid media urls are provided")}function C(e,t,n){var r,i={DASH:1,MSE:1},a=/\{\{NEED_SERVER_SIDE_AD_TRACKING\}\}/,o=!("clientSideAdTracking"in g)||!!g.clientSideAdTracking;n&&(o=t.selectedPlayer in i&&o),r=o?0:1,e&&("string"==typeof e.embed_url&&(e.embed_url=e.embed_url.replace(a,r)),"string"==typeof e.backup_url&&(e.backup_url=e.backup_url.replace(a,r)),p.dispatchEvent("STITCHED_AD_TRACKING_TYPE_SET",o?"client-side":"server-side"))}function b(){return L}function B(){return L&&!!L.backup_url}function w(e,t,n){return P("@loadBackupStream selectedVideoSourceInfo",L),"backup_url"in L&&L.embed_url!=L.backup_url?(M.destroy(),m(_.selectedPlayer),M.init(e,t,n),M.setSource(L,T,null,!0),!0):(console.error("@loadBackupStream no backup stream detected"),!1)}function S(e,t,n){return P("@loadMainStream selectedVideoSourceInfo",L),M.destroy(),m(_.selectedPlayer),M.init(e,t,n),M.setSource(L,T,null),!0}function Q(e){var t,n,r,i;return!("failover"!==e||!O||(t=O[0],n=O[1],r=R.filterPublishedUrls(t,n.isLive),(i=r.filtered)&&i.length))}function T(e,t){P("@evaluateError",e);var n=!1;if(e){if(_&&(P("blacklisting capability:",_.selectedPlayer,_.selectedFormat),R.blackListCapability(_.selectedPlayer,_.selectedFormat)),P("@evaluateError last currentTime",M.getCurrentTime()),Q(t))return!1;n=v.apply(null,Array.prototype.slice.call(O))}return P("@evaluateError alternateAvailable:",n),"failover"!=t&&N&&N(e),n}function D(e,t,n,r){var i,a,o,s,l,A,d=0,c=625e4;if(!e||!e.length)return p.dispatchError("VMNG010"),null;if(!(o=_&&_.selectedFormat||null))return p.dispatchError("VMNG020"),null;P("@selectBestFormat isLive:",n,"selectedFormat:",o),o in{DASH_VOD:1,DASH_LIVE:1}?A=!0:o in{HLS_LIVE:1,HLS_VOD:1}?l=!0:o in{MP4:1,MP4_BP:1}&&(s=!0),P("@selectBestFormat isMp4Prioritized",s),P("@selectBestFormat isHLSPrioritized",l),P("@selectBestFormat isDashPrioritized",A);for(var u,f=0,h=e.length;f<h;f++)(i=e[f])&&i.protocol in{http:1,https:1}&&(u="string"==typeof i.format?i.format.toLowerCase():"",(u.indexOf("mp4")>-1||u.indexOf("m3u8")>-1||u.indexOf("dash")>-1)&&(a=Math.pow(parseInt(r)-(parseInt(i.kbps)||r),2),P("@selectBestFormat non-prioritized raw score",a,"item.kbps",i.kbps,"selectedBitrate",r),s&&u.indexOf("mp4")>-1&&(a-=7840001),s&&/mp4.*bp/.test(u)&&(a-=7840001),l&&u.indexOf("m3u8")>-1&&(a-=5e4),l&&"m3u8-variant"==u&&(a-=5e4),A&&/dash/.test(i.format)&&(a-=5e4),A&&/dash/.test(i.format)&&"string"==typeof i.kbps&&/variant/.test(i.kbps.toLowerCase())&&(a-=5e4),g.preferredCdn&&"string"==typeof i.cdn_name&&new RegExp(g.preferredCdn,"i").test(i.cdn_name)&&(a-=1e3),P("@selectBestFormat kbps:",i.kbps,"format:",u,"score:",a,i.protocol),a<c&&(d=f,c=a)));return P("@selectBestFormat selected embed_url:",e[d].format,e[d].embed_url,e[d].embed_url.length),e[d].embed_url.length>=1024&&P("WARNING: Some platforms such as fire tv does not accept URLs longer than 1024 bytes"),P("selected entry",JSON.stringify(e[d],null,3)),e[d]}function k(e,n){var r=y(e,n),i=R.getSelection({isLive:n},t.SelectionTypes.PLAYER_PRIORITY,r.filteredTypes);return!(!i||!i.selectedPlayer||i.selectedPlayer!==x.AUDIO)}var R,_,M,N,L,O,P=u?u.getLogFn("VideoManager"):function(){console.log.apply(console,["[!VideoManager!]\t"].concat(Array.prototype.slice.call(arguments)))},F={},U="number"==typeof g.playerSelectionType?g.playerSelectionType:t.SelectionTypes.STRICT_MEDIA_URL_ORDER,x={MSE:"MSE",DASH:"DASH",SHAKA:"SHAKA",HTML5:"HTML5",FLASH:"FLASH",EXTERNAL:"EXTERNAL",AUDIO:"AUDIO"},G=["videoContent","init","width","height","getCurrentTime","seekTo","getDuration","load","setSource","getSource","getReadyState","play","pause","hardPause","setVolume","getVolume","hide","show","setStyle","hasEmbedCaption","enabledEmbedCaption","disableEmbedCaption","resize","setFullscreen","getPaused","startTimeNotification","cancelTimeNotification","setPlaybackRate","getPlaybackRate","resetPlaybackRate","getBufferEnd","enableEmbedCaption","loadOpenCaption","unloadOpenCaption","getType","destroy","catchLive","setSpherical","isBitrateSwitchSupported","setBitrate","toggleMobileAutoPlay","notifyCaptionStatus","toggleInlinePlayback","isMuted","stopDownload","resumeDownload","getRemainingBuffer"],V={mode:A.default.Mode.ASM,baseUrl:g.baseURL};g.mseOptimizationMode&&g.mseOptimizationMode in A.default.Mode&&(V.mode=g.mseOptimizationMode);var H=new A.default(u,V);H.registerCallback(h),V.mode!=A.default.Mode.ASM&&H.load();var j={};return function(){for(var e=0,t=G.length;e<t;e++)j[G[e]]=E.bind(null,G[e]);j.setVideoInstanceType=m,j.filterPublishedUrls=y,j.setSourceOnCompatiblePlayer=v,j.getSelectedVideoSourceInfo=b,j.hasBackupStream=B,j.loadBackupStream=w,j.loadMainStream=S,j.evaluateError=T,j.isAudioOnly=k,j.destroySelectedVideoInstance=I}(),R=new t(d,document.createElement("video"),document.createElement("audio"),u,g),j}return c}),define("AdVideo",[],function(){return function(e){function t(t,n,r){"string"==typeof t&&(t=document.getElementById(t)),t.style.width=n,t.style.height=r,t.style.position="absolute",t.style.left=0,t.style.right=0,t.style.top=0,t.style.bottom=0,t.style.margin="auto",t.style.visibility="hidden",a=t,a.oncanplay=function(){e.publish("adReady2Play")}}var n,r,i,a,e=e;return{adContent:function(){return a},init:function(e,a,o){n=e,r=a,i=o,t(e,a,o)},width:function(e){return"number"==typeof e&&(r=e),r},height:function(e){return"number"==typeof e&&(i=e),i},currentTime:function(e){if(!e)return a.currentTime;a.currentTime=e},hide:function(){a.style.visibility="hidden"},show:function(){a.style.visibility="visible"}}}}),define("Control",["util"],function(e){function t(t,n,r,i,a){function o(e){var t={quality:"bitrateMenuVisible",duration:"duration",currentTime:"currentTime",preview:"preview"};for(var n in e)e.hasOwnProperty(n)&&(e[n]=s(n+"ButtonVisible",t[n]),me[n]=n)}function s(e,t){return e in a?a[e]:!(t&&t in a)||a[t]}function l(e){ue&&(ue.style.visibility="hidden"),clearTimeout(ee),e.style.visibility="visible",ue=e}function A(){clearTimeout(ee),ee=setTimeout(function(){ue&&(ue.style.visibility="hidden",ue=null)},1400)}function d(t,n){se?(e.addEventListener(t,"touchstart",function(e){return function(t){l(e)}}(n),!1),e.addEventListener(t,"touchend",function(e){return function(t){A(e)}}(n),!1)):(e.addEventListener(t,"mousemove",function(e){return function(){l(e)}}(n),!1),e.addEventListener(t,"mouseout",function(e){return function(){A(e)}}(n),!1))}function c(e){return e=e.toLowerCase(),e in Ce?Ce[e]:e}function u(t){ie.caption=e.generateChild(t,"div","caption","caption-btn control-btn"),ie.caption.style.position="relative",ie.caption.style.overflow="visible",ie.captionPopup=e.generateChild(ie.caption,"div","caption-popup","caption-popup"),ie.captionPopupMenu=e.generateChild(ie.captionPopup,"div","caption-popup-menu","caption-popup-menu"),ie.captionPopupTail=e.generateChild(ie.captionPopup,"div","caption-popup-tail","caption-popup-tail"),ie.captionPopup.style.position="absolute",ie.captionPopup.style.overflow="auto"}function g(t){ie.quality=e.generateChild(t,"div","quality","quality-btn control-btn"),ie.qualityImage=e.generateChild(ie.quality,"div","icon","quality-btn-icon control-btn-icon"),ie.qualityImage.style.display="block",ie.qualityImage.style.width="100%",ie.qualityImage.style.height="100%",ie.quality.style.display="none",ie.quality.style.position="relative",ie.quality.style.overflow="visible",ie.qualityPopup=e.generateChild(ie.quality,"div","quality-popup","quality-popup"),ie.qualityPopupMenu=e.generateChild(ie.qualityPopup,"div","quality-popup-menu","quality-popup-menu"),ie.qualityPopupTail=e.generateChild(ie.qualityPopup,"div","quality-popup-tail","quality-popup-tail"),ie.qualityPopup.style.position="absolute",ie.qualityPopup.style.overflow="auto"}function f(n,r,i){function a(n,r){var i;i=r||("auto"!=n?n+" kbps":n);var a=e.generateChild(ie.qualityPopupMenu,"div","bitrate-"+n,"quality-popup-entry",i);ie.qualityEntries.push(a);var o=20*Math.min(q.parentNode.offsetWidth/640,1),s=16*Math.min(q.parentNode.offsetWidth/640,1);return o<14&&(o=14),s<12&&(s=12),a.style.height="16px",a.style.fontSize="12px",w(a,!1),e.addEventListener(a,"click",function(){p(),w(a,!0);var e=/bitrate-(.+)$/.exec(this.id),n=e[1].toLowerCase();pe("selected",e[1]),pe("bitrate clicked: "+n),ie.qualityPopupMenu.setAttribute("data-selected-bitrate",n),t.publish("bitrateSelected",n)},!1),a}pe("@setAvailableBitrates",n,r),i=i||{};var o,s,l=!1,A=e.invertObjectKeysAndValues(i);if(n.length>1){for(ve.quality=!0,ie.qualityEntries=[],ie.qualityPopupMenu.innerHTML="",o=0;o<n.length;o++){var d=n[o],c=i[d],u=A[c],g=u;void 0!==u&&u.constructor===Array&&(g=u[u.length-1]),void 0!==c&&parseInt(g)!==d||(s=a(d,c),l||(l=d==r,w(s,l),l&&ie.qualityPopupMenu.setAttribute("data-selected-bitrate",r)))}s=a("auto"),e.addClass(s,"captions-off-button",!0),l||(w(s,!0),ie.qualityPopupMenu.setAttribute("data-selected-bitrate","auto"))}else ve.quality=!1;E("quality")}function p(){for(var e=ie.qualityEntries.length,t=0;t<e;t++)w(ie.qualityEntries[t],!1)}function h(e){var t,n,r;if(ie.qualityEntries){t=ie.qualityEntries.length,r=ie.qualityPopupMenu.getAttribute("data-selected-bitrate"),"auto"!=r&&p();for(var i=0;i<t;i++){n=ie.qualityEntries[i];var a=/bitrate-(.+)$/.exec(n.id),o=a[1].toLowerCase();pe("selected",a[1],o,e,o==e),"auto"==r&&"auto"==o||w(n,o==e)}ie.quality.setAttribute("switch-in-progress",!1)}}function m(e){var t,n=ie.qualityEntries.length,r=ie.qualityPopupMenu.getAttribute("data-selected-bitrate");"auto"!=r&&p();for(var i=0;i<n;i++){t=ie.qualityEntries[i];var a=/bitrate-(.+)$/.exec(t.id),o=a[1].toLowerCase();pe("selected",a[1],o,e,o==e),"auto"==r&&"auto"==o||(w(t,o==e&&"pending"),o==e&&ie.quality.setAttribute("switch-in-progress",!0))}}function E(e,t,n,r){var i,a,o=q.parentNode;r=r||q.offsetWidth||o&&o.offsetWidth,a=!(e in ye)||r>=ye[e],i=Ee[e]&&ve[e]&&a&&("boolean"!=typeof t||t),ie[e]&&(ie[e].style.display=i?n||"block":"none")}function I(n,r,i){function a(n,r){var i=e.generateChild(ie.captionPopupMenu,"div","language-"+n,"caption-popup-entry",e.capitalize(c(n)));return i.style.height="16px",i.style.fontSize="12px",r&&n.toLowerCase()!==r.toLowerCase()||!r&&n.toLowerCase()!==fe("control-captionsOff-content").toLowerCase()?(w(i,!1),e.addEventListener(i,"click",function(){var e=/language-(.+)$/.exec(this.id),n=e[1].toLowerCase();pe("selected",e[1]),pe("Caption language clicked: "+n),n===fe("control-captionsOff-content").toLowerCase()&&(n=null),"settings"==n&&(L("hidden"),pe(JSON.stringify(Ee))),t.publish("captionLanguageSelected",n)},!1)):w(i,!0),i}var o,s;if(ce=i,ie.captionPopupMenu.innerHTML="",n.length>0){for(ve.caption=!0,ve.search=!0,o=0;o<n.length;o++)a(n[o],r);pe("@setAvailableCaptionLanguages",Ee.captionSetting,ce),ie.captionSetting=a("Settings",r),e.addClass(ie.captionSetting,"captions-setting-button",!0),E(me.captionSetting),s=a(fe("control-captionsOff-content"),r),e.addClass(s,"captions-off-button",!0),s.setAttribute("on",!r),s.title=fe("control-captionsOff-tooltip")}else ve.caption=!1,ve.search=!1;E(me.caption,n.length>0&&!Ae),E(me.search,!!ce)}function y(t,n,r){var i,a,o,s;if(ie.volume=e.generateChild(t,"div","volume-icon","volume-icon-btn control-btn volume-icon-med-btn"),ie.volumeSlider=e.generateChild(t,"div",n,r),"flat_line"===he.STYLE)he.nodes.left=e.generateChild(ie.volumeSlider,"div","flat-slider-left","volume-slider-flat-bar volume-active"),C(he.nodes.left,!0),he.nodes.right=e.generateChild(ie.volumeSlider,"div","flat-slider-right","volume-slider-flat-bar"),he.nodes.scrubber=e.generateChild(ie.volumeSlider,"div","flat-slider-scrubber","volume-slider-scrubber");else if("tapered_bars"===he.STYLE)for(a=(he.TAPERED_BAR_ENDING_HEIGHT-he.TAPERED_BAR_STARTING_HEIGHT)/(he.TAPERED_BAR_COUNT-1),he.barWidth=he.WIDTH/(he.TAPERED_BAR_COUNT*(1+he.BAR_GAP_RATIO)),he.barMarginLeft=he.barWidth*he.BAR_GAP_RATIO,s=0;s<he.TAPERED_BAR_COUNT;s++)i=he.TAPERED_BAR_STARTING_HEIGHT+a*s,o=(ie.volumeSlider.clientHeight-i)/2,he.nodes[s]=e.generateChild(ie.volumeSlider,"div","tapered-bar"+s,"volume-slider-tapered-bar"),he.nodes[s].style.width=he.barWidth+"px",he.nodes[s].style.height=i+"px",he.nodes[s].style.margin=o+"px 0px "+o+"px "+he.barMarginLeft+"px"}function v(t){var n,r,i,a,o;if(a=["volume-icon-off-btn","volume-icon-low-btn","volume-icon-med-btn","volume-icon-high-btn"],o=0===t?"volume-icon-off-btn":t<.3333?"volume-icon-low-btn":t<.6667?"volume-icon-med-btn":"volume-icon-high-btn",a.map(function(t){e.removeClass(ie.volume,t,!0)}),e.addClass(ie.volume,o,!0),"flat_line"===he.STYLE)he.nodes.left.style.width=t*he.WIDTH+"px",he.nodes.right.style.width=(1-t)*he.WIDTH+"px",he.nodes.scrubber.style.left=t*(he.WIDTH-he.SCRUBBER_WIDTH)+"px";else if("tapered_bars"===he.STYLE){for(n=Math.floor(t*he.TAPERED_BAR_COUNT),n=Math.min(n,he.TAPERED_BAR_COUNT-1),r=t*he.WIDTH-(he.barWidth+he.barMarginLeft)*n-he.barMarginLeft,i=0;i<=n;i++)C(he.nodes[i],!0),he.nodes[i].style.boxShadow="";for(i=n+1;i<he.TAPERED_BAR_COUNT;i++)C(he.nodes[i],!1),he.nodes[i].style.boxShadow="";r>0?he.nodes[n].style.boxShadow=-(he.barWidth-r)+"px 0px 0px 0px "+he.INACTIVE_COLOR+" inset":(C(he.nodes[n],!1),he.nodes[n].style.boxShadow="")}}function C(t,n){n?e.addClass(t,"anv-volume-active",!1):e.removeClass(t,"anv-volume-active",!1)}function b(){var e=w(ie.volume)?he.volumeToRestore:0;v(e),t.publish("volumeUpdate",e)}function B(e){pe("toggleCaptionSettingButton",e),ve.captionSetting=e,E(me.captionSetting,e)}function w(e,t){return void 0!==t?(e.setAttribute("on",t.toString()),t):"true"===e.getAttribute("on")?(e.setAttribute("on","false"),!1):(e.setAttribute("on","true"),!0)}function S(){ge||("responsive"===Z&&(clearTimeout(X),q.style.transition="visibility 0s linear 0s, opacity "+ne+"s ease 0s",q.style.opacity="1",q.style.visibility="visible",q.style.display="block",X=setTimeout(function(){q.style.transition="visibility 0s linear "+re+"s, opacity "+re+"s ease 0s",q.style.opacity="0",q.style.visibility="hidden"},te)),Z="responsive")}function Q(){pe("@displayAdBreaks");for(var e,t=0,n=ae.length;t<n;t++)e=ae[t].node,e.style.display="block"}function T(){for(var e,t=0,n=ae.length;t<n;t++)e=ae[t].node,e.style.display="none"}function D(){for(var e,t=0,n=ae.length;t<n;t++)e=ae[t].node,e.parentNode.removeChild(e);ae=[]}function k(e,t){var n,r,i=[];if(D(),!t){for(r=arguments.length;r--;)i[r]=arguments[r];return be.updateAdBreaks=k,void(Be.updateAdBreaks=i)}delete be.updateAdBreaks,delete Be.updateAdBreaks;for(var a=0,o=e.length;a<o;a++){if("number"!=typeof e[a])return;n=e[a],pe("@updateAdBreaks",n,t),ae.push({node:R(n,t),index:n})}}function R(t,n){var r=e.generateChild(ie.timeLine,"div","ad-break","ad-break");r.style.position="absolute",pe("@generateAdBreaks:",ie.timeLine.clientWidth,t,n);var i=100*t/n;return r.style.left=i+"%",r.style.display="block",r}function _(){clearTimeout($),ie.volumeSlider.style.width="75px"}function M(){clearTimeout($),$=setTimeout(function(){ie.volumeSlider.style.width="0px"},1400)}function N(n){function r(e,t){oe||Ae||l(e,"previewRequest",t)}function a(t){var n,r,i,a;if(oe){if(l(t,"sliderPreviewRequest",ie.timeLine),"touchmove"==t.type||"touchstart"==t.type||"touchend"==t.type){r=t.changedTouches[0].clientX}else r=t.clientX;i=e.getCumulativeOffset(ie.timeLine),a=ie.timeLine.clientWidth,r-=i.x,r=r<0?0:r,r=r>a?a:r,n=W*r/a+Se,O(n)}}function o(n){oe&&(oe=!1,t.publish("cancelSliderPreviewRequest"),t.publish("continueRequest"),t.publish("controlMoveEventsEnd"),pe("@stopPreviewDrag"),l(n,"seekRequest",ie.timeLine),se?(e.removeEventListener(window,"mousemove",a,!1),e.removeEventListener(window,"mouseup",o,!1)):(e.removeEventListener(window,"touchmove",a,!1),e.removeEventListener(window,"touchend",o,!1),e.removeEventListener(window,"touchcancel",o,!1)))}function s(n){se?(e.removeEventListener(window,"touchmove",A,!1),e.removeEventListener(window,"touchend",s,!1),e.removeEventListener(window,"touchcancel",s,!1)):(e.removeEventListener(window,"mousemove",A,!1),e.removeEventListener(window,"mouseup",s,!1),M()),t.publish("controlMoveEventsEnd"),A(n)}function l(n,r,i){var a,o,s,l,A={};if("touchmove"==n.type||"touchstart"==n.type||"touchend"==n.type){a=n.changedTouches[0].clientX}else a=n.clientX;o=e.getCumulativeOffset(i),l=i.clientWidth,a-=o.x,a=a<0?0:a,a=a>l?l:a,s=W*a/l+Se,A.left=i.clientLeft,A.right=A.left+i.clientWidth,A.top=i.clientTop,A.x=a+A.left,t.publish(r,s,A,"Control")}function A(n){var r,i,a;if("touchmove"==n.type||"touchstart"==n.type||"touchend"==n.type){r=n.changedTouches[0].clientX}else r=n.clientX;i=e.getCumulativeOffset(ie.volumeSlider),r-=i.x,a=r/Math.max(ie.volumeSlider.offsetWidth,ie.volumeSlider.clientWidth),a<0?a=0:a>1&&(a=1),a&&"touchmove"!=n.type&&"mousemove"!=n.type&&(he.volumeToRestore=a),w(ie.volume,a>0),a!==he.volume&&(he.volume=a,v(he.volume),t.publish("volumeUpdate",he.volume)),S(),_()}"string"==typeof n&&(n=document.getElementById(n)),se=i.android||i.ipad||i.iphone||i.ipod,q=n,Z="responsive",pe("initializing Control instance"),J=e.generateChild(n,"div","control-background","control-background"),ie.timeLine=e.generateChild(n,"div","time-line","time-line"),ie.timeLine.height="50px",ie.timeLine.width="100%",ie.remaining=e.generateChild(ie.timeLine,"div","time-line-remaining","time-line-remaining"),ie.remaining.style.height="100%",ie.remaining.style.width="100%",ie.remaining.style.float="left",ie.recallFrame=e.generateChild(ie.remaining,"div","recall-frame","recall-frame"),ie.recallFrame.style.display="none",ie.recallTime=e.generateChild(ie.recallFrame,"div","recall-time","recall-time"),ie.recallTail=e.generateChild(ie.recallFrame,"div","recall-tail","recall-tail"),ie.recallLine=e.generateChild(ie.recallFrame,"div","recall-line","recall-line"),ie.recallFrame.style.position="absolute",ie.durationBar=e.generateChild(ie.remaining,"div","duration-bar","duration-bar"),ie.scrollButton=e.generateChild(ie.remaining,"div","scroll-button","scroll-button"),ie.scrollButtonCircle=e.generateChild(ie.scrollButton,"div","scroll-button-circle","scroll-button-circle"),ie.durationBar.style.height="100%",ie.durationBar.style.width="0%",ie.playPause=e.generateEmptyImg(n,"play-pause","play-pause-btn control-btn"),ie.restartLive=e.generateEmptyImg(n,"restart-live","restart-live-btn control-btn"),ie.playNext=e.generateEmptyImg(n,"play-next","play-next-btn control-btn"),ve.playNext=!0,y(n,"volumeSlider","volume-slider-btn control-btn"),ie.chromecast=e.generateEmptyImg(n,"chromecast-button","chromecast-button control-btn"),ie.fullscreen=e.generateEmptyImg(n,"fullscreen","fullscreen-btn control-btn"),ie.fullscreen.style.display=ve.fullscreen?"block":"none",ie.download=e.generateEmptyImg(n,"download","download-btn control-btn"),ie.download.style.display="none",g(n),ie.search=e.generateEmptyImg(n,"search","search-btn control-btn"),u(n),ie.playlist=e.generateEmptyImg(n,"playlist","playlist-btn control-btn"),ve.playlist=!0,ie.duration=e.generateChild(n,"div","duration","duration-btn control-btn"),ie.currentTime=e.generateChild(ie.duration,"span","current-time","control-duration-label"),ie.totalDuration=e.generateChild(ie.duration,"span","total-duration","control-duration-label"),ie.duration.style.display="none",ie.live=e.generateChild(n,"div","live","live-btn control-btn"),ie.liveMark=e.generateChild(ie.live,"div","live-mark","live-mark"),ie.liveMark.innerHTML="&#x25cf;",ie.liveMark.style.color="#ee3f25",ie.liveLabel=e.generateChild(ie.live,"div","live-label","live-label"),ie.liveLabel.innerHTML="&nbspLive",ie.liveLabel.style.color="#fff",w(ie.playPause,!0),w(ie.restartLive,!1),w(ie.fullscreen,!1),w(ie.caption,!1),w(ie.volume,!0),he.volume=he.INITIAL_VOLUME_LEVEL,he.volumeToRestore=he.INITIAL_VOLUME_LEVEL,v(he.volume),P(),e.preventDefaultMouseDown([ie.timeLine,ie.durationBar,ie.scrollButton,ie.playPause,ie.restartLive,ie.duration,ie.fullscreen,ie.quality,ie.search,ie.caption,ie.volume,ie.volumeSlider]),ie.playPause.onclick=function(){pe("playPauseClicked"),w(ie.playPause),t.publish("playPauseClicked",!1)},ie.fullscreen.onclick=function(){w(ie.fullscreen),t.publish("fullscreenClicked")},ie.restartLive.onclick=function(){t.publish("restartLiveRequested")},ie.chromecast.onclick=function(){t.publish("chromecastButtonClicked")},ie.playlist.onclick=function(){t.publish("togglePlaylistPanel")},ie.playNext.onclick=function(){t.publish("playNextRequested")},ie.search.onclick=function(){t.publish("toggleSearchPanel")},d(ie.caption,ie.captionPopup),d(ie.quality,ie.qualityPopup),se?(pe("attaching touch events"),e.addEventListener(ie.timeLine,"touchstart",function(e){t.publish("controlMoveEventsActive"),e.preventDefault()},!1),e.addEventListener(ie.volume,"touchstart",function(e){_(),e.preventDefault()},!1),e.addEventListener(ie.timeLine,"touchmove",function(e){e.preventDefault(),Ae||r(e,this)},!1),e.addEventListener(q,"touchmove",function(e){"responsive"==Z&&L("visible")},!1),e.addEventListener(q,"touchstart",function(e){"visible"!=Z&&L("visible")},!1),e.addEventListener(q,"touchend",function(e){t.publish("controlMoveEventsEnd"),Ae||L("responsive")},!1),e.addEventListener(ie.timeLine,"touchstart",function(n){t.publish("cancelPreviewRequest"),t.publish("pauseRequest"),Ae||(t.publish("controlMoveEventsActive"),e.addEventListener(window,"touchmove",a,!1),e.addEventListener(window,"touchend",o,!1),e.addEventListener(window,"touchcancel",o,!1),l(n,"sliderPreviewRequest",this),oe=!0)},!1),e.addEventListener(ie.volume,"touchend",function(e){pe("addEventListener->touchend"),t.publish("controlMoveEventsEnd"),e.preventDefault(),b()},!1),e.addEventListener(ie.volume,"touchstart",function(e){e.preventDefault()},!1),e.addEventListener(ie.volumeSlider,"touchstart",function(n){n.preventDefault(),t.publish("controlMoveEventsActive"),e.addEventListener(window,"touchmove",A,!1),e.addEventListener(window,"touchend",s,!1),e.addEventListener(window,"touchcancel",s,!1),A(n)},!1),e.addEventListener(ie.live,"touchend",function(e){de||t.publish("catchLive")},!1),ie.volumeSlider.style.width=he.WIDTH+"px",ie.volumeSlider.style.marginLeft=he.TOUCH_SIDE_MARGIN+"px",ie.volumeSlider.style.marginRight=he.TOUCH_SIDE_MARGIN+"px"):(pe("attaching mouse events"),e.addEventListener(q,"mousemove",function(){"responsive"==Z&&L("visible")},!1),e.addEventListener(ie.volume,"mousemove",function(){_()},!1),e.addEventListener(ie.volumeSlider,"mousemove",function(){_()},!1),e.addEventListener(ie.volumeSlider,"mouseout",function(){M()},!1),e.addEventListener(ie.volume,"mouseout",function(e){M(),e.preventDefault()},!1),e.addEventListener(q,"mouseout",function(){Ae||"hidden"!=Z&&(pe("responsive triggered by mouseout"),L("responsive"))},!1),e.addEventListener(ie.timeLine,"mousemove",function(e){r(e,this)},!1),e.addEventListener(ie.timeLine,"mouseout",function(e){t.publish("cancelPreviewRequest")},!1),e.addEventListener(ie.timeLine,"mousedown",function(n){Ae||(t.publish("controlMoveEventsActive"),t.publish("cancelPreviewRequest"),t.publish("pauseRequest"),e.addEventListener(window,"mousemove",a,!1),e.addEventListener(window,"mouseup",o,!1),l(n,"sliderPreviewRequest",this),oe=!0)},!1),e.addEventListener(ie.volume,"click",function(e){b()},!1),e.addEventListener(ie.volumeSlider,"mousedown",function(n){t.publish("controlMoveEventsActive"),e.addEventListener(window,"mousemove",A,!1),e.addEventListener(window,"mouseup",s,!1),A(n)},!1),e.addEventListener(ie.live,"click",function(e){de||t.publish("catchLive")},!1)),E(me.volume),E(me.volumeSlider),n.style.visibility=ge?"hidden":"visible",pe("Control initialized",ge,ge)}function L(e){if(!ge)switch(clearTimeout(X),e){case"visible":q.style.transition="visibility 0s linear 0s, opacity 0s ease 0s",q.style.opacity="1",q.style.visibility="visible",q.style.display="block",Z=e;break;case"hidden":q.style.transition="visibility 0s linear 0s, opacity 0s ease 0s",q.style.opacity="0",q.style.visibility="hidden",q.style.display="none",Z=e;break;case"responsive":Z=e,S(),q.style.display="block";break;default:return}}function O(t,n,r){var i;oe||(W=r||W,Se=n||Se,t!=z&&(t>0||!z)&&(W||(W=0),Math.round(t)!=Math.round(z)&&(ie.currentTime.innerHTML=e.sec2TimeString(Math.round(Math.abs(t)))+" ",ie.totalDuration.innerHTML=" / "+e.sec2TimeString(W)),i=(t-Se)/W*100,i>100?i=100:i<0&&(i=0),ie.durationBar.style.width=i+"%",ie.scrollButton.style.left=i+"%",z=t))}function P(){var e;ie.playPause.title=fe("control-playPause-tooltip"),ie.duration.title=fe("control-duration-tooltip"),ie.fullscreen.title=fe("control-fullscreen-tooltip"),ie.quality.title=fe("control-quality-tooltip"),ie.search.title=fe("control-search-tooltip"),ie.caption.title=fe("control-caption-tooltip"),
ie.volume.title=fe("control-volume-tooltip"),ie.download.title=fe("control-download-tooltip"),(e=ie.captionPopup.querySelector(".anvCaptionsOffButton"))&&(e.innerHTML=fe("control-captionsOff-content"),e.title=fe("control-captionsOff-tooltip"))}function F(t){ie.recallTime.innerHTML=e.sec2TimeString(t);var n,r,i,a,o;i=ie.durationBar.clientLeft+ie.durationBar.clientWidth,a=0,o=ie.timeLine.clientWidth,n=Math.max(i-25,a),r=Math.min(n+50,o),n=r-50,n=Math.max(n,a),ie.recallFrame.style.left=n+"px",ie.recallFrame.style.display="block"}function U(){ie.recallFrame.style.display="none"}function x(t,n){var r=q.parentNode,i=t||q.offsetWidth||r&&r.offsetWidth,a=i/640;Ae||n&&(Ee=e.deepCopy(Ie)),G(i),pe("Player width:",i,a)}function G(e){var t,n,r={search:{additionalCondition:!!ce},totalDuration:{displayAttribute:"inline-block",additionalCondition:!le},currentTime:{displayAttribute:"inline",additionalCondition:!le}};for(var i in Ee)Ee.hasOwnProperty(i)&&(t=i in r?r[i].additionalCondition:null,n=i in r?r[i].displayAttribute:null,E(i,t,n,e))}function V(){q.style.display="none"}function H(e){q.style.pointerEvents=e?"":"none"}function j(e){le&&(ie.liveMark.style.color=e?"#ee3f25":"rgb(126, 124, 124)",de=e)}function Y(e,t){we=e,Se=t||0,pe("@setRestartLiveMode",we,le),ve.restartLive=we,E(me.restartLive,we),ie.timeLine.style.visibility=we?"visible":le?"hidden":"visible"}function K(e){pe("@setLive",e),le=e,de=!0,e&&(ie.timeLine.style.visibility=we?"visible":"hidden",E(me.duration,!Ae&&!le)),ie.live.style.display=e?"block":"none"}var J,q,W,z,Z,X,$,ee,te="number"==typeof a.autoHideDelay?1e3*a.autoHideDelay:3e3,ne=.2,re=.7,ie={},ae=[],oe=!1,se=!1,le=!1,Ae=!1,de=!1,ce=!1,ue=null,ge="control"in a&&!a.control||a.chromeless,fe=n?n.tr:function(){return"--"},pe=r?r.getLogFn("Control"):function(){console.log.apply(console,["[!Control!]\t"].concat(Array.prototype.slice.call(arguments)))},he={INITIAL_VOLUME_LEVEL:.5,STYLE:"flat_line",TAPERED_BAR_COUNT:8,BAR_GAP_RATIO:.5,TAPERED_BAR_STARTING_HEIGHT:4,TAPERED_BAR_ENDING_HEIGHT:18,INACTIVE_COLOR:"#666",WIDTH:75,TOUCH_SIDE_MARGIN:8,SCRUBBER_WIDTH:6,volume:0,volumeToRestore:0,nodes:[],barWidth:0,barMarginLeft:0},me={},Ee={volume:!0,volumeSlider:!0,currentTime:!0,duration:!0,totalDuration:!0,playlist:!0,playNext:!0,caption:!0,captionSetting:!0,search:!0,quality:!0,fullscreen:!0,preview:!0,restartLive:!0},Ie={volume:!0,volumeSlider:!0,currentTime:!0,duration:!0,totalDuration:!0,playlist:!0,playNext:!0,caption:!0,captionSetting:!0,search:!0,quality:!0,fullscreen:!0,preview:!0,restartLive:!0},ye={captionSetting:500,playlist:500,playNext:500,search:500,totalDuration:500,quality:400,preview:300,volumeSlider:300},ve={volume:e.isVideoMutedSupported(),volumeSlider:e.isVideoVolumeSetSupported(),currentTime:!0,search:!1,caption:!1,captionSetting:!1,quality:!1,playlist:!1,playNext:!1,duration:!0,totalDuration:!0,preview:!1,fullscreen:"hasVideoFullscreenSupport"in a&&a.hasVideoFullscreenSupport||"hasContainerFullscreenSupport"in a&&a.hasContainerFullscreenSupport,download:!1},Ce={en:"English",es:"Espa&ntilde;ol"},be={},Be={},we=!1,Se=0;return o(Ee),o(Ie),{init:function(e,t,n){N(e),x(),ge&&V()},rescale:function(e,t){pe("@rescale"),x(e,t)},updateDuration:O,getNode:function(){return q},getLayout:function(){},updateLanguage:function(){P()},setDuration:function(e){pe("@setDuration",e),W=Math.round(e),"function"==typeof be.updateAdBreaks&&Be.updateAdBreaks.length>1&&(Be.updateAdBreaks[1]=W,be.updateAdBreaks.apply(null,Be.updateAdBreaks))},setVisibilityMode:L,showTemporarily:function(){S()},setPaused:function(e){w(ie.playPause,e),e&&j(!e)},setLiveSyncStatus:j,setFullscreen:function(e){w(ie.fullscreen,e)},setAvailableCaptionLanguages:function(e,t,n){I(e,t,n)},toggleCaptionSettingButton:B,setAvailableBitrates:f,setPlaylistReady:function(e){ve.playlist=e,ve.playNext=e,E(me.playlist),E(me.playNext)},showRecallLabel:function(e){F(e)},hideRecallLabel:function(){U()},setLive:K,toggleRestartLiveMode:Y,setLiveCatch:function(){le&&!de&&(ie.liveMark.style.color="#ee3f25",de=!0)},setAdMode:function(e,t){Ae=e,ge||(e?(T(),t&&(ie.timeLine.style.visibility="hidden")):(Q(),ie.playPause.style.display="block",ie.timeLine.style.visibility=!le||we?"visible":"hidden"),Ee[me.playlist]=!e,Ee[me.quality]=!e,Ee[me.caption]=!e,Ee[me.search]=!e&&ce,Ee[me.playNext]=!e,Ee[me.duration]=!(e&&t||le),Ee[me.totalDuration]=!(e&&t||le),G())},setVolume:function(e){e>0?(he.volumeToRestore=e,w(ie.volume,!0)):w(ie.volume,!1),v(e)},toggleVolume:b,setDownload:function(e){e&&a.downloadable?(ve.download=!0,ie.download.onclick=function(){var t=document.createElement("a");t.href=e,t.target="_blank",t.download="true",t.click()},ie.download.style.display="block"):(ie.download.style.display="none",ie.download.onclick=function(){})},updateAdBreaks:k,setFullscreenButton:function(e){E(me.fullscreen,e)},setPlayNextButton:function(e){ve.playNext=e,E(me.playNext,e)},hide:V,onBitrateChanged:h,onBitrateChangeInProgress:m,setPointerEvents:H}}return t}),define("Preview",["util"],function(e){function t(t,n,r){function i(){var t=e.generateChild(n,"div","main-preview-frame","main-preview-frame"),r=e.generateChild(t,"div","main-preview","main-preview"),i=e.generateChild(n,"div","time-label","time-label"),a=e.generateChild(n,"div","time-label-tail","time-label-tail");return n.style.position="absolute",i.style.position="absolute",i.style.bottom="-20px",i.style.width="auto",i.style.padding="4px",i.style.height="20px",i.style.fontSize="0.9em",i.style.background="rgba(5, 4, 5, 0.69)",t.style.padding="5px 5px",t.style.background="rgba(5, 4, 5, 0.69)",{mainFrame:n,mainImageFrame:t,mainImage:r,timeLabel:i,tail:a}}function a(e){++I==y&&(E=!0,C=!0,t.publish("previewLoaded"))}function o(t){var n=[];y=t.length;for(var r=0;r<y;r++)n[r]=new Image,e.addEventListener(n[r],"load",function(){a(this)},!1),n[r].src=t[r].url}function s(e,t){if(!u)return"";var n=t?"0":"",r=t?S:w,i=Math.floor(e/r);return u+"-M"+n+i+".jpg"}function l(e,t){var n,r,i,a,o,l,A,d,c,u;n=Math.floor(e/v),r=s(n,t),A=t?10:5;var d=t?S:w;return c=t?h:f,u=t?m:p,o=n%d%A,l=Math.floor(n%d/A),i=-o*c,a=-l*u,{url:r,left:i,top:a}}function A(t,n){var r=Math.floor(t/v);if(r!=b){Math.round(r)!=Math.round(b)&&(c.timeLabel.innerHTML=e.sec2TimeString(Math.round(t))),b=r;var i=l(t);i.url!=B?(c.mainImage.style.background="#fff url('"+i.url+"') no-repeat "+i.left+"px "+i.top+"px",B=i.url):c.mainImage.style.backgroundPosition=i.left+"px "+i.top+"px",c.mainFrame.style.width="auto",c.mainFrame.style.height="auto",c.mainFrame.style.zIndex="2147483648",c.mainImage.style.width=f+"px",c.mainImage.style.height=p+"px"}c.mainImage.style.display=u?"block":"none",c.mainFrame.style.display="block",d(n)}function d(e){var t,n,r,i,a,o=c.tail.clientHeight,s=c.tail.offsetWidth,l=c.mainFrame.clientHeight,A=c.mainFrame.clientWidth,d=Math.max(e.x-A/2,e.left);d=Math.min(d+A,e.right)-A,d=Math.max(d,e.left),c.mainFrame.style.left=d+"px",c.mainFrame.style.top=e.top-l-o+"px",c.timeLabel.style.left=(c.mainImageFrame.clientWidth-c.timeLabel.clientWidth)/2+"px",c.timeLabel.style.top=c.mainImageFrame.clientHeight-c.timeLabel.clientHeight+"px",r=Math.min(e.x-A/2-e.left,0),i=Math.min(e.right-e.x-A/2,0),a=(A-s)/2,t=r<0?Math.max(0,a+r):a,n=i<0?Math.min(A,t-i+s):t+s,t=n-s,c.tail.style.left=t+"px"}var c,u,g,f,p,h,m,E=!1,I=0,y=0,v=2,C=!1,b=-1,B=null,w=25,S=100;r&&r.getLogFn("Preview");return{reset:function(){u=""},init:function(){c=i()},loadPreviewMatrices:function(e){u=e.previews.url,g=e.previews.n>360?360:e.previews.n,f=e.previews.twp,p=e.previews.thp,h=e.previews.tws,m=e.previews.ths,v=parseFloat(e.duration)/g,I=0,E=!1,C=!1,o(e.pvw_matrices)},show:function(e,t){A(e,t)},hide:function(){c.mainFrame.style.display="none",c.mainImage.style.display="none"},loadedAll:function(){return E},getFrameInfo:function(e,t){return l(e,t)},getWidthAndHeight:function(e){return e?{width:h,height:m}:{width:f,height:p}}}}return t}),define("SliderPreview",["util"],function(e){function t(t,n,r){function i(){var t,r,i,a,o;return r=e.generateChild(n,"div","preview-band-frame","preview-band-frame"),t=e.generateChild(r,"div","preview-band","preview-band"),i=e.generateChild(n,"div","large-frame","large-frame"),a=e.generateChild(i,"div","large-preview","large-preview"),o=e.generateChild(i,"div","time-label","time-label"),o.style.fontSize="0.9em",i.style.width="auto",i.style.height="auto",r.style.width="100%",r.style.height="auto",r.style.padding="5px",r.style.background="rgba(5, 4, 5, 0.29)",o.style.width="100%",o.style.height="auto",o.style.background="rgba(5, 4, 5, 0.39)",i.style.position="absolute",i.style.padding="5px",i.style.background="rgba(5, 4, 5, 0.69)",a.style.position="relative",o.style.position="relative",{canvasFrame:r,previewBand:t,largeFrame:i,largePreview:a,timeLabel:o}}function a(e){k("@secondaryMatricesReady"),++v==e&&(v=0,k("ALL SECONDARY MATRICES READY"),s())}function o(){k("@getSecondaryMatrices");var e;e=Math.ceil(p/S),Q=[];for(var t=0;t<e;t++)Q[t]=new Image,Q[t].src=f+"-M0"+t+".jpg",Q[t].onload=function(){k("Secondary Matrix ready"),a(e)}}function s(){var r,i,a,o,s,l,A,d;n.style.display="none",r=g.previewBand,i=g.canvasFrame,i.style.position="absolute",i.style.bottom="0",r.style.position="relative",r.style.display="none",r.style.bottom="0",a=Q.length,s=Q[0].width,l=Q[0].height,o=Math.round(l/I),r.innerHTML="",r.style.width=a*o*s+"px",r.style.height=I+"px";for(var c=0;c<a;c++)for(var u=0;u<o;u++)A=e.generateChild(r,"div","row-"+(c*o+u),"sliderPreviewRow"),d=s,A.style.width=d+"px",A.style.height=I+"px",e.setFloat(A,"left"),A.style.background="url('"+Q[c].src+"') no-repeat",A.style.backgroundPosition="0 "+-u*I+"px";n.style.overflow="hidden",r.style.display="block",T=!0,t.publish("sliderPreviewReady")}function l(t,r){var i,a,o,s,l,c;y=r.right-r.left,n.style.width=y+"px",a=(y-E)/2,o=(y-h-10)/2,A(t,o),l=g.largeFrame.clientHeight,n.style.height=l+"px",g.timeLabel.innerHTML=e.sec2TimeString(Math.round(t)),c=g.timeLabel.clientHeight,g.canvasFrame.style.bottom=c+"px",n.style.top=r.top-l+"px",i=Math.floor(t/C),s=i*E,d(-s+a),n.style.display="block"}function A(e,t){var n=u(e),r=Math.floor(e/C);r!=b&&(b=r,n.url!=B?(B=n.url,g.largePreview.style.background="#fff url('"+n.url+"') no-repeat "+n.left+"px "+n.top+"px"):g.largePreview.style.backgroundPosition=n.left+"px "+n.top+"px"),g.largeFrame.style.left=t+"px"}function d(e){g.previewBand.style.left=e+"px"}function c(e,t){var n=t?"0":"",r=t?S:w,i=Math.floor(e/r);return f+"-M"+n+i+".jpg"}function u(e,t){var n,r,i,a,o,s,l,A,d,u;return n=Math.floor(e/C),r=c(n,t),l=t?10:5,A=t?S:w,d=t?E:h,u=t?I:m,o=n%A%l,s=Math.floor(n%A/l),i=-o*d,a=-s*u,{url:r,left:i,top:a}}var g,f,p,h,m,E,I,y,v=0,C=2,b=-1,B=null,w=25,S=100,Q=[],T=!1,D=!0,k=r?r.getLogFn("SliderPreview"):function(){console.log.apply(console,["[!SliderPreview!]\t"].concat(Array.prototype.slice.call(arguments)))};return{init:function(){g=i()},reset:function(){f=""},loadPreviewMatrices:function(e){f=e.previews.url,p=e.previews.n>400?400:e.previews.n,h=e.previews.twp,m=e.previews.thp,g.largePreview.style.width=h-1+"px",g.largePreview.style.height=m-1+"px",E=e.previews.tws,I=e.previews.ths,C=parseFloat(e.duration)/p,T=!1,o()},show:function(e,n){T&&f&&(l(e,n),D&&(t.publish("showRecallLabel",e,n),D=!1))},hide:function(){n.style.display="none",D=!0,t.publish("hideRecallLabel")}}}return t}),define("CaptionSideCar",["util"],function(e){function t(t,n,r){function i(){var t,r,i;return n.innerHTML="",r=e.generateChild(n,"div","result-holder","caption-result-holder"),t=e.generateChild(r,"div","result","caption-result"),i=e.generateChild(t,"span","result-text","caption-result-text"),i.style.textAlign="left",i.style.fontWeight="bold",n.style.display="none",{resultHolder:r,result:t,resultText:i}}function a(e){b=e,T={};for(var t=0,n=e.length;t<n;t++)"language"in e[t]&&"string"==typeof e[t].language&&(e[t].language=e[t].language.toLowerCase(),e[t].language in T||(T[e[t].language]=[]),T[e[t].language].push(t));w.resultText&&(w.resultText.innerHTML="")}function o(t,n){return n=n.toLowerCase(),"dfxp"==n||"tt"==n||n.indexOf("smpte")>-1?e.parseDFXP(t):"vtt"==n||"srt"==n?e.parseVTT(t):"json"==n?e.parseJSON(t):void 0}function s(e,n,r){M=r,t.publish("captionLoaded",!0),C=o(e,n),U("@populateCueList cueList.length",C.length),R=!(!C||!C.length)}function l(e,t){return t&&t.capitalize?e.toUpperCase():e.toLowerCase()}function A(e){U("@updateText",e.text,e.text.length);var t,n,r,i=!1,a=e.text?l(e.text,x):"";if(a){for(O=e.begin,n=F.length,n>2&&F.splice(0,1),t=0;t<F.length;t++)if(r=l(F[t],x),0===a.indexOf(r)){i=!0,F[t]=a;break}i||F.push(a),w.resultText.innerHTML=F.join("<br>"),P=e.end}}function d(e){var t,r=0,i=C.length,a=!1;if(O>e||e>P){for(var o=!1,s=Math.floor(i/2),l=i-1,d=0;!o&&l-d>4;)t=C[s],t.begin>e?(l=s,s=Math.floor((d+s)/2)):t.end<e?(d=s,s=Math.floor((s+l)/2)):t.begin<=e&&e<=t.end&&(o=!0,d=s-1,l=s+1);for(var r=d;r<=l;r++)t=C[r],t.begin<=e&&e<=t.end&&(A(t),a=!0);a?n.style.visibility="visible":(w.resultText.innerHTML="",n.style.visibility="hidden")}}function c(){k&&(n.style.display="none",k=!1)}function u(){Q=0,T={},D=-1,k=!1,R=!1,_=!1,M=null,C=[],b=null,O=0,P=0,w.resultText.innerHTML=""}function g(t){var n,r=w.resultHolder.style,i=w.result.style,a=w.resultText.style;switch(e.getDeviceInfo.firetv&&(t={fontType:1,fontSize:7,textColor:0,textAlpha:4,bgColor:7,bgAlpha:0,textEdge:4,highlightColor:7,highlightAlpha:0,scale:!0,capitalize:!1,override:!0}),t=t||x,n=t.scale?L:1,a.fontFamily=V[t.fontType]||a.fontFamily,a.fontSize=n*(12+4*t.fontSize)+"px",r.height="auto",parseInt(t.textEdge)){case 0:break;case 1:a.textShadow="1px 1px 1px #000";break;case 2:a.textShadow="0px 1px 0px #ccc";break;case 3:a.textShadow="-1px -1px 2px #000";break;case 4:a.textShadow="2px 0 0 #000, -2px 0 0 #000, 0 2px 0 #000, 0 -2px 0 #000, 1px 1px #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000"}w.resultText.innerHTML=l(w.resultText.innerHTML,t),a.color=f(j[t.textColor],H[t.textAlpha]/100),r.background=f(j[t.bgColor],H[t.bgAlpha]/100),i.background=f(j[t.highlightColor],H[t.highlightAlpha]/100),x=t,U("style applied",JSON.stringify(x,null,3))}function f(e,t){return"rgba("+e.join(",")+","+t+")"}function p(e){var t,n={scale:1,capitalize:1,override:1};if("object"==typeof e){for(var r in e)e.hasOwnProperty(r)&&r in x&&(r in n?x[r]=1==e[r]:(t=parseInt(e[r]),isNaN(t)||(x[r]=t)));g(x)}return x}function h(e,t){if(!t||t==M)for(var n in e)e.hasOwnProperty(n)&&e[n]&&(!G[n]||G[n]&&e[n]!==G[n])&&(G[n]=e[n],m({begin:Date.now(),text:e[n]}))}function m(e){e.text!=S&&(A(e),n.style.visibility="visible"),S=e.text,Y.hideCue&&(clearTimeout(Y.hideCue),delete Y.hideCue),Y.hideCue=setTimeout(E,3e3)}function E(){n.style.visibility="hidden",F=[]}function I(n){U("@loadLanguage",n,T,b);var r,i,a={dfxp:1,smpte:1,"smpte-tt":1,tt:1,vtt:1,srt:1,json:1};if(n in T){for(var o=0,s=T[n].length;o<s;o++){if(r=T[n][o],i=b[r],i.format&&i.format.toLowerCase()in a)return U("selectedCaption.format",i.format),e.download(i.url,null,y.bind(null,i,n),v.bind(null,o,n));if("custom"==i.format)return M=n,R=!0,setTimeout(function(){t.publish("captionLoaded",!1)},0),C=[],!0}return _=!1,C=[],R=!1,!1}return!1}function y(e,t,n){s(n,e.format,t)}function v(e,n,r){U("Error downloading sidecar caption file"),T[n].splice(e,1),T[n].length?I(n):(delete T[n],M=null,C=[],t.publish("captionLoaded",!1))}var C,b,B,w,S,Q=0,T={},D=-1,k=!1,R=!1,_=!1,M=null,N=1,L=1,O=0,P=0,F=[],U=r?r.getLogFn("Caption"):function(){console.log.apply(console,["[!Caption!]\t"].concat(Array.prototype.slice.call(arguments)))},x={fontType:0,fontSize:3,textColor:0,textAlpha:4,bgColor:7,bgAlpha:0,textEdge:4,highlightColor:7,highlightAlpha:0,scale:!0,capitalize:!1,override:!0},G={},V=["Arial","Courier","Georgia","Lucida Sans","Tahoma","Times New Roman","Verdana"],H=[0,25,50,75,100],j=[[255,255,255],[7,247,247],[9,9,249],[4,246,5],[252,252,10],[248,9,248],[246,5,6],[0,0,0]],Y={};return{init:function(e,t){U("@init",e,t);var n=parseInt(t);isNaN(n)||(L=n/540),w=i(),g(x)},loadCaptionInfo:function(e){e&&e.length?a(e):(c(),u())},getNode:function(){return n},getLayout:function(){return B},turnOn:function(){n.style.display="block",n.style.visibility="hidden",_=!0,k=!0},turnOff:function(){n.style.display="none",_=!1,k=!1},show:function(){_&&(n.style.display="block",n.style.visibility="hidden",k=!0)},hide:function(){c()},getAvailableLanguages:function(){U("@getAvailableLanguages");var e,t=[];for(e in T)T.hasOwnProperty(e)&&(U("@getAvailableLanguages",e),t.push(e));return t},setAvailableLanguages:function(e){var t=0;T={},b=[];for(var n=0;n<e.length;n++){var r=e[n];r in T||(T[r]=[t],b.push({language:r,format:"custom"}),t++)}},getCurrentLanguage:function(){return _?M:null},loadLanguage:I,updateTime:function(e){_&&k&&C&&C.length&&d(e)},getCueList:function(){return C},applyStyle:function(e){g(e)},setStyle:function(e){return p(e)},setFullscreenRatio:function(e){N=e,U("RATIO:",e),g()},resize:function(e){L=e/540,g()},getType:function(){return"sideCar"},destroy:function(){n.innerHTML="",n.style.display="none"},showCue:m,showCea608Cue:h,hideCue:E}}return t}),define("CaptionEmbedded",["util"],function(e){function t(e,t,n){function r(e){var t,n=0;if(!C)return null;for(var r=null,i=0;i<C.length&&!r;i++)C[i].kind in B&&(t=c(C[i].language,n),t==e&&(r=C[i]),n++);return r}function i(){if(!C)return null;for(var e=0;e<C.length;e++)if(C[e].kind in B&&C[e].mode==I)return c(C[e].language,0);return null}function a(){if(!C)return null;for(var e=0;e<C.length;e++)if(C[e].kind in B)return C[e];return null}function o(){t||console.error("Embedded caption is not available")}function s(t){if(0!=C.length&&(t||!b)){l();var n=t?r(t):a();n&&(n.mode=I,b=!0,e.publish("captionLoaded",!1))}}function l(){var e=r(i());e&&(e.mode=y),b=!1}function A(){s()}function d(){l()}function c(e,t){return e||(t?"track"+t:v)}function u(){var e,t=[],n=0;if(C)for(var r=0;r<C.length;r++)C[r].kind in B&&(e=c(C[r].language,n),t.push(e),n++);return t}function g(e){}function f(){return i()}function p(e){return s(e),!!r(e)}function h(){return"embedded"}function m(){}function E(e){v=e}var I="showing",y="hidden",v=(n.getLogFn("CaptionEmbedded"),"en"),C=t,b=!1,B={captions:!0,subtitles:!0};return{init:o,turnOn:s,turnOff:l,show:A,hide:d,getAvailableLanguages:u,setAvailableLanguages:g,getCurrentLanguage:f,loadLanguage:p,getType:h,destroy:m,setDefaultLanguage:E}}return t}),define("CaptionManager",["util","CaptionSideCar","Caption608","CaptionEmbedded"],function(e,t,n,r){function i(i,a,o,s,l){function A(t){var n,r={scale:1,capitalize:1,override:1},i=e.deepCopy(t);if("object"==typeof t)for(var a in i)i.hasOwnProperty(a)&&a in h&&(null===i[a]?delete i[a]:a in r?i[a]=1==i[a]:(n=parseInt(i[a]),isNaN(n)?delete i[a]:i[a]=n));return i}function d(e){m("@setCaptionType",e);var A=f.getAvailableLanguages(),d=f.getCurrentLanguage(),c=!1;e==p.CEA608?f&&f.getType()!=p.CEA608&&(f.destroy(),f=new n(i,o,l),f.init(),f.setAvailableLanguages(A),d&&f.loadLanguage(d)):e==p.SIDE_CAR?f&&f.getType()!=p.SIDE_CAR&&(f.destroy(),f=new t(i,a,l),f.init(),f.setAvailableLanguages(A),d&&f.loadLanguage(d)):e==p.EMBEDDED?f&&f.getType()!=p.EMBEDDED&&(f.destroy(),f=new r(i,s,l),f.init(),f.setAvailableLanguages(A),d&&f.loadLanguage(d)):(console.error("Caption instance type is not supported!"),c=!0),c||g(I)}function c(){return f.getType()}function u(e){var t=Array.prototype.slice.call(arguments,1);if(e in f)return f[e].apply(null,t)}function g(t){return t=A(t),I=e.merge(I,t),f&&"function"==typeof f.setStyle&&(f.setStyle(I),i.publish("captionStyleSet",t)),e.setCookies(I),I}var f,p={SIDE_CAR:"sideCar",CEA608:"cea608",EMBEDDED:"embedded"},h={fontType:0,fontSize:3,textColor:0,textAlpha:4,bgColor:7,bgAlpha:0,textEdge:4,highlightColor:7,highlightAlpha:0,scale:!0,capitalize:!1,override:!0},m=l?l.getLogFn("Captionmanager"):function(){console.log.apply(console,["[!CaptionManager!]\t"].concat(Array.prototype.slice.call(arguments)))},E=e.getCookies(e.deepCopy(h));E=A(E);var I=e.merge(h,E);return f=new t(i,a,l),{init:u.bind(null,"init"),loadCaptionInfo:u.bind(null,"loadCaptionInfo"),getNode:u.bind(null,"getNode"),getLayout:u.bind(null,"getLayout"),turnOn:u.bind(null,"turnOn"),turnOff:u.bind(null,"turnOff"),show:u.bind(null,"show"),hide:u.bind(null,"hide"),getAvailableLanguages:u.bind(null,"getAvailableLanguages"),setAvailableLanguages:u.bind(null,"setAvailableLanguages"),getCurrentLanguage:u.bind(null,"getCurrentLanguage"),loadLanguage:u.bind(null,"loadLanguage"),updateTime:u.bind(null,"updateTime"),updateCaption:u.bind(null,"updateCaption"),showCue:u.bind(null,"showCue"),hideCue:u.bind(null,"hideCue"),showCea608Cue:u.bind(null,"showCea608Cue"),getCueList:u.bind(null,"getCueList"),applyStyle:u.bind(null,"applyStyle"),setStyle:g,setFullscreenRatio:u.bind(null,"setFullscreenRatio"),setDrag:u.bind(null,"setDrag"),resize:u.bind(null,"resize"),setDefaultLanguage:u.bind(null,"setDefaultLanguage"),setCaptionType:d,getCaptionType:c}}return i}),define("CaptionSetting",["util"],function(e){function t(t,n,r){function i(){w.header=e.generateChild(n,"div","header","caption-set-header"),w.header.innerHTML="Closed Caption Settings",w.close=e.generateChild(n,"div","close","caption-set-close"),w.content=e.generateChild(n,"div","content","caption-set-content"),w.main=e.generateChild(w.content,"div","main","caption-set-main"),w.advanced=e.generateChild(w.content,"div","advanced","caption-set-advanced"),w.resultFrame=e.generateChild(w.content,"div","result-frame","caption-set-result-frame"),w.resultHolder=e.generateChild(w.resultFrame,"div","result-holder","caption-set-result-holder"),w.result=e.generateChild(w.resultHolder,"span","result","caption-set-result"),w.resultText=e.generateChild(w.result,"span","result-text","caption-set-result-text"),w.resultText.style.textAlign="center",w.resultText.style.fontWeight="bold",w.resultText.innerHTML="Captions will look like this",s(),E(),a(),A(),o(!0,!1)}function a(){var e,t=S.length,n=Q.length,r=(T.length,D.length);for(e=0;e<t;e++)w.fontSelect.options[e]=new Option(S[e],e);for(e=0;e<9;e++){var i=4*e+12+"px";w.sizeSelect.options[e]=new Option(i,e)}for(e=0;e<n;e++){var a=Q[e]+"%";w.txtOpacitySelect.options[e]=new Option(a,e),w.bgOpacitySelect.options[e]=new Option(a,e),w.hOpacitySelect.options[e]=new Option(a,e)}for(e=0;e<r;e++)w.edge.options[e]=new Option(D[e],e)}function o(e,n){R("@applyStyle",e,n);var r=w.resultHolder.style,i=w.result.style,a=w.resultText.style;switch(a.fontFamily=S[_.fontType],a.fontSize=12+4*_.fontSize+"px",parseInt(_.textEdge)){case 0:break;case 1:a.textShadow="1px 1px 1px #000";break;case 2:a.textShadow="0px 1px 0px #ccc";break;case 3:a.textShadow="-1px -1px 2px #000";break;case 4:a.textShadow="2px 0 0 #000, -2px 0 0 #000, 0 2px 0 #000, 0 -2px 0 #000, 1px 1px #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000"}w.resultText.innerHTML=_.capitalize?w.resultText.innerHTML.toUpperCase():w.resultText.innerHTML.toLowerCase(),a.color=f(T[_.textColor],Q[_.textAlpha]/100),r.background=f(T[_.bgColor],Q[_.bgAlpha]/100),i.background=f(T[_.highlightColor],Q[_.highlightAlpha]/100),e&&(w.fontSelect.selectedIndex=_.fontType,w.sizeSelect.selectedIndex=_.fontSize,w.txtColorSelect.style.background=l(T[_.textColor]),w.txtOpacitySelect.selectedIndex=_.textAlpha,w.bgSelect.style.background=l(T[_.bgColor]),w.bgOpacitySelect.selectedIndex=_.bgAlpha,w.edge.selectedIndex=_.textEdge,w.highlightSelect.style.background=l(T[_.highlightColor]),w.hOpacitySelect.selectedIndex=_.highlightAlpha,w.scaleCheck.checked=_.scale,w.overrideCheck.checked=_.override,w.capitalCheck.checked=_.capitalize),n&&t.publish("captionStyleUpdate",_)}function s(){var t,n,r,i;t=e.generateChild(w.main,"div","row0","caption-set-main-row"),n=e.generateChild(w.main,"div","row1","caption-set-main-row"),r=e.generateChild(w.main,"div","row3","caption-set-main-row"),w.fontLabel=e.generateChild(t,"div","font","caption-set-row-label left"),w.fontLabel.innerHTML="Font:",w.fontSelect=e.generateChild(t,"select","font-select","caption-set-font-select caption-set-select"),w.sizeSelect=e.generateChild(t,"select","size-select","caption-set-size-select caption-set-select right"),i=e.generateChild(n,"span","half0","caption-set-main-half left"),w.txtColorLabel=e.generateChild(i,"div","text-color","caption-set-row-label left"),w.txtColorLabel.innerHTML="Text color:",w.txtColorSelect=e.generateChild(i,"div","text-color-select","caption-set-color-box right"),w.txtCorner=e.generateChild(w.txtColorSelect,"div","select-corner","select-corner right"),w.txtTri=e.generateChild(w.txtCorner,"div","select-triangle","select-triangle"),i=e.generateChild(n,"span","half1","caption-set-row-half right"),w.txtOpacitySelect=e.generateChild(i,"select","text-opacity-select","caption-set-text-opacity-select caption-set-select right"),w.txtOpacityLabel=e.generateChild(i,"div","text-opacity","caption-set-row-label right"),w.txtOpacityLabel.innerHTML="Opacity:",i=e.generateChild(r,"span","half0","caption-set-main-half left"),w.bgLabel=e.generateChild(i,"div","bg","caption-set-row-label left"),w.bgLabel.innerHTML="Background:",w.bgSelect=e.generateChild(i,"div","bg-color","caption-set-color-box right"),w.bgCorner=e.generateChild(w.bgSelect,"div","select-corner","select-corner"),w.bgTri=e.generateChild(w.bgCorner,"div","select-triangle","select-triangle"),i=e.generateChild(r,"span","half1","caption-set-main-half right"),w.bgOpacitySelect=e.generateChild(i,"select","bg-opacity-select","caption-set-bg-opacity-select caption-set-select right"),w.bgOpacityLabel=e.generateChild(i,"div","bg-opacity","caption-set-row-label right"),w.bgOpacityLabel.innerHTML="Opacity:"}function l(e){return"rgb("+e.join(",")+")"}function A(){var t,r,i=e.generateChild(n,"div","color-picker","color-picker"),a=T.length;for(i.style.display="none",i.style.position="absolute",i.style.height=M*N+"px",i.style.width=M*a/N+"px",i.style.padding="3px",w.pickerColor=[],t=0;t<a;t++){t%(a/N)==0&&(r=e.generateChild(i,"div","picker-color-row"+parseInt(t/(a/N))),r.style.height=M+"px",r.style.width=M*a+"px",r.style.overflow="hidden");var o=e.generateChild(r,"div","picker-color"+t,"color-picker-item");o.style.background=l(T[t]),o.style.width=M-4+"px",o.style.height=M-4+"px",o.style.border="solid 1px #444444",o.style.margin="1px",o.style.float="left",w.pickerColor.push(o)}w.pickerFrame=i}function d(t,r){var i=e.getRelativeOffset(t,n);i.x-=n.offsetLeft,i.y-=n.offsetTop,R(i.x,i.y),w.pickerFrame.style.top=i.y+t.offsetHeight+"px",w.pickerFrame.style.left=i.x+"px",C=t,w.pickerFrame.style.display="block",w.pickerColor[r].style.border="solid 1px #fff",b=!0}function c(){b=!1,C=null,w.pickerFrame.style.display="none";var e=8;do{e--,w.pickerColor[e].style.border="solid 1px #444444"}while(e)}function u(){w.txtColorSelect.addEventListener("click",function(){b&&this==C?c():d(this,_.textColor)},!1),w.bgSelect.addEventListener("click",function(){b&&this==C?c():d(this,_.bgColor)},!1),w.highlightSelect.addEventListener("click",function(){b&&this==C?c():d(this,_.highlightColor)},!1),w.pickerFrame.addEventListener("mousemove",p,!1),w.pickerFrame.addEventListener("click",h,!1),w.fontSelect.addEventListener("change",g,!1),w.sizeSelect.addEventListener("change",g,!1),w.txtOpacitySelect.addEventListener("change",g,!1),w.bgOpacitySelect.addEventListener("change",g,!1),w.hOpacitySelect.addEventListener("change",g,!1),w.edge.addEventListener("change",g,!1),w.scaleCheck.addEventListener("change",g,!1),w.overrideCheck.addEventListener("change",g,!1),w.capitalCheck.addEventListener("change",g,!1),w.advExpandButton.addEventListener("click",function(){m()},!1),w.close.addEventListener("click",function(){R("sent toggleCaptionSet"),t.publish("toggleCaptionSet")},!1)}function g(e){var t,n=e.target.className;w.resultHolder.style,w.result.style,w.resultText.style;-1==n.indexOf("check")?(t=this[this.selectedIndex].value,t=parseInt(t)):t=this.checked,R("value:",t),R(n),n.indexOf("font-select")>-1?_.fontType=t:n.indexOf("size-select")>-1?_.fontSize=t:n.indexOf("text-opacity")>-1?_.textAlpha=t:n.indexOf("bg-opacity")>-1?_.bgAlpha=t:n.indexOf("hl-opacity")>-1?_.highlightAlpha=t:n.indexOf("edge-select")>-1?_.textEdge=t:n.indexOf("scale-check")>-1?(_.scale=t,R("checked",t)):n.indexOf("capital-check")>-1?(_.capitalize=t,R("checked",t)):n.indexOf("override-check")>-1&&(_.override=t,R("checked",t)),o(!1,!0)}function f(e,t){return"rgba("+e.join(",")+","+t+")"}function p(e){var t,n,r;if("touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type){t=e.changedTouches[0].target.id}else t=e.target.id;return R(t),r=/picker-color([0-9]+)/.exec(t),r&&C?(n=r[1],C.id.indexOf("text-color")>-1?(R("changing text-color"),w.resultText.style.color=f(T[n],Q[_.textAlpha]/100)):C.id.indexOf("bg-color")>-1?w.resultHolder.style.background=f(T[n],_.bgAlpha):C.id.indexOf("highlight-color")>-1&&(w.result.style.background=f(T[n],_.highlightAlpha)),n):null}function h(e){var t=p(e);null!=t&&(C.id.indexOf("text-color")>-1?_.textColor=t:C.id.indexOf("bg-color")>-1?_.bgColor=t:C.id.indexOf("highlight-color")>-1&&(_.highlightColor=t),C.style.background=l(T[t]),R("selected color",t),o(!1,!0)),c()}function m(){w.advPanel.style.visibility=k?"hidden":"visible",w.advExpandArrow.innerHTML=k?"  &#x25be;":"  &#x25b4;",k=!k}function E(){var t=[],n=0;for(w.advExpand=e.generateChild(w.advanced,"div","row0","caption-set-narrow-row"),w.advExpandButton=e.generateChild(w.advExpand,"span","expand-button","caption-set-expand-button"),w.advExpandButton.style.cursor="pointer",w.advExpandButton.innerHTML="Advanced",w.advExpandButton.style.textDecoration="underline",w.advExpandArrow=e.generateChild(w.advExpand,"span"),w.advExpandArrow.innerHTML="  &#x25BE;",w.advExpandArrow.style.lineHeight="1.4em",w.advPanel=e.generateChild(w.advanced,"div","adv-panel","caption-set-advanced-panel"),w.advPanel.style.visibility="hidden";n<4;){var r=n>1?"caption-set-narrow-row":"caption-set-advanced-row";t[n]=e.generateChild(w.advPanel,"div","row"+n,r),n++}w.edgeLabel=e.generateChild(t[0],"div","edge","caption-set-row-label left"),w.edgeLabel.innerHTML="Text Edge:",w.edge=e.generateChild(t[0],"select","edge-select","caption-set-edge-select caption-set-select"),w.highlightLabel=e.generateChild(t[1],"div","highlight","caption-set-row-label left"),w.highlightLabel.innerHTML="Highlight:",w.highlightSelect=e.generateChild(t[1],"div","highlight-color","caption-set-color-box left"),w.hlCorner=e.generateChild(w.highlightSelect,"div","select-corner","select-corner"),w.hlTri=e.generateChild(w.hlCorner,"div","select-triangle","select-triangle"),w.hOpacitySelect=e.generateChild(t[1],"select","hl-opacity-select","caption-set-hl-opacity caption-set-select right"),w.hOpacityLabel=e.generateChild(t[1],"div","hl-opacity-label","caption-set-row-label right"),w.hOpacityLabel.innerHTML="Opacity:",w.scaleHolder=e.generateChild(t[2],"div","scale","caption-set-scale right"),w.scaleCheck=e.generateChild(w.scaleHolder,"input","scale-check","caption-set-check scale-check"),w.scaleLabel=e.generateChild(w.scaleHolder,"label","scale-label","caption-set-check-label"),w.scaleCheck.type="checkbox",w.scaleLabel.htmlFor=w.scaleCheck.id,w.scaleLabel.appendChild(document.createTextNode("Scale on resize")),w.capitalHolder=e.generateChild(t[2],"div","capital-holder","caption-set-capital-holder left"),w.capitalCheck=e.generateChild(w.capitalHolder,"input","capital-check","caption-set-check capital-check"),w.capitalLabel=e.generateChild(w.capitalHolder,"label","capital-label","caption-set-check-label"),w.capitalCheck.type="checkbox",w.capitalLabel.htmlFor=w.capitalCheck.id,w.capitalLabel.appendChild(document.createTextNode("Capitalize")),w.overrideHolder=e.generateChild(t[3],"div","override-holder","caption-set-override-holder left"),w.overrideCheck=e.generateChild(w.overrideHolder,"input","override-check","caption-set-check override-check"),w.overrideLabel=e.generateChild(w.overrideHolder,"label","override-label","caption-set-check-label"),w.overrideCheck.type="checkbox",w.overrideLabel.htmlFor=w.overrideCheck.id,w.overrideLabel.appendChild(document.createTextNode("Video override")),
w.overrideHolder.style.display="none"}function I(e){var t,n={scale:1,capitalize:1,override:1};if("object"==typeof e){for(var r in e)e.hasOwnProperty(r)&&r in _&&(r in n?_[r]=1==e[r]:(t=parseInt(e[r]),isNaN(t)||(_[r]=t)));o(!0,!1)}}function y(e){R("@setCaptionType",e),B=e}function v(e,t){b&&c()}var C,b,B,w={},S=["Arial","Courier","Georgia","Lucida Sans","Tahoma","Times New Roman","Verdana"],Q=[0,25,50,75,100],T=[[255,255,255],[7,247,247],[9,9,249],[4,246,5],[252,252,10],[248,9,248],[246,5,6],[0,0,0]],D=["None","Drop Shadow","Raised","Depressed","Uniform"],k=!1,R=r?r.getLogFn("CaptionSetting"):function(){console.log.apply(console,["[!CaptionSetting!]\t"].concat(Array.prototype.slice.call(arguments)))},_={fontType:0,fontSize:3,textColor:0,textAlpha:4,bgColor:7,bgAlpha:0,textEdge:4,highlightColor:7,highlightAlpha:0,scale:!0,capitalize:!1,override:!0},M=32,N=2;return{init:function(){i(),u()},show:function(){var e;n.style.display="block",(e=n.offsetWidth)<=500&&(w.header.style.width="90%",w.content.style.width="90%")},hide:function(){n.style.display="none"},setStyle:I,setCaptionType:y,rescale:v}}return t}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("clipboard",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Clipboard=e()}}(function(){var e;return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var A=new Error("Cannot find module '"+o+"'");throw A.code="MODULE_NOT_FOUND",A}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(e){return i(t[o][1][e]||e)},d,d.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){function r(e,t){for(;e&&e.nodeType!==i;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}t.exports=r},{}],2:[function(e,t,n){function r(e,t,n,r,a){var o=i.apply(this,arguments);return e.addEventListener(n,o,a),{destroy:function(){e.removeEventListener(n,o,a)}}}function i(e,t,n,r){return function(n){n.delegateTarget=a(n.target,t),n.delegateTarget&&r.call(e,n)}}var a=e("./closest");t.exports=r},{"./closest":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,n){function r(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!s.string(t))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(e))return i(e,t,n);if(s.nodeList(e))return a(e,t,n);if(s.string(e))return o(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function a(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function o(e,t,n){return l(document.body,e,t,n)}var s=e("./is"),l=e("delegate");t.exports=r},{"./is":3,delegate:2}],5:[function(e,t,n){function r(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}t.exports=r},{}],6:[function(e,t,n){function r(){}r.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){i.off(e,r),t.apply(n,arguments)}var i=this;return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var a=0,o=r.length;a<o;a++)r[a].fn!==t&&r[a].fn._!==t&&i.push(r[a]);return i.length?n[e]=i:delete n[e],this}},t.exports=r},{}],7:[function(t,n,r){!function(i,a){if("function"==typeof e&&e.amd)e(["module","select"],a);else if(void 0!==r)a(n,t("select"));else{var o={exports:{}};a(o,i.select),i.clipboardAction=o.exports}}(this,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(e){return e&&e.__esModule?e:{default:e}}(t),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){n(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=o})},{select:5}],8:[function(t,n,r){!function(i,a){if("function"==typeof e&&e.amd)e(["module","./clipboard-action","tiny-emitter","good-listener"],a);else if(void 0!==r)a(n,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var o={exports:{}};a(o,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=o.exports}}(this,function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var A=i(t),d=i(n),c=i(r),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(e,n){a(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return s(t,e),g(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===u(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,c.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new A.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return l("action",e)}},{key:"defaultTarget",value:function(e){var t=l("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return l("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}(d.default);e.exports=f})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),define("Share",["util","clipboard"],function(e,t){function n(n,r,i,a,o,s,l){function A(){function i(e){$("KEY:",e.which);var t={8:1,27:1,16:1,186:1,37:1,38:1,39:1,40:1};e.which in t||e.which>47&&e.which<58||e.preventDefault()}function a(){z=!z,H.innerHTML=Z?j.value:"from the beginning",H.style.display=z?"none":"inline-block",Y.style.display=z?"inline-block":"none",V.innerHTML=z||Z?"Share at ":"Share "}function o(){var e=E();Z=e,e?(a(),n.publish("updateEmbedInfo",_)):(T.sendStatus.innerHTML="You have entered an invalid time value!",C())}var s,l,A,u,m,I,y,v,b,B,w,S,Q,D,k,R,M,N,L,O,P,F,U,x,G,V,H,j,Y,K,J,q,W,X;return l=e.generateChild(r,"div","share-panel","share-panel"),A=e.generateChild(l,"div","share-title","share-title-label"),u=e.generateChild(l,"div","share-send-status","share-send-status-label"),m=e.generateChild(l,"div","share-content","share-content-panel"),I=e.generateChild(m,"div","share-left","share-left-panel"),e.setFloat(I,"left"),y=e.generateChild(m,"div","share-right","share-right-panel"),e.setFloat(y,"left"),v=e.generateChild(I,"div","share-email-prompt","share-email-label"),b=e.generateChild(I,"input","share-to","share-to-input share-input"),b.style.display="block",B=e.generateChild(I,"input","share-from","share-from-input share-input"),B.style.display="block",w=e.generateChild(I,"textarea","share-msg","share-msg-input share-input"),w.style.display="block",S=d(I,"share-send","share-send-btn share-text-btn share-btn","",f),e.setFloat(S,"right"),Q=e.generateChild(y,"div","share-social-links","share-social-links-panel"),X=e.generateChild(Q,"div","share-social-start-shim",""),X.style.display="inline-block",Q.appendChild(document.createTextNode(" ")),k=c(Q,"share-google-plus","google-plus-btn share-social-btn share-btn",p),Q.appendChild(document.createTextNode(" ")),R=c(Q,"share-twitter","twitter-btn share-social-btn share-btn",p),Q.appendChild(document.createTextNode(" ")),D=c(Q,"share-facebook","facebook-btn share-social-btn share-btn",p),Q.appendChild(document.createTextNode(" ")),M=c(Q,"share-pinterest","pinterest-btn share-social-btn share-btn",p),Q.appendChild(document.createTextNode(" ")),X=e.generateChild(Q,"div","share-social-end-shim",""),X.style.display="inline-block",q=e.generateChild(Q,"span","share-social-stretch",""),q.style.width="100%",q.style.display="inline-block",N=e.generateChild(y,"div","share-code-area","share-code-panel"),L=e.generateChild(N,"div","share-link-area","share-link-panel"),L.style.clear="both",W=e.generateChild(L,"span","share-link-input-wrapper",""),W.style.display="table-cell",W.style.width="100%",F=e.generateChild(W,"input","share-link-text","share-link-input share-input"),F.style.width="100%",X=e.generateChild(L,"span","share-link-shim",""),X.style.display="table-cell",X.style.minWidth="22px",W=e.generateChild(L,"span","share-link-button-wrapper",""),W.style.display="table-cell",U=d(W,"share-link-button","share-link-btn share-text-btn share-btn","",h),O=e.generateChild(N,"div","share-embed-area","share-embed-panel"),O.style.clear="both",W=e.generateChild(O,"span","share-embed-input-wrapper",""),W.style.display="table-cell",W.style.width="100%",x=e.generateChild(W,"input","share-embed-text","share-embed-input share-input"),x.style.width="100%",X=e.generateChild(O,"span","share-embed-shim",""),X.style.display="table-cell",X.style.minWidth="22px",W=e.generateChild(O,"span","share-embed-button-wrapper",""),W.style.display="table-cell",G=d(W,"share-embed-button","share-embed-btn share-text-btn share-btn","",h),P=e.generateChild(N,"div","share-start-time-area","share-start-time-panel"),P.style.clear="both",V=e.generateChild(P,"span","share-start-time-prefix","share-start-time-prefix"),H=e.generateChild(P,"span","share-start-time-button","share-start-time-button"),Y=e.generateChild(P,"span","input-area","share-start-time-input-area"),Y.style.display="none",j=e.generateChild(Y,"input","share-start-time-input","share-start-time-input share-input"),K=e.generateChild(Y,"span","button-ok","share-start-time-input-button"),J=e.generateChild(Y,"span","button-cancel","share-start-time-input-button"),j.placeholder="00:00",H.style.cursor="pointer",K.style.cursor="pointer",J.style.cursor="pointer",e.addEventListener(j,"keydown",i),e.addEventListener(H,"click",a),e.addEventListener(J,"click",function(){Z&&(Z=!1,_=0),a(),n.publish("updateEmbedInfo",_)}),e.addEventListener(K,"click",o),s=c(r,"shareClose","share-close-btn share-btn",g),s.style.zIndex=2147483648,new t(U,{target:function(){return F}}),new t(G,{target:function(){return x}}),{close:s,sharePanel:l,header:A,sendStatus:u,content:m,leftArea:I,rightArea:y,emailPrompt:v,to:b,from:B,message:w,sendButton:S,socialMediaButtons:Q,facebook:D,googlePlus:k,twitter:R,pinterest:M,codeArea:N,linkArea:L,embedArea:O,startTimeArea:P,linkText:F,linkButton:U,embedText:x,embedButton:G,startTimePrefix:V,startTimeButton:H,startTimeInputArea:Y,startTimeInput:j,buttonOK:K,buttonCancel:J}}function d(t,n,r,i,a){var o=e.generateChild(t,"div",n,r,i);return M?e.addEventListener(o,"touchend",a,!1):e.addEventListener(o,"click",a,!1),o}function c(t,n,r,i){var a=e.generateEmptyImg(t,n,r);return e.addEventListener(a,"click",i,!1),a}function u(){if("activeElement"in document)try{document.activeElement!==document.body&&document.activeElement.blur()}catch(e){}}function g(){$("Close button clicked"),n.publish("toggleSharePanel"),u()}function f(){$("Send button clicked"),!W&&m()&&(I(T.to.value,T.from.value,T.message.value,T.linkText.value),W=!0,T.sendButton.innerHTML="Sending...",n.publish("dispatchUserShare")),u()}function p(){var t,r=s&&s.openGraphInfo&&s.openGraphInfo.image?s.openGraphInfo.image:s.baseURL+"img/anvatologo.png";R=R||r,k=k?k.replace(/"/g,""):"",D=D?D.replace(/"/g,""):"",this.id.indexOf("facebook")>=0?t="http://www.facebook.com/sharer.php?u="+encodeURIComponent(O):this.id.indexOf("twitter")>=0?(msg=D?e.uTF8Encode(D):e.uTF8Encode(k),$("msg",msg,"description",D),t="http://twitter.com/intent/tweet?url="+O,msg&&(t=t+"&text="+msg)):this.id.indexOf("google")>=0?t="https://plus.google.com/share?url="+O:(t="http://pinterest.com/pin/create/button/?url="+O,R&&(t=t+"&media="+e.uTF8Encode(R)),D?t=t+"&description="+e.uTF8Encode(D):k&&(t=t+"&description="+e.uTF8Encode(k))),e.openURIInNewWindow(t),n.publish("dispatchUserShare")}function h(){this===T.embedButton?($("Embed button clicked"),T.embedText.focus(),T.embedText.setSelectionRange(0,T.embedText.value.length)):($("Link button clicked"),T.linkText.focus(),T.linkText.setSelectionRange(0,T.linkText.value.length))}function m(){var e=!0;return T.to.style.border=H+"px "+Y+" "+J,T.from.style.border=H+"px "+Y+" "+J,U.test(T.to.value)||(T.to.style.border=j+"px "+K+" "+q,e=!1),U.test(T.from.value)||(T.from.style.border=j+"px "+K+" "+q,e=!1),e}function E(){var t=T.startTimeInput.value;return T.startTimeInput.style.border=H+"px "+V+" "+J,_=e.timeString2Sec(t),!(!x.test(t)||_>L)||(T.startTimeInput.style.border=j+"px "+V+" "+q,_=0,!1)}function I(t,n,r,i){var a=n+" has sent you a video!\n",o=(new Date).getTime()+F,s=Math.round(o/1e3),l=e.createUUID(),A=[n,t,l,s,e.md5("anvrocks")].join("|");$("Sending email","to: "+t,"from: "+n,"subject: "+a,"message: "+r),e.sendPostRequest(G,{to:t,from:n,subject:a,link:O,message:r,title:k,description:D,image:R,ts:s,rid:l,token:e.md5(A)},y,v)}function y(e){var t;if("1"==e)$("got legacy email server response"),t={success:!0};else try{t=JSON.parse(e)}catch(e){return void v("100","E-mail server returned invalid response")}var n;t.success?($("Email success: "+e),T.sendStatus.innerHTML=X("share-sendSuccess-content"),T.to.value="",T.from.value="",T.message.value="",W=!1,T.sendButton.innerHTML="Send",C()):(n=t.error||{},v(n.code,n.info))}function v(e,t){l.dispatchError("SSHR100",e?"Email server error code:"+e+", detail:"+t:void 0),T.sendStatus.innerHTML=X("share-sendFail-content"),W=!1,T.sendButton.innerHTML="Send",C()}function C(){setTimeout(function(){T.sendStatus.innerHTML=""},3e3)}function b(t){e.setReadOnly(T.embedText,!1,M),T.embedText.value=t,e.setReadOnly(T.embedText,!0,M)}function B(t){e.setReadOnly(T.linkText,!1,M),T.linkText.value=t,e.setReadOnly(T.linkText,!0,M)}function w(){T.close.title=X("share-close-tooltip"),T.header.innerHTML=X("share-title-content"),T.sendStatus.innerHTML="",T.emailPrompt.innerHTML=X("share-emailPrompt-content"),T.to.placeholder=X("share-to-placeholder"),T.to.title=X("share-to-tooltip"),T.from.placeholder=X("share-from-placeholder"),T.from.title=X("share-from-tooltip"),T.message.placeholder=X("share-message-placeholder"),T.message.title=X("share-message-tooltip"),T.sendButton.innerHTML=X("share-send-content"),T.sendButton.title=X("share-send-tooltip"),T.facebook.title=X("share-facebook-tooltip"),T.twitter.title=X("share-twitter-tooltip"),T.googlePlus.title=X("share-googlePlus-tooltip"),T.pinterest.title=X("share-pinterest-tooltip"),T.linkText.placeholder=X("share-linkText-placeholder"),T.linkText.title=X("share-linkText-tooltip"),T.linkButton.innerHTML=X("share-linkButton-content"),T.linkButton.title=X("share-linkButton-tooltip"),T.embedText.placeholder=X("share-embedText-placeholder"),T.embedText.title=X("share-embedText-tooltip"),T.embedButton.innerHTML=X("share-embedButton-content"),T.embedButton.title=X("share-embedButton-tooltip"),T.startTimePrefix.innerHTML="Share ",T.startTimeButton.innerHTML="from the beginning",T.buttonOK.innerHTML="OK",T.buttonCancel.innerHTML="Cancel"}function S(e,t){var n=e||Math.max(r.offsetWidth,r.clientWidth);n<640&&(T.header.style.height="20px",T.header.style.lineHeight="20px",T.sendStatus.style.height="20px",T.sendStatus.style.fontSize="15px"),n<500&&(ee.header=!1,ee.status=!1,ee.leftPanel=!1,ee.startAt=!1,T.header.style.display="none",T.sendStatus.style.display="none",T.leftArea.style.display="none",T.rightArea.style.width="90%",T.rightArea.style.marginLeft=0,T.startTimeArea.style.display="none"),n<400&&(T.socialMediaButtons.style.marginTop="7%"),n<300&&(ee.embed=!1,T.socialMediaButtons.style.marginTop="14%",T.socialMediaButtons.style.width="75%",T.codeArea.style.display="none"),$("Share width:",n)}function Q(e){$("@setTimeDelta:",e),F=e}var T,D,k,R,_,M,N,L,O,P,F,U=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,x=/^(([0-9]{1,2}:)?[0-5]{1}[0-9]{1}:)?[0-5]{1}[0-9]{1}$/,G=s.emailServer||"https://share.anvato.net/mail2.php",V="solid",H=0,j=3,Y="none",K="solid",J="#ccc",q="red",W=!1,z=!1,Z=!1,X=i?i.tr:function(){return"--"},$=a?a.getLogFn("Share"):function(){console.log.apply(console,["[!Share!]\t"].concat(Array.prototype.slice.call(arguments)))},ee={header:!0,status:!0,leftPanel:!0,startAt:!0,icons:!0,embed:!0};return{init:function(){M=o&&(o.android||o.ipad||o.iphone),T=A(),w(),e.preventDefaultMouseDown([T.facebook,T.twitter,T.googlePlus,T.pinterest,T.close,T.sendButton,T.linkButton,T.embedButton]),D="",R="",_=0},updateLanguage:function(){w()},show:function(t){r.style.display="block",N=t?t.currentTime:null,L=t?t.duration:null,N&&(T.startTimeInput.value=e.sec2TimeString(N)),T.startTimeArea.style.visibility=t?"visible":"hidden",T.to.focus(),S()},hide:function(){r.style.display="none"},setEmbedCode:function(e){b(e)},setShareLink:function(e){O=e,B(e)},setOpenGraphShareLink:function(e){P=e},setDescription:function(e){D=e},setTitle:function(e){k=e},setMediaURL:function(e){R=e},setTimeDelta:Q}}return n}),define("Search",["util"],function(e){function t(t,n,r,i){function a(){var t,r,i,a,o,s;return t=e.generateEmptyImg(n,"search-close","search-close-btn"),e.addEventListener(t,"click",l,!1),i=e.generateChild(n,"div","search-input-container",""),i.style.position="relative",i.style.margin="20px auto 0 auto",i.style.width="80%",r=e.generateChild(i,"input","search-input","search-input"),r.value="",r.style.margin="0px",r.style.width="100%",r.style.height=S+"px",r.style.fontSize=".9em",r.style.paddingLeft="8px",e.addEventListener(r,"input",d,!1),a=e.generateEmptyImg(i,"search-icon","search-icon"),a.style.position="absolute",a.style.right="0px",a.style.top="0px",a.style.bottom="0px",a.style.margin="auto",a.style.zIndex="1",o=e.generateChild(n,"div","search-status","search-status-text"),o.style.marginTop=b+"px",o.style.marginLeft=C+"px",o.style.width=w+"px",o.style.height=Q+"px",o.style.fontSize=".8em",o.style.textAlign="left",s=e.generateChild(n,"div","search-container","search-container"),s.style.position="absolute",s.style.top=S+Q+C+2*b+"px",s.style.bottom=C+"px",s.style.left=C+"px",s.style.width=w+40+"px",s.style.fontSize="14px",s.style.overflow="auto",{close:t,searchBox:r,searchIcon:a,status:o,matchesContainer:s}}function o(t,n){var r,i,a,o;r=e.generateChild(t,"div","","search-matching-cue-container"),r.style.width="100%",r.style.height=T+"px",r.style.overflow="hidden",r.style.whiteSpace="nowrap",e.addEventListener(r,"click",A,!1),o=e.generateChild(r,"img","","search-matching-cue-thumbnail"),o.src="img/transparent.gif",o.style.margin="0px",o.style.width=y+"px",o.style.height=v+"px",o.style.verticalAlign="middle",n.frame&&(o.style.background="#fff url('"+n.frame.url+"') no-repeat "+n.frame.left+"px "+n.frame.top+"px"),i=e.generateChild(r,"span","","search-matching-cue-time",e.sec2TimeString(n.begin)),i.style.margin="0px 0px 0px "+B+"px",i.style.width=D+"px",i.style.height=T+"px",a=e.generateChild(r,"span","","search-matching-cue-text",n.text),a.style.margin="0px 0px 0px "+B+"px",a.style.height=T+"px"}function s(){if("activeElement"in document)try{document.activeElement!==document.body&&document.activeElement.blur()}catch(e){}}function l(e){R("Close button clicked"),t.publish("toggleSearchPanel"),s()}function A(){var n,r;n=this.querySelector(".anv-search-matching-cue-time").innerHTML,r=e.timeString2Sec(n),R("Caption cue clicked on at "+n),t.publish("toggleSearchPanel"),t.publish("seekRequest",r)}function d(){var e;if(I=!0,E=[],R("User edited search box text: "+p.searchBox.value),0!==p.searchBox.value.length){try{e=new RegExp(p.searchBox.value,"i")}catch(e){I=!1}I&&(E=h.filter(function(t){return e.test(t.text)}))}u(),I&&E.length>0?t.publish("captionThumbnailsRequest",E):p.matchesContainer.innerHTML=""}function c(e){p.matchesContainer.innerHTML="";for(var t=0;t<e.length;t++)o(p.matchesContainer,e[t])}function u(){var e,t;h&&0!==h.length?0===p.searchBox.value.length?p.status.innerHTML="":I?(t=k("search-status-numberOfMatches").split("%"),e=3!==t.length?E.length+" '"+p.searchBox.value+"' ":t[0]+E.length+t[1]+p.searchBox.value+t[2],p.status.innerHTML=e):p.status.innerHTML=k("search-status-invalidRegex"):p.status.innerHTML=k(m?"search-status-select-lang":"search-status-emptyCueList")}function g(){p.searchBox.value="",I=!0,p.matchesContainer.innerHTML="",E=[],u()}function f(){p.close.title=k("search-close-tooltip"),p.searchBox.placeholder=k("search-searchBox-placeholder"),p.searchBox.title=k("search-searchBox-tooltip"),p.matchesContainer.title=k("search-matchedItem-tooltip"),u()}var p,h,m,E,I,y,v,C=22,b=12,B=10,w=540-2*C-40,S=30,Q=20,T=40,D=60,k=r?r.tr:function(){return"--"},R=i?i.getLogFn("Search"):function(){console.log.apply(console,["[!Search!]\t"].concat(Array.prototype.slice.call(arguments)))};return{init:function(){I=!0,h=[],E=[],p=a(),y=0,v=0,f(),e.preventDefaultMouseDown([p.close,p.searchIcon])},updateLanguage:function(){f()},show:function(){n.style.display="block"},hide:function(){n.style.display="none",g()},setCueList:function(e,t){h=e||[],m=t.length,R("isCaptionAvailable",m),g()},setThumbnailWidthHeight:function(e){y=e.width,v=e.height},redrawCueList:function(e){c(e)}}}return t}),define("Playlist",["util"],function(e){function t(t,n,r,i,a){function o(t,n){t&&n&&(t.style.background="url('"+n+"') no-repeat center",t.style.backgroundSize="100%",t.style.width="45%",t.style.maxWidth="128px",t.style.height="72px",e.setFloat(t,"left"))}function s(e){var n=[];e.captions&&e.captions.length?(K("captionUpdate sent"),n=e.captions):n=[],t.publish("captionUpdate",n),e.previews&&e.previews.url&&e.duration&&e.pvw_matrices?(K("previewDetected sent"),t.publish("previewDetected",{previews:e.previews,duration:e.duration,pvw_matrices:e.pvw_matrices})):t.publish("resetPreview"),K("splashInfoUpdate sent"),t.publish("splashInfoUpdate",{def_description:e.def_description||null,def_title:e.def_title||null,video:e.id||e.upload_id,title:e.def_title,description:e.def_description,duration:e.duration,thumbnail:e.src_image_url||e.src_logo_url,rating:e.rating,live:"2"==e.video_type,previews:e.previews,pvw_matrices:e.pvw_matrices}),e.common&&"language"in e.common&&t.publish("contentLanguageDetected",e.common.language),e.plugins&&e.plugins.dfp&&"clientSide"in e.plugins.dfp&&t.publish("dfpConfigDetected",e.plugins.dfp),e.ad_slots&&t.publish("adSlotsDetected",e.ad_slots),e.rstv&&t.publish("restartTvDetected",e.rstv)}function l(){var e;return K("@getNextItem",F,R.length,R.length),K("@getNextItem loopThrough",x),v(F+1),F>=R.length?x?(v(F%R.length),(e=R[F])&&(e.play=!0)):(t.publish("completedPlaylist"),i&&"dispatchError"in i&&i.dispatchError("PLAY920"),v(R.length-1),(e=R[F])&&(e.play=!1)):e=R[F],s(e),e}function A(){var e,t;return K("@checkNextItem",F,R.length,R.length),K("@checkNextItem loopThrough",x),t=F+1,t>=R.length?x?(t=F%R.length,e=R[t]):(t=R.length-1,e=R[t]):e=R[t],e}function d(){return F<R.length-1||x}function c(){var e;return K("@getPreviousItem",F,R.length,R.length),K("@getPreviousItem loopThrough",x),v(F-1),K("@getPreviousItem",F),F<0?x?(v(R.length-1),e=R[F]):(v(0),e=R[F],e&&(e.play=!1),i&&"dispatchError"in i&&i.dispatchError("PLAY921")):e=R[F],s(e),e}function u(){return F>0||x}function g(e){K("getItemWithId",e);var t,n,r;for(n=0,r=R.length;n<r;n++)if(R[n].id&&R[n].id==e)return n,v(n),K("Found the item with id:",e),t=R[n],s(t),t;return null}function f(e){return"number"==typeof e&&R.length>e?R[e]:null}function p(t,n){for(var r=0,i=R.length;r<i;r++)if(R[r].id&&R[r].id==t)return R[r]=e.merge(R[r],n),K("@mergeToItemWithId found index:",r,"item:",JSON.stringify(R[r],null,3)),!0;return!1}function h(){K("@decorate");var t,n;"visual"==G&&"native"==V&&(M.style.display="none",M.style.width="50%",M.style.height="100%",M.style.position="absolute",M.style.right="0",M.style.top="0",M.style.color="#FFF",M.style.background="rgba(5, 4, 5, 0.62)",M.style.zIndex="2147483648",t=e.generateChild(M,"div","playlist-header","playlist-header"),t.style.width="100%",t.style.height="27px",t.style.padding="10px 0 0 10px",t.style.fontSize="1.1em",t.innerHTML="Playlist",n=e.generateChild(t,"div","playlist-close","playlist-close"),n.style.position="absolute",n.style.right="10px",n.style.top="10px",n.style.width="32px",n.style.height="32px",n.style.zIndex="3",n.onclick=function(){w()},N=e.generateChild(M,"div","playlist-menu","playlist-menu"),N.style.paddingLeft="5px",N.style.paddingRight="5px",N.style.height="90%",N.style.marginRight="3px",N.style.overflowY="scroll",N.style.overflowX="hidden"),e.addEventListener(M,"click",function(e){K("click",e.target.className),K("click",this.className)},!1),L=b()}function m(){var t,n,r,i=[],a=Date.now();if(O=a,N){for(P[a]=0,t=0;t<R.length;t++)n=R[t].thumbnail||R[t].src_image_url||j,i.push(n),L.length>t&&(L[t].title.innerHTML=R[t].def_title||"Video #"+(t+1),L[t].description.innerHTML=R[t].def_description||"");K("caching thumbnail",JSON.stringify(i,null,3)),r=i.filter(function(t){var n=e.md5(t);return Y[n]&&E(a,{src:t}),!Y[n]}),e.cacheImages(r,E.bind(null,a),I.bind(null,a))}}function E(t,n){if(t==O){var r=e.md5(n.src);Y[r]=!0,P[t]++,y(t)}}function I(t,n){if(t==O){var r=e.md5(n.src);Y[r]=!1,P[t]++,K("Thumbnail load error",P[t],n.src,r),y(t)}}function y(t){if(P[t]==R.length){L=b();for(var n=0;n<L.length;n++){var r=R[n].thumbnail||R[n].src_image_url||j;Y[e.md5(r)]||(r=j),o(L[n].thumbnail,r,t)}P[t]={}}}function v(e){_=F,F=e,K("previous:",_,"current:",F)}function C(e){var n=/playlist-item([0-9]+)/.exec(this.id);K("selected",n[1]),v(parseInt(n[1])-1),t.publish("playlistItemSelected"),w()}function b(){var t,n,r,i,a,s,l=0,A=[];for(N.innerHTML="";l<R.length;l++)t=e.generateChild(N,"div","playlist-item"+l,"playlist-item"),t.style.cursor="pointer",t.style.width="100%",t.style.height="84px",
e.addEventListener(t,"click",C,!0),n=e.generateChild(t,"div","playlist-item-thumbnail"+l,"playlist-item-thumbnail"),n.style.marginTop="6px",r=R[l].thumbnail||R[l].src_image_url||j,o(n,r),i=e.generateChild(t,"div","playlist-item-info"+l,"playlist-item-info"),i.style.position="relative",i.style.width="50%",i.style.height="80%",i.style.marginLeft="5%",i.style.marginTop="10px",i.style.top="0",i.style.bottom="0",i.style.left="0",i.style.right="0",e.setFloat(i,"left"),a=e.generateChild(i,"div","playlist-item-title"+l,"playlist-item-title"),s=e.generateChild(i,"div","playlist-item-desc"+l,"playlist-item-desc"),a.paddingLeft="10px",a.style.fontSize=".9em",a.style.lineHeight="1.3em",a.style.fontWeight="bold",a.style.overflow="hidden",a.style.textOverflow="ellipsis",a.style.whiteSpace="nowrap",a.innerHTML=R[l].def_title||"Video #"+(l+1),s.innerHTML=R[l].def_description||"",s.style.fontSize="0.7em",s.style.overflow="hidden",s.style.textOverflow="ellipsis",s.style.display="-webkit-box",s.style.lineHeight="1.1em",s.style.maxHeight="2.2em",s.style.webkitLineClamp=2,s.webkitBoxOrient="vertical",A.push({thumbnail:n,title:a,description:s});return A}function B(){H=!0,t.publish("playlistDisplayed",H),M.style.display="block"}function w(){H=!1,t.publish("playlistDisplayed",H),M.style.display="none"}function S(e){R=R.filter(function(t,n){return e!=n}),t.publish("playlistUpdated",R)}function Q(e){R=R.filter(function(t){return t.id!=e}),t.publish("playlistUpdated",R)}function T(e){K("@append to queue of total:",R.length);for(var n=0,r=R.length;n<r;n++)if(R[n].id&&R[n].id==(e.id||e.upload_id))return R[n].play=U,{index:n,id:R[n].id,token:R[n].token};return e.started=!1,e.completed=!1,e.play=U,e.startAt=0,e.mcpid&&(e.id=e.mcpid,delete e.mcpid),e.title&&(e.def_title=e.title,delete e.title),e.description&&(e.def_description=e.description,delete e.description),e.image&&(e.src_image_url=e.image,delete e.image),R.push(e),K("@append",JSON.stringify(e,null,3)),t.publish("playlistUpdated",R),{index:R.length-1,id:e.upload_id||e.id,token:e.token}}function D(){return K("@getPlaylistIndex",F),F}function k(){R=[],F=-1,t.publish("playlistUpdated",R)}var R,_,M,N,L,O,P={},F=-1,U=!1,x=!0,G="abstract",V="native",H=!1,j=a.baseURL+"img/defaultthumbnail.png",Y={},K=r?r.getLogFn("Playlist"):function(){console.log.apply(console,["[!Playlist!]\t"].concat(Array.prototype.slice.call(arguments)))};return{init:function(e,t,n){K("init",e.length);var r=0;for(U=t,x=n;r<e.length;r++)e[r].started=!1,e[r].completed=!1,r&&(e[r].play=U),e[r].startAt=0;R=e},clear:k,updateVisualPlaylist:m,hasNextItem:d,getNextItem:function(){var e=l();return e.formats&&0==e.formats.length?(K("No video in formats, giving next"),l()):e},checkNextItem:A,getPreviousItem:c,hasPreviousItem:u,getItemWithId:g,mergeToItemWithId:p,setVisual:function(e,t,n){G=t,V=n,M=e,h()},toggle:function(){H?w():B()},show:function(){B()},hide:function(){w()},append:T,removeWithId:Q,removeWithIndex:S,setLoopThrough:function(e){x=!!e},getItemWithIndex:f,getPlaylistIndex:D,getPlaylist:function(){return R}}}return t}),define("Splash",["util"],function(e){function t(t,n,r,i,a){function o(){clearInterval(L),L=setInterval(function(){Z+=22.5,Z=Z>360?Z-360:Z;for(var e="Webkit Moz O ms Khtml".split(" "),t=0;t<e.length;t++)O.spinningWheel.style["-"+e[t]+"-transform"]="rotate("+Z+"deg)"},100)}function s(){n.style.display="none",n.style.position="absolute",n.style.left="0",n.style.top="0",n.style.width="100%",n.style.height="100%",O.splashImg=e.generateChild(n,"div","splash-img","splash-img"),O.splashImg.style.position="relative",O.splashImg.style.width="100%",O.splashImg.style.height="100%",O.header=e.generateChild(O.splashImg,"div","splash-header","splash-header"),O.info=e.generateChild(O.header,"div","splash-info","splash-info"),O.title=e.generateChild(O.info,"div","splash-title","splash-title"),O.description=e.generateChild(O.info,"p","splash-description","splash-description"),O.remaining=e.generateChild(O.info,"p","splash-remaining","splash-remaining"),O.share=e.generateChild(O.header,"div","splash-share","splash-share"),O.chromecast=e.generateChild(O.splashImg,"div","splash-chromecast-button","chromecast-button"),O.playButton=e.generateChild(O.splashImg,"div","splash-play-button","splash-play-button"),O.playButtonImg=e.generateChild(O.playButton,"img","splash-play-button","splash-play-button-img"),O.playButtonImg.src=V,O.castStatus=e.generateChild(O.splashImg,"div","splash-cast-status","splash-cast-status"),O.castStatusIcon=e.generateChild(O.castStatus,"div","splash-cast-status-icon","splash-cast-status-icon"),O.castStatusMessageWrapper=e.generateChild(O.castStatus,"div","splash-cast-status-message-wrapper","splash-cast-status-message-wrapper"),O.castStatusMessage=e.generateChild(O.castStatusMessageWrapper,"div","splash-cast-status-message","splash-cast-status-message","CONNECTING..."),O.castStatusReceiverName=e.generateChild(O.castStatusMessageWrapper,"div","splash-cast-status-receiver-name","splash-cast-status-receiver-name",""),l(1),O.spinningWheel=e.generateChild(n.parentNode,"div","splash-spinning-wheel","splash-spinning-wheel"),O.spinningWheel.style.display="none",X||e.addClass(O.header,"splash-header-gradient",!0),i&&!i.CSSAnimationSupport&&o(),O.share.onclick=function(){t.publish("toggleSharePanel")}}function l(e){O.playButtonImg.style.top=e*Y+"px",O.playButtonImg.width=H*e,O.playButton.style.width=j*e+"px",O.playButton.style.height=j*e+"px"}function A(e){if(e>0){var t="",n="";return B("sec",e),n=parseInt(e/60,10),e=parseInt(e%60,10),n>=60&&(t=parseInt(n/60,10),n=parseInt(n%60,10),t=t+" hour"+(t>1?"s ":" ")),n+=Math.round(e/60),e=n>0?"":e+" second"+(e>1?"s ":" "),n=n>0?n+" minute"+(n>1?"s ":" "):"",B(t,n,e),t+n+e+" left"}return""}function d(e,t){B("@imageLoadFailed",e,t),"splash"==t&&(p(),u())}function c(e,r){var i;"splash"==r?(O.splashImg.style.background="url('"+e+"') no-repeat center center",O.splashImg.style.backgroundSize="100% auto",U=!0,t.publish("posterLoaded"),B("@imageLoaded splashImageLoaded set to true")):"button"==r?P=!0:"loadingImg"==r&&(F=!0,N=(new Date).getTime(),i=N-M,t.publish("clientBandWith",1433680/i)),B(G,U,P),G&&P&&(g(),z||(n.style.display="block"),t.publish("splashDisplayed",D),u())}function u(e,t){var r,i,a,o,s=e||Math.max(n.offsetWidth,n.clientWidth),A=s/640;o=(s-225)/575,r=16+11*o,i=11+7*o,a=1.1+.7*o,B("@scale width:",s,"title font size:",r),l(A),O.info.style.marginLeft=K*A+"px",O.title.style.fontSize=r+"px",O.description.style.fontSize=i+"px",O.description.style.lineHeight=a+"em",O.description.style.letterSpacing="0.02em",O.remaining.style.fontSize=i+"px",O.remaining.style.lineHeight=a+"em",O.description.style.visibility=A<.78125?"hidden":"visible"}function g(){B("applyMode",JSON.stringify(T,null,3));var e,t="visible",n="hidden";O.title.style.visibility=T.title?t:n,O.description.style.display=T.description?"block":"none",T.remaining&&R>0&&(e=A(R),O.remaining.innerHTML=e),O.remaining.style.display=T.remaining?"block":"none",O.share.style.visibility=T.share?t:n,O.playButton.style.visibility=T.play&&!x?t:n,T.marginLeft&&"auto"!=T.marginLeft?(O.playButton.style.marginLeft=T.marginLeft,O.playButton.style.marginBottom=T.marginBottom):O.playButton.style.margin="auto auto",T.poster?O.splashImg.style.backgroundSize="100% auto":O.splashImg.style.background="","hoverScreen"==D?(clearTimeout(_),O.header.style.transition="visibility 0s linear 0s, opacity "+$+"s ease 0s",O.header.style.opacity="1",O.header.style.visibility="visible",_=setTimeout(function(){O.header.style.transition="visibility 0s linear "+ee+"s, opacity "+ee+"s ease 0s",O.header.style.visibility="hidden",O.header.style.opacity="0"},te)):(O.header.style.transition="visibility 0s linear 0s, opacity "+$+"s ease 0s",O.header.style.opacity="1",O.header.style.visibility="visible",clearTimeout(_))}function f(e,t){B("@asyncLoad",e);var n=new Image;n.onload=function(){B("@asyncload~@onloaded",e),c(e,t)},n.onerror=function(){B("@asyncload~@onerror",e),d(e,t)},n.src=e}function p(){g(),O.splashImg.style.background="",z||(n.style.display="block"),t.publish("splashDisplayed",D)}function h(){B("Splash hidden"),G=!1,n.style.display="none",D="hoverScreen",t.publish("splashHidden",D)}function m(){e.addEventListener(O.playButton,"click",function(){B("sent playRequest",D),"pauseScreen"==D?t.publish("playRequest",!1):"loadScreen"==D&&t.publish("playRequest",!0)}),e.addEventListener(O.chromecast,"click",function(){t.publish("chromecastButtonClicked")})}function E(e){B("splash buffering",e,"display",G),x=e&&T!=W.castScreen,O.spinningWheel.style.display=e?"block":"none",e?O.playButton.style.visibility="hidden":G&&g()}function I(e){return!G||ne[k]&&e in ne[k]}function y(t,n){var r=e.deepCopy(W[t]),i="VIDEO_ON_MAIN"!=n;return r.title=!i&&W[t].title,r.description=!i&&W[t].description,r.share=!i&&W[t].share,r.remaining=!i&&W[t].remaining,r}function v(e,t){var n={connected:"CONNECTED TO",playing:"PLAYING ON",paused:"PAUSED ON",idle:"CONNECTING..."},r={idle:n.idle,active:n.connected,paused:n.paused,playing:n.playing,buffering:n.connected};O.castStatusMessage.innerHTML=r[e.toLowerCase()],O.castStatusReceiverName.innerHTML=t}function C(){z=!1,n.style.display="block"}function b(){z=!0,n.style.display="none"}var B,w,S,Q,T,D,k,R,_,M,N,L,O={},P=!1,F=!1,U=!1,x=!1,G=!1,V=a.baseURL+"img/sprite32.png",H=480,j=128,Y=-58,K=20,J=a.baseURL+"img/loadingsprite.png",q=a||{},W={},z=!1,Z=0,X="info"in a&&!a.info||a.chromeless;B=r?r.getLogFn("Splash"):function(){console.log.apply(console,["[!Splash!]\t"].concat(Array.prototype.slice.call(arguments)))};var $=.2,ee=.7,te="number"==typeof a.autoHideDelay?1e3*a.autoHideDelay:3e3;W.loadScreen={title:!X&&(!("titleVisible"in a)||a.titleVisible),description:!1,play:!X,share:!X&&(!("share"in q)||q.share),poster:!0,marginLeft:"5%",marginBottom:"5%"},W.pauseScreen={title:!X&&(!("titleVisible"in a)||a.titleVisible),remaining:!X&&(!("titleVisible"in a)||a.titleVisible),share:!X&&(!("share"in q)||q.share),play:!X,marginLeft:"auto",marginBottom:"auto"},W.hoverScreen={title:!X&&(!("titleVisible"in a)||a.titleVisible),share:!X&&(!("share"in q)||q.share)},W.castScreen={title:!X&&(!("titleVisible"in a)||a.titleVisible),description:!X,share:!X&&(!("share"in q)||q.share),poster:!0};var ne={hoverScreen:{hoverScreen:1,loadScreen:1,pauseScreen:1,castScreen:1},loadScreen:{castScreen:1,loadScreen:1},castScreen:{loadScreen:1,pauseScreen:1},pauseScreen:{loadScreen:1,castScreen:1}};return{init:function(){s(),m()},getCurrentMode:function(){return D},getCurrentPoster:function(){return B("@getCurrentPoster",w),w},show:function(r,i,a,o,s){B("@show",r);var l={hoverScreen:0,pauseScreen:0,loadScreen:0,castScreen:0};if(I(r)){B("Splash mode:",r,a),D=r,t.publish("splashModeUpdated",D),T=y(r,i),R=o,n.style.display="none",G=!0,P||f(V,"button"),F||f(J,"loadingImg"),O.info.style.display=S||Q?"block":"none",a?(w=a,U=!1,M=(new Date).getTime(),f(a,"splash")):(p(),u()),k=r;for(var A in l)l.hasOwnProperty(A)&&e.removeClass(n,"splash-mode-"+A,!0);e.addClass(n,"splash-mode-"+r,!0)}else B("invalid transition to",r,"from",k)},setInfo:function(e,t){S!=e&&(S=e,O.title.innerHTML=e),Q!=t&&(Q=t,O.description.innerHTML=t),O.info.style.display="block"},setChromecastInfo:v,resetInfo:function(){w=null,Q=null,S=null,R=null,O.splashImg.style.background="",O.info.style.display="none"},hide:h,enable:C,disable:b,buffering:function(e){B("@buffering",e),E(e)},rescale:function(e,t){u(e,t)}}}return t}),define("Recommendation",["util"],function(e){function t(t,n,r,a){function o(){v.content=e.generateChild(n,"div","content","recommendation-content"),v.prev=e.generateChild(n,"div","prev","recommendation-prev recommendation-nav"),v.prevIcon=e.generateChild(v.prev,"div","icon","recommendation-nav-icon recommendation-nav-prev-icon"),v.next=e.generateChild(n,"div","next","recommendation-next recommendation-nav"),v.nextIcon=e.generateChild(v.next,"div","icon","recommendation-nav-icon recommendation-nav-next-icon"),v.header=e.generateChild(v.content,"div","header","recommendation-header"),v.title=e.generateChild(v.header,"div","title","recommendation-title"),v.share=e.generateChild(v.header,"div","share","recommendation-share"),v.replay=e.generateChild(v.header,"div","replay","recommendation-replay"),v.main=e.generateChild(v.content,"div","main","recommendation-main"),v.columns=e.generateChild(v.main,"div","columns","recommendation-columns"),e.addEventListener(v.prev,"click",function(){clearTimeout(D.countDown),f()}),e.addEventListener(v.next,"click",function(){clearTimeout(D.countDown),p()}),e.addEventListener(v.columns,"click",s,!1),e.addEventListener(v.replay,"click",function(){clearTimeout(D.countDown),n.style.visibility="hidden",t.publish("playRequest")}),e.addEventListener(v.share,"click",function(){clearTimeout(D.countDown),n.style.visibility="hidden",t.publish("toggleSharePanel")})}function s(e){var t,n,r;if(e.target!=this){for(B("OK"),t=e.target.parentNode,n=e.target;t.parentNode!=this;)n=t,t=t.parentNode;B(n.className),r=/frame([0-9]+)/.exec(n.id),B("selected",r[1]),l(parseInt(r[1]))}}function l(e){clearTimeout(D.countDown),t.publish("recommendationSelected",C[b+e],!0)}function A(n,r){B("@onPosterLoaded",n,r),w++,B("poster:",n.width,"X",n.height,n.src),T[e.base64Encode(n.src)]={},T[e.base64Encode(n.src)].w=n.width,T[e.base64Encode(n.src)].h=n.height,w>=Math.min(C.length-b,6)&&(u(),Q=!0,t.publish("recommendationsReady"))}function d(e,t){B("@onPosterLoadFailed",e,t,e.src),C[t].image=N,e.src=N}function c(){var t,n=Math.min(C.length-b,6),r=[];for(t=b;t<b+n;t++)r.push(C[t].image);e.cacheImages(r,A,d)}function u(){var e=C.slice(b,b+6),t=Math.ceil(e.length/2),n=(Math.ceil(t/3),v.main.clientWidth/3);for(v.columns.style.width="100%",i=0;i<t;i++)I(i,n);b>0&&(v.prev.style.display="block"),b+6<C.length&&(v.next.style.display="block"),0!=b||R||h(k),E(!0)}function g(){w=0,Q=!1,E(!1),setTimeout(function(){y(),c(),t.publish("loadingRecommendations")},M)}function f(){b-6<0||(b-=6,R=!0,g())}function p(){b+6>C.length||(b+=6,R=!0,g())}function h(e){B("@countDown",e),e?(v.countDownNode.innerHTML="Playing in "+Math.abs(e)+" seconds",v.countDownNode.style.display="block",v.countDownNode.parentNode.style.display="block",e>0&&(D.countDown=setTimeout(function(){h(--e)},1e3))):(v.countDownNode.style.display="none",v.countDownNode.parentNode.style.display="",t.publish("recommendationSelected",C[0],!1))}function m(t,n){if(b+n<C.length){var r,i=e.generateChild(t,"div","frame"+n,"recommendation-frame recommendation-fade"),a=e.generateChild(i,"div","item"+n,"recommendation-item"),o=e.generateChild(a,"img","item"+n,"recommendation-thumbnail"),s=C[n+b];r=T[e.base64Encode(s.image)]||T[e.base64Encode(N)]||{};var l=r.w,A=r.h;B("#poster:",l,"X",A),o.src=s.image;var d=.95*v.main.clientWidth*3/16,c=16*d/9;a.style.height=d+"px",A*c/l<=d?o.width=c-3:o.height=d-1;var u=e.generateChild(a,"div","info"+n,"recommendation-info"),g=e.generateChild(u,"p","title"+n,"recommendation-info-title"),f=e.generateChild(u,"p","desc"+n,"recommendation-info-desc");n||(v.countDownNode=e.generateChild(u,"p","timer","recommendation-info-timer"));var p=parseInt(s.duration),h=s.description||"";return u.style.height=d+"px",g.innerHTML=s.title,f.innerHTML=p?e.sec2TimeString(parseInt(s.duration)):h,{item:a,info:u,title:g,detail:f.innerHTML}}}function E(t){for(var n=document.getElementsByClassName("anv-recommendation-frame"),r=0;r<n.length;r++)t?e.removeClass(n[r],"anv-recommendation-fade"):e.addClass(n[r],"anv-recommendation-fade")}function I(t,n){var r=e.generateChild(v.columns,"div","column"+t,"recommendation-column");r.style.width=n+"px",m(r,2*t),m(r,2*t+1),B("column",t," generated")}function y(){v.prev.style.display="none",v.next.style.display="none",v.columns.innerHTML=""}var v={},C=[],b=0,B=r?r.getLogFn("Recommendation"):function(){console.log.apply(console,["[!Recommendation!]\t"].concat(Array.prototype.slice.call(arguments)))},w=0,S=!1,Q=!1,T={},D={},k=10,R=!1,_=a.maxRecomPages||3,M=200,N=a.baseURL+"img/defaultthumbnail.png";return{init:function(){B("@init"),o()},setRecommendations:function(e,t){return B("@setRecommendations"),y(),!!(e&&e instanceof Array&&e.length)&&(R=!1,b=0,C=e.slice(0,6*_),k=void 0!==t?t:k,g(),!0)},getRecommendations:function(){return C},show:function(e){e&&(v.title.innerHTML=e),Q||t.publish("loadingRecommendations"),n.style.visibility="visible",S=!0},hide:function(){n.style.visibility="hidden",S=!1}}}return t}),define("Language",["util"],function(e){function t(t,n,r){function i(e,n){o=e,s=n,t.publish("languageLoaded")}var a,o,s,l=n.baseURL+"locales/",A={"control-playPause-tooltip":"Play/pause the video","control-duration-tooltip":"The current video playback time","control-volume-tooltip":"Adjust the volume","control-share-tooltip":"Share this video with your friends","control-caption-tooltip":"Change captions","control-search-tooltip":"Search","control-quality-tooltip":"Quality","control-fullscreen-tooltip":"Toggle fullscreen mode","control-captionsOff-content":"Off","control-captionsOff-tooltip":"Turn off captions","control-download-tooltip":"Download this video","share-title-content":"Share","share-close-tooltip":"Close the share screen","share-emailPrompt-content":"Email:","share-to-placeholder":"Friend's email","share-to-tooltip":"Enter your friend's email address here","share-from-placeholder":"Your email","share-from-tooltip":"Enter your email address here","share-message-placeholder":"Your message","share-message-tooltip":"Your email's message","share-send-content":"Send","share-send-tooltip":"Send this email","share-sendSuccess-content":"Your message was successfully sent!","share-sendFail-content":"An error occurred sending you message","share-facebook-tooltip":"Share this video on Facebook","share-twitter-tooltip":"Tweet this video","share-googlePlus-tooltip":"Share this video on Google+","share-pinterest-tooltip":"Pin this video on Pinterest","share-linkText-placeholder":"Generating link...","share-linkText-tooltip":"Use this to link to this video","share-linkButton-content":"Copy Link","share-linkButton-tooltip":"Copy all of the link text","share-embedText-placeholder":"Generating embed code...","share-embedText-tooltip":"Use this code to embed this video in you site","share-embedButton-content":"Copy Embed","share-embedButton-tooltip":"Copy all of the embed code","share-startTimePrompt-content":"Start Playback at:","search-close-tooltip":"Close the search screen","search-searchBox-placeholder":"Enter text to search captions","search-searchBox-tooltip":"Enter some text to search for in closed captions","search-status-emptyCueList":"There are no captions for this video","search-status-select-lang":"Please select a caption language to activate closed caption search.","search-status-invalidRegex":"Search text is formatted incorrectly","search-status-numberOfMatches":"Found % results for '%':","search-matchedItem-tooltip":"Click to seek to this point",advertisementCountDown:"Advertisement: % of %.&nbsp;&nbsp;&nbsp;&nbsp;Your video will resume in % second",advertisementCountDownNoRemainingDetail:"Advertisement. Your video will resume after the ad break."},d=n.language||{},c=r?r.getLogFn("Language"):function(){console.log.apply(console,["[!Language!]\t"].concat(Array.prototype.slice.call(arguments)))};return{init:function(){a=l,o="en",s=A},setLanguage:function(t){if(!t||"en"===t)return c("Using the default language: en"),void i("en",A);c("Sending language GET request","lang="+t),e.download(a+t+".json",null,function(e){c("Get language success: "+t),i(t,JSON.parse(e))},function(e,n){c(404===e?"WARNING: Language not supported: "+t:"ERROR: Get language error: "+e+": "+n),c("Using the default language: en"),i("en",A)})},getLanguage:function(){return o},tr:function(e){return d[e]?d[e]:s[e]?s[e]:(c("WARNING: the key ("+e+") does not exist for this language ("+o+")"),A[e]?A[e]:(c("WARNING: the key ("+e+") does not exist for the default language (en)"),"--"))},setLanguageWithDictionary:function(e,t){o=e,s=t},setLocalesPath:function(e){a=e}}}return t}),function(e,t){"use strict";"undefined"!=typeof exports?exports.Mediator=t():"function"==typeof define&&define.amd?define("mediator",[],function(){return e.Mediator=t(),e.Mediator()}):e.Mediator=t()}(this,function(){"use strict";function e(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function t(n,r,i){if(!(this instanceof t))return new t(n,r,i);this.id=e(),this.fn=n,this.options=r,this.context=i,this.channel=null}function n(e,t){if(!(this instanceof n))return new n(e);this.namespace=e||"",this._subscribers=[],this._channels=[],this._parent=t,this.stopped=!1}function r(){if(!(this instanceof r))return new r;this._channels=new n("")}return t.prototype={update:function(e){e&&(this.fn=e.fn||this.fn,this.context=e.context||this.context,this.options=e.options||this.options,this.channel&&this.options&&void 0!==this.options.priority&&this.channel.setPriority(this.id,this.options.priority))}},n.prototype={addSubscriber:function(e,n,r){var i=new t(e,n,r);return n&&void 0!==n.priority?(n.priority=n.priority>>0,n.priority<0&&(n.priority=0),n.priority>=this._subscribers.length&&(n.priority=this._subscribers.length-1),this._subscribers.splice(n.priority,0,i)):this._subscribers.push(i),i.channel=this,i},stopPropagation:function(){this.stopped=!0},getSubscriber:function(e){var t=0,n=this._subscribers.length;for(n;t<n;t++)if(this._subscribers[t].id===e||this._subscribers[t].fn===e)return this._subscribers[t]},setPriority:function(e,t){var n,r,i,a,o=0,s=0;for(s=0,a=this._subscribers.length;s<a&&(this._subscribers[s].id!==e&&this._subscribers[s].fn!==e);s++)o++;n=this._subscribers[o],r=this._subscribers.slice(0,o),i=this._subscribers.slice(o+1),this._subscribers=r.concat(i),this._subscribers.splice(t,0,n)},addChannel:function(e){this._channels[e]=new n((this.namespace?this.namespace+":":"")+e,this)},hasChannel:function(e){return this._channels.hasOwnProperty(e)},returnChannel:function(e){return this._channels[e]},removeSubscriber:function(e){var t=this._subscribers.length-1;if(!e)return void(this._subscribers=[]);for(t;t>=0;t--)this._subscribers[t].fn!==e&&this._subscribers[t].id!==e||(this._subscribers[t].channel=null,this._subscribers.splice(t,1))},publish:function(e){var t,n,r,i=0,a=this._subscribers.length,o=!1;for(a;i<a;i++)this.stopped||(t=this._subscribers[i],void 0!==t.options&&"function"==typeof t.options.predicate?t.options.predicate.apply(t.context,e)&&(t.fn.apply(t.context,e),o=!0):(n=this._subscribers.length,t.fn.apply(t.context,e),r=this._subscribers.length,a=r,r===n-1&&i--,o=!0)),o&&t.options&&void 0!==t.options&&--t.options.calls<1&&(this.removeSubscriber(t.id),a--,i--);this._parent&&this._parent.publish(e),this.stopped=!1}},r.prototype={getChannel:function(e){var t=this._channels,n=e.split(":"),r=0,i=n.length;if(""===e)return t;if(n.length>0)for(i;r<i;r++)t.hasChannel(n[r])||t.addChannel(n[r]),t=t.returnChannel(n[r]);return t},subscribe:function(e,t,n,r){var i=this.getChannel(e);return n=n||{},r=r||{},i.addSubscriber(t,n,r)},once:function(e,t,n,r){return n=n||{},n.calls=1,this.subscribe(e,t,n,r)},getSubscriber:function(e,t){return this.getChannel(t||"").getSubscriber(e)},remove:function(e,t){this.getChannel(e).removeSubscriber(t)},publish:function(e){var t=Array.prototype.slice.call(arguments,1),n=this.getChannel(e);t.push(n),this.getChannel(e).publish(t)}},r.prototype.on=r.prototype.subscribe,r.prototype.bind=r.prototype.subscribe,r.prototype.emit=r.prototype.publish,r.prototype.trigger=r.prototype.publish,r.prototype.off=r.prototype.remove,r.Channel=n,r.Subscriber=t,r.version="0.9.5",r}),define("pluginDFP",["util"],function(e){function t(t,n,r,i,a,o,s,l){function A(){Re("@injectKeyValues");var t,r,i,a,o=/(.*)\[\[(.*)\]\](.*)/,s=o.test(Ne);(n.keyValues||n.shareKeyValues||s)&&(t=e.getParameterByName("cust_params",Ne),i=e.decodeURLParams(Ne),a=e.getBaseUrl(Ne),r=t?e.decodeURLParams("?"+t):{},Re("@injectKeyValues",r),r=X&&n&&"shareKeyValues"in n?e.merge(r,n.shareKeyValues):e.merge(r,n.keyValues),delete i.cust_params,Re("keyValues",JSON.stringify(r,null,3)),Re("urlParams",JSON.stringify(i,null,3)),Re("serverUrl",a),r=e.populateMacros(r,_e),i=e.populateMacros(i,_e,!0),Re(">keyValues",JSON.stringify(r,null,3)),r!={}&&(r=e.encodeURLParams(r),Re(">cust_params",r),r=r.replace(/\=/g,"%3D"),r=r.replace(/&/g,"%26"),r=r.replace(/,/g,"%2C"),Re(">>cust_params",r),i.cust_params=r),i=e.encodeURLParams(i,!0),W=a+"?"+i,Re("adTagUrl",W),Re("cust_params",r))}function d(e){if(n&&n.macros){var t=n.macros;for(var r in t)t.hasOwnProperty(r)&&(e=e.replace(new RegExp("\\[\\["+r+"\\]\\]","ig"),encodeURIComponent(t[r])),e=e.replace(new RegExp("\\["+r+"\\]","ig"),encodeURIComponent(t[r])),e=e.replace(new RegExp("%5B"+r+"%5D","ig"),encodeURIComponent(t[r])))}return e}function c(e){var t,r=[];if(e.indexOf("ciu_sz")>0)return e;if(n&&te){t=e.indexOf("?")>0?"&":"?";for(var i=0,a=te.length;i<a;i++){var o=parseInt(te[i].width),s=parseInt(te[i].height);if(1==a&&!o&&!s)return e;r.push(o+"x"+s)}r.length&&(e+=t+"ciu_sz="+r.join(","))}return e}function u(r){var i;de=null;var a=new google.ima.AdsRenderingSettings;Y("adsRequestTimeout"),t.publish("vastLoaded","dfp"),n&&n.hasOwnProperty("useStyledNonLinearAds")?a.useStyledNonLinearAds=n.useStyledNonLinearAds:a.useStyledNonLinearAds=!0,n&&"bitrate"in n&&!isNaN(n.bitrate)&&(a.bitrate=Number(n.bitrate)),be&&(a.loadVideoTimeout=be),n&&"enablePreloading"in n&&(a.enablePreloading=n.enablePreloading),q=r.getAdsManager(ae,a),t.publish("pluginReady","dfp"),i=q.isCustomPlaybackUsed(),Ee=i?Me.AD_ON_MAIN:Me.AD_ON_AD,Re("isCustomPlaybackUsed?",i);var o=[google.ima.AdErrorEvent.Type.AD_ERROR,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.AD_BREAK_READY];for(var A in o)e.addEventListener(q,o[A],C);if(e.addEventListener(q,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,Q),e.addEventListener(q,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,T),oe=Math.max(ae.offsetWidth,ae.clientWidth),se=Math.max(ae.offsetHeight,ae.clientHeight),oe=oe||Math.max(ne.offsetWidth,ne.clientWidth),se=se||Math.max(ne.offsetHeight,ne.clientHeight),Re("@onAdsManagerLoaded adsManager init with dimensions:",oe,"x",se),s&&"function"==typeof s.initMoat)try{s.initMoat(q,ne,google.ima.ViewMode.NORMAL)}catch(e){console.warn("Encountered an error while initializing moat plugin")}if(l&&"function"==typeof l.init)try{l.init(google,q,ne,Ae.adTagUrl)}catch(e){console.warn("Encountered an error while initializing IAS plugin")}try{q.init(oe,se,google.ima.ViewMode.NORMAL),Fe?(t.publish("adMediaRequested","dfp"),q.start()):(Y("startTimeout"),t.publish("adBreakReadyToPlay"))}catch(e){console.warn("ERROR in vast response")}}function g(e,n,r){r=void 0===r||!!r,void 0!==q&&(q.destroy(),Y("onTimeUpdated"),Y("startTimeout"),Y("adsRequestTimeout"),Re("@requestAds adsManager destroyed",typeof q),le.contentComplete()),Ae=new google.ima.AdsRequest;var i=d(W),a=c(i);Re("@requestAds with adTagUrl:",a),Re("@requestAds with dimensions:",oe,"x",se),Ae.adTagUrl=a,Ae.linearAdSlotWidth=oe,Ae.linearAdSlotHeight=se,Ae.nonLinearAdSlotWidth=oe,Ae.nonLinearAdSlotHeight=se,Ae.setAdWillAutoPlay(e),Ae.setAdWillPlayMuted(n),Ce&&(Ae.vastLoadTimeout=Ce),Fe=r,t.publish("vastRequested","dfp"),le.requestAds(Ae),Ie&&(Be.adsRequestTimeout=setTimeout(v,Ie))}function f(){var t;ee.innerHTML=z&&z.layout&&z.layout.skipText?z.layout.skipText:"Skip Ad",t=z&&z.layout?z.layout:null,t?e.styleComponent(ee,oe,t):(ee.style.right=0,ee.style.top="60%"),ge.initialize()}function p(e){return"string"==typeof e&&"application/javascript"==e.toLowerCase()}function h(e){var n,r,i,a,o,s,l,A=p(e);de&&q&&(a=q.getRemainingTime(),A&&!me&&"number"==typeof a&&a>0&&(a!=Te?(Te=a,Y("onProgressTimeout")):Be.onProgressTimeout||(Be.onProgressTimeout=setTimeout(y,ye))),i=de.getDuration(),r=de&&"getAdPodInfo"in de?de.getAdPodInfo():null,n=r?r.getAdPosition()-1:0,l=r?r.getTotalAds():1,s=i-a>0?i-a:0,t.publish("updateTime",s,i),t.publish("dispatchEvent","PRESENTATION_UPDATED",s,i,"ad",n,l),Be.onTimeUpdated=setTimeout(h.bind(null,e),300),o=parseInt(a),o>0?(t.publish("updateAdTimer",o,n,l),$.parentNode.style.display="block",L()&&O()&&de.isSkippable()&&(z&&"adSkipTime"in z?s>=z.adSkipTime&&(ee.style.display="block"):ee.style.display="block")):$.parentNode.style.display="none")}function m(){q&&q.skip&&q.skip()}function E(e){return{getError:function(){return null},getErrorCode:function(){return null},getInnerError:function(){return""},getMessage:function(){return e?"SDK enforced "+e+" timeout":"SDK enforced an ad timeout"}}}function I(){Re("@onStartTimeout");var e=E("ad start");S({getError:function(){return e}})}function y(){Re("@onProgressTimeout");var e=E("ad progress");q&&Te>0&&Te==q.getRemainingTime()&&S({getError:function(){return e}})}function v(){Re("@onAdRequestsTimeout");var e=E("ads request");S({getError:function(){return e}})}function C(r){var i,a,o,s,l,A,d;try{de=r&&"getAd"in r?r.getAd():null,fe=de&&"getAdId"in de?de.getAdId():null,pe=de&&"getTitle"in de?de.getTitle():null,he=de&&"getMediaUrl"in de?de.getMediaUrl():null,s=de&&"isLinear"in de?de.isLinear():null,o=de&&"getContentType"in de?de.getContentType():null,i=de&&"getAdPodInfo"in de?de.getAdPodInfo():null,ce=i&&"getPodIndex"in i?i.getPodIndex():null,d=i?i.getAdPosition():1,A=i?i.getTotalAds():1,a=i?i.getMaxDuration():0}catch(e){Re("@onAdEvent ERROR while getting detail from adEvent/currentAd",e.message)}switch(Re("@onAdEvent","getPodIndex",ce),Re("Ad event: ",r.type),r.type){case google.ima.AdErrorEvent.Type.AD_ERROR:S(r);break;case google.ima.AdEvent.Type.CLICK:t.publish("dispatchEvent","AD_CLICKED",fe,"dfp","dfp"),t.publish("adVideoClicked"),K(!1);break;case google.ima.AdEvent.Type.AD_METADATA:q&&(l=q.getCuePoints())&&l.length&&(Se=!1);break;case google.ima.AdEvent.Type.LOADED:de?(Re("ad type",o,s),s&&ve&&!Be.startTimeout&&Fe&&!n.enablePreloading&&(Be.startTimeout=setTimeout(I,ve),Re("scheduled a start timeout of",ve))):Re("no ads available, giving control to the player"),t.publish("dispatchEvent","AD_LOADED",fe,pe,"dfp"),t.publish("adsLoaded","dfp"),s&&t.publish("adMediaLoaded","dfp");break;case google.ima.AdEvent.Type.STARTED:if(Re("ad type",o,s),!s)return t.publish("nonLinearAdStarted","dfp"),void B(de);if(me=!1,De=!1,Y("startTimeout"),Se=!1,ee.onclick=m,L()&&!p(o)&&O()?(ne.style.display="none",ne.style.visibility="hidden"):(ne.style.display="block",ne.style.visibility="visible"),L()||Re("using dfp video container"),O()||Re("using dfp click tracker"),Re("@onAdEvent->STARTED",Ee),O()?(t.publish("showAdLearnMore"),K(!0)):!L()&&e.getDeviceInfo.android&&($.style.width="70%"),Re("@onAdEvent->STARTED skipInfo",JSON.stringify(z,null,3)),Re("@onAdEvent->STARTED skipInfo isSkippable",de.isSkippable()),Be.onTimeUpdated||h(o),t.publish("playingAdContent","playingAdContent"),1==d&&(l=q.getCuePoints(),ue=-1==ce?l&&l.length>0?l.length-1:0:ce,t.publish("dispatchEvent","AD_BREAK_STARTED",ue,a)),t.publish("dispatchEvent","AD_STARTED",fe,pe,"dfp"),te&&de){Re("retrieving companions for:",JSON.stringify(te));for(var c=0,u=te.length;c<u;c++)try{var g=parseInt(te[c].width),f=parseInt(te[c].height),E=new google.ima.CompanionAdSelectionSettings;E.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.STATIC,E.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.IMAGE,0==g||0==f?(E.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,g=1,f=1):E.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.SELECT_EXACT_MATCH
;var y=de.getCompanionAds(g,f,E);if(Re("total companions",y.length,g,"X",f),y)for(var v=0,C=y.length;v<C;v++){var Q=y[v],T=Q.getContent();t.publish("companionContent",Q.getWidth(),Q.getHeight(),T,null)}}catch(e){console.error("Encountered IMA SDK error while getting the companions | ",e.message)}}break;case google.ima.AdEvent.Type.COMPLETE:if(Y("onTimeUpdated"),Y("onProgressTimeout"),!s)return void w();Te=-1,Re("Ad event: completed"),t.publish("adCompleted"),t.publish("dispatchEvent","AD_COMPLETED",fe,"dfp","dfp"),d==A&&t.publish("dispatchEvent","AD_BREAK_COMPLETED",ue,a);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:Re("Ad event: all ads completed"),Se=!0,t.publish("dispatchEvent","ALL_ADS_COMPLETED",fe,"dfp","dfp");break;case google.ima.AdEvent.Type.FIRST_QUARTILE:t.publish("dispatchEvent","AD_FIRST_QUARTILE",fe,"dfp","dfp");break;case google.ima.AdEvent.Type.MIDPOINT:t.publish("dispatchEvent","AD_MID_POINT",fe,"dfp","dfp");break;case google.ima.AdEvent.Type.THIRD_QUARTILE:t.publish("dispatchEvent","AD_THIRD_QUARTILE",fe,"dfp","dfp");break;case google.ima.AdEvent.Type.PAUSED:Y("onProgressTimeout"),t.publish("adVideoPaused",!De),me=!0;break;case google.ima.AdEvent.Type.RESUMED:t.publish("adVideoResumed"),K(!0),me=!1,De=!1;break;case google.ima.AdEvent.Type.SKIPPED:s||w(),b(),Te=-1;break;case google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED:de.isSkippable()&&(t.publish("adSkipAllowed"),L()&&O()&&z&&"number"!=typeof z.adSkipTime&&(ee.style.display="block"));break;case google.ima.AdEvent.Type.USER_CLOSE:if(!s)return void(n&&n.hideNonLinearAdsOnClose&&(ne.style.visibility="hidden"));break;case google.ima.AdEvent.Type.AD_BREAK_READY:console.error("ad break ready")}}function b(){var e=q.getRemainingTime(),n=de.getDuration(),r=n-e>0?n-e:0;Y("onTimeUpdated"),Y("onProgressTimeout"),t.publish("adVideoSkipped",fe,r,n)}function B(e){Z&&!Le&&(Z.margin?ne.style.margin=Z.margin:(Z.marginTop&&(ne.style.marginTop=Z.marginTop),Z.marginRight&&(ne.style.marginRight=Z.marginRight),Z.marginBottom&&(ne.style.marginBottom=Z.marginBottom),Z.marginLeft&&(ne.style.marginLeft=Z.marginLeft)),Le=!0)}function w(){Le&&(ne.style.margin=null,ne.style.marginTop=null,ne.style.marginRight=null,ne.style.marginBottom=null,ne.style.marginLeft=null,ne.style.visibility="visible",Le=!1)}function S(e){var n=e.getError(),r=n.getMessage(),a=n.getErrorCode()||"N/A",o=n.getErrorCode();Re("@onAdError Error code:",a,"\n\t\tInner error:",o,"\n\t\tMessage:",r),Y("requestAdsTimeout"),Y("onTimeUpdated"),Y("onProgressTimeout"),Y("startTimeout"),q&&q.destroy(),t.publish("loadResumeVideoRequest",!1),t.publish("restoreMode"),t.publish("hideAdLearnMore"),t.publish("hideAdTimer"),Se=!0,Te=-1,ee.style.display="none",ne.style.visibility="hidden",ne.style.display="block",re.style.display="block",K(!1),i.dispatchError("DFP010",[r," IMA SDK Error Code: "+a].join("|"))}function Q(e){Re("onContentPauseRequested"),ee.style.display="none",t.publish("savePauseVideoRequest",{adId:fe,creativeId:Qe}),t.publish("switchMode",Ee);try{de=e&&"getAd"in e?e.getAd():null}catch(e){Re("@onContentPauseRequested ERROR while getting detail from adEvent/currentAd",e.message)}re.style.display=Pe?"block":"none"}function T(){Re("@onContentResumeRequested");var e=-1==ce||Ue;Y("onTimeUpdated"),Y("onProgressTimeout"),Y("adsRequestTimeout"),t.publish("loadResumeVideoRequest",e),t.publish("restoreMode"),t.publish("hideAdTimer"),ee.style.display="none",ne.style.visibility="hidden",ne.style.display="block",re.style.display="block",O()&&(t.publish("hideAdLearnMore"),K(!1))}function D(){De=!0,q.pause()}function k(){Re("@resume"),q.resume()}function R(e){Re("@setVolume",e,!!q),q?q.setVolume(e):Re("@setVolume ignoring adsManager is not ready")}function _(e){_e=e||{},Re("@setMacros",JSON.stringify(e,null,3)),A()}function M(e,t,n){Re("@resize",e,t,n?"fullscreen":"normal"),q&&"resize"in q&&q.resize(e,t,n?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}function N(){Re("@notifyVideoEnd"),le.contentComplete()}function L(){return q&&"isCustomPlaybackUsed"in q?q.isCustomPlaybackUsed():null}function O(){return q&&"isCustomClickTrackingUsed"in q?q.isCustomClickTrackingUsed():null}function P(){return Re("@hasAllAdsCompleted",Se),Se}function F(){var e;if(q){if(e=q.getCuePoints(),Re("@hasPreroll",e.length,!!de),e.length){for(var t=0,n=e.length;t<n;t++)if(0==e[t])return!0;return!1}return console.warn("adsManager can not determine if preroll exists or not"),null}return!1}function U(){return Re("@hasActiveAd"),!!de}function x(){return de&&"isLinear"in de?de.isLinear():null}function G(){var e;if(q){e=q.getCuePoints(),Re("@hasPostroll",e.length);for(var t=0,n=e.length;t<n;t++)if(-1==e[t])return!0;return!1}return!1}function V(){return Re("@getAdDuration"),de&&"getDuration"in de?de.getDuration():null}function H(){return Re("@getAdInformation"),de?{adId:fe,adTitle:pe,adMediaURL:he,adDuration:V(),currentAdPodIndex:ce,vastApiFramework:"getApiFramework"in de?de.getApiFramework():null,vastCreativeId:"getCreativeId"in de?de.getCreativeId():null,isLinear:x()}:null}function j(){Re("@destroy"),Y("onTimeUpdated"),Y("startTimeout"),Y("onProgressTimeout"),Y("adsRequestTimeout"),q&&q.destroy(),Se=!0,Te=-1}function Y(e){clearTimeout(Be[e]),delete Be[e]}function K(e){e&&Oe&&O()&&Pe?re.style.zIndex=1e18:re.style.zIndex=""}function J(e){Re("@startAd",e),Ue=e,q?(t.publish("adMediaRequested","dfp"),q.start()):Re("@startAd adsManager is not ready yet.")}var q,W=n.adTagUrl,z=n.skipInfo,Z=n.overlayInfo,X=n.shared,$=o.adTimer,ee=o.skipAdButton,te=o.companions,ne=document.getElementById(o.adNode.id),re=document.getElementById(o.clickTracker.id),ie=document.getElementById(o.adLearnMore.id),ae=document.getElementById(o.videoNode.id),oe=Math.max(ae.offsetWidth,ae.clientWidth),se=Math.max(ae.offsetHeight,ae.clientHeight);oe=oe||parseInt(window.getComputedStyle(ae).getPropertyValue("width")),se=se||parseInt(window.getComputedStyle(ae).getPropertyValue("height"));var le,Ae,de,ce,ue,ge,fe,pe,he,me,Ee,Ie,ye,ve,Ce,be,Be={},we=/iu=\/[0-9]+\/([^&]+)&/.exec(decodeURIComponent(W)),Se=!0,Qe=we&&we.length>1?we[1]:"",Te=-1,De=!1,ke=a?a.tr:function(){return"--"},Re=(ke("advertisementCountDown"),r?r.getLogFn("DFP"):function(){console.log.apply(console,["[!DFP!]\t"].concat(Array.prototype.slice.call(arguments)))}),_e={},Me={AD_ON_MAIN:"AD_ON_MAIN",AD_ON_AD:"AD_ON_AD"};Ie="number"==typeof n.adsRequestTimeout?1e3*n.adsRequestTimeout:void 0,ve="number"==typeof n.startTimeout?1e3*n.startTimeout:5e3,Ce="number"==typeof n.vastLoadTimeout?1e3*n.vastLoadTimeout:void 0,be="number"==typeof n.loadVideoTimeout?1e3*n.loadVideoTimeout:void 0,ye="number"==typeof n.progressTimeout?1e3*n.progressTimeout:3e3;var Ne=W,Le=!1,Oe=!n.disableCustomClickTracking&&(e.getDeviceInfo.ipad||e.getDeviceInfo.iphone||e.getDeviceInfo.ipod||e.getDeviceInfo.android),Pe=!!n.fullAdClickableOnMobile,Fe=!0,Ue=!1,xe=e.getDeviceInfo.ipad||e.getDeviceInfo.iphone||e.getDeviceInfo.ipod?google.ima.ImaSdkSettings.VpaidMode.ENABLED:google.ima.ImaSdkSettings.VpaidMode.INSECURE;return google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!n.iosCustomPlayback),google.ima.settings.setVpaidMode(xe),google.ima.settings.setPlayerVersion(n.playerVersion),google.ima.settings.setPlayerType(n.playerName),ge=new google.ima.AdDisplayContainer(ne,ae,Oe?Pe?re:ie:null),le=new google.ima.AdsLoader(ge),e.addEventListener(le,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,u,!1),e.addEventListener(le,google.ima.AdErrorEvent.Type.AD_ERROR,S,!1),{requestAds:g,initContainer:f,resume:k,setMacros:_,resize:M,pause:D,setVolume:R,notifyVideoEnd:N,isCustomPlaybackUsed:L,isCustomClickTrackingUsed:O,hasAllAdsCompleted:P,hasPreroll:F,hasPostroll:G,getAdDuration:V,getAdInformation:H,hasActiveAd:U,isActiveAdLinear:x,skipAd:m,startAd:J,destroy:j}}return t}),define("pluginFreeWheel",["util"],function(e){function t(t,n,r,i){function a(e){le("@init",JSON.stringify(t,null,3)),o(e)}function o(n){le("@resetContext for",[n.id,n.title,n.duration].join("|"));var r,i;if((n.upload_id||n.id)!=($.id||$.upload_id)){if($=n,k&&k.dispose(),Y=!1,J=[],q=[],z=[],X=[],ae=null,G=t.slotProfile,V=t.cuepointSequence,H=t.maxDuration,j=t.minDuration,k=D.newContext(),k.registerVideoDisplayBase(t.displayBaseId),k.setProfile(t.profileId),k.setVideoAsset(t.videoAssetId||n.id||n.upload_id,t.videoDuration||n.duration,t.networkId),k.setSiteSection(t.siteSectionId,t.networkId),k.setRequestMode(2==n.video_type?tv.freewheel.SDK.REQUEST_MODE_LIVE:tv.freewheel.SDK.REQUEST_MODE_ON_DEMAND),t.keyValues)for(var a in t.keyValues)if(t.keyValues.hasOwnProperty(a))if((r=t.keyValues[a])instanceof Array)for(var o=0,s=r.length;o<s;o++)k.addKeyValue(a,r[o]);else k.addKeyValue(a,r);for(i in oe)oe.hasOwnProperty(i)&&e.addEventListener(k,i,oe[i]);if(k.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT,ue,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),k.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT,ue,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),k.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),le("@resetContext common:",JSON.stringify(n.common,null,3)),le("@resetContext ad_slots:",JSON.stringify(n.ad_slots,null,3)),P=[],n.ad_slots=n.ad_slots||t.adSlots,n.ad_slots&&"length"in n.ad_slots){for(var l=0,A=n.ad_slots.length;l<A;l++)P.push(parseFloat(n.ad_slots[l].ts));P=P.sort(function(e,t){return e-t}),le("@resetContext currentMidrollPlan:",JSON.stringify(P,null,3))}if(_){le("Player is adding the slots with time positions from videoJSON"),k.addTemporalSlot("Preroll_1",tv.freewheel.SDK.ADUNIT_PREROLL,0,G,V,H,j);for(var d=0,c=t.midrollCount||P.length;d<c;d++)k.addTemporalSlot("Midroll_"+(d+1),tv.freewheel.SDK.ADUNIT_MIDROLL,P[d],G,V,H,j),k.addTemporalSlot("Overlay_"+(d+1),tv.freewheel.SDK.ADUNIT_OVERLAY,P[d]>10?P[d]-10:P[d],G,V,H,j);!t.postroll&&"postroll"in t||k.addTemporalSlot("Postroll_1",tv.freewheel.SDK.ADUNIT_POSTROLL,parseFloat(n.duration),G,V,H,j)}}}function s(){le("@onAdError",arguments),n.publish("loadResumeVideoRequest",!1),n.publish("restoreMode"),T()}function l(t){le("@onAdEvent",arguments);var n,r,i,a,o={};o[tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL]=1,o[tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL]=1,o[tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL]=1;var s=t.slot;if(le("@onAdEvent",s.getWidth(),s.getHeight(),s.getCustomId(),s.getType(),s.getTimePositionClass(),t.adInstance.getAdId()),t.subType==tv.freewheel.SDK.EVENT_AD_IMPRESSION)if(le("@onAdEvent","ad started",t,t.adInstance,t.adInstance.getAdId(),s),S("adStartTimeout"),F=t.adInstance.getAdId(),s.getTimePositionClass()in o){S("remainingTime"),g(t);for(var l=0,A=ee.length;l<A;l++)if(le("onAdEvent comparing",F,ee[l],s.getTimePositionClass()),F==ee[l]){U=l;break}le("onAdEvent",F,U+1,"of",ee.length)}else s.getTimePositionClass()==tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY&&(le("detecting overlay node"),n=ie.parentNode.lastChild,n.id.indexOf("fw")>-1&&(le("detected overlay node"),i=t.adInstance.getActiveCreativeRendition(),setTimeout(function(){n.style.position="absolute",n.style.width=i.getWidth()+"px",n.style.height=i.getHeight()+"px",n.style.top="0 !important",n.style.left="0 !important",n.style.left=0,n.style.right=0,n.style.top="",n.style.bottom="60px",n.style.margin="auto",r=e.generateChild(n,"div","close","overlay-close"),e.addEventListener(r,"click",function(){s.stop()})},10),(a=n.getElementsByTagName("iframe"))&&a.length&&(a=a[0],a.style.width=i.getWidth()+"px",a.style.height=i.getHeight()+"px",a.style.left=0,a.style.right=0,a.style.top=0,a.style.bottom=0,a.style.margin="auto")));else t.subType==tv.freewheel.SDK.EVENT_AD_IMPRESSION_END||(t.subType,tv.freewheel.SDK.EVENT_AD_FIRST_QUARTILE)}function A(e){le("onRequestComplete");var t,r,i,a;if(J=[],q=[],z=[],Z=[],X=[],e.success){i=k.getTemporalSlots();for(var o=0;o<i.length;o++)switch(t=i[o],t.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:J.push(t);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:q.push(t);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:z.push(t);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:X.push(t)}for(a=k._adResponse&&k._adResponse._videoPlayerNonTemporalSlots?k._adResponse._videoPlayerNonTemporalSlots:[],o=0;o<a.length;o++)t=a[o],t.getTimePositionClass()==tv.freewheel.SDK.TIME_POSITION_CLASS_DISPLAY&&Z.push(t)}le("Request completed"),S("adRequestTimeout"),K=!0,le("@onRequestComplete #prerolls:",J.length,"#midrolls:",q.length,"#overlaySlots:",z.length,"#displaySlots:",Z.length,"#postrolls:",X.length,"duration:",$.duration),r={prerollSlots:J,midrollSlots:q,postrollSlots:X,overlaySlots:z,displaySlots:Z};for(var s in r)r.hasOwnProperty(s)&&c(s,r[s]);te.notifyVideoBegin&&(te.notifyVideoBegin.apply(null,ne.notifyVideoBegin),te.notifyVideoBegin=null,ne.notifyVideoBegin=null),te.startPlayback&&(te.startPlayback(),te.startPlayback=null),n.publish("pluginReady","freewheel")}function d(){if(J){for(var e=0,t=J.length;e<t;e++)if(J[e].getAdCount())return!0;return!1}return!1}function c(e,t){console.log("-------------------- the content of ",e,"------------------- ");for(var n,r,i,a,o=0,s=t.length;o<s;o++){console.log("SLOT #",o),console.log("id:",t[o].toString()),console.log("total duration:",t[o].getTotalDuration()),console.log("customId:",t[o].getCustomId()),console.log("adCount:",t[o].getAdCount()),n=t[o].getAdInstances();for(var l=0,A=n.length;l<A;l++)if(r=n[l],console.log("\t------------------------ ad #",l,"-----------------"),console.log("\tadId:",r.getAdId()),console.log("\tduration:",r.getDuration()),(a=r.getCompanionAdInstances())&&a.length)for(var d=0,c=a.length;d<c;d++)i=a[d],console.log("\t------------------------ companion #",d,"-----------------"),console.log("\tadId:",i.getAdId()),console.log("\tduration:",i.getDuration());else console.log("\tNo companions!")}t.length||console.log("No",e,"slots!")}function u(){var e,r,i,a=R/(q.length+1),o=[];W=[],le("ad request completed:",K),le("@allocateMidrolls #",q.length," duration:",JSON.stringify(P,null,3),R||$.duration,t.midrollCount,a);for(var s=0,l=q.length;s<l;s++)_?(le("Player is allocating the slot time position"),e=P.length>s?P[s]:a*(1+s),r=P.length>s&&P[s]>10?P[s]-10:a*(1+s),q[s].setTimePosition(e),s<z.length&&(z[s].setTimePosition(r),le("overlay planned at:",r)),i="set"):(le("Player is respecting the slot time positions set by ad server"),s<z.length&&(r=z[s].getTimePosition(),le("overlay planned at:",r)),e=q[s].getTimePosition(),i="observed"),le("midroll "+i+" at:",e),o.push(e),W.push({slot:q[s],timeIndex:e,played:!1});n.publish("adBreaks",o,R)}function g(e){var t,n=e.slot.getTimePositionClass();switch(n){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:ee=[],le("@onSlotStarted",n,e.slot.getTimePosition()),t=e.slot.getAdInstances();for(var r=0,i=t.length;r<i;r++)ee.push(t[r].getAdId());E(e.slot)}}function f(){S("remainingTime"),fe.parentNode.style.display="none",ee=[],F=null,x=(new Date).getTime()}function p(t){var r=t.slot.getTimePositionClass();switch(r){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:f()}switch(r){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:J.length&&(J.shift(),le("@onPrerollSlotEnded #prerolls:",J.length,"#midrolls:",q.length),J.length?(n.publish("switchMode","AD_ON_MAIN"),J[0].play()):(n.publish("restoreMode"),n.publish("loadResumeVideoRequest",!1),e.addEventListener(ie,"timeupdate",h),k.setVideoState(tv.freewheel.SDK.VIDEO_STATE_PLAYING)));break;case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:le("@onPrerollSlotEnded #prerolls:",J.length,"#midrolls:",q.length),ae=null,q.shift(),n.publish("restoreMode"),n.publish("loadResumeVideoRequest",!1);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:ae=null,n.publish("adOverlayHidden","FreeWheel");break;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:X.length&&(X.shift(),X.length?(n.publish("switchMode","AD_ON_MAIN"),X[0].play()):(n.publish("restoreMode"),n.publish("loadResumeVideoRequest",!0),k.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED)))}le("@onSlotEnded ",r," #prerolls:",J.length,"#midrolls:",q.length,"#postrolls:",X.length,"#overlays:",z.length)}function h(){var t,r,i,a,o=ie.currentTime,s=-1;if(le("@onContentVideoTimeUpdated",o),!z.length&&!q.length)return le("@onContentVideoTimeUpdated removing timeupdate since there is no midroll left"),void e.removeEventListener(ie,"timeupdate",h);if(ae!==tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL){for(var l=0,A=W.length;l<A;l++)if(t=W[l].slot,r=W[l].timeIndex,!W[l].played){if(o-r>=0&&o-r<=1&&!ae)return ae=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,le("CALLING IN MIDROLL - TimeUpdated"),t&&1==t.getAdCount()&&(i=t.getAdInstances()[0],(a=i.getActiveCreativeRendition())&&"text/js_ref"==a.getContentType()&&le("only one VPAID ad in slot, no need to reset/reload content video!")),n.publish("savePauseVideoRequest","savePauseVideoRequest"),n.publish("switchMode","AD_ON_MAIN"),W[l].played=!0,void t.play();N&&L<=r&&r<o&&(le("Midroll Slot #",l,"is seeked over..."),!x||(x&&(new Date).getTime()-x)>Ae?(le("assigning seeked over #",l),s=l):(le("cancelling assignment due to the grace period"),N=!1))}if(s>-1)return le("playing seeked over midroll#",s),ae=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,le("CALLING IN MIDROLL - TimeUpdated"),n.publish("savePauseVideoRequest","savePauseVideoRequest"),n.publish("switchMode","AD_ON_MAIN"),W[s].slot.play(),W[s].played=!0,void(N=!1);for(var d=0;d<z.length;d++)if(t=z[d],r=t.getTimePosition(),o-r>=0&&o-r<=1&&!ae)return ae=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,z.splice(d,1),t.play(),void n.publish("adOverlayDisplayed","FreeWheel")}}function m(){le("@onContentVideoEnded"),k.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED),X&&X.length?(ie.removeEventListener("timeupdate",h),le("CALLING IN POSTROLL"),n.publish("savePauseVideoRequest","savePauseVideoRequest"),n.publish("switchMode","AD_ON_MAIN"),X[0].play()):(k.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED),n.publish("switchMode","VIDEO_ON_MAIN"))}function E(e){var t,r=null,i=null;try{r=e.getPlayheadTime(),i=e.getTotalDuration(),t=parseInt(i-r)}catch(e){le("Could not get time information from ad slot (FreeWheel AdManager):",e)}"number"==typeof U&&ee.length&&(n.publish("updateAdTimer",t,U,ee.length),fe.parentNode.style.display="block"),n.publish("dispatchEvent","PRESENTATION_UPDATED",r,i,"ad",U,ee.length),re.remainingTime=setTimeout(E.bind(null,e),500)}function I(){le("@loadAdData"),S("adRequestTimeout"),B("adRequestTimeout",de),k.submitRequest(),Y=!0}function y(){le("@startPlayback"),Y?K?v():(le("polling for adRequestCompleted before actualPlayback"),setTimeout(y,200)):(I(),te.startPlayback=y)}function v(){le("@actualPlayback",J.length),B("adStartTimeout",ce),J.length?(n.publish("savePauseVideoRequest","savePauseVideoRequest"),n.publish("switchMode","AD_ON_MAIN"),J[0].play()):(n.publish("loadResumeVideoRequest",!1),n.publish("restoreMode"))}function C(e,t,n){switch(e){case"USER_BACKWARD_SEEK":M=!0,n.length>1&&(L=n[0],O=n[1]),le("backward seek",JSON.stringify(n));break;case"USER_FORWARD_SEEK":N=!0,n.length>1&&(L=n[0],O=n[1]),le("forward seek",JSON.stringify(n))}}function b(e){le("notification received",e.duration),R=e.duration,f(),K?(u(),o(e),y()):(te.notifyVideoBegin=b,ne.notifyVideoBegin=[e])}function B(e,t,n){le("startTimeout: "+e),re[e]=setTimeout(n||function(){Q(e)},t)}function w(){le("cancelAllTimeouts");for(var e in re)clearTimeout(e);re={}}function S(e){re&&re[e]&&(le("cancelTimeout: "+e),clearTimeout(re[e]),delete re[e])}function Q(e){le("@onTimeoutError: "+e),s({message:"SDK enforced Ad request timeout: "+e})}function T(){if(k){for(eventName in oe)oe.hasOwnProperty(eventName)&&e.removeEventListener(k,eventName,oe[eventName]);k.dispose()}f(),w()}var D,k,R,_,M,N,L,O,P,F,U,x,G,V,H,j,Y=!1,K=!1,J=[],q=[],W=[],z=[],Z=[],X=[],$={},ee=[],te={},ne={},re={},ie=document.getElementById(t.videoNodeId),ae=null,oe={};oe[tv.freewheel.SDK.EVENT_REQUEST_COMPLETE]=A,oe[tv.freewheel.SDK.EVENT_SLOT_STARTED]=g,oe[tv.freewheel.SDK.EVENT_SLOT_ENDED]=p,oe[tv.freewheel.SDK.EVENT_AD]=l,oe[tv.freewheel.SDK.EVENT_ERROR]=s,oe[tv.freewheel.SDK.RENDERER_EVENT]=s;var se=i?i.tr:function(){return"--"},le=(se("advertisementCountDown"),r?r.getLogFn("FreeWheel"):function(){console.log.apply(console,["[!FreeWheel!]\t"].concat(Array.prototype.slice.call(arguments)))}),Ae=3e4,de="number"==typeof t.adRequestTimeout?1e3*t.adRequestTimeout:5e3,ce="number"==typeof t.adStartTimeout?1e3*t.adStartTimeout:5e3,ue="number"==typeof t.adRenderTimeout?1e3*t.adRenderTimeout:1e4;tv.freewheel.SDK.setLogLevel(0),D=new tv.freewheel.SDK.AdManager,D.setNetwork(t.networkId),D.setServer(t.serverURL);var ge=document.getElementById(t.clickTrackerId),fe=document.getElementById(t.timerNodeId);return ge&&(ge.style.display="none",ge.style.visibility="hidden"),_=t.addSlots||!("addSlots"in t),{init:a,resetContext:o,requestAds:function(){I()},notifyVideoBegin:b,notifyVideoEnd:function(){m()},remainingSlotNumber:function(){return le("@remainingSlotNumber"),X.length},sendBeacon:C,hasPreroll:d,onContentVideoTimeUpdated:h,destroy:T}}return t}),define("pluginOmniture",["util"],function(e){function t(t,n,r){function i(e){}function a(e,t){var n;if(c&&w[d]&&w[d].vars&&w[d].vars[e]){n=w[d].vars[e];for(var r=0,i=n.length;r<i;r++)c[n[r]]=t}}function o(e){C("@resetVar");var t;if(c&&w[d]&&w[d].vars&&w[d].vars[e]){t=w[d].vars[e];for(var n=0,r=t.length;n<r;n++)c[t[n]]=""}}function s(e){C("@trackCustomEvent evaluating event:",e);var t;if(c&&w[d]&&w[d].events&&e in w[d].events&&w[d].events[e].length){C("Custom event ",e,"found in profile"),c.events=w[d].events[e].join(",");t=Array.prototype.slice.call(arguments).slice(1),C("Custom event's sanitized args:",JSON.stringify(t)),t&&t.length&&c.events.length&&c.Media.track(t[0]),c.events=""}}function l(e){C("@setEvent:",e),c&&w[d]&&w[d].events&&e in w[d].events&&(C("Event",e,"found in profile"),c.events=w[d].events[e].join(","))}function A(e,t){switch(y=t,u=e,C("event:",e,"contentInfo:"),C(JSON.stringify(t,null,3)),a("clipLong",t.videoType),t.type&&t.type.video?a("primaryCategory",t.categories instanceof Array?t.categories.join(","):t.categories):o("primaryCategory"),a("tsPublished",t.tsPublished),a("playerName",n.playerName),a("pageURL",t.siteURL),e){case"VIDEO_STARTED":c.Media.open(t.contentTitle,t.duration,n.playerName),setTimeout(function(){C("delayed PLAY"),A("playingVideoContent",y)},1e3),v=!0;break;case"playingVideoContent":v&&c.Media.play(t.contentTitle,t.timeIndex);break;case"USER_PAUSE":C("processing",e),c.Media.stop(t.contentTitle,t.timeIndex);break;case"VIDEO_COMPLETED":v=!1,c.Media.close(t.contentTitle);break;case"AD_STARTED":a("adId",t.contentId),c.Media.openAd(t.contentTitle,-1,n.playerName),c.Media.play(t.contentTitle,t.timeIndex);break;case"playingAdContent":c.Media.play(t.contentTitle,t.timeIndex);break;case"pausedAdContent":c.Media.stop(t.contentTitle,t.timeIndex);break;case"VIDEO_FIRST_QUARTILE":case"VIDEO_MID_POINT":case"VIDEO_THIRD_QUARTILE":break;default:s(e,t.contentTitle)}!m&&w[d]&&w[d].events&&e in w[d].events&&w[d].events[e].length&&(a("clipLong",t.videoType),t.type&&t.type.video?a("primaryCategory",t.categories instanceof Array?t.categories.join(","):""):o("primaryCategory"),a("tsPublished",t.tsPublished),a("adId",t.contentId),a("playerName",n.playerName),a("pageURL",t.siteURL),o("videoSegments"),c.Media.open(t.contentTitle,t.duration,n.playerName),s("PLAYER_LOADED",t.contentTitle),m=!0)}var d=n.profile||"lin";d=d.toLowerCase();var c,u,g=n.parentPageURL?e.getUrlParts(n.parentPageURL):{},f=(g.host?g.host:"AnvatoUniversalPlayer")+"-"+n.pInstance,p=new Visitor(f),h=!1,m=!1,E={firstQuartile:"1:M:0-25",midPoint:"2:M:25-50",thirdQuartile:"3:M:50-75",lastQuartile:"4:M:75-100"},I=E.firstQuartile,y={duration:null,timeIndex:null,contentId:null,contentTitle:null,contentDefinition:null,type:{video:!0}},v=!1,C=r?r.getLogFn("Omniture"):function(){console.log.apply(console,["[!Omniture!]\t"].concat(Array.prototype.slice.call(arguments)))},b=[],B=[],w={lin:{vars:{playerName:["eVar38"],videoTitle:["eVar13"],clipLong:["eVar30"],videoSegments:["eVar31"],primaryCategory:["eVar32"],tsPublished:["eVar36"],segment:[],adId:[],pageURL:["eVar39"],adTitle:[],pod:[],podPosition:[],CPM:[],adSegment:[]},events:{timePlayed:[],view:[],segmentView:[],PLAYER_LOADED:[],VIDEO_STARTED:["event18"],VIDEO_COMPLETED:["event19"],VIDEO_FIRST_QUARTILE:["event35","event38","event39"],VIDEO_MID_POINT:["event36","event38","event39"],VIDEO_THIRD_QUARTILE:["event37","event38","event39"],USER_PAUSE:["event30"],AD_STARTED:["event25"],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:["event26"],AD_CLICKED:[],adTimePlayed:[],adView:[],adSegmentView:[],USER_SHARE:["event32"],USER_FORWARD_SEEK:["event34"],USER_BACKWARD_SEEK:["event33"]}},univision:{vars:{playerName:[],videoTitle:["eVar57"],clipLong:["eVar5"],videoSegments:["eVar55"],primaryCategory:["eVar58"],tsPublished:["eVar36"],segment:[],adId:["eVar37"],pageURL:["eVar56"],adTitle:[],pod:[],podPosition:[],CPM:[],adSegment:[]},events:{timePlayed:[],view:[],segmentView:[],FIRST_FRAME_READY:[],VIDEO_STARTED:["event8"],VIDEO_COMPLETED:["event26","event25","event12"],VIDEO_FIRST_QUARTILE:["event26","event25","event9"],VIDEO_MID_POINT:["event26","event25","event10"],VIDEO_THIRD_QUARTILE:["event26","event25","event11"],USER_PAUSE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],adTimePlayed:[],adView:[],adSegmentView:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[]}}};if(d&&!w[d])throw new Error("Profile "+d+" is not recognized.");for(var S in w[d].events)w[d].events.hasOwnProperty(S)&&(b=b.concat(w[d].events[S]));for(var Q in w[d].vars)w[d].vars.hasOwnProperty(Q)&&(B=B.concat(w[d].vars[Q]));return b=["events"].concat(b).join(","),B=B.join(","),C("trackEvents:",b),C("trackVars:",B),n.playerName="AnvatoUniversalPlayer",p.trackingServer=n.trackingServer,c=new AppMeasurement,c.account=n.account,c.visitorNamespace=f,c.visitor=Visitor.getInstance(f),c.trackDownloadLinks=!0,c.trackExternalLinks=!0,c.trackInlineStats=!0,c.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",c.linkInternalFilters="javascript:",c.linkLeaveQueryString=!1,c.linkTrackVars="None",c.linkTrackEvents="None",c.trackingServer=n.trackingServer,c.usePlugins=!0,c.enableVideoTracking=!0,c.doPlugins=i,c.loadModule("Media"),c.Media.autoTrack=!1,c.Media.trackWhilePlaying=!0,c.Media.trackVars=B,c.Media.trackEvents=b,c.Media.trackMilestones="25,50,75",c.Media.playerName=n.playerName,c.Media.trackUsingContextData=!0,c.Media.contextDataMapping={"a.media.name":w[d].vars.videoTitle.join(","),"a.media.segment":w[d].vars.videoSegments.join(","),"a.contentType":"video","a.media.timePlayed":w[d].events.timePlayed.join(","),"a.media.view":w[d].events.view.join(","),"a.media.segmentView":w[d].events.segmentView.join(","),"a.media.milestones":{25:w[d].events.VIDEO_FIRST_QUARTILE.join(","),50:w[d].events.VIDEO_MID_POINT.join(","),75:w[d].events.VIDEO_THIRD_QUARTILE.join(",")},"a.media.ad.name":w[d].vars.adTitle.join(","),"a.media.ad.pod":w[d].vars.pod.join(","),"a.media.ad.podPosition":w[d].vars.podPosition.join(","),"a.media.ad.CPM":w[d].vars.CPM.join(","),"a.media.ad.clicked":w[d].events.AD_CLICKED.join(","),"a.media.ad.segment":w[d].vars.adSegment.join(","),"a.media.ad.timePlayed":w[d].events.timePlayed.join(","),"a.media.ad.view":w[d].events.adView.join(","),"a.media.ad.segmentView":w[d].events.adSegmentView.join(","),"a.media.ad.complete":w[d].events.AD_COMPLETED.join(",")},w[d].events.adSegmentView&&!w[d].events.adSegmentView.length&&(delete c.Media.contextDataMapping["a.media.ad.segmentView"],delete c.Media.contextDataMapping["a.media.ad.segment"]),c.Media.monitor=function(e,t){function n(){C("@sendRequest events:",e.events,e.events.length),e.events.length&&e.Media.track(t.name)}"MILESTONE"==t.event&&t.eventFirstTime&&(25==t.milestone&&(a("videoSegments",E.firstQuartile),I=E.midPoint,h=!0),50==t.milestone&&(a("videoSegments",E.midPoint),I=E.thirdQuartile,h=!0),75==t.milestone&&(a("videoSegments",E.thirdQuartile),I=E.lastQuartile,h=!0),h&&(h=!1,n())),"OPEN"==t.event&&(C("@media.event==OPEN",y.videoType),"Ad"!=y.videoType?(e.events=w[d].events.VIDEO_STARTED.join(","),a("videoSegments",E.firstQuartile)):e.events=w[d].events.AD_STARTED.join(","),n()),"STOP"==t.event&&(C("@media.event==STOP",u),"Ad"!=y.videoType&&"USER_PAUSE"==u&&(e.events=w[d].events.USER_PAUSE.join(","),a("videoSegments",I)),n()),"CLOSE"==t.event&&(C("@media.event==CLOSE",u),"VIDEO_COMPLETED"==u&&(a("videoSegments",E.lastQuartile),l("VIDEO_COMPLETED"),n(),o("videoSegments"),I=E.firstQuartile)),e.events="",u=null},c.debugTracking=!0,c.trackLocal=!0,{sendBeacon:A}}return t}),define("pluginHeartbeat",["util"],function(e){function t(e,t,n,r){function i(e){f("@initPlugin (deferred)",e);var t={400:1,404:1};if(e){if(e in t)return void r.dispatchError("HRTBT001");v.account=e}C=new B(v),b=new o,Q=new a(b),T=new D(Q,[C]),T.configure(k),u()}function a(e){a.__super__.constructor.call(this),this._player=e}function o(){function e(){s=null}function t(e,t,n,r,i){l=null,A=null,s=new d,s.playerName=m,s.id=e,s.name=t,s.length="vod"!=i?-1:n,s.playhead=r,s.streamType=i,f("@setVideoInfo videoInfo.length",n,s.length)}function n(){return f("_onPlayer @getVideoInfo",s,s.playhead),s}function r(e,t,n,r,i){l=new c,l.id=e,l.name=t,l.length=n,l.position=r,l.cpm=i}function i(){return f("_onPlayer @getAdInfo",l),l}function a(e,t,n){A=new u,A.name=e||"Preroll",A.position=t||1,A.playerName=m,A.startTime=n||0}function o(){return A}var s=null,l=null,A=null,d=ADB.va.VideoInfo,c=ADB.va.AdInfo,u=ADB.va.AdBreakInfo;return{setVideoInfo:t,resetVideoInfo:e,setAdInfo:r,setAdBreakInfo:a,getVideoInfo:n,getAdInfo:i,getAdBreakInfo:o}}function s(e,t){if(R in N){var n,r,i=N[R].metadata,a=[];for(var o in i)if(i.hasOwnProperty(o)&&("trackOn"in i[o]&&e in i[o].trackOn||!("trackOn"in i[o]))&&"vars"in i[o]&&i[o].vars.length){n=i[o].vars,v.contextData["a.media.name"]=t.eventId,v.contextData["a.media.friendlyName"]=t.titleWithEpisode,v.contextData["a.media.playerName"]=t.playerName,v.contextData["a.media.channel"]="web",v.contextData["a.contentType"]="video";for(var s=0,l=n.length;s<l;s++)-1==n[s].indexOf("eVar")&&-1==n[s].indexOf("prop")?(v.contextData[n[s]]=t[o],r="contextData."):(v[n[s]]=t[o],r=""),a.push(r+n[s])}return a}}function l(e,t,n){f("@trackCustomEvent evaluating event:",e,"with linkTrackVars",n.length?n.join("|"):"---");var r,i=[];v&&N[R]&&N[R].events&&e in N[R].events&&(N[R].events[e].length||n.length)&&(f("Custom event ",e,"found in profile"),r=N[R].events[e].length,r&&(v.events=N[R].events[e].join(","),v.linkTrackEvents=N[R].events[e].join(","),i=i.concat(["events"]),f("@trackCustomEvent appMeasurement.events:",v.events)),i=i.concat(["contextData.a.media.name","contextData.a.media.friendlyName","contextData.a.media.playerName","contextData.a.media.channel","contextData.a.contentType"]),v.linkTrackVars=i.concat(n).join(","),f("@trackCustomEvent tracking appMeasurement.linkTrackVars",v.linkTrackVars),f("@trackCustomEvent tracking appMeasurement.linkTrackEvents",v.linkTrackEvents),v.tl(!0,"o",t.contentTitle),v.events="",v.linkTrackEvents="None",v.linkTrackVars="None")}function A(e,t){var n;n=s(e,t)||[],l(e,t,n)}function d(e,t){if(f("@track event:",e,"contentUpdate",JSON.stringify(t,null,3)),T&&b)switch(t.type.video?b.setVideoInfo(t.eventId,t.titleWithEpisode,t.duration,t.timeIndex,t.live?ADB.va.ASSET_TYPE_LIVE:ADB.va.ASSET_TYPE_VOD):N[R].trackAds&&(b.setAdBreakInfo(),b.setAdInfo(t.contentId,t.contentTitle,t.duration,t.adPosition,null)),e in N[R].events&&("FIRST_FRAME_READY"==e&&!p||"FIRST_FRAME_READY"!=e)&&A(e,t),e){case"FIRST_FRAME_READY":p||(T.trackVideoLoad(),p=!0);break
;case"VIDEO_STARTED":case"USER_RESUME":T.trackPlay();break;case"USER_PLAY":break;case"USER_PAUSE":T.trackPause();break;case"VIDEO_COMPLETED":T.trackPause(),T.trackComplete(),T.trackVideoUnload(),h=!0;break;case"AD_STARTED":N[R].trackAds&&T.trackAdStart();break;case"AD_COMPLETED":N[R].trackAds&&T.trackAdComplete();break;case"USER_FORWARD_SEEK":case"USER_BACKWARD_SEEK":T.trackSeekStart(),T.trackSeekComplete()}}function c(){T&&b?g.length?u():d.apply(null,Array.prototype.slice.call(arguments)):(f("pushing to the queue",arguments),g.push(arguments))}function u(){for(f("releasing the queue");g.length;)args=g.shift(),d.apply(null,Array.prototype.slice.call(args))}var g=[],f=n?n.getLogFn("Heartbeat"):function(){console.log.apply(console,["[!Heartbeat!]\t"].concat(Array.prototype.slice.call(arguments)))},p=!1,h=!1;f("init config:",JSON.stringify(t,null,3));var m="Anvato Universal Player",E=/\/\/([a-z0-9\.]+)\//.exec(t.parentPageURL),I=(E.length>1?E[1]:"AnvatoUniversalPlayer")+"-"+t.pInstance,y=new Visitor(t.marketingCloudId,I);t.trackingServer=t.trackingServer||"heartbeats.omtrdc.net",t.customTrackingServer=t.customTrackingServer||t.trackingServer,y.trackingServer=t.customTrackingServer,f("namespace",I);var v=new AppMeasurement;v.visitor=y,v.visitorNamespace=I,v.trackingServer=t.customTrackingServer,v.account=t.account;var C,b,B=ADB.va.plugins.AdobeAnalyticsPlugin,w=ADB.core.extend,S=ADB.va.PlayerDelegate;w(a,S),a.prototype.getVideoInfo=function(){return this._player.getVideoInfo()},a.prototype.getAdBreakInfo=function(){return this._player.getAdBreakInfo()},a.prototype.getAdInfo=function(){return this._player.getAdInfo()},a.prototype.getChapterInfo=function(){return null},a.prototype.getQoSInfo=function(){return null},a.prototype.onError=function(e){f("VideoAnalytics error. Message: "+e.message+". Details: "+e.details+".")},a.prototype.onVideoUnloaded=function(){f("video unloaded")};var Q,T,D=ADB.va.VideoHeartbeat,k=new ADB.va.ConfigData(t.trackingServer,t.jobId,t.publisherId);k.ovp="",k.sdk=m,k.channel="",k.debugLogging=!1,"object"!=typeof t.account?i():r.postWithWsse(t.account,i,i);var R=t.profile;R=R.toLowerCase(),f("profile:",R);var _=[],M=[],N={sni:{metadata:{video_started:{trackOn:{VIDEO_STARTED:1},vars:["videoStart"]},user_pause:{trackOn:{USER_PAUSE:1},vars:["videoPause"]},user_resume:{trackOn:{USER_RESUME:1},vars:["videoResume"]},user_fullscreen:{trackOn:{USER_FULLSCREEN:1},vars:["videoFullscreen"]},user_golive:{trackOn:{USER_GOLIVE:1},vars:["videoLive"]},video_completed:{trackOn:{VIDEO_COMPLETED:1},vars:["videoComplete"]},ad_started:{trackOn:{AD_STARTED:1},vars:["videoAdBegin"]},ad_completed:{trackOn:{AD_COMPLETED:1},vars:["videoAdComplete"]},titleWithEpisode:{trackOn:{VIDEO_STARTED:1},vars:["eVar23"]},stationId:{trackOn:{VIDEO_STARTED:1},vars:["eVar27"]},videoDuration:{trackOn:{VIDEO_STARTED:1},vars:["eVar33"]},playerType:{trackOn:{VIDEO_STARTED:1},vars:["eVar21"]},playerName:{trackOn:{VIDEO_STARTED:1},vars:["eVar24"]},mvpd:{trackOn:{VIDEO_STARTED:1},vars:["eVar26"]},adTitle:{trackOn:{AD_STARTED:1},vars:["eVar15","prop73"]},adDuration:{trackOn:{AD_STARTED:1},vars:["videoAdRunTime"]},clipLong:{},videoSegments:{},primaryCategory:{},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{PLAYER_LOADED:[],FIRST_FRAME_READY:[],VIDEO_STARTED:["event5"],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:["event9"],USER_PLAY:[],USER_RESUME:["event64"],USER_PAUSE:["event63"],USER_GOLIVE:["event86"],AD_STARTED:["event3"],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:["event4"],AD_CLICKED:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:["event66"],USER_CANCEL_FULLSCREEN:[]}},cbs:{trackAds:!1,metadata:{contentTitle:{},stationId:{},videoDuration:{},playerType:{},playerName:{},mvpd:{},adTitle:{},adDuration:{},season:{trackOn:{VIDEO_STARTED:1},vars:["eVar18"]},group:{trackOn:{VIDEO_STARTED:1},vars:["eVar20"]},autoManual:{trackOn:{VIDEO_STARTED:1},vars:["eVar21"]},clipLong:{},videoSegments:{},primaryCategory:{},categories:{trackOn:{VIDEO_STARTED:1},vars:["eVar19"]},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{PLAYER_LOADED:[],FIRST_FRAME_READY:[],VIDEO_STARTED:[],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:[],USER_PLAY:[],USER_PAUSE:[],USER_RESUME:[],USER_GOLIVE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:[],USER_CANCEL_FULLSCREEN:[]}}};if(N.cbslocal=N.cbs,R&&!N[R])throw new Error("Profile "+R+" is not recognized.");if(R in N){for(var L in N[R].events)N[R].events.hasOwnProperty(L)&&(_=_.concat(N[R].events[L]));for(var O in N[R].vars)N[R].vars.hasOwnProperty(O)&&(M=M.concat(N[R].vars[O]));_=["events"].concat(_).join(","),M=M.join(","),f("trackEvents:",_),f("trackVars:",M)}return{sendBeacon:c,initPlugin:i}}return t}),define("pluginHeartbeatBeta",["util"],function(e){function t(t,n,r,i){function a(t){O("@initPlugin (deferred)",t);var r={400:1,404:1};if(t){if(t in r)return void i.dispatchError("HRTBT001");oe.account=t}ce=new d,Ee=new s(ce),ue=new fe(Ee),ge=new pe,ge.debugLogging=ie,ue.configure(ge),se=new Ae(oe,new o),le=new de,le.channel=n.channel||(Me[Te].keyValues&&Me[Te].keyValues.channel?Me[Te].keyValues.channel:"web"),le.debugLogging=ie,se.configure(le),Ie=new ve(new l),ye=new Ce(n.trackingServer,n.marketingCloudId||n.publisherId),ye.ovp=n.ovp||"",ye.ssl=e.isSecureSocket(),ye.sdk=e.getDeviceInfo.firetv?"firetv":n.sdk||Z,ye.debugLogging=ie,Ie.configure(ye),te=[ue,se,Ie],be=new we(new A,te),Be=new Se,Be.debugLogging=ie,be.configure(Be),T=i.getConfigValue(M.HEARTBEAT.CONFIG.CHAPTER,"enabled",!0),T=null==T?ee:T,S()}function o(){}function s(e){s.__super__.constructor.call(this),this._player=e}function l(){}function A(){}function d(){function e(){d=null}function t(e,t,n,r,i,a){u=null,g=null,d=new f,d.playerName=a||Z,d.id=String(e),d.name=t,d.length=n,d.playhead=isNaN(r)?0:r,d.streamType=i}function n(){return v(N.VIDEO),d}function r(e,t,n,r){n=parseInt(n),r=parseInt(r),u=null,g=null,c=new p,c.name=String(e),c.position=t,c.startTime=isNaN(n)?0:n,c.length=isNaN(r)?0:r,O("@setChapterInfo videoInfo",[c.name,c.position,c.startTime,c.length].join("|"))}function i(){return v(N.CHAPTER),c}function a(){c=null}function o(e,t,n,r,i){K?(u=new h,u.id=String(e),u.name=String(t),u.length=parseInt(n),u.position=r,u.cpm=i):u=null}function s(){return v(N.AD),u}function l(e,t,n,r){K?(g=new m,g.name=e,g.position=void 0!==t?t:1,g.playerName=r||Z,g.startTime=n):g=null}function A(){return v(N.AD_BREAK),g}var d=null,c=null,u=null,g=null,f=ADB.va.plugins.videoplayer.VideoInfo,p=ADB.va.plugins.videoplayer.ChapterInfo,h=ADB.va.plugins.videoplayer.AdInfo,m=ADB.va.plugins.videoplayer.AdBreakInfo;return{setVideoInfo:t,resetVideoInfo:e,setAdInfo:o,setAdBreakInfo:l,getVideoInfo:n,getChapterInfo:i,setChapterInfo:r,resetChapterInfo:a,getAdInfo:s,getAdBreakInfo:A}}function c(e,t,n){var r,i;for(i=e.exec(t);i&&i[1]in _;)r=t.replace(new RegExp(i[0]),_[i[1]]),t=n?encodeURIComponent(r):r,i=e.exec(t);return t}function u(e){_=e||{},O("setMacros",JSON.stringify(e,null,3))}function g(e){var t=/\{\{(\w+)\}\}/,n={};if("object"==typeof e){for(var r in e)e.hasOwnProperty(r)&&(n[r]=g(e[r]));return n}return t.test(e)?c(t,e):e}function f(t,r,a){var o={chapter:{},video:{}};if(n.useDerivedMetadata)a===q.HEARTBEAT?(i.getConfigValue(M.HEARTBEAT.CONFIG.VIDEO,"enabled",!0)&&(o.video=g(i.getDerivedMetadata(M.HEARTBEAT.METADATA.VIDEO,""))),T&&(o.chapter=g(i.getDerivedMetadata(M.HEARTBEAT.METADATA.CHAPTER,""))),i.getConfigValue(M.HEARTBEAT.CONFIG.AD,"enabled",!0)&&(o.ad=g(i.getDerivedMetadata(M.HEARTBEAT.METADATA.AD,""))),i.getConfigValue(M.HEARTBEAT.CONFIG.AD_BREAK,"enabled",!0)&&(o.adBreak=g(i.getDerivedMetadata(M.HEARTBEAT.METADATA.AD_BREAK,"")))):a===q.APP_MEASUREMENT&&O("derivedMetadata is not supported with aap measurement");else if(Te in Me){var s,l,A,d,c=Me[Te].metadata,u=[];for(var f in c)if(c.hasOwnProperty(f)&&("trackOn"in c[f]&&t in c[f].trackOn||!("trackOn"in c[f]))&&"vars"in c[f]&&c[f].vars.length){s=c[f].vars,l=c[f].types,a==q.APP_MEASUREMENT&&(oe.contextData["a.media.name"]=Me[Te].trackChapters&&r.live?I("videoId",r,t):I("eventId",r,t),oe.contextData["a.media.friendlyName"]=Me[Te].trackChapters&&r.live?I("videoId",r,t):I("contentTitle",r,t),oe.contextData["a.media.playerName"]=I("playerName",r),oe.contextData["a.media.channel"]=e.getDeviceInfo.firetv?"firetv":Me[Te].keyValues&&Me[Te].keyValues.channel?Me[Te].keyValues.channel:"web",oe.contextData["a.contentType"]=I("streamType",r,t));for(var p=0,h=s.length;p<h;p++)if(a==q.APP_MEASUREMENT)-1==s[p].indexOf("eVar")&&-1==s[p].indexOf("prop")?(oe.contextData[s[p]]=c[f].adaptor?c[f].adaptor(r[f],r,t,s[p]):r[f],A="contextData.",l&&s[p]in l&&(O("@setCustomMetadata detected type for",s[p]),oe[l[s[p]]]=s[p],u.push(l[s[p]]))):(oe[s[p]]=c[f].adaptor?c[f].adaptor(r[f],r,t,s[p]):r[f],A=""),u.push(A+s[p]);else if(a==q.HEARTBEAT){if(d="",!c[f].trackWith||c[f].trackWith&&W.CHAPTER in c[f].trackWith){if(o.chapter[s[p]]=c[f].adaptor?c[f].adaptor(r[f],r,t,s[p]):r[f],t&&t in{USER_PLAY:1})break;d=g(i.getDerivedMetadata(M.HEARTBEAT.METADATA.CHAPTER,s[p],"")),O("derivedValue for:",s[p],d),d!=String(o.chapter[s[p]])?O("MISMATCH for",s[p],d,"vs",o.chapter[s[p]]):O("MATCH for",s[p],d)}if(!c[f].trackWith||c[f].trackWith&&W.VIDEO in c[f].trackWith){if(o.video[s[p]]=c[f].adaptor?c[f].adaptor(r[f],r,t,s[p]):r[f],t&&t in{USER_PLAY:1})break;d=g(i.getDerivedMetadata(M.HEARTBEAT.METADATA.VIDEO,s[p],"")),d!=String(o.chapter[s[p]])?O("MISMATCH:",d,o.chapter[s[p]]):O("MATCH:",d)}}}}return{linkTrackVars:u,heartbeatCustomMetadata:o}}function p(t,r,i,a){var o,s=[],l={},A={},d={},c={};a==q.APP_MEASUREMENT?n.useDerivedMetadata?O("derivedMetadata is not supported with aap measurement"):oe&&Me[Te]&&Me[Te].events&&t in Me[Te].events&&(Me[Te].events[t].length||i.linkTrackVars.length)&&(O("Custom event ",t,"found in profile"),o=Me[Te].events[t].length,o&&(oe.events=Me[Te].events[t].join(","),oe.linkTrackEvents=Me[Te].events[t].join(","),s=s.concat(["events"]),O("@trackCustomEvent appMeasurement.events:",oe.events)),s=s.concat(["contextData.a.media.name","contextData.a.media.friendlyName","contextData.a.media.playerName","contextData.a.media.channel","contextData.a.contentType"]),oe.linkTrackVars=s.concat(i.linkTrackVars).join(","),O("@trackCustomEvent tracking appMeasurement.linkTrackVars",oe.linkTrackVars),O("@trackCustomEvent tracking appMeasurement.linkTrackEvents",oe.linkTrackEvents),oe.tl(!0,"o",r.contentTitle),oe.events="",oe.linkTrackEvents="None",oe.linkTrackVars="None"):a==q.HEARTBEAT&&(l=i.heartbeatCustomMetadata.video,A=i.heartbeatCustomMetadata.chapter,d=i.heartbeatCustomMetadata.ad,c=i.heartbeatCustomMetadata.adBreak,n.customMetadata&&("video"in n.customMetadata&&"object"==typeof n.customMetadata.video&&(l=e.merge(l,n.customMetadata.video)),"chapter"in n.customMetadata&&"object"==typeof n.customMetadata.chapter&&(A=e.merge(A,n.customMetadata.chapter)),"ad"in n.customMetadata&&"object"==typeof n.customMetadata.ad&&(d=e.merge(d,n.customMetadata.ad)),"adBreak"in n.customMetadata&&"object"==typeof n.customMetadata.adBreak&&(c=e.merge(c,n.customMetadata.adBreak))),(n.useDerivedMetadata&&T||!n.useDerivedMetadata&&Me[Te].trackChapters)&&se.setChapterMetadata(A),se.setVideoMetadata(l))}function h(){var e=parseInt((new Date).getTime()/1e3);return n.playheadTrackingWithUTC&&e%86400||e}function m(e){var t={Sun:"Sunday",Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thr:"Thursday",Fri:"Friday",Sat:"Saturday"},r=h();_.TIME_HOUR=e.hours,_.TIME_MINUTE=e.minutes,_.DATE=e.date,_.DAY=e.day,_.DATE_DAY=t[e.dayOfWeek],_.MVPD=e.mvpd,_.MVPD_DISPLAY_NAME=e.mvpdDisplayName,_.PLAYER_NAME=e.playerName,_.PLAYER_VERSION=e.version,_.CURRENT_TIME=e.live?r:parseFloat(e.timeIndex),_.TALENT_NAME=e.live?e.talentName||"N/A":e.custom$rovi_credits||"N/A",_.CHAPTER_INDEX=e.chapterIndex?e.chapterIndex+1:1,_.CHAPTER_START_TIME=e.live?e.startTime:e.chapterStartTime,_.CHAPTER_LENGTH=e.live?e.endTime-e.startTime:e.chapterEndTime-e.chapterStartTime,_.AD_BREAK_INDEX=e.adBreakIndex,_.AD_INDEX=e.adIndex,_.AD_DURATION=e.adDuration,_.LAST_CONTENT_TIME_INDEX=e.lastContentTimeIndex,0==Math.floor(e.lastContentTimeIndex)?_.AD_POD_TYPE="Preroll":Math.ceil(e.lastContentTimeIndex)>=e.duration?_.AD_POD_TYPE="Postroll":_.AD_POD_TYPE="Midroll",_.AD_POD_INDEX=e.adBreakIndex+1,"string"==typeof e.daiRules&&e.daiRules.indexOf("no_local_dai")>-1&&e.daiRules.indexOf("no_network_dai")>-1?_.NIELSEN_AD_LOAD_TYPE=1:_.NIELSEN_AD_LOAD_TYPE=2,_.AD_LOAD_TYPE=_.NIELSEN_AD_LOAD_TYPE,_.AD_MODEL=_.NIELSEN_AD_LOAD_TYPE,_.NIELSEN_AD_MODEL=_.NIELSEN_AD_LOAD_TYPE,_.VIDEO_SCREEN_TYPE=e.fullscreen?"fullscreen":"normal",_.VIDEO_SCREEN=_.VIDEO_SCREEN_TYPE,_.VIDEO_PLAY_TYPE=e.autoManual,_.videoTitle=e.contentTitle,_.CHAPTER_TITLE=[e.live?e.episodeTitle:e.custom$cl_episode,e.chapterIndex?e.chapterIndex+1:1].join("|"),_.CHAPTER_TITLE2=e.chapterTitle,_.TITLE_OR_PROGRAM_NAME=e.live?e.initialTitle:e.program_name,_.ID1=T&&e.live?e.videoId:[e.custom$cl_scrid||"N/A",e.custom$cl_episode_type||e.custom$cl_ad_policy||"D4"].join("|"),_.ID2=T&&e.live?e.videoId:[e.custom$cl_show_name,e.custom$cl_episode].join("|"),_.DURATION2=e.live?-1:parseInt(e.duration),_.PLAYER_INSTANCE=n.pInstance,_.STREAM_TYPE=e.live?ne.ASSET_TYPE_LIVE:ne.ASSET_TYPE_VOD,_.START_TYPE=e.autoManual,_.CATEGORY=e.categories,_.STATUS=e.status,_.CALLSIGN=e.callsign,_.PLATFORM=e.platform,_.EPISODE_NUMBER=e.episodeNumber,_.EVENT_ID=e.eventId,_.AIR_DATE=e.ts_airdate,_.SEASON=e.season,_.DAY2=e["custom$[54]daypart"],_.ID=e.live?e.videoId:e.eventId,_.ID_TITLE=e.live?e.videoId:e.contentTitle;var i={0:"VOD Episode",1:"VOD Clip",2:ne.ASSET_TYPE_LIVE};_.STREAM_TYPE2="video_type"in e&&e.video_type in i?i[e.video_type]:_.STREAM_TYPE}function E(e,t,n){var r;r=f(e,t,n)||[],p(e,t,r,n)}function I(e,t,n){return O("@applyMainAdaptor",e),Me[Te]&&Me[Te].adaptors&&e in Me[Te].adaptors?(O("@applyMainAdaptor returning",Me[Te].adaptors[e](t[e],t,n)),Me[Te].adaptors[e](t[e],t,n)):(O("@applyMainAdaptor returning",t[e]),t[e])}function y(e,t,n,r){for(var a=0;a<t.length;a++){var o,s=t[a],l=g(i.getDerivedMetadata(e,s,""));e==M.HEARTBEAT.CONFIG.VIDEO&&("duration"==s&&(l=D.live?-1:parseInt(D.duration)),"currentTime"==s&&(o=h(),l=D.live?o:parseFloat(D.timeIndex))),e==M.HEARTBEAT.CONFIG.AD_BREAK&&("lastContentTimeIndex"==s&&(l=D.lastContentTimeIndex),"id"==s&&(l=D.adBreakIndex+1)),e==M.HEARTBEAT.CONFIG.AD&&("adId"==s&&(l=D.adId||["ad",D.adBreakIndex,D.adIndex].join("_")),"name"==s&&(l=D.adId||["ad",D.adBreakIndex,D.adIndex].join("_")),"id"==s&&(l=D.adIndex+1),"duration"==s&&(l=D.adDuration)),O("derivedValue for:",s,l),l!=String(n[a])?O("MISMATCH for",s,l,"vs",n[a]):O("MATCH for",s,l)}}function v(e){var t,r,a,o;n.useDerivedMetadata&&E(null,D,q.HEARTBEAT),e==N.VIDEO?(o=h(),n.useDerivedMetadata?(r=g(i.getDerivedMetadata(M.HEARTBEAT.CONFIG.VIDEO,"")),t=[r.id,r.name,r.duration||D.live?-1:parseInt(D.duration),D.live?o:parseFloat(D.timeIndex),r.streamType,r.playerName]):(t=[Me[Te].trackChapters&&D.live?I("videoId",D,null):I("eventId",D,null),Me[Te].trackChapters&&D.live?I("videoId",D,null):I("contentTitle",D,null),D.live?-1:parseInt(D.duration),D.live?o:parseFloat(D.timeIndex),I("streamType",D,null),I("playerName",D,null)],a=["id","name","duration","currentTime","streamType","playerName"],y(M.HEARTBEAT.CONFIG.VIDEO,a,t,D)),ce.setVideoInfo.apply(null,t)):e==N.AD_BREAK?(void 0===D.adBreakIndex&&(D.adBreakIndex=-1),(n.useDerivedMetadata&&i.getConfigValue(M.HEARTBEAT.CONFIG.AD,"enabled",!0)||!n.useDerivedMetadata&&Me[Te].trackAds)&&(n.useDerivedMetadata?(r=g(i.getDerivedMetadata(M.HEARTBEAT.CONFIG.AD_BREAK,"")),t=[r.name,r.id||D.adBreakIndex+1,r.lastContentTimeIndex||D.lastContentTimeIndex,r.playerName]):(t=[["ad_break",D.adBreakIndex].join("_"),D.adBreakIndex+1,D.lastContentTimeIndex],a=["name","id","lastContentTimeIndex"],y(M.HEARTBEAT.CONFIG.AD_BREAK,a,t,D)),ce.setAdBreakInfo.apply(null,t))):e==N.AD?(void 0===D.adIndex&&(D.adIndex=-1),void 0===D.duration&&(D.duration=0),n.useDerivedMetadata?(r=g(i.getDerivedMetadata(M.HEARTBEAT.CONFIG.AD,"")),t=[D.adId||["ad",D.adBreakIndex,D.adIndex].join("_"),D.adTitle||["ad",D.adBreakIndex,D.adIndex].join("_"),D.adDuration,D.adIndex+1,r.cpm||null]):(t=[D.adId||["ad",D.adBreakIndex,D.adIndex].join("_"),D.adTitle||["ad",D.adBreakIndex,D.adIndex].join("_"),D.adDuration,D.adIndex+1,null],a=["adId","name","duration","id","cpm"],y(M.HEARTBEAT.CONFIG.AD,a,t,D)),ce.setAdInfo.apply(null,t)):e==N.CHAPTER&&(n.useDerivedMetadata?(r=g(i.getDerivedMetadata(M.HEARTBEAT.CONFIG.CHAPTER,"")),t=[r.name,D.live?H:D.chapterIndex?D.chapterIndex+1:1,D.live?D.startTime:D.chapterStartTime,D.live?D.endTime-D.startTime:D.chapterEndTime-D.chapterStartTime,r.streamType]):(t=[I("chapterTitle",D,null),D.live?H:D.chapterIndex?D.chapterIndex+1:1,D.live?D.startTime:D.chapterStartTime,D.live?D.endTime-D.startTime:D.chapterEndTime-D.chapterStartTime,I("streamType",D,null)],a=["name","chapterIndex","chapterStartTime","chapterLength","streamType"],y(M.HEARTBEAT.CONFIG.CHAPTER,a,t,D)),ce.setChapterInfo.apply(null,t))}function C(e,t){var r,a,o,s,l,A;if(m(t),O("@track event:",e),D=t,"profile"in Me&&Me[Te].dynamicChaptersTracking&&(Me[Te].trackChapters=t.live?Me[Te].dynamicChaptersTracking.live:Me[Te].dynamicChaptersTracking.vod),ue&&ce){switch(!n.useDerivedMetadata&&Me&&e in Me[Te].events&&E(e,t,q.HEARTBEAT),l=t.live?"live":"vod",A=Me[Te].chapterLimits[l],G&&(n.useDerivedMetadata&&T||!n.useDerivedMetadata&&Me[Te].trackChapters)&&e in A.complete&&(o=ce.getChapterInfo(),"AD_STARTED"==e&&F||(o&&O("@track->chapterComplete",[o.name,o.position,o.startTime,o.length,e].join("|")),ue.trackChapterComplete(),n.useDerivedMetadata&&e in _e&&(H=0,O("@track->complete"),ue.trackComplete(),O("@track->unload"),ue.trackVideoUnload(),O("@track->load"),ue.trackVideoLoad(),r=ce.getVideoInfo(),O("@track->play",[r.id,r.name,r.playhead,r.length,e].join("|")),ue.trackPlay()),G=!1)),e){case"METADATA_LOADED":r=ce.getVideoInfo(),P&&(O("@track->unload"),ue.trackVideoUnload(),P=!1),O("@track->load",[r.id,r.name,r.playhead,r.length].join("|")),ue.trackVideoLoad(),P=!0,x=!1,G=!1,F=!1,U=!1,V=!1,j=!1,J=!1,Y=!1,G=!1,H=0;break;case"PLAYING_START":P||(ue.trackVideoLoad(),P=!0);break;case"PROGRAM_CHANGED":n.useDerivedMetadata&&T||!n.useDerivedMetadata&&Me[Te].trackChapters||(j?(O("@track->complete"),ue.trackComplete(),O("@track->unload"),ue.trackVideoUnload(),O("@track->load"),ue.trackVideoLoad(),r=ce.getVideoInfo(),O("@track->play",[r.id,r.name,r.playhead,r.length,e].join("|")),ue.trackPlay()):j=!0);break;case"VIDEO_STARTED":V||(V=!0,ue.trackPlay(),r=ce.getVideoInfo(),O("@track->play",[r.id,r.name,r.playhead,r.length].join("|"))),x=!0,!G&&J&&(H++,o=ce.getChapterInfo(),o&&O("@track->chapterStart",[o.name,o.position,o.startTime,o.length,e].join("|")),ue.trackChapterStart(),J=!1,G=!0);break;case"USER_RESUME":O("@track->play (resume)"),ue.trackPlay();case"USER_PLAY":break;case"USER_PAUSE":O("@track->pause"),ue.trackPause();break;case"VIDEO_COMPLETED":Y||(O("@track->complete"),ue.trackComplete()),F=!0;break;case"AD_STARTED":(n.useDerivedMetadata&&i.getConfigValue(M.HEARTBEAT.CONFIG.AD,"enabled",!0)||!n.useDerivedMetadata&&Me[Te].trackAds)&&(a=ce.getAdInfo(),s=ce.getAdBreakInfo(),s&&O("@track->adStart ad break info:",[s.playerName,s.name,s.position,s.startTime].join("|")),a&&O("@track->adStart",[a.id,a.length,a.position,a.name].join("|")),K=!0,ue.trackAdStart(),V||(V=!0,ue.trackPlay(),r=ce.getVideoInfo(),O("@track->play",[r.id,r.name,r.playhead,r.length].join("|"))));break;case"AD_COMPLETED":(n.useDerivedMetadata&&i.getConfigValue(M.HEARTBEAT.CONFIG.AD,"enabled",!0)||!n.useDerivedMetadata&&Me[Te].trackAds)&&(O("@track->adComplete"),ue.trackAdComplete(),K=!1),F&&(O("@track->complete"),ue.trackComplete());break;case"USER_FORWARD_SEEK":case"USER_BACKWARD_SEEK":U||(O("@track->seekStart"),ue.trackSeekStart(),U=!0,setTimeout(function(){O("@track->seekCompleted"),ue.trackSeekComplete(),U=!1},500));break;case"CRITICAL_OFFLINE_BUFFER":t.lastStateBeforeCriticalOfflineBuffer in{playingVideoContent:1,playingAdContent:1}&&ue.trackPause();break;case"BROWSER_ONLINE":t.lastStateBeforeCriticalOfflineBuffer in{playingVideoContent:1,playingAdContent:1}&&ue.trackPlay()}e in Me[Te].events&&x&&Me[Te].appMeasurementCustomTracking&&E(e,t,q.APP_MEASUREMENT),(n.useDerivedMetadata&&T||!n.useDerivedMetadata&&Me[Te].trackChapters)&&e in A.start&&Me[Te].trackChapters&&(x?G||(H++,o=ce.getChapterInfo(),O("@track->chapterStart",[o.name,o.position,o.startTime,o.length].join("|"),e),ue.trackChapterStart(),G=!0):(O("deferring track->chapterStart",e),J=!0))}}function b(e,t){var r=!1;if("number"==typeof n.metadataLookupTimeout?n.metadataLookupTimeout&&(r=n.metadataLookupTimeout):r=45e3,"METADATA_LOADED"==e||k){if(t.live){if("PROGRAM_CHANGED"==e){for(var i=0,a=L.length;i<a;i++)L[i][1]=t;return!1}return!R.waitForProgramChange&&r&&(R.waitForProgramChange=setTimeout(B,r)),!0}return!1}return!1}function B(){k=!1,delete R.waitForProgramChange,S()}function w(){k=b.apply(null,Array.prototype.slice.call(arguments)),(Me[Te]||n.useDerivedMetadata)&&(ue&&ce&&!k?(L.length&&S(),C.apply(null,Array.prototype.slice.call(arguments))):L.push(arguments))}function S(e){O("releasing the queue",n?n.length:0);for(var t,n=e||L;n.length;)t=n.shift(),C.apply(null,Array.prototype.slice.call(t))}function Q(e){Y=e,O("@setPostrollExpected",e)}var T,D,k=!1,R={},_={},M={HEARTBEAT:{CONFIG:{VIDEO:"plugins:heartbeatBeta:mapping:video:",CHAPTER:"plugins:heartbeatBeta:mapping:chapter:",AD:"plugins:heartbeatBeta:mapping:ad:",AD_BREAK:"plugins:heartbeatBeta:mapping:adBreak:"},METADATA:{VIDEO:"plugins:heartbeatBeta:mapping:video:context:",CHAPTER:"plugins:heartbeatBeta:mapping:chapter:context:",AD:"plugins:heartbeatBeta:mapping:ad:context:",AD_BREAK:"plugins:heartbeatBeta:mapping:adBreak:context:"}}},N={VIDEO:"video",AD:"ad",AD_BREAK:"ad_break",CHAPTER:"chapter"},L=[],O=r?r.getLogFn("Heartbeat"):function(){console.log.apply(console,["[!Heartbeat!]\t"].concat(Array.prototype.slice.call(arguments)))},P=!1,F=!1,U=!1,x=!1,G=!1,V=!1,H=0,j=!1,Y=!1,K=!1,J=!1,q={APP_MEASUREMENT:"appMeasurement",HEARTBEAT:"heartbeat"},W={VIDEO:"video",CHAPTER:"chapter"},z={nbc:1};O("init config:",JSON.stringify(n,null,3));var Z="Anvato Universal Player";O("config.parentPageURL",n.parentPageURL);var X=n.parentPageURL?e.getUrlParts(n.parentPageURL):{},$=(X.host?X.host:"AnvatoUniversalPlayer")+(n.pInstance?"-"+n.pInstance:""),ee=!("chapterTracking"in n)||n.chapterTracking;O("trackChapters:",ee),n.trackingServer=n.trackingServer||"heartbeats.omtrdc.net",n.customTrackingServer=n.customTrackingServer||n.trackingServer,n.customTrackingServerSecure=n.customTrackingServerSecure||n.customTrackingServer;var te,ne=ADB.va.plugins.videoplayer.AssetType,re=ADB.core.extend,ie=n.debugMode||n.debug&&(1==n.debug||"object"==typeof n.debug&&"length"in n.debug&&function(){for(var e=0,t=n.debug.length;e<t;e++)if("Heartbeat"==n.debug[e])return!0;return!1}()),ae=new Visitor(n.marketingCloudId,$);ae.trackingServer=n.customTrackingServer,ae.trackingServerSecure=n.customTrackingServerSecure,O("namespace",$);var oe=new AppMeasurement;oe.visitor=ae,oe.visitorNamespace=$,oe.trackingServer=n.customTrackingServer,oe.trackingServerSecure=n.customTrackingServerSecure,oe.account=n.account,oe.pageName=n.pageName||n.parentTitle,oe.charSet="UTF-8";var se,le,Ae=ADB.va.plugins.aa.AdobeAnalyticsPlugin,de=ADB.va.plugins.aa.AdobeAnalyticsPluginConfig;re(o,ADB.va.plugins.aa.AdobeAnalyticsPluginDelegate),o.prototype.onError=function(e){console.log("AdobeAnalyticsPlugin error: "+e.getMessage()+" | "+e.getDetails())};var ce,ue,ge,fe=ADB.va.plugins.videoplayer.VideoPlayerPlugin,pe=ADB.va.plugins.videoplayer.VideoPlayerPluginConfig,he=ADB.va.plugins.videoplayer.VideoPlayerPluginDelegate,me=!1;re(s,he),s.prototype.getVideoInfo=function(){return this._player.getVideoInfo()},s.prototype.getAdBreakInfo=function(){return this._player.getAdBreakInfo()},s.prototype.getAdInfo=function(){return this._player.getAdInfo()},s.prototype.getChapterInfo=function(){return this._player.getChapterInfo()},s.prototype.getQoSInfo=function(){return null},s.prototype.onError=function(e){O("VideoAnalytics error. Message: "+e.message+". Details: "+e.details+".")},s.prototype.onVideoUnloaded=function(){O("video unloaded")};var Ee,Ie,ye,ve=ADB.va.plugins.ah.AdobeHeartbeatPlugin,Ce=ADB.va.plugins.ah.AdobeHeartbeatPluginConfig;re(l,ADB.va.plugins.ah.AdobeHeartbeatPluginDelegate),l.prototype.onError=function(e){console.log("AdobeHeartbeatPlugin error: "+e.getMessage()+" | "+e.getDetails())};var be,Be,we=ADB.va.Heartbeat,Se=ADB.va.HeartbeatConfig,Qe=ADB.va.HeartbeatDelegate;re(A,Qe),A.prototype.onError=function(e){console.log("Heartbeat error: "+e.getMessage()+" | "+e.getDetails())};var Te=n.profile;Te=Te?Te.toLowerCase():"default",O("profile:",Te),Te in z&&void 0===n.useDerivedMetadata&&(n.useDerivedMetadata=!0,O("set useDerivedMetadata to true (default is false)"));var De={duration:null,timeIndex:null,contentId:null,contentTitle:null,contentDefinition:null,type:{video:!0}},ke=[],Re=[],_e={PROGRAM_CHANGED:1},Me={default:{metadata:{},events:{},trackChapters:ee,trackAds:!0,appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{},adaptors:{streamType:function(e,t,n){return t.live?ne.ASSET_TYPE_LIVE:ne.ASSET_TYPE_VOD}}},nbc:{metadata:{program_name:{adaptor:function(e,t,n,r){return t.live?t.initialTitle:e},vars:["videoprogram"]},derivedMetadata$videodaypart:{vars:["videodaypart"]},minutes:{adaptor:function(e,t,n,r){return[t.hours,e].join(":")},vars:["videominute"]},hours:{vars:["videohour"]},dayOfWeek:{adaptor:function(e,t,n,r){return{Sun:"Sunday",Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thr:"Thursday",Fri:"Friday",Sat:"Saturday"}[e]},vars:["videoday"]},date:{vars:["videodate"]},playerName:{vars:["videoplayertech","videoplatform"]},mcp_id:{adaptor:function(e,t,n,r){return"NBC"},vars:["videonetwork","videoapp"]},mvpd:{vars:["videomvpd"]},autoManual:{vars:["videoinitiate"]},screen:{adaptor:function(){return"Full"},vars:["videoscreen"]},status:{vars:["videostatus"]},callsign:{vars:["videocallsign"]},episodeNumber:{vars:["videoepnumber"]},eventId:{vars:["videoguid"]},ts_airdate:{adaptor:function(t,n,r,i){var a=e.prettifyDate(1e3*t);return[a.month,a.day,a.year].join("/")},vars:["videoairdate"]},season:{vars:["videoseason"]},stationId:{vars:[]},videoDuration:{vars:[]},playerType:{vars:[]},adTitle:{vars:[]},adDuration:{vars:[]},clipLong:{},videoSegments:{},primaryCategory:{},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{VIDEO_STARTED:[],PROGRAM_CHANGED:[],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:[],USER_PLAY:[],USER_RESUME:[],USER_PAUSE:[],USER_GOLIVE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:[],USER_CANCEL_FULLSCREEN:[]},trackAds:!0,trackChapters:!0,dynamicChaptersTracking:{live:!1,vod:!0},appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},adaptors:{streamType:function(e,t,n){var r={0:"VOD Episode",1:"VOD Clip",2:ne.ASSET_TYPE_LIVE};return t&&"video_type"in t&&t.video_type in r?r[t.video_type]:t.live?ne.ASSET_TYPE_LIVE:ne.ASSET_TYPE_VOD}}},sni:{metadata:{live:{adaptor:function(e,t,n){return e?"C3":t.custom$cl_episode_type||t.custom$cl_ad_policy||"D4"},vars:["videoWindowing"]},custom$cl_scrid:{adaptor:function(e,t,n,r){return"name"==r?t.live?I("videoId",t,n):I("eventId",t,n):e||"N/A"},vars:["videoSCRID","name"]},custom$cl_non_linear_id:{adaptor:function(e,t,n,r){return e||"N/A"},vars:["videoNLVID"]},custom$cl_sni_guid:{adaptor:function(e,t,n,r){return e||"N/A"},vars:["videoGUID"]},autoManual:{adaptor:function(e,t,n,r){return"auto"==e?"autoplay":"manual"},vars:["videoPlayType"]},custom$sni_author:{adaptor:function(e,t,n,r){return e||"N/A"},vars:["videoPublisherID"]},custom$cl_authenticated:{adaptor:function(e,t,n,r){return t.live||(me="Y"==e),me+""},vars:["requiresAuth"]},custom$authenticated:{adaptor:function(e,t,n,r){return t.live&&(me="yes"==e),me+""},vars:["requiresAuth"]},mvpd:{vars:["videoMVPD"]},playerType:{adaptor:function(e,t,n,r){return"videoPlayerName"==r?e+" v"+t.version:e},vars:["videoChannelName","videoPlayerName","videoPlayerType"]},initialTitle:{adaptor:function(e,t,n,r){return t.live?t.showTitle:t.custom$cl_show_name},vars:["videoShowTitle"]},custom$cl_episode:{adaptor:function(e,t,n,r){return e||t.contentTitle},vars:["videoTitle"]},contentTitle:{vars:["videoTitle"]},duration:{vars:["videoRuntime"]},fullscreen:{adaptor:function(e,t,n,r){return e?"fullscreen":"normal"},vars:["videoScreenType"]},talentName:{adaptor:function(e,t,n,r){return t.live?e||"N/A":De.custom$rovi_credits||"N/A"},vars:["talentName"]},friendlyName:{adaptor:function(e,t,n,r){return t.showTitle+"|"+t.contentTitle},vars:["friendlyName"]}},events:{VIDEO_STARTED:[],PROGRAM_CHANGED:[],METADATA_LOADED:[],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:[],USER_PLAY:[],USER_RESUME:[],USER_PAUSE:[],USER_GOLIVE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:[],USER_CANCEL_FULLSCREEN:[]},trackChapters:ee,trackAds:!0,appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{},adaptors:{eventId:function(e,t,n){return t.live?[t.roviId,"C3"].join("|"):[t.custom$cl_scrid||"N/A",t.custom$cl_episode_type||t.custom$cl_ad_policy||"D4"].join("|")},contentTitle:function(e,t,n){return t.live?[t.showTitle,t.custom$rovi_episode_title].join("|"):[t.custom$cl_show_name,t.custom$cl_episode].join("|")},streamType:function(e,t,n){return t.live?ne.ASSET_TYPE_LIVE:ne.ASSET_TYPE_VOD},chapterTitle:function(e,t,n){var r=t.chapterIndex?t.chapterIndex+1:1;return t.live?[t.episodeTitle,r].join("|"):[t.custom$cl_episode,r].join("|")},adId:function(e,t,n){return e||"N/A"},adTitle:function(e,t,n){return e||"N/A"},adPodFriendlyName:function(e,t,n){return 0==t.lastContentTimeIndex?"preroll":t.lastContentTimeIndex>=t.duration?"postroll":"midroll"}}},cbs:{metadata:{contentTitle:{adaptor:function(e,t,n,r){return t.live?e||"NA":t.program_name||"NA"},vars:["videoShowName"]},stationId:{},videoDuration:{},playerType:{},playerName:{},mvpd:{},adTitle:{},season:{adaptor:function(e,t,n,r){return e||"NA"},vars:["videoSeason"]},group:{},autoManual:{vars:["startType"]},clipLong:{},videoSegments:{},primaryCategory:{},categories:{vars:["videoCategory"],types:{videoCategory:"list3"}},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{VIDEO_STARTED:[],METADATA_LOADED:[]},trackChapters:ee,trackAds:!0,appMeasurementCustomTracking:!0,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{channel:X.host},adaptors:{playerName:function(e,t,r){return e+(n.pInstance?"-"+n.pInstance:"")},streamType:function(e,t,n){return t.live?ne.ASSET_TYPE_LIVE:ne.ASSET_TYPE_VOD}}},cox:{metadata:{contentTitle:{},stationId:{},videoDuration:{},playerType:{},playerName:{},mvpd:{},adTitle:{},
season:{},group:{},autoManual:{},clipLong:{},videoSegments:{},primaryCategory:{},categories:{},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{VIDEO_STARTED:[],PROGRAM_CHANGED:[],METADATA_LOADED:[],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:[],USER_PLAY:[],USER_RESUME:[],USER_PAUSE:[],USER_GOLIVE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:[],USER_CANCEL_FULLSCREEN:[]},trackChapters:ee,trackAds:!0,appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{},adaptors:{playerName:function(e,t,r){return e+(n.pInstance?"-"+n.pInstance:"")},streamType:function(e,t,n){var r={0:"VOD Episode",1:"VOD Clip",2:ne.ASSET_TYPE_LIVE};return t&&"video_type"in t&&t.video_type in r?r[t.video_type]:t.live?ne.ASSET_TYPE_LIVE:ne.ASSET_TYPE_VOD}}}};if(Me.cbslocal=Me.cbs,Te&&!Me[Te]&&(Te="default"),O("config.account:",n.account),"object"!=typeof n.account?a():i.postWithWsse(n.account,a,a),Te in Me){for(var Ne in Me[Te].events)Me[Te].events.hasOwnProperty(Ne)&&(ke=ke.concat(Me[Te].events[Ne]));for(var Le in Me[Te].vars)Me[Te].vars.hasOwnProperty(Le)&&(Re=Re.concat(Me[Te].vars[Le]));ke=["events"].concat(ke).join(","),Re=Re.join(","),O("trackEvents:",ke),O("trackVars:",Re)}return{sendBeacon:w,initPlugin:a,setMacros:u,setPostrollExpected:Q}}return t}),define("pluginHeartbeatShared",["util"],function(e){function t(t,n,r,i){function a(t){x("@initPlugin (deferred)",t),ae=new Visitor(n.marketingCloudId,ne),ae.trackingServer=n.customTrackingServer,x("namespace",ne),oe=new AppMeasurement,oe.visitor=ae,oe.visitorNamespace=ne,oe.trackingServer=n.customTrackingServer,oe.account=n.account,oe.pageName=n.parentTitle,oe.charSet="UTF-8",se=ADB.va.plugins.aa.AdobeAnalyticsPlugin,le=ADB.va.plugins.aa.AdobeAnalyticsPluginConfig,ce=ADB.va.plugins.aa.AdobeAnalyticsPluginDelegate,fe(o,ce);var r={400:1,404:1};if(t){if(t in r)return void i.dispatchError("HRTBT001");oe.account=t}he=new c,Qe=new l(he),me=new be(Qe),Ee=new Be,Ee.debugLogging=pe,me.configure(Ee),Ae=new se(oe,new o),de=new le,de.channel=n.channel||(He[Fe].keyValues&&He[Fe].keyValues.channel?He[Fe].keyValues.channel:"web"),de.debugLogging=pe,Ae.configure(de),Te=new ke(new A),De=new Re(n.trackingServer,n.marketingCloudId||n.publisherId),De.ovp=n.ovp||"",De.ssl=e.isSecureSocket(),De.sdk=e.getDeviceInfo.firetv?"firetv":n.sdk||ee,De.debugLogging=pe,Te.configure(De),ie=[me,Ae,Te],n&&n.nielsen&&!n.nielsen.optOutOverride&&(ue=ADB.va.plugins.nielsen.NielsenPluginDelegate,fe(s.prototype,ue),Ie=ADB.va.plugins.nielsen.NielsenPlugin,ve=ADB.va.plugins.nielsen.NielsenPluginConfig,ye=new Ie(new s(he)),Ce=new ve,Ce.debugLogging=pe,Ce.appInfo={apid:n.nielsen.apid||n.nielsen.appID,appversion:n.nielsen.version||n.nielsen.appVersion,appname:n.nielsen.apn||n.nielsen.appName,apn:n.nielsen.apn||n.nielsen.appName,sfcode:n.nielsen.sfcode||n.nielsen.sfCode,nol_sdkDebug:pe?"DEBUG":void 0},Ce.configKey=n.nielsen.configKey,ye.configure(Ce),ie.push(ye)),Me=new Le(new d,ie),Ne=new Oe,Ne.debugLogging=pe,Me.configure(Ne),k=i.getConfigValue(L.HEARTBEAT.CONFIG.CHAPTER,"enabled",!0),k=null==k?re:k,w()}function o(){}function s(e){this.proxyPlayer=e}function l(e){l.__super__.constructor.call(this),this._player=e}function A(){}function d(){}function c(){function e(e){b.metadata=e}function t(e){b.adMetadata=e}function n(e){b.channelInfo=e}function r(){return y(O.NIELSEN),b}function i(){f=null}function a(e,t,n,r,i,a){h=null,m=null,f=new E,f.playerName=a||ee,f.id=String(e),f.name=t,f.length=n,f.playhead=isNaN(r)?0:r,f.streamType=i}function o(){return y(O.VIDEO),f}function s(e,t,n,r){n=parseInt(n),r=parseInt(r),h=null,m=null,p=new I,p.name=String(e),p.position=t,p.startTime=isNaN(n)?0:n,p.length=isNaN(r)?0:r,x("@setChapterInfo videoInfo",[p.name,p.position,p.startTime,p.length].join("|"))}function l(){return y(O.CHAPTER),p}function A(){p=null}function d(e,t,n,r,i){z?(h=new v,h.id=String(e),h.name=String(t),h.length=parseInt(n),h.position=r,h.cpm=i):h=null}function c(){return y(O.AD),h}function u(e,t,n,r){z?(m=new C,m.name=e,m.position=void 0!==t?t:1,m.playerName=r||ee,m.startTime=n):m=null}function g(){return y(O.AD_BREAK),m}var f=null,p=null,h=null,m=null,E=ADB.va.plugins.videoplayer.VideoInfo,I=ADB.va.plugins.videoplayer.ChapterInfo,v=ADB.va.plugins.videoplayer.AdInfo,C=ADB.va.plugins.videoplayer.AdBreakInfo,b={};return{setVideoInfo:a,resetVideoInfo:i,setAdInfo:d,setAdBreakInfo:u,getVideoInfo:o,getChapterInfo:l,setChapterInfo:s,resetChapterInfo:A,getAdInfo:c,getAdBreakInfo:g,setNielsenMetadata:e,setNielsenAdMetadata:t,setNielsenChannelInfo:n,getNielsenInfo:r}}function u(e,t,n){var r,i;for(i=e.exec(t);i&&i[1]in N;)r=t.replace(new RegExp(i[0]),N[i[1]]),t=n?encodeURIComponent(r):r,i=e.exec(t);return t}function g(e){var t=/\{\{(\w+)\}\}/,n={};if("object"==typeof e){for(var r in e)e.hasOwnProperty(r)&&(n[r]=g(e[r]));return n}return t.test(e)?u(t,e):e}function f(t,r,a){var o={chapter:{},video:{}};if(n.useDerivedMetadata)(a=X.HEARTBEAT)?(i.getConfigValue(L.HEARTBEAT.CONFIG.VIDEO,"enabled",!0)&&(o.video=g(i.getDerivedMetadata(L.HEARTBEAT.METADATA.VIDEO,""))),k&&(o.chapter=g(i.getDerivedMetadata(L.HEARTBEAT.METADATA.CHAPTER,""))),i.getConfigValue(L.HEARTBEAT.CONFIG.AD,"enabled",!0)&&(o.ad=g(i.getDerivedMetadata(L.HEARTBEAT.METADATA.AD,""))),i.getConfigValue(L.HEARTBEAT.CONFIG.AD_BREAK,"enabled",!0)&&(o.adBreak=g(i.getDerivedMetadata(L.HEARTBEAT.METADATA.AD_BREAK,"")))):(a=X.APP_MEASUREMENT)&&x("derivedMetadata is not supported with aap measurement");else if(Fe in He){var s,l,A,d,c=He[Fe].metadata,u=[];for(var f in c)if(c.hasOwnProperty(f)&&("trackOn"in c[f]&&t in c[f].trackOn||!("trackOn"in c[f]))&&"vars"in c[f]&&c[f].vars.length){s=c[f].vars,l=c[f].types,a==X.APP_MEASUREMENT&&(oe.contextData["a.media.name"]=He[Fe].trackChapters&&r.live?E("videoId",r,t):E("eventId",r,t),oe.contextData["a.media.friendlyName"]=He[Fe].trackChapters&&r.live?E("videoId",r,t):E("contentTitle",r,t),oe.contextData["a.media.playerName"]=E("playerName",r),oe.contextData["a.media.channel"]=e.getDeviceInfo.firetv?"firetv":He[Fe].keyValues&&He[Fe].keyValues.channel?He[Fe].keyValues.channel:"web",oe.contextData["a.contentType"]=E("streamType",r,t));for(var p=0,h=s.length;p<h;p++)if(a==X.APP_MEASUREMENT)-1==s[p].indexOf("eVar")&&-1==s[p].indexOf("prop")?(oe.contextData[s[p]]=c[f].adaptor?c[f].adaptor(r[f],r,t,s[p]):r[f],A="contextData.",l&&s[p]in l&&(x("@setCustomMetadata detected type for",s[p]),oe[l[s[p]]]=s[p],u.push(l[s[p]]))):(oe[s[p]]=c[f].adaptor?c[f].adaptor(r[f],r,t,s[p]):r[f],A=""),u.push(A+s[p]);else if(a==X.HEARTBEAT){if(d="",!c[f].trackWith||c[f].trackWith&&$.CHAPTER in c[f].trackWith){if(o.chapter[s[p]]=c[f].adaptor?c[f].adaptor(r[f],r,t,s[p]):r[f],t&&t in{USER_PLAY:1})break;d=g(i.getDerivedMetadata(L.HEARTBEAT.METADATA.CHAPTER,s[p],"")),x("derivedValue for:",s[p],d),d!=String(o.chapter[s[p]])?x("MISMATCH for",s[p],d,"vs",o.chapter[s[p]]):x("MATCH for",s[p],d)}if(!c[f].trackWith||c[f].trackWith&&$.VIDEO in c[f].trackWith){if(o.video[s[p]]=c[f].adaptor?c[f].adaptor(r[f],r,t,s[p]):r[f],t&&t in{USER_PLAY:1})break;d=g(i.getDerivedMetadata(L.HEARTBEAT.METADATA.VIDEO,s[p],"")),d!=String(o.chapter[s[p]])?x("MISMATCH:",d,o.chapter[s[p]]):x("MATCH:",d)}}}}return{linkTrackVars:u,heartbeatCustomMetadata:o}}function p(t,r,i,a){var o,s=[],l={},A={},d={},c={};a==X.APP_MEASUREMENT?n.useDerivedMetadata?x("derivedMetadata is not supported with aap measurement"):oe&&He[Fe]&&He[Fe].events&&t in He[Fe].events&&(He[Fe].events[t].length||i.linkTrackVars.length)&&(x("Custom event ",t,"found in profile"),o=He[Fe].events[t].length,o&&(oe.events=He[Fe].events[t].join(","),oe.linkTrackEvents=He[Fe].events[t].join(","),s=s.concat(["events"]),x("@trackCustomEvent appMeasurement.events:",oe.events)),s=s.concat(["contextData.a.media.name","contextData.a.media.friendlyName","contextData.a.media.playerName","contextData.a.media.channel","contextData.a.contentType"]),oe.linkTrackVars=s.concat(i.linkTrackVars).join(","),x("@trackCustomEvent tracking appMeasurement.linkTrackVars",oe.linkTrackVars),x("@trackCustomEvent tracking appMeasurement.linkTrackEvents",oe.linkTrackEvents),oe.tl(!0,"o",r.contentTitle),oe.events="",oe.linkTrackEvents="None",oe.linkTrackVars="None"):a==X.HEARTBEAT&&(l=i.heartbeatCustomMetadata.video,A=i.heartbeatCustomMetadata.chapter,d=i.heartbeatCustomMetadata.ad,c=i.heartbeatCustomMetadata.adBreak,n.customMetadata&&("video"in n.customMetadata&&"object"==typeof n.customMetadata.video&&(l=e.merge(l,n.customMetadata.video)),"chapter"in n.customMetadata&&"object"==typeof n.customMetadata.chapter&&(A=e.merge(A,n.customMetadata.chapter)),"ad"in n.customMetadata&&"object"==typeof n.customMetadata.ad&&(d=e.merge(d,n.customMetadata.ad)),"adBreak"in n.customMetadata&&"object"==typeof n.customMetadata.adBreak&&(c=e.merge(c,n.customMetadata.adBreak))),(n.useDerivedMetadata&&k||!n.useDerivedMetadata&&He[Fe].trackChapters)&&Ae.setChapterMetadata(A),Ae.setVideoMetadata(l))}function h(e){var t={Sun:"Sunday",Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thr:"Thursday",Fri:"Friday",Sat:"Saturday"},r=parseInt((new Date).getTime()/1e3);r=n.playheadTrackingWithUTC&&r%86400||r,N.TIME_HOUR=e.hours,N.TIME_MINUTE=e.minutes,N.DATE=e.date,N.DAY=e.day,N.DATE_DAY=t[e.dayOfWeek],N.MVPD=e.mvpd,N.MVPD_DISPLAY_NAME=e.mvpdDisplayName,N.PLAYER_NAME=e.playerName,N.PLAYER_VERSION=e.version,N.CURRENT_TIME=e.live?r:parseFloat(e.timeIndex),N.TALENT_NAME=e.live?e.talentName||"N/A":e.custom$rovi_credits||"N/A",N.CHAPTER_INDEX=e.chapterIndex?e.chapterIndex+1:1,N.CHAPTER_START_TIME=e.live?e.startTime:e.chapterStartTime,N.CHAPTER_LENGTH=e.live?e.endTime-e.startTime:e.chapterEndTime-e.chapterStartTime,N.AD_BREAK_INDEX=e.adBreakIndex,N.AD_INDEX=e.adIndex,N.AD_DURATION=e.adDuration,N.LAST_CONTENT_TIME_INDEX=e.lastContentTimeIndex,0==Math.floor(e.lastContentTimeIndex)?N.AD_POD_TYPE="Preroll":Math.ceil(e.lastContentTimeIndex)>=e.duration?N.AD_POD_TYPE="Postroll":N.AD_POD_TYPE="Midroll",N.AD_POD_INDEX=e.adBreakIndex+1,"string"==typeof e.daiRules&&e.daiRules.indexOf("no_local_dai")>-1&&e.daiRules.indexOf("no_network_dai")>-1?N.NIELSEN_AD_LOAD_TYPE=1:N.NIELSEN_AD_LOAD_TYPE=2,N.AD_LOAD_TYPE=N.NIELSEN_AD_LOAD_TYPE,N.AD_MODEL=N.NIELSEN_AD_LOAD_TYPE,N.NIELSEN_AD_MODEL=N.NIELSEN_AD_LOAD_TYPE,N.VIDEO_SCREEN_TYPE=e.fullscreen?"fullscreen":"normal",N.VIDEO_SCREEN=N.VIDEO_SCREEN_TYPE,N.VIDEO_PLAY_TYPE=e.autoManual,N.videoTitle=e.contentTitle,N.CHAPTER_TITLE=[e.live?e.episodeTitle:e.custom$cl_episode,e.chapterIndex?e.chapterIndex+1:1].join("|"),N.CHAPTER_TITLE2=e.chapterTitle,N.TITLE_OR_PROGRAM_NAME=e.live?e.initialTitle:e.program_name,N.ID1=k&&e.live?e.videoId:[e.custom$cl_scrid||"N/A",e.custom$cl_episode_type||e.custom$cl_ad_policy||"D4"].join("|"),N.ID2=k&&e.live?e.videoId:[e.custom$cl_show_name,e.custom$cl_episode].join("|"),N.DURATION2=e.live?-1:parseInt(e.duration),N.PLAYER_INSTANCE=n.pInstance,N.STREAM_TYPE=e.live?ge.ASSET_TYPE_LIVE:ge.ASSET_TYPE_VOD,N.START_TYPE=e.autoManual,N.CATEGORY=e.categories,N.STATUS=e.status,N.CALLSIGN=e.callsign,N.PLATFORM=e.platform,N.EPISODE_NUMBER=e.episodeNumber,N.EVENT_ID=e.eventId,N.AIR_DATE=e.ts_airdate,N.SEASON=e.season,N.DAY2=e["custom$[54]daypart"],N.ID=e.live?e.videoId:e.eventId,N.ID_TITLE=e.live?e.videoId:e.contentTitle,N.SITE_URL=e.siteURL;var i={0:"VOD Episode",1:"VOD Clip",2:ge.ASSET_TYPE_LIVE};N.STREAM_TYPE2="video_type"in e&&e.video_type in i?i[e.video_type]:N.STREAM_TYPE}function m(e,t,n){var r;r=f(e,t,n)||[],p(e,t,r,n)}function E(e,t,n){return x("@applyMainAdaptor",e),He[Fe]&&He[Fe].adaptors&&e in He[Fe].adaptors?(x("@applyMainAdaptor returning",He[Fe].adaptors[e](t[e],t,n)),He[Fe].adaptors[e](t[e],t,n)):(x("@applyMainAdaptor returning",t[e]),t[e])}function I(e,t,r,a){for(var o=0;o<t.length;o++){var s,l=t[o],A=g(i.getDerivedMetadata(e,l,""));e==L.HEARTBEAT.CONFIG.VIDEO&&("duration"==l&&(A=R.live?-1:parseInt(R.duration)),"currentTime"==l&&(s=parseInt((new Date).getTime()/1e3),s=n.playheadTrackingWithUTC&&s%86400||s,A=R.live?s:parseFloat(R.timeIndex))),e==L.HEARTBEAT.CONFIG.AD_BREAK&&("lastContentTimeIndex"==l&&(A=R.lastContentTimeIndex),"id"==l&&(A=R.adBreakIndex+1)),e==L.HEARTBEAT.CONFIG.AD&&("adId"==l&&(A=R.adId||["ad",R.adBreakIndex,R.adIndex].join("_")),"name"==l&&(A=R.adId||["ad",R.adBreakIndex,R.adIndex].join("_")),"id"==l&&(A=R.adIndex+1),"duration"==l&&(A=R.adDuration)),x("derivedValue for:",l,A),A!=String(r[o])?x("MISMATCH for",l,A,"vs",r[o]):x("MATCH for",l,A)}}function y(e){var t,r,a,o,s,l;n.useDerivedMetadata&&m(null,R,X.HEARTBEAT),e==O.VIDEO?(l=parseInt((new Date).getTime()/1e3),l=n.playheadTrackingWithUTC&&l%86400||l,n.useDerivedMetadata?(r=g(i.getDerivedMetadata(L.HEARTBEAT.CONFIG.VIDEO,"")),t=[r.id,r.name,r.duration||R.live?-1:parseInt(R.duration),R.live?l:parseFloat(R.timeIndex),r.streamType,r.playerName]):(t=[He[Fe].trackChapters&&R.live?E("videoId",R,event):E("eventId",R,event),He[Fe].trackChapters&&R.live?E("videoId",R,event):E("contentTitle",R,event),R.live?-1:parseInt(R.duration),R.live?l:parseFloat(R.timeIndex),E("streamType",R,event),E("playerName",R,event)],o=["id","name","duration","currentTime","streamType","playerName"],I(L.HEARTBEAT.CONFIG.VIDEO,o,t,R)),he.setVideoInfo.apply(null,t)):e==O.AD_BREAK?(void 0===R.adBreakIndex&&(R.adBreakIndex=-1),(n.useDerivedMetadata&&i.getConfigValue(L.HEARTBEAT.CONFIG.AD,"enabled",!0)||!n.useDerivedMetadata&&He[Fe].trackAds)&&(n.useDerivedMetadata?(r=g(i.getDerivedMetadata(L.HEARTBEAT.CONFIG.AD_BREAK,"")),t=[r.name,r.id||R.adBreakIndex+1,r.lastContentTimeIndex||R.lastContentTimeIndex,r.playerName]):(t=[["ad_break",R.adBreakIndex].join("_"),R.adBreakIndex+1,R.lastContentTimeIndex],o=["name","id","lastContentTimeIndex"],I(L.HEARTBEAT.CONFIG.AD_BREAK,o,t,R)),he.setAdBreakInfo.apply(null,t))):e==O.AD?(void 0===R.adIndex&&(R.adIndex=-1),void 0===R.duration&&(R.duration=0),n.useDerivedMetadata?(r=g(i.getDerivedMetadata(L.HEARTBEAT.CONFIG.AD,"")),t=[R.adId||["ad",R.adBreakIndex,R.adIndex].join("_"),R.adTitle||["ad",R.adBreakIndex,R.adIndex].join("_"),R.adDuration,R.adIndex+1,r.cpm||null]):(t=[R.adId||["ad",R.adBreakIndex,R.adIndex].join("_"),R.adTitle||["ad",R.adBreakIndex,R.adIndex].join("_"),R.adDuration,R.adIndex+1,null],o=["adId","name","duration","id","cpm"],I(L.HEARTBEAT.CONFIG.AD,o,t,R)),he.setAdInfo.apply(null,t)):e==O.CHAPTER?(n.useDerivedMetadata?(r=g(i.getDerivedMetadata(L.HEARTBEAT.CONFIG.CHAPTER,"")),t=[r.name,R.live?J:R.chapterIndex?R.chapterIndex+1:1,R.live?R.startTime:R.chapterStartTime,R.live?R.endTime-R.startTime:R.chapterEndTime-R.chapterStartTime,r.streamType]):(t=[E("chapterTitle",R,event),R.live?J:R.chapterIndex?R.chapterIndex+1:1,R.live?R.startTime:R.chapterStartTime,R.live?R.endTime-R.startTime:R.chapterEndTime-R.chapterStartTime,E("streamType",R,event)],o=["name","chapterIndex","chapterStartTime","chapterLength","streamType"],I(L.HEARTBEAT.CONFIG.CHAPTER,o,t,R)),he.setChapterInfo.apply(null,t)):e==O.NIELSEN&&(n.useDerivedMetadata?(r=g(i.getDerivedMetadata(L.HEARTBEAT.CONFIG.NIELSEN,"")),t=[{assetid:r.assetID,program:r.program,title:r.title,length:r.length,isfullepisode:r.isFullEpisode,adloadtype:r.adLoadType,airdate:r.airDate,segB:r.segB,segC:r.segC,crossId1:r.crossId1,crossId2:r.crossId2,clientid:r.clientID,vcid:r.vcID}],a=g(i.getDerivedMetadata(L.HEARTBEAT.CONFIG.AD_BREAK,"")),g(i.getDerivedMetadata(L.HEARTBEAT.CONFIG.AD,""))):(t=[],o=["assetID","program","title","length","isFullEpisode","adModel","airDate","crossId1"],I(L.HEARTBEAT.CONFIG.NIELSEN,o,t,R)),ye&&(s=i.getDerivedMetadata(L.HEARTBEAT.CONFIG.NIELSEN,"isTVRenabled"),s&&t.length&&(t[0].tv=!0,t[0].datasource="id3",t[0].admodel=t[0].adloadtype),he.setNielsenMetadata.apply(null,t),he.setNielsenChannelInfo({channelName:i.getDerivedMetadata(L.HEARTBEAT.CONFIG,"channel")}),R.type.video?he.setNielsenAdMetadata({}):he.setNielsenAdMetadata({type:a.name,length:R.adDuration,assetid:R.adId||["ad",R.adBreakIndex,R.adIndex].join("_")})))}function v(e,t){x("@track->",e),e in U&&("METADATA_LOADED"==e&&(F=[]),F.push(arguments)),x("@track event:",e);var r,a,o,s,l,A;if(h(t),R=t,"profile"in He&&He[Fe].dynamicChaptersTracking&&(He[Fe].trackChapters=t.live?He[Fe].dynamicChaptersTracking.live:He[Fe].dynamicChaptersTracking.vod),me&&he){switch(!n.useDerivedMetadata&&He&&e in He[Fe].events&&m(e,t,X.HEARTBEAT),l=t.live?"live":"vod",A=He[Fe].chapterLimits[l],Y&&(n.useDerivedMetadata&&k||!n.useDerivedMetadata&&He[Fe].trackChapters)&&e in A.complete&&(o=he.getChapterInfo(),"AD_STARTED"==e&&V||(o&&x("@track->chapterComplete",[o.name,o.position,o.startTime,o.length,e].join("|")),me.trackChapterComplete(),n.useDerivedMetadata&&e in Ve&&(J=0,x("@track->complete"),me.trackComplete(),x("@track->unload"),me.trackVideoUnload(),x("@track->load"),me.trackVideoLoad(),r=he.getVideoInfo(),x("@track->play",[r.id,r.name,r.playhead,r.length,e].join("|")),me.trackPlay()),Y=!1)),e){case"METADATA_LOADED":r=he.getVideoInfo(),G&&(x("@track->unload"),me.trackVideoUnload(),G=!1),x("@track->load",[r.id,r.name,r.playhead,r.length].join("|")),me.trackVideoLoad(),G=!0,j=!1,Y=!1,V=!1,H=!1,K=!1,q=!1,Z=!1,W=!1,Y=!1,J=0;break;case"PLAYING_START":G||(me.trackVideoLoad(),G=!0);break;case"PROGRAM_CHANGED":n.useDerivedMetadata&&k||!n.useDerivedMetadata&&He[Fe].trackChapters||(q?(x("@track->complete"),me.trackComplete(),x("@track->unload"),me.trackVideoUnload(),x("@track->load"),me.trackVideoLoad(),r=he.getVideoInfo(),x("@track->play",[r.id,r.name,r.playhead,r.length,e].join("|")),me.trackPlay()):q=!0);break;case"VIDEO_STARTED":K||(K=!0,me.trackPlay(),r=he.getVideoInfo(),x("@track->play",[r.id,r.name,r.playhead,r.length].join("|"))),j=!0,!Y&&Z&&(J++,o=he.getChapterInfo(),o&&x("@track->chapterStart",[o.name,o.position,o.startTime,o.length,e].join("|")),me.trackChapterStart(),Z=!1,Y=!0);break;case"USER_RESUME":x("@track->play (resume)"),me.trackPlay();case"USER_PLAY":break;case"USER_PAUSE":x("@track->pause"),me.trackPause();break;case"VIDEO_COMPLETED":W||(x("@track->complete"),me.trackComplete()),V=!0;break;case"AD_STARTED":(n.useDerivedMetadata&&i.getConfigValue(L.HEARTBEAT.CONFIG.AD,"enabled",!0)||!n.useDerivedMetadata&&He[Fe].trackAds)&&(a=he.getAdInfo(),s=he.getAdBreakInfo(),s&&x("@track->adStart ad break info:",[s.playerName,s.name,s.position,s.startTime].join("|")),a&&x("@track->adStart",[a.id,a.length,a.position,a.name].join("|")),z=!0,me.trackAdStart(),K||(K=!0,me.trackPlay(),r=he.getVideoInfo(),x("@track->play",[r.id,r.name,r.playhead,r.length].join("|"))));break;case"AD_COMPLETED":(n.useDerivedMetadata&&i.getConfigValue(L.HEARTBEAT.CONFIG.AD,"enabled",!0)||!n.useDerivedMetadata&&He[Fe].trackAds)&&(x("@track->adComplete"),me.trackAdComplete(),z=!1),V&&(x("@track->complete"),me.trackComplete());break;case"USER_FORWARD_SEEK":case"USER_BACKWARD_SEEK":H||(x("@track->seekStart"),me.trackSeekStart(),H=!0,setTimeout(function(){x("@track->seekCompleted"),me.trackSeekComplete(),H=!1},500));break;case"CRITICAL_OFFLINE_BUFFER":t.lastStateBeforeCriticalOfflineBuffer in{playingVideoContent:1,playingAdContent:1}&&me.trackPause();break;case"BROWSER_ONLINE":t.lastStateBeforeCriticalOfflineBuffer in{playingVideoContent:1,playingAdContent:1}&&me.trackPlay();break;case"ID3":"nielsen"==t.id3TagPublisher&&i.getDerivedMetadata(L.HEARTBEAT.CONFIG.NIELSEN,"isTVRenabled")&&me.trackTimedMetadata(t.id3Tags.nielsen)}e in He[Fe].events&&j&&He[Fe].appMeasurementCustomTracking&&m(e,t,X.APP_MEASUREMENT),(n.useDerivedMetadata&&k||!n.useDerivedMetadata&&He[Fe].trackChapters)&&e in A.start&&He[Fe].trackChapters&&(j?Y||(J++,o=he.getChapterInfo(),x("@track->chapterStart",[o.name,o.position,o.startTime,o.length].join("|"),e),me.trackChapterStart(),Y=!0):(x("deferring track->chapterStart",e),Z=!0))}}function C(e,t){var r=!1;if("number"==typeof n.metadataLookupTimeout?n.metadataLookupTimeout&&(r=n.metadataLookupTimeout):r=45e3,"METADATA_LOADED"==e||_){if(t.live){if("PROGRAM_CHANGED"==e){for(var i=0,a=P.length;i<a;i++)P[i][1]=t;return!1}return!M.waitForProgramChange&&r&&(M.waitForProgramChange=setTimeout(b,r)),!0}return!1}return!1}function b(){_=!1,delete M.waitForProgramChange,w()}function B(){_=C.apply(null,Array.prototype.slice.call(arguments)),(He[Fe]||n.useDerivedMetadata)&&(me&&he&&!_?(P.length&&w(),v.apply(null,Array.prototype.slice.call(arguments))):P.push(arguments))}function w(e){x("releasing the queue",n?n.length:0);for(var t,n=e||P;n.length;)t=n.shift(),v.apply(null,Array.prototype.slice.call(t))}function S(e){W=e,x("@setPostrollExpected",e)}function Q(){x("@replayEvents"),w(F)}function T(){x("@reset"),me.trackVideoUnload(),ie=null,ae=null,oe=null,se=null,Ae=null,De=null,ce=null,ue=null,a()}function D(e){n&&n.nielsen&&n.nielsen.optOutOverride!=!e&&(n.nielsen.optOutOverride=!e,T(),Q())}var k,R,_=!1,M={},N={},L={HEARTBEAT:{CONFIG:{VIDEO:"plugins:heartbeatBeta:mapping:video:",CHAPTER:"plugins:heartbeatBeta:mapping:chapter:",AD:"plugins:heartbeatBeta:mapping:ad:",AD_BREAK:"plugins:heartbeatBeta:mapping:adBreak:",NIELSEN:"plugins:heartbeatBeta:nielsen:"},METADATA:{VIDEO:"plugins:heartbeatBeta:mapping:video:context:",CHAPTER:"plugins:heartbeatBeta:mapping:chapter:context:",AD:"plugins:heartbeatBeta:mapping:ad:context:",AD_BREAK:"plugins:heartbeatBeta:mapping:adBreak:context:"}}},O={VIDEO:"video",AD:"ad",AD_BREAK:"ad_break",CHAPTER:"chapter",NIELSEN:"nielsen"},P=[],F=[],U={METADATA_LOADED:1,PROGRAM_CHANGED:1,PLAYING_START:1,VIDEO_STARTED:1},x=r?r.getLogFn("Heartbeat"):function(){console.log.apply(console,["[!Heartbeat!]\t"].concat(Array.prototype.slice.call(arguments)))},G=!1,V=!1,H=!1,j=!1,Y=!1,K=!1,J=0,q=!1,W=!1,z=!1,Z=!1,X={APP_MEASUREMENT:"appMeasurement",HEARTBEAT:"heartbeat"},$={VIDEO:"video",CHAPTER:"chapter"};x("init (Joint Heartbeat & Nielsen) config:",JSON.stringify(n,null,3));var ee="Anvato Universal Player";x("config.parentPageURL",n.parentPageURL);var te=n.parentPageURL?e.getUrlParts(n.parentPageURL):{},ne=(te.host?te.host:"AnvatoUniversalPlayer")+(n.pInstance?"-"+n.pInstance:""),re=!("chapterTracking"in n)||n.chapterTracking;x("trackChapters:",re),n.trackingServer=n.trackingServer||"heartbeats.omtrdc.net",n.customTrackingServer=n.customTrackingServer||n.trackingServer;var ie,ae,oe,se,le,Ae,de,ce,ue,ge=ADB.va.plugins.videoplayer.AssetType,fe=ADB.core.extend,pe=n.debugMode||n.debug&&(1==n.debug||"object"==typeof n.debug&&"length"in n.debug&&function(){for(var e=0,t=n.debug.length;e<t;e++)if("Heartbeat"==n.debug[e])return!0;return!1}());o.prototype.onError=function(e){console.log("AdobeAnalyticsPlugin error: "+e.getMessage()+" | "+e.getDetails())},s.prototype.onError=function(e){console.log("NielsenPlugin error: "+e.getMessage()+" | "+e.getDetails())},s.prototype.getMetadataInfo=function(){return x("@getMetadataInfo",this.proxyPlayer.getNielsenInfo().metadata),this.proxyPlayer.getNielsenInfo().metadata},s.prototype.getAdMetadataInfo=function(){return x("@getAdMetadataInfo"),this.proxyPlayer.getNielsenInfo().adMetadata},s.prototype.getChannelInfo=function(){return x("@getChannelInfo"),this.proxyPlayer.getNielsenInfo().channelInfo};var he,me,Ee,Ie,ye,ve,Ce,be=ADB.va.plugins.videoplayer.VideoPlayerPlugin,Be=ADB.va.plugins.videoplayer.VideoPlayerPluginConfig,we=ADB.va.plugins.videoplayer.VideoPlayerPluginDelegate,Se=!1;fe(l,we),l.prototype.getVideoInfo=function(){return this._player.getVideoInfo()},l.prototype.getAdBreakInfo=function(){return this._player.getAdBreakInfo()},l.prototype.getAdInfo=function(){return this._player.getAdInfo()},l.prototype.getChapterInfo=function(){return this._player.getChapterInfo()},l.prototype.getQoSInfo=function(){return null},l.prototype.onError=function(e){x("VideoAnalytics error. Message: "+e.message+". Details: "+e.details+".")},l.prototype.onVideoUnloaded=function(){x("video unloaded")};var Qe,Te,De,ke=ADB.va.plugins.ah.AdobeHeartbeatPlugin,Re=ADB.va.plugins.ah.AdobeHeartbeatPluginConfig,_e=ADB.va.plugins.ah.AdobeHeartbeatPluginDelegate;fe(A,_e),A.prototype.onError=function(e){console.log("AdobeHeartbeatPlugin error: "+e.getMessage()+" | "+e.getDetails())};var Me,Ne,Le=ADB.va.Heartbeat,Oe=ADB.va.HeartbeatConfig,Pe=ADB.va.HeartbeatDelegate;fe(d,Pe),d.prototype.onError=function(e){console.log("Heartbeat error: "+e.getMessage()+" | "+e.getDetails())};var Fe=n.profile;Fe=Fe?Fe.toLowerCase():"default",x("profile:",Fe),void 0===n.useDerivedMetadata&&(n.useDerivedMetadata=!0,x("set useDerivedMetadata to true (default for joint hb nielsen)"));var Ue={duration:null,timeIndex:null,contentId:null,contentTitle:null,contentDefinition:null,type:{video:!0}},xe=[],Ge=[],Ve={PROGRAM_CHANGED:1},He={default:{metadata:{},events:{},trackChapters:re,trackAds:!0,appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{},adaptors:{streamType:function(e,t,n){return t.live?ge.ASSET_TYPE_LIVE:ge.ASSET_TYPE_VOD}}},nbc:{metadata:{program_name:{adaptor:function(e,t,n,r){return t.live?t.initialTitle:e},vars:["videoprogram"]},derivedMetadata$videodaypart:{vars:["videodaypart"]},minutes:{adaptor:function(e,t,n,r){return[t.hours,e].join(":")},vars:["videominute"]},hours:{vars:["videohour"]},dayOfWeek:{adaptor:function(e,t,n,r){return{Sun:"Sunday",Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thr:"Thursday",Fri:"Friday",Sat:"Saturday"}[e]},vars:["videoday"]},date:{vars:["videodate"]},playerName:{vars:["videoplayertech","videoplatform"]},mcp_id:{adaptor:function(e,t,n,r){return"NBC"},vars:["videonetwork","videoapp"]},mvpd:{vars:["videomvpd"]},autoManual:{vars:["videoinitiate"]},screen:{adaptor:function(){return"Full"},vars:["videoscreen"]},status:{vars:["videostatus"]},callsign:{vars:["videocallsign"]},episodeNumber:{vars:["videoepnumber"]},eventId:{vars:["videoguid"]},ts_airdate:{adaptor:function(t,n,r,i){var a=e.prettifyDate(1e3*t);return[a.month,a.day,a.year].join("/")},vars:["videoairdate"]},season:{vars:["videoseason"]},stationId:{vars:[]},videoDuration:{vars:[]},playerType:{vars:[]},adTitle:{vars:[]},adDuration:{vars:[]},clipLong:{},videoSegments:{},primaryCategory:{},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{VIDEO_STARTED:[],PROGRAM_CHANGED:[],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:[],USER_PLAY:[],USER_RESUME:[],USER_PAUSE:[],USER_GOLIVE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:[],USER_CANCEL_FULLSCREEN:[]},trackAds:!0,trackChapters:!0,dynamicChaptersTracking:{live:!1,vod:!0},appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},adaptors:{streamType:function(e,t,n){var r={0:"VOD Episode",1:"VOD Clip",2:ge.ASSET_TYPE_LIVE};return t&&"video_type"in t&&t.video_type in r?r[t.video_type]:t.live?ge.ASSET_TYPE_LIVE:ge.ASSET_TYPE_VOD}}},sni:{metadata:{live:{adaptor:function(e,t,n){return e?"C3":t.custom$cl_episode_type||t.custom$cl_ad_policy||"D4"},vars:["videoWindowing"]},custom$cl_scrid:{adaptor:function(e,t,n,r){return"name"==r?t.live?E("videoId",t,n):E("eventId",t,n):e||"N/A"},vars:["videoSCRID","name"]},custom$cl_non_linear_id:{adaptor:function(e,t,n,r){return e||"N/A"},vars:["videoNLVID"]},custom$cl_sni_guid:{adaptor:function(e,t,n,r){return e||"N/A"},vars:["videoGUID"]},autoManual:{adaptor:function(e,t,n,r){return"auto"==e?"autoplay":"manual"},vars:["videoPlayType"]},custom$sni_author:{adaptor:function(e,t,n,r){return e||"N/A"},vars:["videoPublisherID"]},custom$cl_authenticated:{adaptor:function(e,t,n,r){return t.live||(Se="Y"==e),Se+""},vars:["requiresAuth"]},custom$authenticated:{adaptor:function(e,t,n,r){return t.live&&(Se="yes"==e),Se+""},vars:["requiresAuth"]},mvpd:{vars:["videoMVPD"]},playerType:{adaptor:function(e,t,n,r){return"videoPlayerName"==r?e+" v"+t.version:e},vars:["videoChannelName","videoPlayerName","videoPlayerType"]},initialTitle:{adaptor:function(e,t,n,r){return t.live?t.showTitle:t.custom$cl_show_name},vars:["videoShowTitle"]},custom$cl_episode:{adaptor:function(e,t,n,r){return e||t.contentTitle},vars:["videoTitle"]},contentTitle:{vars:["videoTitle"]},duration:{vars:["videoRuntime"]},fullscreen:{adaptor:function(e,t,n,r){return e?"fullscreen":"normal"},vars:["videoScreenType"]},talentName:{adaptor:function(e,t,n,r){return t.live?e||"N/A":Ue.custom$rovi_credits||"N/A"},vars:["talentName"]},friendlyName:{adaptor:function(e,t,n,r){return t.showTitle+"|"+t.contentTitle},vars:["friendlyName"]}},events:{VIDEO_STARTED:[],PROGRAM_CHANGED:[],METADATA_LOADED:[],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:[],USER_PLAY:[],USER_RESUME:[],USER_PAUSE:[],USER_GOLIVE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:[],USER_CANCEL_FULLSCREEN:[]},trackChapters:re,trackAds:!0,appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{},adaptors:{eventId:function(e,t,n){return t.live?[t.roviId,"C3"].join("|"):[t.custom$cl_scrid||"N/A",t.custom$cl_episode_type||t.custom$cl_ad_policy||"D4"].join("|")},contentTitle:function(e,t,n){return t.live?[t.showTitle,t.custom$rovi_episode_title].join("|"):[t.custom$cl_show_name,t.custom$cl_episode].join("|")},streamType:function(e,t,n){return t.live?ge.ASSET_TYPE_LIVE:ge.ASSET_TYPE_VOD},chapterTitle:function(e,t,n){var r=t.chapterIndex?t.chapterIndex+1:1;return t.live?[t.episodeTitle,r].join("|"):[t.custom$cl_episode,r].join("|")},adId:function(e,t,n){return e||"N/A"},adTitle:function(e,t,n){return e||"N/A"},adPodFriendlyName:function(e,t,n){return 0==t.lastContentTimeIndex?"preroll":t.lastContentTimeIndex>=t.duration?"postroll":"midroll"}}},cbs:{metadata:{contentTitle:{adaptor:function(e,t,n,r){return t.live?e||"NA":t.program_name||"NA"},vars:["videoShowName"]},stationId:{},videoDuration:{},playerType:{},playerName:{},mvpd:{},adTitle:{},season:{adaptor:function(e,t,n,r){return e||"NA"},vars:["videoSeason"]},group:{},autoManual:{vars:["startType"]},clipLong:{},videoSegments:{},primaryCategory:{},categories:{vars:["videoCategory"],types:{videoCategory:"list3"}},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{VIDEO_STARTED:[],METADATA_LOADED:[]},trackChapters:re,trackAds:!0,appMeasurementCustomTracking:!0,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{channel:te.host},adaptors:{playerName:function(e,t,r){return e+(n.pInstance?"-"+n.pInstance:"")},streamType:function(e,t,n){return t.live?ge.ASSET_TYPE_LIVE:ge.ASSET_TYPE_VOD}}},cox:{metadata:{contentTitle:{},stationId:{},videoDuration:{},playerType:{},playerName:{},mvpd:{},adTitle:{},season:{},group:{},autoManual:{},clipLong:{},videoSegments:{},primaryCategory:{},categories:{},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{VIDEO_STARTED:[],PROGRAM_CHANGED:[],METADATA_LOADED:[],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:[],USER_PLAY:[],USER_RESUME:[],USER_PAUSE:[],USER_GOLIVE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],USER_SHARE:[],
USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:[],USER_CANCEL_FULLSCREEN:[]},trackChapters:re,trackAds:!0,appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{},adaptors:{playerName:function(e,t,r){return e+(n.pInstance?"-"+n.pInstance:"")},streamType:function(e,t,n){var r={0:"VOD Episode",1:"VOD Clip",2:ge.ASSET_TYPE_LIVE};return t&&"video_type"in t&&t.video_type in r?r[t.video_type]:t.live?ge.ASSET_TYPE_LIVE:ge.ASSET_TYPE_VOD}}}};if(He.cbslocal=He.cbs,Fe&&!He[Fe]&&(Fe="default"),x("config.account:",n.account),"object"!=typeof n.account?a():i.postWithWsse(n.account,a,a),Fe in He){for(var je in He[Fe].events)He[Fe].events.hasOwnProperty(je)&&(xe=xe.concat(He[Fe].events[je]));for(var Ye in He[Fe].vars)He[Fe].vars.hasOwnProperty(Ye)&&(Ge=Ge.concat(He[Fe].vars[Ye]));xe=["events"].concat(xe).join(","),Ge=Ge.join(","),x("trackEvents:",xe),x("trackVars:",Ge)}return{replayEvents:Q,resetHeartbeat:T,optInNielsen:D.bind(null,!0),optOutNielsen:D.bind(null,!1),sendBeacon:B,initPlugin:a,setPostrollExpected:S}}return t}),define("pluginComScore",["util"],function(e){function t(t,n,r,i){function a(e,t){switch(e){case"bufferingVideoContent":case"ready2PlayVideoContent":t.type.video&&(A=o(g,t),f("template populated with",e));break;case"VIDEO_STARTED":"AD_STARTED"==s&&l.stop(),c=!0,f("tracking",e),A=o(g,t),l.playVideoContentPart(A),s=e,f("lastTrackedEvent:",s,"metadata:",JSON.stringify(A,null,3));break;case"AD_STARTED":c=!0,"VIDEO_STARTED"==s&&l.stop(),f("tracking",e),t.live?l.playVideoAdvertisement(null):(A=A||o(g,t),A.ns_st_cl=1e3*t.adDuration,l.playVideoAdvertisement(A)),s=e,f("lastTrackedEvent:",s,"metadata:",JSON.stringify(A,null,3));break;case"USER_PAUSE":case"pausedVideoContent":!d&&c&&(f("tracking",e),l.stop(),d=!0);break;case"USER_PLAY":case"USER_RESUME":case"playingVideoContent":d&&(t.type.video?l.playVideoContentPart(A):l.playVideoAdvertisement(A),f("tracking",e,"for",t.type.video?"content":"ad"),d=!1);break;case"PROGRAM_CHANGED":u?u=!1:d?A=o(g,t):(l.stop(),A=o(g,t),l.playVideoContentPart(A));break;case"VIDEO_COMPLETED":c=!1,l.stop(),l=null,l=new ns_.StreamingTag({customerC2:g.c2})}}function o(t,r){r.live||(t.ns_st_cl=1e3*r.duration),f("@populateTemplate",JSON.stringify(r,null,3)),f("@populateTemplate",JSON.stringify(n,null,3));var a,o={COMSCORE:"plugins:comscore:mapping:"},s={VIDEO_ID:r.contentId,TITLE:r.contentTitle||r.chapterTitle||r.titleWithEpisode||"*null",DESCRIPTION:r.contentDefinition,HOST:r.host,CATEGORIES:r.categories,MVPD:r.mvpd||"*null",EPISODE:r.titleWithEpisode||r.episodeNumber||"*null"},l={},A={},d=/(.*)\[\[(.*)\]\](.*)/;for(var c in t)t.hasOwnProperty(c)&&(a=d.exec(t[c]),a&&a.length>3&&a[2]in s?l[c]=a[1]+s[a[2]]+a[3]:l[c]=t[c]);if("mapping"in n)for(var u in n.mapping)n.mapping.hasOwnProperty(u)&&(f("need to use derived metadata for",u),i&&i.getDerivedMetadata&&(A[u]=i.getDerivedMetadata(o.COMSCORE,u,"N/A")));return f("@populateTemplate parts",JSON.stringify(l,null,3)),f("@populateTemplate derivedMetadata",JSON.stringify(A,null,3)),l=e.merge(A,l)}var s,l,A=null,d=!1,c=!1,u=!0,g={},f=r?r.getLogFn("ComScore"):function(){console.log.apply(console,["[!ComScore!]\t"].concat(Array.prototype.slice.call(arguments)))};return g.c2=n&&n.clientId?n.clientId.toString():null,g.c3=n.c3||"*null",g.c4=n.c4||"*null",g.c6=n.c6||"*null",g.ns_st_ci=n.ns_st_ci||"[[VIDEO_ID]]",g.ns_st_pu="[[MVPD]]",g.ns_st_pr="[[TITLE]]",g.ns_st_ep="[[EPISODE]]",g.ns_st_sn="*null",g.ns_st_en="*null",g.ns_st_ge="*null",g.ns_st_ti="*null",g.ns_st_ia="*null",g.ns_st_ddt="*null",g.ns_st_tdt="*null",g.ns_st_st="*null",g.ns_st_ce="*null",l=new ns_.StreamingTag({customerC2:g.c2}),!g.c2&&"dispatchError"in i?void i.dispatchError("SCOR001"):{sendBeacon:a}}return t}),define("pluginComScoreWithDerivedMetadata",["util"],function(e){function t(t,n,r,i){function a(){C=o.apply(null,Array.prototype.slice.call(arguments)),C?b.push(arguments):(b.length&&l(),A.apply(null,Array.prototype.slice.call(arguments)))}function o(e,t){if("METADATA_LOADED"==e||C){if(t.live){if("PROGRAM_CHANGED"==e){for(var r=0,i=b.length;r<i;r++)b[r][1]=t;return!1}if(!B.waitForProgramChange){var a=y;"number"==typeof n.metadataLookupTimeout&&n.metadataLookupTimeout&&(a=n.metadataLookupTimeout),B.waitForProgramChange=setTimeout(s,a)}return!0}return!1}return!1}function s(){C=!1,delete B.waitForProgramChange,l()}function l(){D("flushing the event queue",b?b.length:0);for(var e;b.length;)e=b.shift(),A.apply(null,Array.prototype.slice.call(e))}function A(t,n){switch(c(t,n),D("@processEvent event:",t),t){case"bufferingVideoContent":case"ready2PlayVideoContent":n.type.video&&(v=d(n),D("initial metadata generated with",t));break;case"VIDEO_STARTED":"AD_STARTED"==I&&m(),Q=!0,v=d(n),p(v),I=t;break;case"AD_STARTED":Q=!0,"VIDEO_STARTED"==I&&m(),v=d(n),h(v),I=t;break;case"USER_PAUSE":case"pausedVideoContent":!S&&Q&&(n.type.video&&m(),S=!0);break;case"IMPLICIT_PAUSE":n.type.video||setTimeout(function(){e.isDocumentHidden()&&m()},500);break;case"USER_PLAY":case"USER_RESUME":case"playingVideoContent":S&&(n.type.video&&p(v),S=!1);break;case"PROGRAM_CHANGED":T?T=!1:S?v=d(n):(m(),v=d(n),p(v));break;case"VIDEO_COMPLETED":Q=!1,m(),f()}}function d(e){D("@generateContentMetadata",JSON.stringify(e,null,3)),D("@generateContentMetadata",JSON.stringify(n,null,3));var t={COMSCORE:"plugins:comscore:mapping:"},r={};return i&&i.getDerivedMetadata&&(r=i.getDerivedMetadata(t.COMSCORE,"")),D("@generateContentMetadata derivedMetadata",JSON.stringify(r,null,3)),u(r)}function c(e,t){w.VIDEO_ID=t.contentId,w.TITLE=t.contentTitle||t.chapterTitle||t.titleWithEpisode||"*null",w.DESCRIPTION=t.contentDefinition,w.HOST=t.host,w.CATEGORIES=t.categories,w.MVPD=t.mvpd||"*null",w.EPISODE=t.titleWithEpisode||t.episodeNumber||"*null",t.type.video?w.COMSCORE_CLIP_LENGTH=t.live?0:1e3*parseInt(t.duration):w.COMSCORE_CLIP_LENGTH=1e3*t.adDuration}function u(e){var t=/\{\{(\w+)\}\}/,n={};if("object"==typeof e){for(var r in e)e.hasOwnProperty(r)&&(n[r]=u(e[r]));return n}return t.test(e)?g(t,e):e}function g(e,t,n){var r,i;for(i=e.exec(t);i&&i[1]in w;)r=t.replace(new RegExp(i[0]),w[i[1]]),t=n?encodeURIComponent(r):r,i=e.exec(t);return t}function f(){D("@ns_.StreamingTag {customerC2: "+k+"}"),E=null,E=new ns_.StreamingTag({customerC2:k})}function p(e){E&&(D("@ns_.playVideoContentPart:",e?JSON.stringify(e,null,3):"null"),E.playVideoContentPart(e))}function h(e){E&&(D("@ns_.playVideoAdvertisement:",e?JSON.stringify(e,null,3):"null"),E.playVideoAdvertisement(e))}function m(){E&&(D("@ns_.stop"),E.stop())}var E,I,y=45e3,v={},C=!1,b=[],B={},w={},S=!1,Q=!1,T=!0,D=r?r.getLogFn("ComScore"):function(){console.log.apply(console,["[!ComScore!]\t"].concat(Array.prototype.slice.call(arguments)))},k=n&&n.clientId?n.clientId.toString():null;return!(k=k||(n&&n.c2?n.c2.toString():null))&&"dispatchError"in i?void i.dispatchError("SCOR001"):(f(),{sendBeacon:a})}return t}),define("Analytic",["util"],function(e){function t(t,n,r){function i(e,t,n,r){return["pbd="+e,"syd="+t,"vid=0","exid="+r].join("&")}function a(e,t,n,r,i){return["viu="+e,"stu="+t,"usd="+n,"ssd="+g,"plu="+r,"xsi="+i,"upi="+f].join("&")}function o(e,t,n,r,i,a){return["aid="+e,"aur="+t,"stu="+n,"usd="+r,"ssd="+g,"plu="+i,"xsi="+a,"upi="+f].join("&")}function s(e,t){E("@generateEvent");return e+"#$#"+t+"!$!"}function l(e,t,n){E("@generatePlayerData");var r=[],i=t.contentTitle?encodeURIComponent(t.contentTitle.replace(":","^$^")):"";t.playerId;return i&&i.length&&r.push(i),r=r.concat([encodeURIComponent(t.videoURL),encodeURIComponent(t.siteReferrer),t.videoId,i+("AD_LOADED"==e?n[0]:""),null,"latest"]),r.join(":")}function A(e,t,n){if(E("@generateVideoData"),"vqt"==y[e]){return{VIDEO_FIRST_QUARTILE:25,VIDEO_MID_POINT:50,VIDEO_THIRD_QUARTILE:75}[e]}return"vvp"==y[e]?"":"vvs"==y[e]?[t.duration,t.timeIndex,0,1,0,t.timeIndex].join(":"):"vmd"==y[e]?t.duration+":0":"0:"+(new Date).getTime()}function d(e,t,n){E("@generateAdData");var r=""|n[0];if("apc"==v[e]){return r+":"+{AD_FIRST_QUARTILE:25,AD_MID_POINT:50,AD_THIRD_QUARTILE:75}[e]}return[r,r,r,"","","",""].join(":")}function c(t,n,r){E("@sendBeacon"),E("received beacon request for event:",t,r);var c;if("ready2PlayVideoContent"==t&&!C||"ready2PlayVideoContent"!=t){var g,f="";t in I?(g=I[t],f=l(t,n,r)):t in y?(g=y[t],f=A(t,n,r)):t in v&&(g=v[t],f=d(t,n,r)),c=n.videoId;var m=i(p,0,n.videoId,c),b=e.base64Encode(m),B="key="+b,w=encodeURIComponent(n.appURL),S=encodeURIComponent(n.videoURL),Q=t in v||"AD_LOADED"==t?o(r[0],"adserver.com",w,u,"",""):a(S,w,u,"","");if(g){var T="l="+s(g,f),D="ts="+(new Date).getTime(),k=[B,Q,T,D].join("&"),R=e.base64Encode(k),_=h+"?t="+R;E("key string:",B),E("header string:",Q),E("event string:",T),E("time string:",D),E("url:",_),e.touchURL(_)}"ready2PlayVideoContent"==t&&(C=!0)}}var u,g=e.createUUID(),f=e.createUUID(),p=n.pdb,h=n.serverURL,m={anvTrackerUSD:null},E=r?r.getLogFn("Analytics"):function(){console.log.apply(console,["[!Analytics!]\t"].concat(Array.prototype.slice.call(arguments)))},I={ready2PlayVideoContent:"vpd"},y={VIDEO_STARTED:"vst",VIDEO_VIEWED:"vvp",VIDEO_METADATA:"vmd",VIDEO_VIEW_SEGMENT:"vvs",VIDEO_FIRST_QUARTILE:"vqt",VIDEO_MID_POINT:"vqt",VIDEO_THIRD_QUARTILE:"vqt",VIDEO_COMPLETED:"vvs",pausedVideoContent:"vpa"},v={AD_STARTED:"abg",AD_FIRST_QUARTILE:"apc",AD_MID_POINT:"apc",AD_THIRD_QUARTILE:"apc",AD_COMPLETED:"aed",AD_CLICKED:"ack"},C=!1;return m=e.getCookies(m),m.anvTrackerUSD?(u=m.anvTrackerUSD,E("Using cookie value for usd:",u)):(u=e.createUUID(),m.anvTrackerUSD=u,e.setCookies(m),E("Setting cookie value for usd:",u)),E("Anvato Analytics initialized with pbd:",p),{getUUID:function(){return e.createUUID()},sendBeacon:c,generateKey:i,generateHeader:a,generateEvent:s}}return t}),define("pluginRTAnalytics",["util"],function(e){function t(t,n,r){function i(){x("@getUserFieldPayload");var e={},t=["uf1","uf2","uf3"];if("object"==typeof n){for(var r=0,i=t.length;r<i;r++)t[r]in n&&(e[t[r]]=n[t[r]]);e=f(e)}return e}function a(){for(var t="",n=0;n<13;n++){var r=N[n].toString(2);r="00000000"+r,r=r.substr(r.length-8),t+=r+" "}x(t+" : "+e.uint8ArrayToBase64(N))}function o(e){var t;t=null!=O?O:e,O=Math.round(e/I*99);for(var n=t;n<=O;n++){var r=Math.floor(n/8),i=7-n%8,o=N[r]>>i&1;N[r]=N[r]|1<<i,o||(L[r]=L[r]|1<<i)}a()}function s(t,r,a,s){x("@sendBeacon",t);var l,f;switch(m=r,T.src=m.host,t){case"METADATA_LOADED":E=i(),I=m.duration,v=m.live,U.startOkExpected=!0,N=new Uint8Array(new ArrayBuffer(13)),L=new Uint8Array(new ArrayBuffer(13));break;case"USER_PLAY":f=n.video||m.videoId,f!=h&&U.startOkExpected&&(h=f,D=e.timeString2Millisecond(s),c("start-try"));break;case"PLAYING_START":U.startOkExpected&&(l=e.timeString2Millisecond(s)-D,c("start-ok:"+l),u(),U.startOkExpected=!1);break;case"AD_STARTED":case"AD_BREAK_STARTED":U.isOnAd||(U.isOnAd=!0,c("ad:~"+(a[0]||"")));break;case"AD_BREAK_COMPLETED":case"AD_COMPLETED":U.isOnAd=!1;break;case"BUFFER_START":c("rebuffer");break;case"VIDEO_COMPLETED":d("heartBeat");break;case"USER_PAUSE":x("heartbeats will stop after",C/1e3,"seconds!"),R.PAUSE_HEARTBEAT_TIMEOUT=setTimeout(function(){x("executing PAUSE_HEARTBEAT_TIMEOUT..."),d("heartBeat")},C);break;case"USER_RESUME":x("cancelling PAUSE_HEARTBEAT_TIMEOUT"),d("PAUSE_HEARTBEAT_TIMEOUT");break;case"PRESENTATION_UPDATED":I=a[1],"content"!=a[2]||v||o(a[0]);break;case"USER_FORWARD_SEEK":case"USER_BACKWARD_SEEK":O=null;break;case"MEDIA_SOURCE_SET":k=e.timeString2Millisecond(s);break;case"FIRST_FRAME_READY":l=e.timeString2Millisecond(s)-k,c("video-loaded:"+l);break;case"PROGRAM_CHANGED":v&&c("program-changed:"+(a[1]?"upid":"mcpid")+"~"+a[0]);break;case"BITRATE_CHANGED":y=a[0];break;case"PLAYER_ERROR":a&&a.length>2&&a[2]&&(d("heartBeat"),U.startOkExpected?(c("start-fail:"+A(a[0])),U.startOkExpected=!1):U.playing&&c("play-fail:"+A(a[0])),U.playing=!1,g(!0));break;case"PLAYER_EXIT":d("heartBeat"),g(!0)}}function l(e,t){I=t,v||o(e);var n=e-F;0<n&&n<1&&(P+=n),F=e}function A(e){var t="";switch(e){case"PLAY450":case"PLAY460":t="c";break;case"PLAY470":t="g";break;case"PLAY455":t="f";break;case"PLAY500":case"PLAY510":case"PLAY010":t="h";break;case"ACTRL001":case"ACTRL002":t="a",c("meta-fail:a");break;case"ACTRL030":case"ACTRL051":t="d";break;case"ACTRL031":case"ACTRL052":t="e";break;case"ACTRL070":case"ACTRL071":case"ACTRL072":t="b"}return t}function d(e){e&&R[e]&&(clearTimeout(R[e]),delete R[e])}function c(e){x("@registerAction",e,_&&_.length),e&&_.push(e)}function u(){x("@startHeartbeat"),U.playing=!0,d("heartBeat"),clearTimeout(R.heartBeat),R.heartBeat=setTimeout(u,b),g()}function g(t){if(x("@ping"),!t||0!=_.length){T["a:stream_type"]=v?"linear":"vod",T["a:meta:main_name"]=m.contentTitle||"",T["a:type"]=U.isOnAd?"ad":"main";var r=_||[];if(U.playing){r=r.concat("playing:"+y),v||(r=r.concat("hs:"+e.uint8ArrayToBase64(N)+"~"+I),T["w:hs"]=e.uint8ArrayToBase64(L)+"~"+I,L=new Uint8Array(new ArrayBuffer(13)));var a=Math.floor(P);T["w:sec"]=a,P-=a}else T["w:hs"]="",T["w:sec"]="";v&&(T["l:event_id"]=m.eventId||"",T["l:event_title"]=m.program_name||m.showTitle||m.contentTitle||"",T["l:episode"]=m.episodeTitle||"",delete T["w:hs"]),U.isOnAd?(T["ad:ad_name"]=m.adTitle||"",T["ad:pod_name"]=B[m.type.adType],T["ad:pod_pos"]=m.adIndex):(delete T["ad:ad_name"],delete T["ad:pod_name"],delete T["ad:pod_pos"]),T.act=r.join(","),T.aid=[n.mcp||m.mcp_id,n.owner||m.owner_id,n.video||m.videoId].join("~"),E=E||i(),T=e.merge(T,E);var o=e.encodeURLParams(T);x("@ping payload:",JSON.stringify(T,null,3)),e.touchURL(w+"?"+o),_=[]}}function f(e){var t,n=/(.*)\[\[(.*)\]\](.*)/;for(var r in e)e.hasOwnProperty(r)&&(t=n.exec(e[r]),x("parts",JSON.stringify(t)),t&&t.length>3&&t[2]in M&&(e[r]=t[1]+(M[t[2]]||null)+t[3]));return e}function p(e){M=e||{}}var h,m,E,I,y,v,C=864e5,b=1e4,B={"09":"pre_roll",10:"mid_roll",11:"post_roll"},w=n.service_url||"//rt.analytics.anvato.net/",S=e.getDeviceInfo,Q="tablet"==S.deviceType,T={act:void 0,dma:0,dev:S.isMobileBrowser?Q?"tablet":"mobile":"desktop",aid:void 0,sid:e.createUUID(),tech:"browser",plyr:"html5",pln:"Anvato Web Player v3",src:void 0,"a:stream_type":"","a:type":"","a:meta:main_name":"","l:event_id":"","l:event_title":"","l:episode":"","ad:ad_name":"","ad:pod_name":"","ad:pod_pos":"","w:sec":"","w:hs":""},D=0,k=0,R={},_=[],M={},N=new Uint8Array(new ArrayBuffer(13)),L=new Uint8Array(new ArrayBuffer(13)),O=null,P=0,F=0,U={startOkExpected:!0,playing:!1,isOnAd:!1},x=r?r.getLogFn("RTAnalytics"):function(){console.log.apply(console,["[!RTAnalytics!]\t"].concat(Array.prototype.slice.call(arguments)))};return S.firetv&&(T.dev="firetv"),n=n||{},x("Ready"),{sendBeacon:s,setMacros:p,updateTime:l}}return t}),define("pluginGoogleCloudVideoAnalytics",["util"],function(e){function t(t,n,r){function i(e,t){b.updatePlayerTime(e)}function a(e){var t="";switch(e){case"PLAY450":case"PLAY460":t=CloudVideoAnalytics.ErrorCode.VIDEO_URL_FAILED;break;case"PLAY470":t=CloudVideoAnalytics.ErrorCode.VIDEO_TS_FAILED;break;case"PLAY455":t=CloudVideoAnalytics.ErrorCode.VIDEO_PROG_URL_FAILED;break;case"PLAY500":case"PLAY510":case"PLAY010":t=CloudVideoAnalytics.ErrorCode.VIDEO_PLAYBACK_ERROR;break;case"ACTRL001":case"ACTRL002":t=CloudVideoAnalytics.ErrorCode.VIDEO_METADATA_LOAD_FAILED;break;case"ACTRL030":case"ACTRL051":t=CloudVideoAnalytics.ErrorCode.AUTH_FAILED;break;case"ACTRL031":case"ACTRL052":t=CloudVideoAnalytics.ErrorCode.AUTHZ_FAILED;break;case"ACTRL070":case"ACTRL071":case"ACTRL072":t=CloudVideoAnalytics.ErrorCode.VIDEO_URL_MISSING}return t}function o(e,t){var n;switch(typeof e){case"object":return null;case"number":case"string":return n=t?parseInt(e):parseFloat(e),isNaN(n)?null:n;default:return null}}function s(e){switch(typeof e){case"object":return null;case"number":return isNaN(e)?null:e.toString();case"string":return e;default:return null}}function l(e,t){switch(typeof e){case"object":return null;case"number":case"string":return isNaN(e)?null:(e=t?1e3*parseInt(e):parseInt(e),new Date(e).toISOString());default:return null}}function A(e,t,r,i){C("@sendBeacon",e);var A,u,f,p,m,I=null;switch(content=t,e){case"METADATA_LOADED":E.isVideoCompletedExpected&&b.interactionVideoStop(),E.isVideoCompletedExpected=!0,E.isLive=content.live,E.isStartOkExpected=!0,E.isRebufferDisabled=!0,f={},f.assetId=s(content.videoId||n.video),f.streamType=s(E.isLive?"linear":"vod"),f.channelId=s(content.channel),f.title=s(content.showTitle),f.description=s(content.contentDefinition),f.programName=s(content.program_name),f.thumbnail=s(content.thumbnail),f.duration=o(void 0!==content.duration?content.duration:-1),f.seasonNumber=o(content.season,!0),f.episodeNumber=o(content.episodeNumber,!0),f.publishedTime=l(content.tsPublished,!0),b.setVideoContentMetadata(f);break;case"USER_PLAY":u=content.videoId||n.video,u&&u==g||!E.isStartOkExpected?b.interactionVideoPlay():(b.videoStartTry(),g=u,"manual"==content.autoManual&&b.interactionVideoPlay());break;case"PLAYING_START":c();break;case"VIDEO_STARTED":b.contentStart();break;case"AD_BREAK_STARTED":c();break;case"AD_STARTED":A={},b.videoPause(),E.isOnAd=!0,r.length>=3&&"Anvato Ad Stitcher"==r[2]?A=s(r[0]):r.length>=1&&(A.adId=s(r[0])),A.adName=s(content.adTitle),A.adPodName=s(y[content.type.adType]),A.adPodPosition=o(content.adIndex),b.adStart(A);break;case"AD_FIRST_QUARTILE":b.adFirstQuarter();break;case"AD_MID_POINT":b.adSecondQuarter();break;case"AD_THIRD_QUARTILE":b.adThirdQuarter();break;case"AD_COMPLETED":b.adComplete(),d();case"AD_BREAK_COMPLETED":E.isOnAd=!1;break;case"AD_SKIPPED":d(),b.adSkip();break;case"BUFFER_START":E.isRebufferDisabled||b.rebuffer();break;case"VIDEO_COMPLETED":b.videoComplete(),E.isVideoCompletedExpected=!1,E.isRebufferDisabled=!0;break;case"USER_PAUSE":b.interactionVideoPause();break;case"USER_FORWARD_SEEK":case"USER_BACKWARD_SEEK":d(),b.interactionVideoSeek();break;case"USER_GOLIVE":d();break;case"PROGRAM_CHANGED":E.isLive&&(m=r[0],m!=h&&b.contentStart(),h=m,p={},eventStart=r[3]?o(r[3].ts_broadcast_start,!0):null,eventEnd=r[3]?o(r[3].ts_broadcast_end,!0):null,null!==eventStart&&null!==eventEnd&&(I=eventEnd-eventStart),p.eventType=s(r[1]?"upid":"beacon"),p.eventId=s(m),p.channelId=s(content.channel),p.title=s(r[2]?r[2].title||content.showTitle:content.showTitle),p.description=s(r[2]?r[2].description||content.contentDefinition:content.contentDefinition),p.programName=s(content.program_name),p.thumbnail=s(r[3]?r[3].src_image_url||content.thumbnail:content.thumbnail),p.seasonNumber=o(content.season,!0),p.episodeNumber=o(content.episodeNumber,!0),p.duration=o(I),p.eventStartTime=l(eventStart,!0),p.eventEndTime=l(eventEnd,!0),p.publishedTime=l(r[3]?r[3].ts_updated||r[3].ts_added:null,!0),b.programChanged(p));break;case"BITRATE_CHANGED":b.updateBitrate(r[0]);break;case"PLAYER_ERROR":r&&r.length>2&&r[2]&&(E.isStartOkExpected?(b.videoStartFail({errorCode:a(r[0])}),E.isStartOkExpected=!1):E.isPlaying&&b.playFail({errorCode:a(r[0])}),E.isPlaying=!1)}}function d(){u("disableRebuffer"),E.isRebufferDisabled=!0,I.disableRebuffer=setTimeout(function(){E.isRebufferDisabled=!1},m)}function c(){E.isStartOkExpected&&(b.videoStart(),E.isStartOkExpected=!1,d())}function u(e){I&&I[e]&&(clearTimeout(I[e]),I[e]=null)}var g,f,p,h,m=1e3,E={isOnAd:!1,isLive:!1,isPlaying:!1,isRebufferDisabled:!1,isStartOkExpected:!1,isVideoCompletedExpected:!1},I={disableRebuffer:null},y={"09":"pre_roll",10:"mid_roll",11:"post_roll"},v=e.getDeviceInfo;f=v.firetv?"fire_tv":"tablet"==v.deviceType?"tablet":v.isMobileBrowser?"mobile":"desktop",p=v.firetv?"fire_tv":"web";var C=r?r.getLogFn("GoogleCloudVideoAnalytics"):function(){console.log.apply(console,["[!GoogleCloudVideoAnalytics!]\t"].concat(Array.prototype.slice.call(arguments)))},b=CloudVideoAnalytics.create(n.trackerId,{userId:e.getCookie("DEVICE_ID"),sessionId:e.createUUID(),playerVersion:n.playerVersion,deviceType:f,playerType:p});if(null===b)throw new Error("Failed to initialize GoogleCloudVideoAnalytics plugin");return b.playerLoaded(),{sendBeacon:A,updateTime:i}}return t}),define("pluginGoogleAnalytics",["util"],function(e){function t(t,n,r,i){function a(t,n){var r=A(n),i=e.merge(d,r),a={hitType:"event",eventCategory:"Videos",eventAction:t,eventLabel:"[[TITLE]]"},s=!1;p&&(a=e.merge(a,p)),0!=Object.keys(f).length?t in f&&("string"==typeof f[t]?a.eventAction=f[t]:"object"==typeof f[t]&&(a.eventAction=f[t].alias||a.eventAction,a.eventCategory=f[t].category||a.eventCategory,a.eventLabel=f[t].label||a.eventLabel,f[t].metric&&(a[f[t].metric]=1)),a=o(a,i),u("send",a),s=!0):(a.eventAction=t,a=o(a,i),u("send",a),s=!0),s&&g("sendBeacon:",t,":",JSON.stringify(a,null,3))}function o(e,t){var n,r={},i=/(.*)\[\[(.*)\]\](.*)/;for(var a in e)e.hasOwnProperty(a)&&(n=i.exec(e[a]),n&&n.length>3&&n[2]in t?r[a]=n[1]+t[n[2]]+n[3]:r[a]=e[a]);return r}function s(e){d=e||{}}function l(e,t){g("trackCustomEvent: ",e),a(e,t)}function A(e){var t={};return t.TITLE=e.contentTitle||d.TITLE||"n/a",t.VIDEO_ID=e.videoId||d.VIDEO_ID||"n/a",t.P_NAME="anvato",t.VIDEO_TYPE=e.video_type?2==e.video_type?"live":"vod":"n/a",t.CURRENT_TIME_INDEX=e.timeIndex||"n/a",t.DURATION=e.duration||d.DURATION||"n/a",t.TAGS=e.tags||"n/a",t.IS_AUTOPLAY="auto"==e.autoManual,t.VIDEO_SECONDS_VIEWED=e.timeViewed||0,t}var d={},c=t,u=window.ga||window.ga_debug,g=r?r.getLogFn("GoogleAnalytics"):function(){console.log.apply(console,["[!GoogleAnalytics!]\t"].concat(Array.prototype.slice.call(arguments)))},f=(t.category,{}),p={};return t&&t.trackingId?u?(u("create",t.trackingId,"auto"),f=c.events||{},p=c.dimensions||{},{sendBeacon:a,setMacros:s,trackCustomEvent:l}):("dispatchError"in i&&i.dispatchError("GANA002"),null):("dispatchError"in i&&i.dispatchError("GANA001"),null)}return t}),define("pluginMOAT",["util"],function(e){function t(e,t,n){function r(e,n,r){if(!(e&&n&&r&&i))return void t.dispatchError("MOAT001");var a={partnerCode:i,viewMode:r};initMoatTracking(e,a,n)}var i=(n&&n.getLogFn("pluginMOAT"),e.partnerCode);return{initMoat:r}}return t}),function(e,t){if("function"==typeof define&&define.amd)define("es6!pluginIas",["exports","util"],t);else if("undefined"!=typeof exports)t(exports,require("util"));else{var n={exports:{}};t(n.exports,e.util),e.unknown=n.exports}}(this,function(e,t){"use strict";function n(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function r(e,t){if(!n(e,t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){return e&&e.__esModule?e:{default:e}}(t);var o=function(){function e(t,n,i){r(this,e),this.log_=i?i.getLogFn("IAS"):function(){console.log.apply(console,["[!IAS!]\t"].concat(Array.prototype.slice.call(arguments)))},this.config_=t,this.services_=n}return a(e,[{key:"setMacros",value:function(e){this.macros_=e}},{key:"init",value:function(e,n,r,i){if(!e||!n||!r||void 0===window.googleImaVansAdapter)return void this.services_.dispatchError("IAS001");var a=t.default.decodeURLParams(i),o=t.default.deepCopy(this.config_);o.campId=this.config_.campId||a.sz,o.chanId=this.config_.chanId||a.iu,this.macros_&&(o=t.default.populateMacros(o,this.macros_,!1)),window.googleImaVansAdapter.init(e,n,r,o)}}]),e}();e.default=o}),define("pluginMoatServerSide",["util"],function(e){function t(e,t,n,r,i){function a(e,n,r,i,a){l("@initMoatTracking");var o=window.location.protocol,s="https:"===o?"z":"js",A=document.createElement("script"),d=[],c={adData:{ids:n,duration:r,url:a},dispatchEvent:function(e){this.sendEvent?(d&&(d.push(e),e=d,d=!1),this.sendEvent(e)):(d.push(e),l("added event info to the queue",JSON.stringify(e,null,2)))}},u="_moatApi"+Math.floor(1e8*Math.random());return window[u]=c,l("@initMoatTracking",JSON.stringify(c.adData,null,2)),A.type="text/javascript",e&&e.insertBefore(A,e.childNodes[0]),A.src=o+"//"+s+".moatads.com/"+t.partnerCode+"/moatvideo.js#"+u,c}function o(e){l("@parseMoatParameters",e);for(var t,n={},r={level1:1,level2:2,level3:3,level4:4,slicer1:7,slicer2:8,zMoatSeries:5},i=0,a=e.length;i<a;i++)if("moat"==e[i].name&&(t=e[i].value.split(";"),t.length>8))for(var o in r)r.hasOwnProperty(o)&&(n[o]=t[r[o]]);return n}function s(e,r,i){l("@sendBeacon",e);var s;switch(e){case"AD_BREAK_STARTED":break;case"AD_STARTED":case"AD_FIRST_QUARTILE":case"AD_MID_POINT":case"AD_THIRD_QUARTILE":case"AD_COMPLETED":case"USER_PAUSE":case"USER_RESUME":"AD_STARTED"==e&&i.length>3&&i[3].pars&&(s=o(i[3].pars),A=a(n,s,r.adDuration,t.partnerCode,r.videoURL)),e in d&&A&&A.dispatchEvent&&(l("@track->"+d[e]),A.dispatchEvent({type:d[e],adVolume:r.volume})),"AD_COMPLETED"==e&&(A=null)}}var l=r?r.getLogFn("MoatServerSide"):function(){console.log.apply(console,["[!MoatServerSide!]\t"].concat(Array.prototype.slice.call(arguments)))},A=null,d={AD_STARTED:"AdVideoStart",AD_FIRST_QUARTILE:"AdVideoFirstQuartile",AD_MID_POINT:"AdVideoMidpoint",AD_THIRD_QUARTILE:"AdVideoThirdQuartile",AD_COMPLETED:"AdVideoComplete",USER_PAUSE:"AdPaused",USER_RESUME:"AdPlaying"};return{sendBeacon:s}}return t}),define("pluginCustomPlugins",["util"],function(e){function t(t,n,r,i,a,o){function s(){for(var e,t=0;t<U.length;t++)if((e=U[t])&&e.state<O.LOADED&&!g(e))return;P<O.LOADED&&(P=O.LOADED,_("@allScriptsLoaded"),l())}function l(){_("@initializeCustomPlugins");for(var e,t=0;t<U.length;t++)plugin=U[t],plugin&&plugin.instance&&(e=plugin.instance,g(plugin)||plugin.state>=O.INITIALIZED?A():plugin.state<O.INITIALIZED&&(plugin.state=O.INITIALIZED,e.init(function(e){return function(){e.state=O.READY,A()}}(plugin),plugin.config)))}function A(){for(var e,t=0;t<U.length;t++)if((e=U[t])&&e.state<O.READY&&!g(e))return;d(!1)}function d(e){var t;F=0;for(var n=0;n<U.length;n++)t=U[n],t.state<O.READY&&!g(t)&&f(t,e?"Plugin was not initialized before timeout (make sure completeCallback is called).":"Unknown error."),F+=t.state>=O.READY?1:0;P<O.READY&&(P=O.READY,_("@allPluginsReady. Count:",F))}function c(t){var n,r;t<=U.length-1&&(n=U[t],r=n.script,n.state>=O.LOADED&&(c(t+1),s()),"string"==typeof r.url?e.loadExternalJS(r.url,"head",function(){n.state=O.LOADED,c(t+1),s()},function(){f(n,"The script failed to load. Script URL: "+r.url),c(t+1),s()}):f(n,"Missing script url. Script URL: "+r.url))}function u(e){for(var t=0;t<U.length;t++){var n=U[t];n.state==O.READY&&(pluginInstance=n.instance,e(n,pluginInstance))}}function g(e){return e.state==O.ERROR}function f(e,t){_("@onPluginError. Error: ",t," Plugin name:",e.name),e.state=O.ERROR;var n=e.instance;n&&n.onError(t)}function p(e){for(var t,n=0;n<U.length;n++)if(t=U[n],t.name==e)return t;return null}function h(e){return 0==Math.floor(e.lastContentTimeIndex)?"preroll":Math.ceil(e.lastContentTimeIndex)>=e.duration?"postroll":"midroll"}function m(){return P>=O.READY}function E(e){L=e||{},_("@setMacros",JSON.stringify(e,null,3))}function I(e){x.isPostrollExpected=e}function y(e,t,n,r,i){switch(_("@sendBeacon",e,"args[0]:",n&&n.length>0?n[0]:"undefined"),e){case"CLIENT_BANDWIDTH":x.estimatedClientBandwidth=n&&n.length>0?n[0]:void 0;break;case"METADATA_LOADED":x.isLive=t.live;break;case"PLAYLIST_ITEM_CHANGED":break;case"USER_PLAY":case"USER_RESUME":break;case"PLAYING_START":x.isVideoPaused=!1,x.isVideoPlaying=!0,x.playingOrigin=n[0];break;case"VIDEO_STARTED":x.videoStarted=!0;break;case"AD_LOADED":case"AD_STARTED":x.isOnAd=!0,x.adProgress=0;break;case"AD_FIRST_QUARTILE":x.adProgress=.25;break;case"AD_MID_POINT":x.adProgress=.5;break;case"AD_THIRD_QUARTILE":x.adProgress=.75;break;case"AD_COMPLETED":x.adProgress=1;break;case"AD_BREAK_STARTED":x.isOnAd=!0,x.adPodType=h(t),x.adPodIndex=void 0!==n[0]?n[0]:0;break;case"AD_BREAK_COMPLETED":x.isOnAd=!1;break;case"BUFFER_START":x.isVideoBuffering=!0;break;case"BUFFER_END":x.isVideoBuffering=!1;break;case"VIDEO_COMPLETED":x.isVideoPlaying=!1,x.isVideoCompleted=!0;break;case"USER_PAUSE":x.isVideoPlaying=!1,x.isVideoPaused=!0;break;case"USER_FORWARD_SEEK":case"USER_BACKWARD_SEEK":x.isVideoSeeking=!0,n&&n.length>2&&(x.seekingTo=n[1]);break;case"PROGRAM_CHANGED":x.eventId=n[0];break;case"BITRATE_CHANGED":x.currentBitrate=n[0];break;case"PLAYER_ERROR":n&&n.length>1&&(x.errorCode=n[0]||"",x.errorDescription=n[1]||"",n.length>2&&n[2]?(x.isFatalError=!0,x.isVideoPlaying=!1):x.isFatalError=!1);break;case"STATE_CHANGE":if(n&&n.length>0&&n[0])switch(x.playerState=n[0],x.playerState){case"playingVideoContent":x.isVideoPlaying=!0,x.isVideoPaused=!1,x.isVideoSeeking=!1,x.isVideoBuffering=!1;break;case"pausedVideoContent":x.isVideoPlaying=!1,x.isVideoPaused=!0}}i&&(x.failoverInProgress=i.failoverInProgress),b(t),x.contentInfo=t,u(function(t,i){i.sendBeacon(e,x,n,r)})}function v(e,t){x.videoDuration=t,x.previousVideoPlayhead=x.videoPlayhead,x.videoPlayhead=e,u(function(n,r){r.updateTime(e,t,x)})}function C(){P=O.DESTROYED,D(N),u(function(e,t){e.state!=O.DESTROYED&&(e.state=O.DESTROYED,t.destroy())})}function b(e){L.TIME_HOUR=e.hours,L.TIME_MINUTE=e.minutes,L.DATE=e.date,L.DAY=e.day,L.DATE_DAY=e.dayOfWeek,L.MVPD=e.mvpd,L.MVPD_DISPLAY_NAME=e.mvpdDisplayName,L.PLAYER_NAME=e.playerName,L.PLAYER_VERSION=e.version,L.CURRENT_TIME=parseFloat(e.timeIndex),L.AD_BREAK_INDEX=e.adBreakIndex,L.AD_INDEX=e.adIndex,L.AD_DURATION=e.adDuration,L.LAST_CONTENT_TIME_INDEX=e.lastContentTimeIndex,L.AD_POD_TYPE=h(e),L.AD_POD_INDEX=e.adBreakIndex+1,L.VIDEO_SCREEN_TYPE=e.fullscreen?"fullscreen":"normal",L.VIDEO_SCREEN=L.VIDEO_SCREEN_TYPE,L.VIDEO_PLAY_TYPE=e.autoManual,L.VIDEO_TITLE=e.contentTitle,L.VIDEO_DURATION=e.duration,L.PLAYER_INSTANCE=n.pInstance,L.STREAM_TYPE=e.live?"live":"vod",L.START_TYPE=e.autoManual,L.CATEGORY=e.categories,L.STATUS=e.status,L.CALLSIGN=e.callsign,L.PLATFORM=e.platform,L.EPISODE_NUMBER=e.episodeNumber,L.EVENT_ID=e.eventId,L.AIR_DATE=e.ts_airdate,L.SEASON=e.season,L.VIDEO_ID=e.live?e.videoId:e.eventId,L.ID=e.live?e.videoId:e.eventId,L.ID_TITLE=e.live?e.videoId:e.contentTitle}function B(e,t){var n=/\{\{(\w+)\}\}/,r={};if("object"==typeof e){for(var i in e)e.hasOwnProperty(i)&&(r[i]=B(e[i],t));return r}return n.test(e)?w(n,e,t):e}function w(t,n,r,i){var a,o,s;for(s=e.merge(L,r),o=t.exec(n);o&&o[1]in s;)a=n.replace(new RegExp(o[0]),s[o[1]]),n=i?encodeURIComponent(a):a,o=t.exec(n);return n}function S(e){var t,n;if(/^https?:\/\//i.test(e))t=e,n="";else{var r=document.createElement("a");r.href=e,t=r.href,n=t.replace(/[^\/]+$/i,"")}return{url:t,componentRoot:n}}function Q(){var e="unknown";return"undefined"!=typeof navigator&&void 0!==navigator.connection&&(e=navigator.connection),e}function T(e,t,n,r){_("startTimeout: "+t),e[t]=setTimeout(r,n)}function D(e){_("cancelAllTimeouts");for(var t in e)clearTimeout(t);e={}}function k(e,t){e&&e[t]&&(_("cancelTimeout: "+t),clearTimeout(e[t]),delete e[t])}function R(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,enumerable:!0,configurable:!1})}var _=r?r.getLogFn("CustomPlugins"):function(){console.log.apply(console,["[!CustomPlugins!]\t"].concat(Array.prototype.slice.call(arguments)))},M="number"==typeof n.pluginsLoadingTimeout?1e3*n.pluginsLoadingTimeout:5e3,N={},L={},O={DESTROYED:-2,ERROR:-1,CREATED:0,LOADED:1,INITIALIZED:2,READY:3},P=O.CREATED,F=0,U=[],x={},G=null,V=null,H=null;return function(){if(void 0===window.anvp.AnvatoCustomPluginInterface){for(var n,r=function(e){this.name=e},a=[{name:"init",required:!0},{name:"onError",required:!1},{name:"sendBeacon",required:!1},{name:"updateTime",required:!1},{name:"destroy",required:!1}],s=0;s<a.length;s++)n=a[s],r.prototype[n.name]=function(e){return function(){e.required&&(this.error=!0,console.warn(e.name+" is not implemented from AnvatoCustomPluginInterface"))}}(n);R(r,"registerCustomPlugin",function(e){var t=p(e.name);t?(_("@registerCustomPlugin - plugin successfully registered: ",e.name),
t.instance=e):_("@registerCustomPlugin - No plugin with name ",e.name," was registered.")}),G=new Mediator,G.subscribe("",function(){t.publish.apply(t,arguments)}),R(r,"mediator",G),H={getDerivedMetadata:i.getDerivedMetadata,injectMacros:B},R(r,"services",H),V=function(){var t={};return{getURL:S,loadJS:e.loadExternalJS,getDeviceInfo:e.getDeviceInfo,getConnectionType:Q,startTimeout:function(e,n,r){T(t,e,n,r)},timeoutExists:function(e){return void 0!==t[e]},cancelTimeout:function(e){k(t,e)},cancelAllTimeouts:function(){k(t)}}}(),R(r,"util",V),R(r,"nodeInfo",o),R(window.anvp,"AnvatoCustomPluginInterface",r)}}(),function(){_("@startLoadingCustomPluginsScripts",JSON.stringify(n,null,3));var e,t,r,i,a=n;P=O.CREATED;for(var o in a)if(a.hasOwnProperty(o)&&a[o]&&a[o].script){if(p(o))continue;r=S(a[o].script),e=r.url,t=r.componentRoot,i={name:o,config:a[o],instance:null,state:O.CREATED},i.script={url:e,componentRoot:t},U.push(i)}U.length>0?c(0):s(),T(N,"pluginsLoadingTimeout",M,function(){d(!0)})}(),{isReady:m,sendBeacon:y,updateTime:v,setMacros:E,setPostrollExpected:I,destroy:C,PluginState_:O,getReadyPluginsCount_:function(){return F},getAllPluginsState_:function(){return P}}}return t}),define("PluginLoader",["util","pluginDFP","pluginFreeWheel","pluginOmniture","pluginHeartbeat","pluginHeartbeatBeta","pluginHeartbeatShared","pluginComScore","pluginComScoreWithDerivedMetadata","Analytic","pluginRTAnalytics","pluginGoogleCloudVideoAnalytics","pluginGoogleAnalytics","pluginMOAT","es6!pluginIas","pluginMoatServerSide","pluginCustomPlugins"],function(e,t,n,r,i,a,o,s,l,A,d,c,u,g,f,p,h){function m(m,E,I,y,v,C,b){function B(e){var t,n={"1.5.6":"lib/VideoHeartbeat.1.5.6.min.js",DEFAULT:"lib/VideoHeartbeat.min.js",JOINT_DEFAULT:"lib/videoheartbeat.nielsen.1.6.9.min.js"};return e.heartbeatBeta&&(t=e.heartbeatBeta.version&&e.heartbeatBeta.version in n?n[e.heartbeatBeta.version]:"nielsen"in e.heartbeatBeta?n.JOINT_DEFAULT:n.DEFAULT),v.baseURL+t}function w(e,t){var n=t||null;return e&&"string"==typeof e.source&&(n=e.source.trim(),0!==n.indexOf("http://")&&0!==n.indexOf("https://")||(n=n.slice(n.indexOf(":")+1))),n}function S(e){V("@loadPlugin",e);var t=document.getElementsByTagName("head")[0],n=document.createElement("script");V("@loadPlugin",e),t.appendChild(n),K[e].appended=!0,n.onload=function(){V("just loaded the script with source:",this.src,e),D(e),m.publish("pluginLibraryLoaded",e)},n.onerror=function(){C.dispatchError("PLGNL002","Failed to load the library for the plugin: "+e),delete K[e]},n.src=K[e].getSource(E),m.publish("pluginLibraryRequested",e)}function Q(e){V("@polling trial #",++q);var t,n=!1,r={};for(t in E)E[t]&&E[t].hasOwnProperty("script")&&!r.customPlugins?(r.customPlugins={},W=!0):r[t]=E[t];for(t in r)r.hasOwnProperty(t)&&r[t]&&t in K&&K[t].moduleAvailable&&T(t)&&(V("@poll checking",t),K[t].getSource(r)&&!K[t].appended&&(S(t),n=!0),K[t].appended&&!K[t].ready&&(D(t),n=!0),!K[t].ready||K[t].init||K[t].initFailed||(M(t,e),n=!0),K[t]&&K[t].init&&!K[t].initialized&&(k(t),n=!0));j=n,n?setTimeout(Q.bind(null,e),10*q*q):(V("loadedPluginSDKs"),q=0,R()||(V("publishing loadedPluginSDKs"),m.publish("loadedPluginSDKs")))}function T(e){return!(e in{dfp:1,freewheel:1})||!(!E[e]||(E[e].clientSide||E[e].serverSide)&&!E[e].clientSide)}function D(e){V("@checkPlugin",e);var t=!1;switch(e){case"freewheel":t="undefined"!=typeof tv&&void 0!==tv.freewheel;break;case"dfp":t="undefined"!=typeof google&&void 0!==google.ima&&(!E.moat||K.moat.ready&&K.moat.init)&&(!E.ias||K.ias.ready&&K.ias.init);break;case"omniture":t="undefined"!=typeof AppMeasurement;break;case"heartbeat":case"heartbeatBeta":case"heartbeatShared":t="undefined"!=typeof ADB;break;case"comscore":t="undefined"!=typeof ns_;break;case"googleAnalytics":t="undefined"!=typeof ga;break;case"moat":t="undefined"!=typeof initMoatTracking;break;case"ias":t="undefined"!=typeof googleImaVansAdapter;break;case"cloudVideoAnalytics":t="undefined"!=typeof CloudVideoAnalytics;break;case"customPlugins":var n=K.customPlugins?K.customPlugins.instance:null;t=n&&n.isReady()}K[e].ready=t,V("@checkPlugin",e,"ready?:",t)}function k(e){V("@checkPluginInitialized",e);var t=!0;switch(e){case"customPlugins":var n=K.customPlugins?K.customPlugins.instance:null;t=n&&n.isReady()}K[e].initialized=t,V("@checkPluginInitialized",e,"initialized?:",t)}function R(){return V("@releaseUpdatePluginQueue"),!!G.length&&(_.apply(null,G.shift()),!0)}function _(t,n,r){V("@updatePlugin",JSON.stringify(n,null,3),r);var i,a=arguments.length,o={dfp:!0,freewheel:!0},s=[];if(n.clientSide&&j){for(V("polling in progress, can not update plugin, added to the queue");a--;)s[a]=arguments[a];return void G.push(s)}if(!K[t]||!K[t].moduleAvailable)return void m.publish("pluginUpdated",t);E[t]=e.merge(E[t]||{},n),K[t]=K[t]||{},K[t].ready=!1,K[t].init=!1,m.publish("pluginUpdated",t),i=K[t].instance,t in o&&i&&"destroy"in i&&(V("@updatePlugin destroying",t,"for re-init"),i.destroy()),K[t].instance=null,n.clientSide?Q(r):("dfp"in E&&console.warn("Disabled client-side ad due to the disable flag set from backend or onBeforeVideoLoad callback"),delete E.dfp)}function M(f,B){V("@initPlugin",f,E&&E[f]&&JSON.stringify(E[f],null,3)),V("@initPlugin",f," with contentInfo for",B.id||B.upload_id);var w=!0;switch(f){case"freewheel":if(E.freewheel&&E.freewheel.clientSide){var S=E.freewheel.clientSide.html5||E.freewheel.clientSide;if("networkId"in S){V("freewheel requested");try{S.displayBaseId=I.videoContainerNode.id,S.videoNodeId=I.videoNode.id,S.clickTrackerId=I.clickTracker.id,S.timerNodeId=I.adTimer.id,K.freewheel.instance=new n(S,m,y,b),K.freewheel.instance.init(B)}catch(e){K[f].initFailed=!0,C.dispatchError("PLGNL001",e.message||e)}}else K[f].initFailed=!0,C.dispatchError("PLGNL001","Failed to instantiate Freewheel plugin; networkId is not provided")}break;case"dfp":if("adTagUrl"in E.dfp||E.dfp.clientSide&&"adTagUrl"in E.dfp.clientSide){V("dfp requested");var Q=E.dfp.clientSide&&"adTagUrl"in E.dfp.clientSide?E.dfp.clientSide.adTagUrl:E.dfp.adTagUrl;K.dfp.instance=null,I.adNode.innerHTML="";try{var T=e.merge(E.dfp.clientSide,{adTagUrl:Q});T.skipInfo={layout:v.skip,adSkipTime:v.adSkipTime},T.overlayInfo=v.overlay,T.shared=v.shared,T.playerVersion=T.playerVersion||v.version,T.playerName=T.playerName||"Anvato Web Player",K.dfp.instance=new t(m,T,y,C,b,I,K.moat.instance,K.ias.instance)}catch(e){K[f].initFailed=!0,C.dispatchError("PLGNL001",e.message||e)}}else K[f].initFailed=!0,C.dispatchError("PLGNL001","Failed to instantiate DFP plugin; adTagUrl is not provided");break;case"omniture":E.omniture.parentPageURL=v.parentPageURL,E.omniture.pInstance=v.pInstance,E.omniture.profile=v.profile||v.mcp;try{K.omniture.instance=new r(m,E.omniture,y)}catch(e){K[f].initFailed=!0,C.dispatchError("PLGNL001",e.message||e)}break;case"heartbeat":E.heartbeat.parentPageURL=v.parentPageURL,E.heartbeat.pInstance=v.pInstance,E.heartbeat.profile=v.profile||v.mcp;try{K.heartbeat.instance=new i(m,E.heartbeat,y,C)}catch(e){K[f].initFailed=!0,C.dispatchError("PLGNL001",e.message||e)}break;case"heartbeatBeta":E.heartbeatBeta.parentPageURL=v.parentPageURL,E.heartbeatBeta.parentTitle=v.parentTitle,E.heartbeatBeta.pInstance=v.pInstance,E.heartbeatBeta.debug=v.debug,E.heartbeatBeta.profile=v.profile||v.mcp;try{"nielsen"in E.heartbeatBeta?K.heartbeatBeta.instance=new o(m,E.heartbeatBeta,y,C):K.heartbeatBeta.instance=new a(m,E.heartbeatBeta,y,C)}catch(e){K[f].initFailed=!0,C.dispatchError("PLGNL001",e.message||e)}break;case"comscore":try{E.comscore.useDerivedMetadata?K.comscore.instance=new l(m,E.comscore,y,C):K.comscore.instance=new s(m,E.comscore,y,C)}catch(e){K[f].initFailed=!0,C.dispatchError("PLGNL001",e.message||e)}break;case"analytics":update={duration:100,timeIndex:0,contentTitle:"Sample video",contentDefinition:"desc",videoURL:"http://anvato-ads.s3.amazonaws.com/ua/13/09/30/130930_382/2552732_B52BE5CB3666494F8535E9A2F82DDB1C_130930_2552732_Days_of_our_Lives_1200.m3u8",videoId:"2552845",appURL:"http://selcuk-vpd.anv.bz/v31/anvload.html?mcpId=QA&playerId=default&playlistId=53",type:{video:!0}},K.analytics.instance=new A(m,E.analytics,y);break;case"realTimeAnalytics":K.realTimeAnalytics.instance=new d(m,E.realTimeAnalytics,y);break;case"cloudVideoAnalytics":E.cloudVideoAnalytics.playerVersion=v.version;try{K.cloudVideoAnalytics.instance=new c(m,E.cloudVideoAnalytics,y)}catch(e){K[f].initFailed=!0,C.dispatchError("PLGNL001",e.message||e)}break;case"googleAnalytics":K.googleAnalytics.instance=new u(E.googleAnalytics,m,y,C),null==K.googleAnalytics.instance&&(K.googleAnalytics.initFailed=!0);break;case"moat":if(E&&E.moat&&E.moat.serverSide)K.moat.instance=new p(m,E.moat.serverSide,I.videoContainerNode,y,C);else if(E&&E.moat){var D=E.moat.clientSide||E.moat;K.moat.instance=new g(D,C,y)}break;case"ias":E&&E.ias&&(K.ias.instance=new Y(E.ias,C,y));break;case"customPlugins":var k=L();E&&Object.keys(k).length>0?(K.customPlugins.instance=new h(m,k,y,C,b,I),w=!1):K.customPlugins.initFailed=!0}K[f].initFailed?delete K[f]:(K[f].init=!0,K[f].initialized=w)}function N(e){return e in{customPlugins:1}?W:!!E[e]}function L(){var e={};for(var t in E)O(t)&&(W=!0,e[t]=E[t]);return e}function O(e){return E[e]&&E[e].script}function P(e,t,n){V("@distributeCall ",e," : ",t&&t.length>0&&t[0]);var r,i={},a=t.length,o=[];for(n?"string"==typeof n?r=[n]:"object"==typeof pluginNames&&(r=n):r=Object.keys(K);a--;)o[a]=t[a];for(a=0;a<r.length;a++){var s=r[a];K.hasOwnProperty(s)&&!O(s)&&N(s)&&T(s)&&(K[s].initFailed||(K[s].init&&K[s].initialized?(x[s]&&x[s].length&&F(s),e in K[s].instance&&(V("Invoking ",e,"on plugin:",s),i[s]=K[s].instance[e].apply(K[s].instance,o))):(V("plugin not ready adding beacon to the queue for",s,e),x[s]=x[s]||[],x[s].push([e,o]))))}return i}function F(e){var t,n,r;if(V("@emptyBeaconQueue for ",e,"total items",x[e].length),!K[e].initFailed)for(;x[e].length;)n=x[e].shift(),t=n[0],r=n[1],V("@emptyBeaconQueue queue item",e),t in K[e].instance&&K[e].instance[t].apply(K[e].instance,r)}function U(e,t,n){V("@trackCustomEvent",JSON.stringify(e,null,3)),P("trackCustomEvent",[e,t],n)}var x={},G=[],V=y?y.getLogFn("PluginLoader"):function(){console.log.apply(console,["[!PluginLoader!]\t"].concat(Array.prototype.slice.call(arguments)))},H={},j=!1,Y=f.default,K={dfp:{getSource:function(e){return"//imasdk.googleapis.com/js/sdkloader/ima3.js"},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==t},freewheel:{getSource:function(e){var t="//mssl.fwmrm.net/p/vitest-js/AdManager.js";if(e.freewheel&&e.freewheel.clientSide){t=w(e.freewheel.clientSide.html5||e.freewheel.clientSide,t)}return t},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==n},omniture:{getSource:function(e){return v.baseURL+"lib/omnituresdk.js"},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==r},heartbeat:{getSource:function(e){return v.baseURL+"lib/heartbeat.min.js"},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==i},heartbeatBeta:{getSource:B,appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==a},heartbeatShared:{getSource:B,appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==o},comscore:{getSource:function(t){var n,r={"4.1412.05":"lib/streamsense.4.1412.05.min.js","5.2.0":"lib/streamsense.5.2.0.160629.min.js"};return t.comscore&&(n=e.getClosestVersion(t.comscore.version,r,"4.1412.05")),v.baseURL+n},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==s},analytics:{getSource:function(e){return null},appended:!0,ready:!0,init:!1,instance:null,moduleAvailable:void 0!==A},realTimeAnalytics:{getSource:function(e){return null},appended:!0,ready:!0,init:!1,instance:null,moduleAvailable:void 0!==d},cloudVideoAnalytics:{getSource:function(e){return v.baseURL+"lib/CloudVideoAnalytics.min.js"},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==c},googleAnalytics:{getSource:function(e){return"//www.google-analytics.com/analytics.js"},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==u},moat:{getSource:function(e){return e&&e.moat&&e.moat.serverSide?null:v.baseURL+"lib/moatsdk.min.js"},appended:!!(E&&E.moat&&E.moat.serverSide),ready:!!(E&&E.moat&&E.moat.serverSide),init:!1,instance:null,moduleAvailable:void 0!==p},ias:{getSource:function(e){return"https://static.adsafeprotected.com/vans-adapter-google-ima.js"},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==Y},customPlugins:{getSource:function(e){return null},appended:!0,ready:!0,init:!1,instance:null,moduleAvailable:void 0!==h}},J=["sendBeacon","resume","pause","setVolume","requestAds","isCustomPlaybackUsed","isCustomClickTrackingUsed","initContainer","notifyVideoBegin","notifyVideoEnd","hasActiveAd","isActiveAdLinear","hasPreroll","hasPostroll","setPostrollExpected","hasAllAdsCompleted","setMacros","resize","getDuration","getAdDuration","getAdInformation","startAd","skipAd","replayEvents","resetHeartbeat","optOutNielsen","optInNielsen","updateTime"];E.analytics&&!E.analytics.serverURL&&(E.analytics.serverURL="http://analytics-v2.anvato.com/VideoAnalytics/src/video_log.php");var q=0,W=!1;return L(),V("Initialized"),function(){for(var e,t=0,n=J.length;t<n;t++)e=J[t],H[e]=function(e){return function(){for(var t=arguments.length,n=[];t--;)n[t]=arguments[t];return P(e,n)}}(e)}(),H.poll=Q,H.isActive=function(e){return!!(e in K&&K[e].moduleAvailable)&&K[e].init},H.isAvailable=function(e){return!!(e in K&&K[e].moduleAvailable)&&K[e].init},H.isReady=function(e){return!!(e in K&&K[e].moduleAvailable)&&K[e].ready},H.isRequested=function(e){return e in K&&K[e].moduleAvailable&&e in E&&T(e)},H.updatePlugin=_,H.trackCustomEvent=U,H}return m}),define("Logo",["util"],function(e){function t(t,n,r,i){function a(t){l(JSON.stringify(t,null,3)),t.url&&(s=!0,o=t,n.src=t.url,n.style.cursor="pointer",t.targetURL?n.onclick=function(){e.openURIInNewWindow(t.targetURL)}:n.style.pointerEvents="none",t.location=t.location.toLowerCase(),n.style[t.location.indexOf("l")>-1?"left":"right"]="0",n.style[t.location.indexOf("b")>-1?"bottom":"top"]="0",n.style[t.location.indexOf("r")>-1?"left":"right"]="",n.style[t.location.indexOf("t")>-1?"bottom":"top"]="",t.margin?n.style.margin=t.margin:(t.marginTop&&(n.style.marginTop=t.marginTop),t.marginRight&&(n.style.marginRight=t.marginRight),t.marginBottom&&(n.style.marginBottom=t.marginBottom),t.marginLeft&&(n.style.marginLeft=t.marginLeft)))}var o,s=!1,l=r?r.getLogFn("Logo"):function(){console.log.apply(console,["[!Logo!]\t"].concat(Array.prototype.slice.call(arguments)))};return n.style.position="absolute",n.style.display="none",n.style.zIndex="2147483648",i?(l("Setting logo from config"),a(i)):n.style.display="none",l("init",JSON.stringify(i)),{init:function(e){var t=o&&o.sizeFactor&&"number"==typeof o.sizeFactor?o.sizeFactor:1;"number"==typeof(e=parseFloat(e))&&(n.style.height=t*e/6+"px")},show:function(){s&&(n.style.display="block")},hide:function(){n.style.display="none"},setLogo:a,resize:function(e){e=parseFloat(e),o&&"number"==typeof e&&(n.style.height=o.sizeFactor*e/6+"px")}}}return t}),define("Rating",["util"],function(e){function t(e,t,n,r){function i(e){l=!0,o=e,e.location=e.location.toLowerCase(),t.style[e.location.indexOf("l")>-1?"left":"right"]="0",t.style[e.location.indexOf("b")>-1?"bottom":"top"]="0",t.style.height=e.sizeFactor*t.parentNode.offsetHeight/6+"px",e.margin?t.style.margin=e.margin:(e.marginTop&&(t.style.marginTop=e.marginTop),e.marginRight&&(t.style.marginRight=e.marginRight),e.marginBottom&&(t.style.marginBottom=e.marginBottom),e.marginLeft&&(t.style.marginLeft=e.marginLeft)),e.duration&&(o.duration=parseFloat(e.duration))}function a(e,t){var n,r,i,a="",s={1:"y",2:"y7",3:"g",4:"pg",5:"14",6:"ma"},l={1:{},2:{fv:1,v:1},3:{d:1,dl:1,dls:1,ds:1,l:1,ls:1,s:1},4:{d:1,dl:1,dls:1,dlsv:1,dlv:1,ds:1,dsv:1,dv:1,l:1,ls:1,lsv:1,lv:1,s:1,sv:1,v:1},5:{d:1,dl:1,dls:1,dlsv:1,dlv:1,ds:1,dsv:1,dv:1,l:1,ls:1,lsv:1,lv:1,s:1,sv:1,v:1},6:{d:1,dl:1,dls:1,dlsv:1,dlv:1,ds:1,dsv:1,dv:1,l:1,ls:1,lsv:1,lv:1,s:1,sv:1,v:1}};return t=t||"",t=t.replace(/\s+/g,"").toLocaleLowerCase(),t=t.split(","),t=t.sort(),t=t.join(""),t=t.trim(),e in s?(n=s[e],e in s&&t&&l[e][t]&&(a=t),d(A+n+".png"),r=o&&"logoBaseUrl"in o?o.logoBaseUrl:A,i=o&&"format"in o?o.format:"tv_{{r}}_{{s}}.png",a.length||(i=i.replace(/(^.+\}\}).*(\{\{.*)/,"$1$2")),result=i.replace(/\{\{R\}\}/,n.toUpperCase()),result=result.replace(/\{\{r\}\}/,n),result=result.replace(/\{\{S\}\}/,a.toUpperCase()),result=result.replace(/\{\{s\}\}/,a),r+result):null}var o,s,l=!1,A="http://v9.anv.bz/assets/ratings/",d=n?n.getLogFn("Rating"):function(){console.log.apply(console,["[!Rating!]\t"].concat(Array.prototype.slice.call(arguments)))},c={};return t.style.position="absolute",t.style.display="block",r?(d("Setting rating from config"),i(r)):t.style.display="none",d("init",JSON.stringify(r)),{show:function(){l&&c.rating&&(t.style.display="block")},update:function(e,n){d("@update");var i=a(e,n);t.onload=function(){t.style.display="block"},l&&i&&(d("ratingSet",!0),t.src=i,(t.loaded||s==i)&&(t.style.display="block")),c.rating=setTimeout(function(){d("hiding rating..."),t.style.display="none",clearTimeout(c.rating)},1e3*(r&&r.duration?r.duration:10)),s=i},hide:function(){t.style.display="none"},setRating:i,resize:function(e){d("Ratio",e),o&&(t.style.height=e*o.sizeFactor*t.parentNode.offsetHeight/6+"px")}}}return t}),function(e,t){if("function"==typeof define&&define.amd)define("es6!Slate",["exports","util"],t);else if("undefined"!=typeof exports)t(exports,require("util"));else{var n={exports:{}};t(n.exports,e.util),e.unknown=n.exports}}(this,function(e,t){"use strict";function n(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function r(e,t){if(!n(e,t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(e,n,r,i){return r=r||n,t.default.generateChild(e,"div",n,r,i)}function s(e){var t=o(e,"slate-frame"),n=o(t,"slate-animation");o(n,"slate-frame","slate-outer"),o(n,"slate-frame","slate-inner");return o(o(t,"slate-message-frame"),"slate-message","slate-message","Your video will be available shortly.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){return e&&e.__esModule?e:{default:e}}(t);var l=function(){function e(t){r(this,e),this.baseElement_=t,this.message_=s(t)}return a(e,[{key:"show",value:function(e){e&&(this.message_.innerHTML=e),this.baseElement_.style.display="block"}},{key:"hide",value:function(){this.baseElement_.style.display="none"}},{key:"isDisplayed",value:function(){return"block"==this.baseElement_.style.display}}]),e}();e.default=l}),define("StitchedAdTracker",["util"],function(e){function t(t,n,r,i){function a(e,t){return"start"==e.offset&&(e.offset=0),"start"==t.offset&&(t.offset=0),parseFloat(e.offset)-parseFloat(t.offset)}function o(e,t){var n,r,i,o,s;if(e.sort(a),h.linear=[],h.nonlinear=[],t&&t.tracking)for(var l=0,A=t.tracking.length;l<A;l++)m[t.tracking[l].type]=t.tracking[l].url;for(var d=0,c=e.length;d<c;d++){if(n=e[d],r=n.ads,s=n.tracking,o={},s)for(var u=0;u<s.length;u++)o[s[u].type]=s[u].url;n.tracking=o;for(var g=0,f=r.length;g<f;g++)if(o={},r[g]&&r[g].tracking){for(var u=0,E=r[g].tracking.length;u<E;u++)i=r[g].tracking[u],o[i.type]=o[i.type]||[],o[i.type].push(i.url);r[g].tracking=o}"linear"==e[d].type?h.linear.push(e[d]):"nonlinear"==e[d].type&&h.nonlinear.push(e[d])}p("@setAdTrackerInfo",JSON.stringify(h,null,3)),p("@setAdTrackerInfo Total linear ad breaks",h.linear.length),p("@setAdTrackerInfo Total nonlinear ad breaks",h.nonlinear.length)}function s(n,a,o,s){var l,A,c,g,m,I;switch(p("@notifyAdEvent, event:",n,"adBreakIndex",a,"adIndex",o,"adSequenceIndex",s),void 0===s?h.linear[a]?(f=h.linear[a].ads[o],p("@notifyAdEvent, event:",n," adBreakId:",h.linear[a].id,"\tadId:",f&&f.ad_id,"\tadSequenceIndex:",s)):f=null:s>=1?(p("@notifyAdEvent using adSequenceIndex for matching tracker info"),h.linear[a]?(f=h.linear[a].ads[s-1],p("@notifyAdEvent, event:",n," adBreakId:",h.linear[a].id,"\tadId:",f&&f.ad_id,"\tadSequenceIndex:",s)):f=null):console.error("Encountered invalid adSequenceIndex"),l={USER_PAUSE:["pause"],USER_RESUME:["resume"],USER_MUTE:["mute"],USER_UNMUTE:["unmute"],AD_CLICKED:["ClickTracking"]},c={AD_STARTED:["impression","start"],AD_FIRST_QUARTILE:["firstQuartile"],AD_MID_POINT:["midpoint"],AD_THIRD_QUARTILE:["thirdQuartile"],AD_COMPLETED:["complete"]},l=e.merge(l,c),n){case"AD_STARTED":if(f&&f.tracking.ClickThrough&&f.tracking.ClickThrough.length?(p("adding event listener for url",f,f.tracking.ClickThrough[0]),I=u.bind(null,a,o,s),e.addEventListener(i,"click",I),E.push(I)):r.dispatchError("ADTR001"),f&&f.companions&&f.companions.length)for(g=f.companions.length;g--;)m=f.companions[g],t.publish("companionContent",m.width,m.height,null,m);break;case"AD_COMPLETED":for(;E&&E.length;)e.removeEventListener(i,"click",E.shift())}if(l[n]&&f)for(var y=0,v=l[n].length;y<v;y++)A=l[n][y],p("@notifyAdEvent pinging for ",A,f.tracking[A]&&f.tracking[A].length),d(f.tracking[A],a,o,A),n in c&&delete h.linear[a].ads[o].tracking[A],p("@notifyAdEvent remaining:",JSON.stringify(f.tracking,null,3))}function l(e,t){var n,r,i={AD_BREAK_STARTED:"breakStart"};e in i&&h&&h.linear&&h.linear[t]&&(n=h.linear[t],n.tracking&&n.tracking[i[e]]&&(r=n.tracking[i[e]],r=r.constructor==Array?r:[r],d(r,t,0,i[e])))}function A(t,n){var r;if("VAST_VIDEO_VIEW"==t){h.linear&&h.linear.length&&h.linear[0]?r=h.linear[0].tracking:h.nonlinear&&h.nonlinear.length&&h.nonlinear[0]&&(r=h.nonlinear[0].tracking),r=r||{},m&&(r=e.merge(r||{},m));var i=r.videoView;if(!i)return;i+=(i.indexOf("?")>=0?"&":"?")+"init="+(0==n?1:0),i+="&ct="+n,d([i],0,"non-ad","videoView")}}function d(t,n,r,i){var a;if(t)for(a=t.length;a--;)p("@pingUrls",a,t[a],i),e.touchURL(t[a],c.bind(null,"success",t[a],n,r,i),c.bind(null,"error",t[a],n,r,i))}function c(e,t,n,r,i,a){p("@tallyPingResults",e,t,n,r,i),I[n]=I[n]||{},I[n][r]=I[n][r]||{},I[n][r][i]=I[n][r][i]||{},I[n][r][i][e]=I[n][r][i][e]||0,I[n][r][i][e]++,a&&p("@tallyPingResults",a),p("@tallyPingResults",JSON.stringify(I,null,3))}function u(t,n,i){f&&f.tracking&&f.tracking.ClickThrough&&f.tracking.ClickThrough.length?(p("@onAdClick",f.tracking.ClickThrough[0]),r.dispatchEvent("AD_CLICKED"),e.openURIInNewWindow(f.tracking.ClickThrough[0]),s("AD_CLICKED",t,n,i)):p("@onAdClick no clickthrough URL found!")}function g(e,t,n){if(p("@getAd",e,t,n),h&&h.linear)return void 0===n?h.linear[e]?h.linear[e].ads[t]:null:n>=1?h.linear[e]?(p("@notifyAdEvent using adSequenceIndex for matching tracker info"),h.linear[e].ads[n-1]):null:(console.error("Encountered invalid adSequenceIndex"),null)}var f,p=n?n.getLogFn("StitchedAdTracker"):function(){console.log.apply(console,["[!StitchedAdTracker!]\t"].concat(Array.prototype.slice.call(arguments)))},h={linear:[],nonlinear:[]},m={},E=[],I={};return{setAdTrackerInfo:o,notifyAdEvent:s,notifyAdBreakEvent:l,notifyNonAdEvent:A,getAd:g}}return t}),define("StitchedAdManager",["util","StitchedAdTracker"],function(e,t){function n(n,r,i,a,o){function s(e){D=e}function l(t,n,r,i){N("@getAdBreaks"),D=t||D,L.adBreakSuccess=r,L.adBreakError=i,e.download(D,null,d.bind(null,n),c)}function A(e,t,r){N("@resetAdBreaks",e);var a=[];u(a,e),i&&i.dispatchEvent&&i.dispatchEvent("AD_BREAKS",a),n.publish("adBreaks",a,e),N("@resetAdBreaks",a),t&&t(a)}function d(t,n){N("@onAdBreaks",n,t);var r,i,a=[];try{n=e.str2XML(n)}catch(e){}N("@onAdBreaks",n),n=n.getElementsByTagName("interstitial");for(var o=0,s=n.length;o<s;o++)r=n[o].getElementsByTagName("start")[0],i=n[o].getElementsByTagName("end")[0],r=r.childNodes&&r.childNodes.length?r.childNodes[0].nodeValue:null,i=i.childNodes&&i.childNodes.length?i.childNodes[0].nodeValue:null,a.push({start:parseFloat(r),end:parseFloat(i)});u(a,t),N("@onAdBreaks",a),L.adBreakSuccess&&L.adBreakSuccess(a,t)}function c(e){i&&i.dispatchError&&i.dispatchError("ADST001",e),L.adBreakError&&L.adBreakError(e)}function u(e,t){N("@populateZones",e,t);var n,r=0,i=0,a=0,o=!1;t=parseFloat(t),k=k||{},k.totalAdDuration=0,k.zones=[],o=e&&e.length>0&&"break_idx"in e[0];for(var s=0,l=e.length;s<l;s++){if(r!=e[s].start&&k.zones.push({start:r,end:e[s].start,type:"content",adOffset:k.totalAdDuration,chapterIndex:i++}),e[s].ads&&e[s].ads.length){n=0;for(var A=0,d=e[s].ads.length;A<d;A++)e[s].ads[A].offset=n,n+=e[s].ads[A].duration}k.zones.push({start:e[s].start,end:e[s].end,type:"ad",ads:e[s].ads,adOffset:k.totalAdDuration,duration:e[s].end-e[s].start,adBreakIndex:o?e[s].break_idx:a++,declaredTotalAds:e[s].ad_count}),k.totalAdDuration+=e[s].end-e[s].start,r=e[s].end}r!=t&&k.zones.push({start:r,end:t+k.totalAdDuration,type:"content",adOffset:k.totalAdDuration,chapterIndex:i++}),N("zones:",JSON.stringify(k.zones,null,3)),N("totalAdDuration",k.totalAdDuration)}function g(e,t){return N("isIn",e,t),N("isIn",e,k.zones[t].start,k.zones[t].end),e<k.zones[t].end&&e>=k.zones[t].start}function f(e){N("@translateToAbsoluteTime",e,k&&k.zones);var t,n,r;if(!k||!k.zones)return e||0;for(var i=0,a=k.zones.length;i<a;i++)if("ad"==k.zones[i].type?r=e+k.zones[i].adOffset+k.zones[i].duration:(t=k.zones[i].start-k.zones[i].adOffset,n=k.zones[i].end-k.zones[i].adOffset,N("@translateToAbsoluteTime checking zone: #",i,t,n),r=e+k.zones[i].adOffset),g(r,i))return N("@translateToAbsoluteTime translated",r),r}function p(e,t){var n,r;if(void 0===k.currentZoneIndex||k.currentZoneIndex>=k.zones.length||void 0!==k.currentZoneIndex&&!g(e,k.currentZoneIndex)){N("updating currentZoneIndex...");for(var i=0,a=k.zones.length;i<a;i++)if(g(e,i)){k.currentZoneIndex=i;break}N("zone index:",k.currentZoneIndex,JSON.stringify(k.zones[k.currentZoneIndex],null,3))}if(n=k.zones[k.currentZoneIndex],"ad"==n.type){if(r={currentTime:e-n.start,totalTime:n.duration,contentType:"ad",adBreakIndex:n.adBreakIndex},n.ads&&n.ads.length){if(void 0===k.currentAdIndex||k.currentAdIndex>=n.ads.length||void 0!==k.currentAdIndex&&(r.currentTime>=n.ads[k.currentAdIndex].offset+n.ads[k.currentAdIndex].duration||r.currentTime<n.ads[k.currentAdIndex].offset)){N("updating currentAdIndex...");for(var o=0,s=n.ads.length;o<s;o++)if(N("checking currentAdIndex... j="+o,r.currentTime,n.ads[o].offset+n.ads[o].duration,"|",r.currentTime,n.ads[o].offset),r.currentTime<n.ads[o].offset+n.ads[o].duration&&r.currentTime>=n.ads[o].offset){k.currentAdIndex=o;break}N("current ad index:",k.currentAdIndex,JSON.stringify(n.ads[k.currentAdIndex],null,3))}r.currentAdTime=r.currentTime-n.ads[k.currentAdIndex].offset,r.currentAdDuration=n.ads[k.currentAdIndex].duration,r.currentAdSequenceIndex=n.ads[k.currentAdIndex].sequence,r.adIndex=k.currentAdIndex,r.totalAds=n.declaredTotalAds?n.declaredTotalAds-r.currentAdSequenceIndex+k.currentAdIndex+1:n.ads.length,r.ads=n.ads}return r}return{currentTime:e-n.adOffset,totalTime:t?parseFloat(t)-k.totalAdDuration:void 0,startTime:n.start-n.adOffset,endTime:n.end-n.adOffset,contentType:"content",chapterIndex:n.chapterIndex}}function h(e,t){i[e]=t}function m(){return k.zones}function E(e){V=e}function I(e,t){R&&R.setAdTrackerInfo(e,t)}function y(e){N("@updateState",JSON.stringify(e,null,3));var t=null;if("ad"!=O.contentType&&"ad"==e.contentType&&(V.isLive||(t=e.totalTime?e.totalTime:null),b("AD_BREAK_STARTED",e.adBreakIndex,t),B("AD_BREAK_STARTED",e.adBreakIndex,t),void 0===e.adIndex&&C("AD_STARTED",e.adBreakIndex)),"content"!=O.contentType&&"content"==e.contentType&&"ad"==O.contentType&&(V.isLive||(t=O.totalTime?O.totalTime:null),C("AD_COMPLETED",O.adBreakIndex,O.adIndex,O.currentAdSequenceIndex),b("AD_BREAK_COMPLETED",O.adBreakIndex,t)),"ad"==e.contentType)O.adQuartiles=O.adQuartiles||{},e.adQuartiles=O.adQuartiles,O.adIndex!=e.adIndex&&(O.adIndex<e.adIndex&&C("AD_COMPLETED",e.adBreakIndex,O.adIndex,O.currentAdSequenceIndex),C("AD_STARTED",e.adBreakIndex,e.adIndex,e.currentAdSequenceIndex),e.adQuartiles={},O.adQuartiles={}),!e.adQuartiles.AD_FIRST_QUARTILE&&e.currentAdTime>e.currentAdDuration/4&&(C("AD_FIRST_QUARTILE",e.adBreakIndex,e.adIndex,e.currentAdSequenceIndex),e.adQuartiles.AD_FIRST_QUARTILE=1),!e.adQuartiles.AD_MID_POINT&&e.currentAdTime>e.currentAdDuration/2&&(C("AD_MID_POINT",e.adBreakIndex,e.adIndex,e.currentAdSequenceIndex),e.adQuartiles.AD_MID_POINT=1),!e.adQuartiles.AD_THIRD_QUARTILE&&e.currentAdTime>3*e.currentAdDuration/4&&(C("AD_THIRD_QUARTILE",e.adBreakIndex,e.adIndex,e.currentAdSequenceIndex),e.adQuartiles.AD_THIRD_QUARTILE=1);else{M=M||e.currentTime,_=_||0;var n=e.currentTime-M;if(n<.5){_+=n;var r=_-G;if(r>=0){_=r,v("VAST_VIDEO_VIEW",G),x++;var i=U.length-1;G=x>i?U[i]:U[x]}}M=e.currentTime}O=e}function v(e,t){N("@dispatchNonAdEvent",e,t),w(e,t)}function C(e,t,n,r){var a,o;N("@dispatchAdEvent",e,t,n,r),R?(a=R.getAd(t,n,r),o=["ad",t,n].join("_")):o=["ad",t].join("_"),i.dispatchEvent(e,a?a.ad_id:o,a?a.ad_title:o,"Anvato Ad Stitcher",a?{pars:a.pars,media:a.media}:{}),S(e,t,n,r)}function b(e,t,n){N("@dispatchAdBreakEvent",e,t,n),i.dispatchEvent(e,t,n),B(e,t,n)}function B(e,t,n){R&&R.notifyAdBreakEvent(e,t)}function w(e,t){R&&R.notifyNonAdEvent(e,t)}function S(e,t,n,r){R&&void 0!==n&&R.notifyAdEvent(e,t,n,r)}function Q(e){"ad"==O.contentType&&S(e,O.adBreakIndex,O.adIndex,O.currentAdSequenceIndex)}function T(){var e=null;V.isLive||(e=O.totalTime?O.totalTime:null),C("AD_COMPLETED",O.adBreakIndex,O.adIndex,O.currentAdSequenceIndex),b("AD_BREAK_COMPLETED",O.adBreakIndex,e)}var D,k,R,_,M,N=r?r.getLogFn("StitchedAdManager"):function(){console.log.apply(console,["[!StitchedAdManager!]\t"].concat(Array.prototype.slice.call(arguments)))},L={},O={},P="adBreakDetail"in o&&o.adBreakDetail||!("adBreakDetail"in o)?"fp":"plan",F=!("clientSideAdTracking"in o)||!!o.clientSideAdTracking,U=[0,5,10,15,30,60,120,180,300],x=0,G=U[0],V={isLive:void 0};return"fp"==P&&F&&(N("instantiating StitchedAdTracker since adBreakMode:",P,"trackAds:",F),R=new t(n,r,i,a)),{notifyPostrollEnd:T,setAdBreakUrl:s,getAdBreaks:l,resetAdBreaks:A,translateToAbsoluteTime:f,translateToPresentation:p,setService:h,setVideoInfo:E,getZones:m,populateZones:u,setAdTrackerInfo:I,updateState:y,onUserInteraction:Q}}return n}),define("SphericalRenderer",["util"],function(e){function t(e,t){var n,r,i=(t&&t.getLogFn("VRRenderer"),{minFilter:THREE.LinearFilter,magFilter:THREE.NearestFilter,format:THREE.RGBAFormat}),a=e,o=new THREE.OrthographicCamera(-1,1,1,-1,0,1),s=new THREE.Scene,l=new THREE.StereoCamera,A=new THREE.WebGLRenderTarget(512,512,i),d=new THREE.Vector2(.441,.156),c=new THREE.PlaneBufferGeometry(1,1,10,20).removeAttribute("normal").toNonIndexed(),u=c.attributes.position.array,g=c.attributes.uv.array,f=new Float32Array(2*u.length),p=new Float32Array(2*g.length),h=new THREE.Vector2,m=u.length/3;A.scissorTest=!0,l.aspect=.5,f.set(u),f.set(u,u.length),p.set(g),p.set(g,g.length);for(var E=0,I=f.length/3;E<I;E++){h.x=f[3*E],h.y=f[3*E+1];var y=h.dot(h),v=1.5+(d.x+d.y*y)*y,C=E<m?0:1;f[3*E]=h.x/v*1.5-.5+C,f[3*E+1]=h.y/v*3,p[2*E]=.5*(p[2*E]+C)}return c.attributes.position.array=f,c.attributes.uv.array=p,n=new THREE.MeshBasicMaterial({map:A}),r=new THREE.Mesh(c,n),s.add(r),{setSize:function(e,t){var n;a.setSize(e,t),n=a.getPixelRatio(),A.setSize(e*n,t*n)},render:function(e,t){var n,r;e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),l.update(t),n=A.width/2,r=A.height,A.scissor.set(0,0,n,r),A.viewport.set(0,0,n,r),a.render(e,l.cameraL,A),A.scissor.set(n,0,n,r),A.viewport.set(n,0,n,r),a.render(e,l.cameraR,A),a.render(s,o)},destroy:function(){c.dispose(),n.dispose(),c=null,n=null}}}function n(t,n,r){function i(e){_.theta-=e}function a(e){_.phi-=e}function o(e){M.set(e.clientX,e.clientY)}function s(e){N.set(e.clientX,e.clientY),L.subVectors(N,M);var t=n===document?n.body:n;i(-2*Math.PI*L.x/t.clientWidth*k),a(-2*Math.PI*L.y/t.clientHeight*k),M.copy(N),v()}function l(e){
M.set(e.touches[0].pageX,e.touches[0].pageY)}function A(e){N.set(e.touches[0].pageX,e.touches[0].pageY),L.subVectors(N,M);var t=n===document?n.body:n;i(-2*Math.PI*L.x/t.clientWidth*k),a(-2*Math.PI*L.y/t.clientHeight*k),M.copy(N),v()}function d(t){t.preventDefault(),o(t),e.addEventListener(document,"mousemove",c),e.addEventListener(document,"mouseup",u),G=!0}function c(e){e.preventDefault(),s(e)}function u(t){e.removeEventListener(document,"mousemove",c),e.removeEventListener(document,"mouseup",u),G=!1}function g(e){l(e)}function f(e){e.preventDefault(),e.stopPropagation(),A(e)}function p(e){e.preventDefault()}function h(e){B=e,v()}function m(e){O=window.orientation||0,v()}function E(e,t,n,r,i){F.set(n,t,-r,"YXZ"),e.setFromEuler(F),e.multiply(x),e.multiply(U.setFromAxisAngle(P,-i))}function I(e,t,n,r){var i,a,o,s=e*t+n*r;if(s>.499){o=2*Math.atan2(e,r),i=Math.PI/2,a=0;var l=new THREE.Vector3(i,a,o);return l}if(s<-.499){o=-2*Math.atan2(e,r),i=-Math.PI/2,a=0;var l=new THREE.Vector3(i,a,o);return l}var A=e*e,d=t*t,c=n*n;o=Math.atan2(2*t*r-2*e*n,1-2*d-2*c),i=Math.asin(2*s),a=Math.atan2(2*e*r-2*t*n,1-2*A-2*c);var l=new THREE.Vector3(i,a,o);return l}function y(){e.removeEventListener(window,"orientationchange",m),e.removeEventListener(window,"deviceorientation",h),e.removeEventListener(n,"contextmenu",p),e.removeEventListener(n,"mousedown",d),e.removeEventListener(n,"touchstart",g),e.removeEventListener(n,"touchmove",f),G&&(e.removeEventListener(document,"mousemove",c),e.removeEventListener(document,"mouseup",u),G=!1)}function v(){var e=t.position;if(R.setFromVector3(V),R.theta+=_.theta,R.phi+=_.phi,R.theta=Math.max(T,Math.min(D,R.theta)),R.phi=Math.max(S,Math.min(Q,R.phi)),R.makeSafe(),R.radius=r,V.setFromSpherical(R),e.copy(w).add(V),t.lookAt(w),_.set(0,0,0),B){var n=B.alpha?THREE.Math.degToRad(B.alpha):0,o=B.beta?THREE.Math.degToRad(B.beta):0,s=B.gamma?THREE.Math.degToRad(B.gamma):0,l=O?THREE.Math.degToRad(O):0,A=(new THREE.Quaternion).copy(t.quaternion);E(A,n,o,s,l);var d=I(A.x,A.y,A.z,A.w);C&&i(C-d.z),C=d.z,b&&a(b-d.y),b=d.y}}var C,b,B,n=void 0!==n?n:document,w=new THREE.Vector3,S=0,Q=Math.PI,T=-1/0,D=1/0,k=1,R=new THREE.Spherical,_=new THREE.Spherical,M=new THREE.Vector2,N=new THREE.Vector2,L=new THREE.Vector2,O=window.orientation||0,P=new THREE.Vector3(0,0,1),F=new THREE.Euler,U=new THREE.Quaternion,x=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5)),G=!1,V=new THREE.Vector3,H=new THREE.Spherical;return H.radius=.1,H.theta=Math.PI/2,H.phi=Math.PI/2,V.setFromSpherical(H),e.addEventListener(window,"orientationchange",m),e.addEventListener(window,"deviceorientation",h),e.addEventListener(n,"contextmenu",p),e.addEventListener(n,"mousedown",d),e.addEventListener(n,"touchstart",g),e.addEventListener(n,"touchmove",f),v(),{update:v,destroy:y}}function r(e,r,i,a,o){function s(){var e;if(f.readyState===f.HAVE_ENOUGH_DATA){var t=(new Date).getTime();t-h>=30&&(C.needsUpdate=!0,h=t)}(e=l())&&(p.animation=requestAnimationFrame(s))}function l(){try{i?y.render(m,E):I.render(m,E)}catch(e){return console.error("Encountered an error while WebGL rendering",e.name,e.message),o.publish("detectedSphericalRendererError",e.name),!1}return!0}function A(e,t){width=e,height=t,E.aspect=e/t,E.updateProjectionMatrix(),I.setSize(e,t),y.setSize(e,t)}function d(){r.style.display="block"}function c(){r.style.display="none"}function u(){"cancelAnimationFrame"in window&&p.animation&&(g("@destroy calling cancelAnimationFrame"),window.cancelAnimationFrame(p.animation)),m.remove(b),m=null,C.dispose(),y&&(y.destroy(),y=null),I=null,E=null,v.destroy()}var g=a?a.getLogFn("SphericalRenderer"):function(){console.log.apply(console,["[!SphericalRenderer!]\t"].concat(Array.prototype.slice.call(arguments)))},f=e,p={},h=(new Date).getTime(),m=new THREE.Scene,E=new THREE.PerspectiveCamera(135,2,.1,1e3);f.crossOrigin="anonymous",E.fov=i?135:90;var I=new THREE.WebGLRenderer({canvas:r});I.setSize(r.width,r.height);var y=new t(I,a);I.setClearColor(0,1),I.domElement.style.cursor="move",A(r.width,r.height);var v=n(E,document,.1),C=new THREE.Texture(f);C.generateMipmaps=!1,C.minFilter=THREE.LinearFilter,C.magFilter=THREE.LinearFilter,C.wrapS=THREE.ClampToEdgeWrapping,C.format=THREE.RGBFormat;var b=new THREE.Mesh(new THREE.SphereGeometry(.5,32,32),new THREE.MeshBasicMaterial({map:C}));return b.scale.x=-1,m.add(b),s(),{render:l,resize:A,show:d,hide:c,showMono:function(){i=!1},showStereo:function(){i=!0},destroy:u}}return r}),define("ControllerInterface",["util","Control"],function(e,t){function n(t,n,r){function i(){var t,n={};for(var r in p)if(p.hasOwnProperty(r)){n[r]=function(){this.notImplementedWarning_=!1},t=p[r].methods;for(var i=0,a=t.length;i<a;i++)n[r].prototype[t[i]]=function(t,n){return function(){this.notImplementedWarning_&&console.warn(t+" is not implemented from "+e.capitalize(n)+"Interface")}}(t[i],r);Object.defineProperty(window.anvp,e.capitalize(r)+"Interface",{value:n[r],writable:!1,enumerable:!0,configurable:!1})}}function a(n,r,a){function o(e){if(/^https?:\/\//i.test(e))b=e,B="";else{var t=document.createElement("a");t.href=e,b=t.href,B=b.replace(/[^\/]+$/i,"")}return{url:b,componentRoot:B}}function m(){++k==_&&I()}function E(e){Q.innerHTML=e;for(var t=Q.childNodes,n=0;n<t.length;n++)t[n].tagName&&"STYLE"==t[n].tagName&&document.head.appendChild(t[n].cloneNode(!0));m()}function I(){function t(){++D==M.length&&C()}function n(t,n){var r=document.createElement("script");r.type="text/javascript",r.async=!1,r.onload=n,e.isSecureSocket()&&(t=t.replace(/^https*:\/\//,"https://")),r.src=t,document.head.appendChild(r)}function r(e){(e=void 0===e?0:e)<=i.length-1&&n(i[e],function(){r(e+1),t()})}for(var i=[],a=0;a<M.length;a++)switch(S=o(M[a].url),b=S.url,M[a].type){case"script":i.push(b);break;case"stylesheet":!function(n){var r=document.createElement("link");r.rel="stylesheet",e.isSecureSocket()&&(n=n.replace(/^https*:\/\//,"https://")),r.href=n,document.head.appendChild(r),r.onload=function(){t()}}(b)}r()}function y(){w&&!d&&(r.appendChild(w),d=!0)}function v(e,t,n){var r;if(!e)throw n+" is missing.";"object"==typeof e?r=e:"function"==typeof e&&(r=new e);for(var i=0;i<t.length;i++)if("function"!=typeof r[t[i]])throw t[i]+" on "+n+" is not implemented.";return r.destroy&&r.destroy(),!0}function C(){y();var e={},t=v(s,["readyCallback"],"AnvatoCustomUIInterface");for(var r in p)if(!n.customUIController.showUIComponents||n.customUIController.showUIComponents&&r in n.customUIController.showUIComponents&&!n.customUIController.showUIComponents[r]){var i=r.charAt(0).toUpperCase()+r.slice(1);t=t&&v(s[r],p[r].methods,i),e[r]=function(e,t){return"object"==typeof e?function(){var n=e;if(t)for(var r in t)n[r]=t[r];return n}:"function"==typeof e?e:void 0}(s[r],p[r].hiddenMethods),f[r]=!0}t&&(s.readyCallback(),a(e),c=!0)}var b,B,w,S,Q=document.createElement("root");if(i(),l=new Mediator,l.subscribe("",function(){var e=arguments[arguments.length-1];if(e.namespace in h){for(var n=h[e.namespace],r=arguments.length-1,i=[];r--;)i[r]=arguments[r];i=[n].concat(i),t.publish.apply(t,i)}}),n.customUIController.customControllerURL)S=o(n.customUIController.customControllerURL),b=S.url,B=S.componentRoot,A=document.createElement("link"),A.rel="import",A.href=b,document.head.appendChild(A),A.onload=function(){w=A.import.querySelector("anvato-controller"),C()};else if(n.customUIController.loadAssets){for(var T=n.customUIController.loadAssets,D=0,k=0,R=!1,_=0,M=[],N=0;N<T.length;N++)switch(S=o(T[N].url),b=S.url,T[N].type){case"view":_++,R=!0,function(t){e.download(t,null,E)}(b);break;default:M.push(T[N])}R||I()}for(var L=function(){if(u)throw"Only one custom UI interface is allowed.";n.customUIController.customControllerURL?A.import&&(w=A.import.querySelector("anvato-controller")):n.customUIController.loadAssets&&(w=Q.getElementsByTagName("anvato-controller")[0]),y(),s=this,u=!0},O={fullscreenSupport:g,captionProps:{fonts:["Arial","Courier","Georgia","Lucida Sans","Tahoma","Times New Roman","Verdana"],opacity:[0,25,50,75,100],colors:[[255,255,255],[7,247,247],[9,9,249],[4,246,5],[252,252,10],[248,9,248],[246,5,6],[0,0,0]],edges:["None","Drop Shadow","Raised","Depressed","Uniform"]}},P=["mediator","container","componentRoot","staticData"],F=[l,r,B,O],N=0;N<P.length;N++)!function(e,t){Object.defineProperty(L,e,{value:t,writable:!1,enumerable:!0,configurable:!1})}(P[N],F[N]);Object.defineProperty(window.anvp,"AnvatoCustomUIInterface",{value:L,writable:!1,enumerable:!0,configurable:!1})}function o(){return f}var s,l,A,d=!1,c=!1,u=!1,g="hasVideoFullscreenSupport"in r&&r.hasVideoFullscreenSupport||"hasContainerFullscreenSupport"in r&&r.hasContainerFullscreenSupport;n&&n.getLogFn("ControllerInterface");window.anvp=window.anvp||{};var f={},p={control:{methods:["init","rescale","updateDuration","updateLanguage","setDuration","setVisibilityMode","showTemporarily","setPaused","setFullscreen","setAvailableCaptionLanguages","setAvailableBitrates","setPlaylistReady","showRecallLabel","hideRecallLabel","setLive","setLiveCatch","setAdMode","setCastMode","setVolume","setDownload","toggleVolume","updateAdBreaks","setFullscreenButton","hide","onBitrateChanged","onBitrateChangeInProgress","toggleCaptionSettingButton","setPlayNextButton"],hiddenMethods:{getNode:function(){return document.createElement("div")},getLayout:function(){}}},splash:{methods:["init","getCurrentMode","getCurrentPoster","show","setInfo","setChromecastInfo","resetInfo","hide","buffering","rescale"]},captionSetting:{methods:["init","show","hide","setStyle","rescale","setCaptionType"]},preview:{methods:["reset","init","loadPreviewMatrices","show","hide","loadedAll","getFrameInfo","getWidthAndHeight"]},share:{methods:["init","updateLanguage","show","hide","setEmbedCode","setShareLink","setOpenGraphShareLink","setDescription","setTitle","setMediaURL","setTimeDelta"]},recommendation:{methods:["init","setRecommendations","show","hide"]}},h={playPauseClicked:"playPauseClicked",fullscreenClicked:"fullscreenClicked",volumeUpdate:"volumeUpdate",captionLanguageSelected:"captionLanguageSelected",toggleCaptionSet:"toggleCaptionSet",seekRequest:"seekRequest",bitrateSelected:"bitrateSelected",captionStyleUpdate:"captionStyleUpdate",playRequest:"playRequest",catchLive:"catchLive",dispatchEvent:"dispatchEvent",toggleSharePanel:"toggleSharePanel",splashModeUpdated:"splashModeUpdated",loadingRecommendations:"loadingRecommendations",recommendationsReady:"recommendationsReady",recommendationSelected:"recommendationSelected"};return{init:a,getUserCustomizedInterfaces:o}}return n}),define("Feed",["util"],function(e){function t(t){function n(e,t,n,r){if(!e&&r)r(0,"Missing feed id");else{if(!e)throw new Error("Missing feed id");f=!1,A=e,u=[],g=0,d=t||p.RAW,a(n,r)}}function r(){return f}function i(e){for(var t=[],n=e.docs.length,r=0;r<n;r++){var i=e.docs[r],a=i,o=i.thumbnails&&i.thumbnails.length,s=i.info&&i.info.duration;if(!("c_is_playable_l"in i)||i.c_is_playable_l){switch(d){case p.PLAYLIST:a={id:i.obj_id,def_title:i.c_title_s,def_description:i.c_description_s,thumbnail:o?i.thumbnails[0].url:"",src_image_url:o?i.thumbnails[0].url:""};break;case p.RECOMMENDATIONS:a={id:i.obj_id,title:i.c_title_s,description:i.c_description_s,duration:s?i.info.duration:"",image:o?i.thumbnails[0].url:""}}t.push(a)}}return t}function a(t,n){var r={start:g};e.download("//api.anvato.net/v2/feed/"+A,r,function(e){e=JSON.parse(e),f||(c=e.numFound,f=!0);var n=i(e);g+=n.length,Array.prototype.push.apply(u,n),t&&t(n)},n,null,!1)}function o(){return A}function s(){return c}function l(){return u}var A,d,c=0,u=[],g=0,f=!1,p=(t&&t.getLogFn("Feed"),{RAW:"RAW",PLAYLIST:"PLAYLIST",RECOMMENDATIONS:"RECOMMENDATIONS"});return{outputTypes:p,init:n,isInitialized:r,fetchMoreVideos:a,getFeedId:o,getFeedLength:s,getFetchedVideos:l}}return t}),define("ManualAdScheduler",["util"],function(e){function t(t,n){function r(n,r){var i,a=[],o=null;c=[],d=r,n=n.sort(function(e,t){return-1==e.timeIndex?1:-1==t.timeIndex?-1:e.timeIndex-t.timeIndex});for(var s=0,l=n.length;s<l;s++)if(n[s].adConfig){if(0==n[s].timeIndex){n[s].served||t.publish("updatePlugin","dfp",n[s].adConfig.dfp);continue}(-1==n[s].timeIndex||n[s].timeIndex>r||Math.abs(n[s].timeIndex-r)<3)&&(n[s].postroll=!0,n[s].timeIndex=r),a.push(n[s].timeIndex),i=e.deepCopy(n[s]),i.start=null==o?-1:o,i.end=n[s].timeIndex,c.push(i),o=i.end}t.publish("adBreaks",a,r)}function i(){for(var e=0,t=c.length;e<t;e++)if(c[e].postroll)return!0;return!1}function a(){c.length&&(c[c.length-1].served=!0,t.publish("startAd",!0))}function o(e){if(null==u||e<c[u].start||e>c[u].end+.6)for(var n=0,r=c.length;n<r;n++)if((!c[n].served||c[n].repeat)&&e>c[n].start&&e<c[n].end+.6){u=n;break}null!=u&&(Math.abs(e-c[u].timeIndex)<.6?c[u].postroll||c[u].served&&!c[u].repeat||!c[u].ready||(c[u].served=!0,u=null,t.publish("startAd",!1)):e>c[u].timeIndex-10&&(c[u].requested&&!c[u].repeat||(c[u].requested=!0,t.publish("updatePlugin","dfp",c[u].adConfig.dfp),t.publish("pollAds",!1))))}function s(){c.length&&"number"==typeof u&&(c[u].ready=!0)}function l(){return!(!c.length||"number"!=typeof u)&&!!c[u].ready}function A(e){for(var n=0,r=e.length;n<r;n++)if(e[n].adConfig&&0==e[n].timeIndex){t.publish("updatePlugin","dfp",e[n].adConfig.dfp),e[n].served=!0;break}}var d,c=(n&&n.getLogFn("ManualAdScheduler"),[]),u=null;return{hasPostroll:i,notifyVideoEnd:a,scheduleAdBreaks:r,evaluateManualAdSchedule:o,onAdBreakReadyToPlay:s,isNextAdBreakReady:l,checkPreroll:A}}return t}),define("AdLearnMore",["util"],function(e){function t(t,n){function r(e){n.innerHTML="Learn More",l=e,s(e)}function i(){n.style.display="block"}function a(){n.style.display="none"}function o(t){t&&("sizeFactor"in t&&(A=parseFloat(t.sizeFactor)),e.styleComponent(n,l,t))}function s(t){var r=A*e.getScaledFontSize(t);n.style.fontSize=r+"px",l=t}var l,A=1;return{init:r,show:i,hide:a,applyStyle:o,rescale:s}}return t}),define("AdTimer",["util"],function(e){function t(t,n,r){function i(e){A(e)}function a(){f=!0,s()}function o(){f=!1,l()}function s(){r.style.display="none"}function l(){f||(r.style.display="block")}function A(t){r.style.fontSize=parseInt(e.getScaledFontSize(t))+"px"}function d(t,n,i){var a,o,s;t=parseInt(t),n=parseInt(n),i=parseInt(i),o=!isNaN(n)&&!isNaN(i)&&n>=0&&i>1&&n<i,s=!isNaN(t)&&t>=0,o||s?(a=e.replaceAll(u,"%",isNaN(n)?n:n+1,i,t),a+=1!==t?"s.":".",a=0!==t?a:"",o?s||(a=a.replace(/(^[^\.]*).*/,"$1.")):a=a.replace(/(^[^:]*): .*&nbsp;(.*)/,"$1. $2")):a=g,r.innerHTML=a}var c=n?n.tr:function(){return"--"},u=c("advertisementCountDown"),g=c("advertisementCountDownNoRemainingDetail"),f=!1;return{init:i,disable:a,enable:o,hide:s,show:l,rescale:A,updateTime:d}}return t}),function(e,t){if("function"==typeof define&&define.amd)define("es6!RestartTv",["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={exports:{}};t(n.exports),e.unknown=n.exports}}(this,function(e){"use strict";function t(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function n(e,n){if(!t(e,n))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){function e(){n(this,e),this.liveOffset_=0,this.mode_=e.Mode.NONE,this.rstvConfig_={},this.timeDelta_=0}return i(e,[{key:"setConfig",value:function(e){this.rstvConfig_=e,this.mode_=this.rstvConfig_.type}},{key:"setMode",value:function(e){this.mode_=e}},{key:"setTimeDelta",value:function(e){this.timeDelta_=e}},{key:"setLiveOffset",value:function(e,t){this.liveOffset_=t?(Date.now()+this.timeDelta_)/1e3:e}},{key:"getLiveOffset",value:function(){return this.liveOffset_}},{key:"getMode",value:function(){return this.mode_}},{key:"getBegin",value:function(){var e=this.rstvConfig_&&parseFloat(this.rstvConfig_.begin);return!e||isNaN(e)?null:e}},{key:"transformTimeInfo",value:function(t){var n=null,r=null,i=null;return this.mode_==e.Mode.VOD_EVENT?(n=t+this.liveOffset_,r=parseFloat(this.rstvConfig_.begin),i=parseFloat(this.rstvConfig_.end)-parseFloat(this.rstvConfig_.begin)):this.mode_==e.Mode.DVR?(n=t+this.liveOffset_,r=parseFloat((Date.now()+this.timeDelta_)/1e3-this.rstvConfig_.window),i=parseFloat(this.rstvConfig_.window)):this.mode_!=e.Mode.NONE&&(n=t+this.liveOffset_,r=parseFloat(this.rstvConfig_.begin),i=parseFloat((Date.now()+this.timeDelta_)/1e3)-parseFloat(this.rstvConfig_.begin)),{index:n,offset:r,duration:i}}},{key:"convertToRelativeTimeIndex",value:function(e,t){return"number"!=typeof t&&(t=(Date.now()+this.timeDelta_)/1e3),e-t}},{key:"reset",value:function(){this.liveOffset_=0,this.mode_=e.Mode.NONE,this.rstvConfig_={},this.timeDelta_=0}}]),e}();e.default=a,a.Mode={NONE:null,LIVE_CHANNEL:"live-channel",LIVE_EVENT:"live-event",VOD_EVENT:"vod-event",DVR:"dvr"}}),function(e,t){if("function"==typeof define&&define.amd)define("es6!playerHelper",["exports","util"],t);else if("undefined"!=typeof exports)t(exports,require("util"));else{var n={exports:{}};t(n.exports,e.util),e.unknown=n.exports}}(this,function(e,t){"use strict";function n(e,n,r,i){var a=t.default.generateChild(e,r,i,i);return a.id=n+"-"+i,a.className="anv-"+i,a.style.display="none",e.appendChild(a),a}function r(e,t){var n=document.getElementById(e);return n||(t("No user container, creating one"),n=document.createElement("div"),n.id=e,document.body.appendChild(n)),n.style.position="relative",n.style.background="#000",n.style.overflow="hidden",n}function i(e,i,a){a("decorating div:",e);var o=r(e,a),s=n(o,e,"div","video-container");s.style.display="block";var l=n(s,e,"video","video-content"),A=n(s,e,"audio","audio-content"),d=n(s,e,"div","audio-poster"),c=n(s,e,"div","ad-content");c.style.display="block",c.style.background="none",c.style.visibility="hidden";var u=n(s,e,"canvas","canvas-content"),g=n(s,e,"div","overlay"),f=n(s,e,"div","track");f.style.display="block",f.style.textAlign="center",f.style.verticalAlign="middle",f.style.font="bold 20px arial,serif";var p=t.default.generateChild(s,"div","flash-container","video-container-flash"),h=t.default.generateChild(s,"div","caption","video-container-caption"),m=n(s,e,"div","splash"),E=n(s,e,"div","caption-set"),I=n(s,e,"div","share"),y=n(s,e,"div","search"),v=n(s,e,"img","logo");v.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",v.style.display="none";var C=n(s,e,"img","rating");C.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",C.style.display="none";var b=n(s,e,"div","playlist"),B=n(s,e,"div","recommendation");B.style.visibility="hidden",B.style.display="";var w=n(s,e,"div","ad-timer-wrapper"),S=n(w,e,"div","learn-more"),Q=n(w,e,"div","ad-timer");"info"in i&&!i.info||i.chromeless?Q.style.display="none":(Q.style.display="block",t.default.addClass(w,"ad-timer-wrapper-gradient",!0));var T=n(s,e,"div","player-type-label");T.innerHTML="HTML5",T.style.display="block",T.style.position="absolute",T.style.right=0,T.style.top=0,T.style.padding="5px",T.style.pointerEvents="none",T.style.color="#fff",T.style.zIndex="9999999999999999999999",T.style.background="rgba(0, 0, 0, .9)",T.style.display=i.debug?"block":"none";var D=n(s,e,"div","ad-tracker");D.style.position="absolute",D.style.top="0",D.style.width="100%",D.style.cursor="pointer";var k=n(s,e,"div","skip-ad-button"),R=n(s,e,"div","control"),_=n(R,e,"div","preview"),M=n(R,e,"div","slider-preview");return{userContainer:o,videoContainer:s,videoContent:l,audioContent:A,audioPosterElement:d,canvasContent:u,overlay:g,splash:m,adContent:c,slate:n(o,e,"div","slate"),track:f,flashContainer:p,caption608Node:h,captionSet:E,share:I,search:y,logo:v,rating:C,control:R,preview:_,sliderPreview:M,playlist:b,recom:B,adTracker:D,adTimer:Q,adLearnMore:S,skipAdButton:k,customControllerContainer:n(s,e,"div","custom-controller-container"),playerType:T}}Object.defineProperty(e,"__esModule",{value:!0}),e.decorate=i,t=function(e){return e&&e.__esModule?e:{default:e}}(t)}),function(e,t){if("function"==typeof define&&define.amd)define("es6!PlayerEventManager",["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={exports:{}};t(n.exports),e.unknown=n.exports}}(this,function(e){"use strict";function t(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t}function n(e){return a(e)||i(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function o(e,n){if(!t(e,n))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var A=function(){function e(t){o(this,e),this.generalListenerPendingEvents_=[],this.eventInfos_=e.createEventInfo_(),this.errorInfos_=e.createErrorInfo_(),this.eventListenersList_={},this.log_=t.getLogFn("PlayerEventManager"),this.generalListener_=null}return l(e,[{key:"getErrorInfo",value:function(e,t,n){var r=this.errorInfos_[e];if(!r)return null;var i="boolean"==typeof n?n:r.isCritical;return{code:e,definition:t||r.info,isCritical:i}}},{key:"dispatchEvent",value:function(e,t,r){var i={name:e,time:t,info:this.eventInfos_[e],args:r};this.generalListener_?this.generalListener_(i):this.generalListenerPendingEvents_.push(i),(this.eventListenersList_[e]||[]).forEach(function(e){e.apply(void 0,n(r))})}},{key:"fireGeneralListenerPendingEvents_",value:function(){var e=this;this.generalListenerPendingEvents_.forEach(function(t){e.generalListener_(t)}),this.generalListenerPendingEvents_.length=0}},{key:"addListener",value:function(e,t){this.eventListenersList_[e]||(this.eventListenersList_[e]=[]),this.eventListenersList_[e].push(t)}},{key:"setListener",value:function(e){this.log_("listener fn set"),this.generalListener_=e,this.fireGeneralListenerPendingEvents_()}}],[{key:"createEventInfo_",value:function(){return{STATE_CHANGE:"Player state has changed",CLIENT_BANDWIDTH:"Client bandwidth  estimated",FIRST_FRAME_READY:"First frame is ready",PLAYING_START:"Player started playing for the first time",VIDEO_STARTED:"Video has started playing",PLAYER_ERROR:"Player has thrown an error",USER_PLAY:"User has started the playback",USER_RESUME:"User has resumed the content",USER_GOLIVE:"User has selected golive",USER_PAUSE:"User has paused the playback",USER_MUTE:"User has muted the audio",USER_UNMUTE:"User has unmuted the audio",USER_SHARE:"User has shared a content",USER_FORWARD_SEEK:"User has seeked forwards",USER_BACKWARD_SEEK:"User has seeked backwards",USER_FULLSCREEN:"User has toggled on Fullscreen mode",USER_CANCEL_FULLSCREEN:"User has toggled off Fullscreen mode",PROGRAM_CHANGED:"Live program has changed",AD_BREAKS:"Ad breaks detected in the content",AD_IMMINENT:"An ad break is expected soon",SEGMENT_TYPE_CHANGED:"Segment type has changed",AD_SKIPPED:"Ad has been skipped",AD_STARTED:"Ad has started",NON_LINEAR_AD_DISPLAYED:"Non-linear ad (overlay) has been displayed",AD_COMPLETED:"Ad has completed",AD_BREAK_STARTED:"Ad break has started",AD_BREAK_COMPLETED:"Ad break has completed",BUFFER_LIMIT_UPDATED:"Buffer limit has been updated",PRESENTATION_UPDATED:"Current time: total time or content type has changed",METADATA_LOADED:"Program metadata loaded",BUFFER_START:"Buffering has started",BUFFER_END:"Buffering has completed",ID3:"ID3 tag detected",CAPTION_DETECTED:"Detected captions for the content",VIDEO_FIRST_QUARTILE:"Playhead passed the first quartile",VIDEO_MIDPOINT:"Playhead passed the mid point",VIDEO_THIRD_QUARTILE:"Playhead passed the third quartile",VIDEO_COMPLETED:"Video item is completed",POSTER_LOADED:"Poster image has been loaded",COMPONENTS_INITIALIZED:"Player UI components have been initialized",BITRATE_CHANGED:"Bitrate value has been updated",BITRATE_CHANGE_IN_PROGRESS:"There is a pending bitrate change",MEDIA_URLS_SET:"Published media URLs are available",PLAYER_EXIT:"Window is closed and player exited",MEDIA_SOURCE_SET:"setSource is called: waiting for data",KEY_VALUE_SET:"Player has sent a key-value pair",BEFORE_VIDEO_LOAD:"Player has notified the check point before video load",BITRATE_UPDATED:"The list of bitrates has been updated",PLAYLIST_ITEM_CHANGED:"Playlist item index has been updated",STITCHED_AD_TRACKING_TYPE_SET:"Stitched ad tracking type set (server-side/client-side)",BROWSER_ONLINE:"Browser network status has become online after an offline status",BROWSER_OFFLINE:"Browser network status has become offline",CRITICAL_OFFLINE_BUFFER:"Player has only critical amount of buffer left (internal pause expected)",AUTOPLAY_STATUS:"Player evaluated the browser autoplay policy",LOW_BANDWIDTH_DETECTED:"The user bandwidth is lower than the bitrate of the lowest quality video rendition (frequent buffering expected)",BANDWIDTH_IMPROVEMENT_DETECTED:"The user bandwidth has improved from being lower than the lowest bitrate of available video renditions",PLAYLIST_UPDATED:"Playlist has been updated (init, add, remove or clear)",VIEWABILITY_CHANGED:"The viewability rate of the player has changed significantly",PLUGIN_LIBRARY_REQUESTED:"The library script for the specified plugin has been requested",PLUGIN_LIBRARY_LOADED:"The library for the specified plugin has been loaded",VAST_REQUESTED:"The VAST for client side ad has been requested by the specified plugin",VAST_LOADED:"The VAST for client side ad has been loaded by the specified plugin",AD_MEDIA_REQUESTED:"Client-side ad media file has been requested by the specified plugin",AD_MEDIA_LOADED:"Client-side ad media file has been loaded by the specified plugin"}}},{key:"createErrorInfo_",value:function(){for(var e=[["PLGNL001","Failed to initialize the plugin",!1],["PLGNL002","Failed to load the library for the plugin",!1],["HRTBT001","Failed to get a valid account ID (RSID)",!1],["SCOR001","Failed to get a valid Comscore clientId (c2)",!1],["DFP010","DFP plugin encountered an error",!1],["PLAY010","Failed to load the stream",!0],["CCSND010","Failed to encrypt the payload",!1],["ADST001","Failed to get ad breaks",!1],["ADTR001","Failed to enable click through due to the missing tracking information",!1],["PLAY900","Schedule service returned an expired event",!1],["PLAY920","No next item in the playlist",!1],["PLAY921","No previous item in the playlist",!1],["PLAY309","Failed to load media on flash player (failover mode)",!1],["PLAY410","The content has expired",!1],["PLAY450","Failed to download master",!1],["PLAY455","The browser does not support the specified video codec",!1],["PLAY456","The browser does not support the specified audio codec",!1],["PLAY457","The browser encountered a media decode error",!1],["PLAY458","Media source is not supported",!1],["PLAY460","Failed to download all renditions",!1],["PLAY470","All segment download attempts within FAILED_SEQ_LIMIT failed",!1],["PLAY499","Failed to load the media",!1],["PLAY360","The browser does not support WebGL (http://get.webgl.org/)",!1],["PLAY361","The browser does not support CORS needed for WebGL",!1],["PLAY500","The browser does not support the available formats in the media source",!0],["PLAY510","The browser does not support playback without a user gesture",!1],["PLAY511","The browser does not support autoplay",!1],["PLAY512","Autoplay blocked due to the lacking support in DFP Plugin",!1],["PLAY600","Selected recommendation item is not available. SDK will display the recommendations view again.",!1],["PLAY601","None of the recommendation items are available. SDK will load the last content.",!1],["SSHR100","Encountered an error while sending an email to share content",!1],["DRM001","No DRM server config is available to decrypt the stream",!0],["DRM002","Failed to initialize media keys",!0],["DRM003","Media keys needed for DRM session are not initialized on video element",!0],["DRM004","The browser does not have DRM support",!0],["DRM010","DRM is not allowed on a page without SSL",!0],["DRM011","Browser does not support DRM encryption type",!0],["DRM020","DRM certificate is not accepted",!0],["DRM030","FairPlay DRM certificate is not provided. Used backup certificate which will be deprecated in the next releases",!1],["SHAK001","Shaka media module encountered an issue while loading the stream",!0],["SHAK002","Browser is not supported by Shaka media module to play the stream",!0],["VMNG010","No published urls in the provided source",!0],["VMNG020","The provided media formats are not supported",!0],["MOAT001","Fail to init moat due to insufficient information provided.",!1]],t={},n=0;n<e.length;n++){var r=e[n],i=r[0],a=r[1],o=r[2];t[i]={code:i,info:a,isCritical:o}}return t}}]),e}();e.default=A}),define("Player",["Logger","VideoManager","AdVideo","Control","Preview","SliderPreview","CaptionManager","CaptionSetting","Share","Search","Playlist","Splash","Recommendation","Language","mediator","util","PluginLoader","Logo","Rating","es6!Slate","StitchedAdManager","SphericalRenderer","ControllerInterface","Feed","ManualAdScheduler","AdLearnMore","AdTimer","es6!RestartTv","es6!playerHelper","es6!PlayerEventManager"],function(Logger,VideoManager,AdVideo,Control,Preview,SliderPreview,CaptionManager,CaptionSetting,Share,Search,Playlist,Splash,Recommendation,Language,M,util,PluginLoader,Logo,Rating,Es6Slate,StitchedAdManager,SphericalRenderer,ControllerInterface,Feed,ManualAdScheduler,AdLearnMore,AdTimer,RestartTvWithDefault,playerHelper,Es6PlayerEventManager){function Player(loaderObj,loggerObj,playerConfig,externalMediaCallListener,trackingPluginLoader){function dispatchError(e,t,n){var r,i=eventManager.getErrorInfo(e,t,n);if(i){if(userParams.debug&&(r=[i.code,i.definition].join(", "),i.isCritical?console.error("CRITICAL PLAYER_ERROR: "+r):console.warn("Non-critical PLAYER_ERROR: "+r)),dispatchEvent("PLAYER_ERROR",i.code,i.definition,i.isCritical),recommendationSelected&&i.isCritical&&!(i.code in{PLAY600:1,PLAY601:1}))return void onRecommendationLoadError(currentItem.id);i.isCritical&&slateObj&&!slateObj.isDisplayed()&&showSlate(i.definition)}}function switchMode(e){var t=document.getElementsByClassName("anv-chromecast-button"),n=!("inlinePlayback"in userParams)||userParams.inlinePlayback;if(e in modes&&e!==mode){if(prevMode=mode,mode=e,log("MODE-> ",e),toggleCustomUI(mode==modes.VIDEO_ON_MAIN),mode!=modes.VIDEO_ON_MAIN){deviceInfo.isMobileBrowser?autoPlay||n||!deviceInfo.iphone&&!deviceInfo.ipod?controlObj.setVisibilityMode("visible"):controlObj.setVisibilityMode("hidden"):controlObj.setVisibilityMode("responsive");for(var r=0,i=t.length;r<i;r++)t[r].setAttribute("state","ad");mode==modes.AD_ON_AD&&(componentNodes.adContent.style.display="block"),logoObj.hide()}else{controlObj.setFullscreenButton(!0),deviceInfo.isMobileBrowser&&controlObj.setVisibilityMode("responsive"),ratingObj.update(currentItem.rating,currentItem.subratings);for(var r=0,i=t.length;r<i;r++)t[r].setAttribute("state",chromecastInfo.status);componentNodes.adContent.style.display="none",logoObj.show()}mode==modes.AD_ON_AD&&(splashObj.hide(),componentNodes.adContent.style.visibility="visible",componentNodes.adContent.style.zIndex="2147483648",toggleBufferSpinner(!1),pluginLoader.isAvailable("dfp")&&!pluginLoader.isCustomPlaybackUsed().dfp&&(deviceInfo.android&&!userParams.hasContainerFullscreenSupport||deviceInfo.ipod||deviceInfo.iphone)&&controlObj.setFullscreenButton(!1)),mode==modes.AD_ON_MAIN?(controlObj.setFullscreenButton(!0),ratingObj.hide(),
"HTML5"==videoManagerObj.getType()||sAdManager||(prevPlayerType=videoManagerObj.getType(),videoManagerObj.setStyle("zIndex",-1),videoManagerObj.destroy(),videoManagerObj.setVideoInstanceType("HTML5"),videoManagerObj.init(componentNodes.videoContent,width,height),videoManagerObj.setStyle("zIndex",""),videoManagerObj.show()),videoManagerObj.setStyle("cursor","pointer")):ratingObj.update(currentItem.rating,currentItem.subratings),fullscreen||videoManagerObj.setStyle("zIndex","");for(var r=0,i=t.length;r<i;r++)t[r].setAttribute("state",mode!=modes.VIDEO_ON_MAIN?"ad":chromecastInfo.status);componentNodes.adTracker.style.display=mode!=modes.VIDEO_ON_MAIN?"block":"none"}controlObj.updateDuration(videoManagerObj.getCurrentTime()),controlObj.setAdMode(mode!=modes.VIDEO_ON_MAIN,!0),mode==modes.VIDEO_ON_MAIN&&is360ConfigOn()?turnOn360View():turnOff360View()}function restoreMode(){log("@restoreMode"),switchMode(modes.VIDEO_ON_MAIN),!pluginLoader.isCustomPlaybackUsed().dfp&&controlObj&&controlObj.setPointerEvents&&controlObj.setPointerEvents(!0),prevPlayerType=null}function toggleBufferSpinner(e){log("@toggleBufferSpinner",e),!userParams.spinnerVisible&&"spinnerVisible"in userParams||userParams.chromeless||splashObj.buffering(e),e||bufferingCompleted?bufferingCompleted&&e&&(bufferingCompleted=!1,dispatchEvent("BUFFER_START",null)):(bufferingCompleted=!0,dispatchEvent("BUFFER_END",null))}function validTransition(e){return e in transitions[prevState]}function onPlaySucceeded(){log("@onPlaySucceeded")}function onPlayFailed(e){log("@onPlayFailed",e.name,e.message),"NotAllowedError"==e.name&&(dispatchError("PLAY510",e.message),log("Possibly problem related to the missing user gesture"),adTimerObj.hide(),currentItem.sourceLoaded=!1),updateState("ready2PlayVideoContent"),toggleBufferSpinner(!1),splashObj.show("loadScreen",mode,currentItem.src_image_url),(autoPlay||live)&&touchAvailable&&(videoManagerObj.toggleMobileAutoPlay(!1),controlObj.toggleVolume())}function updateState(e){e&&e!=state&&(prevState=state,state=e,dispatchEvent("STATE_CHANGE",state),log("STATE-> ",state),updateContentInfo(),pluginLoader.sendBeacon(state,contentInfo),state in{playingVideoContent:1,fetchingVideoContent:1}?videoManagerObj.startTimeNotification(state):(log("@updateState",state,mode),"playingAdContent"==state&&mode==modes.AD_ON_MAIN?videoManagerObj.startTimeNotification(state):videoManagerObj.cancelTimeNotification()))}function updateCustomContentInfo(e){var t=e.custom_metadata_map||e.custom_metadata;if(log("@updateCustomContentInfo",!!t,t&&JSON.stringify(!!t,null,3)),contentInfo&&e&&t)for(var n in t)t.hasOwnProperty(n)&&(contentInfo["custom$"+n]=t[n])}function getDerivedMetadata(e,t,n){return derivedMetadataManagerObj.get(contentInfo,userParams,e,t,n)}function getConfigValue(e,t,n){var r,i,a=e+t;if(e&&t){r=a.split(":");for(var o=0,s=r.length;o<s;o++){if(!(i=i||userParams))return n;if(!i)return n;i=i[r[o]]}return i}return n}function updateContentInfo(){var e,t;if(presentation&&"currentTime"in presentation?contentInfo.timeIndex=presentation.currentTime:videoManagerObj&&(contentInfo.timeIndex=videoManagerObj.getCurrentTime()),presentation&&"totalTime"in presentation&&"content"==presentation.contentType?contentInfo.duration=presentation.totalTime:currentItem&&(contentInfo.duration=currentItem.duration),mode==modes.VIDEO_ON_MAIN)currentItem&&(contentInfo.contentId=currentItem.upload_id,contentInfo.contentTitle=currentItem.episodeTitle||currentItem.def_title,contentInfo.episodeTitle=currentItem.episodeTitle,contentInfo.episodeNumber=currentItem.episode_no,contentInfo.showTitle=currentItem.def_title,contentInfo.tags=currentItem.tags,contentInfo.contentDefinition=currentItem.def_description,contentInfo.videoType=currentItem.duration>600?"Long Form":"Clip",contentInfo.video_type=currentItem.video_type,contentInfo.videoId=currentItem.upload_id,contentInfo.categories=currentItem.categories instanceof Array?currentItem.categories.join(","):currentItem.categories,contentInfo.tsPublished=currentItem.ts_published,contentInfo.program_name=currentItem.program_name,contentInfo.primaryCategory=currentItem.primary_category,contentInfo.mcp_id=currentItem.mcp_id,contentInfo.owner_id=currentItem.owner_id,contentInfo.bitrate=currentBitrate||"",contentInfo.live=2==currentItem.video_type,contentInfo.channel=currentItem.channel,contentInfo.season=currentItem.season,contentInfo.group=currentItem.group,contentInfo.titleWithEpisode=currentItem.titleWithEpisode||currentItem.def_title,contentInfo.eventId=currentItem.eventId||contentInfo.contentId,contentInfo.timeViewed=currentItem.timeViewed||0,contentInfo.lastContentTimeIndex=(presentation&&"number"==typeof presentation.currentTime?presentation.currentTime:lastTimeIndex)||0,userStartTypeOverride&&userStartTypeOverride.startType?(log("### startType override detected"),contentInfo.autoManual=userStartTypeOverride.startType,userStartTypeOverride.applyAutoForNext&&(log("### applyAutoForNext detected"),userStartTypeOverride.autoForNextContentId?userStartTypeOverride.autoForNextContentId!=contentInfo.eventId&&userStartTypeOverride.autoForNextVideoType==contentInfo.video_type&&(log("### autoForNextContentId set previously, video_type("+contentInfo.video_type+") same, contentId("+contentInfo.eventId+") different assuming auto"),contentInfo.autoManual="auto"):!contentInfo.live||contentInfo.live&&contentInfo.videoId!=contentInfo.eventId?(log("### autoForNextContentId not set, setting (with "+contentInfo.eventId+") for the first time"),userStartTypeOverride.autoForNextContentId=contentInfo.eventId,userStartTypeOverride.autoForNextVideoType=contentInfo.video_type):log("### skipping setting autoForNextContentId since initialTitle is set and equal to eventId"))):contentInfo.autoManual=autoStartCheckResult?"auto":"manual",contentInfo.ts_airdate=currentItem.ts_airdate,contentInfo.startTime=currentItem.startTime,contentInfo.endTime=currentItem.endTime,contentInfo.talentName=currentItem.talentName,contentInfo.roviId=currentItem.roviId,contentInfo.initialTitle=currentItem.initialTitle,contentInfo.chapterTitle=currentItem.episodeTitle||currentItem.def_title,contentInfo.chapterIndex=presentation&&"chapterIndex"in presentation?presentation.chapterIndex:contentInfo.chapterIndex,contentInfo.chapterStartTime=presentation&&"startTime"in presentation?presentation.startTime:0,contentInfo.chapterEndTime=presentation&&"endTime"in presentation?presentation.endTime:currentItem.duration),videoManagerObj&&(contentInfo.timeIndex=videoManagerObj.getCurrentTime()),contentInfo.type.video=!0;else{if(contentInfo.type.video=!1,log("updateContentInfo check presentation.totalTime",JSON.stringify(presentation,null,3)),presentation&&"ad"==presentation.contentType)contentInfo.adBreakDuration=presentation.totalTime,contentInfo.adDuration=presentation.currentAdDuration,contentInfo.adIsClientSideInsertion=!1,log("presentation.totalTime",presentation.totalTime);else{var n,r=pluginLoader.getAdInformation();for(var i in r)if((n=r[i])&&n.isLinear){contentInfo.adDuration=n.adDuration,contentInfo.adId=n.adId,contentInfo.adMediaURL=n.adMediaURL,contentInfo.vastApiFramework=n.vastApiFramework,contentInfo.vastCreativeId=n.vastCreativeId,t=n.adTitle;break}mode==modes.AD_ON_MAIN&&(contentInfo.adDuration=videoManagerObj.getDuration()),contentInfo.adIsClientSideInsertion=!0}contentInfo.videoType="Ad",contentInfo.videoURL="Ad server",contentInfo.adIndex=presentation&&"adIndex"in presentation?presentation.adIndex:0,contentInfo.adBreakIndex=presentation&&"adBreakIndex"in presentation?presentation.adBreakIndex:0,contentInfo.contentDefinition=currentAd?currentAd.creativeId:void 0,contentInfo.adTitle=t||(currentAd?currentAd.creativeId:void 0)}currentItem&&(contentInfo.videoId=currentItem.upload_id,contentInfo.mcp_id=currentItem.mcp_id,contentInfo.owner_id=currentItem.owner_id,contentInfo.thumbnail=currentItem.thumbnail),contentInfo.playerId=deviceInfo.firetv?"firetv":"Anvato Universal Player",contentInfo.playerType=deviceInfo.firetv?"firetv":"Anvato Universal Player",contentInfo.playerName=deviceInfo.firetv?"firetv":"Anvato Universal Player",contentInfo.appURL=userParams.baseURL+"anvload.html",contentInfo.siteURL=userParams.parentPageURL,contentInfo.siteTitle=document.title,contentInfo.siteReferrer=userParams.referrerURL,contentInfo.mvpdDisplayName=userParams.mvpdDisplayName,contentInfo.mvpd=userParams.mvpd||userParams.accessControl&&userParams.accessControl.mvpd,contentInfo.host=userParams.host,contentInfo.fullscreen=!!deviceInfo.ott||fullscreen,contentInfo.version=userParams.version,e=util.prettifyDate((new Date).getTime()),contentInfo.dayOfWeek=e.dayOfWeek,contentInfo.day=e.day,contentInfo.hours=e.hours,contentInfo.minutes=e.minutes,contentInfo.date=[e.month,e.day,e.year].join("/"),contentInfo.daiRules=currentItem&&currentItem.daiRules,contentInfo.videoURL=videoManagerObj.getSource()||"",contentInfo.volume=currentVolume,contentInfo.platform=deviceInfo.isMobileBrowser?"Mobile":"PC"}function getAdBreaks(e,t){var n=e.interstitials;currentAdBreaks=null,sAdManager=sAdManager||new StitchedAdManager(mediator,logger,{dispatchEvent:dispatchEvent,dispatchError:dispatchError},componentNodes.adTracker,userParams),sAdManager.setVideoInfo({isLive:live}),"string"==typeof n?sAdManager.getAdBreaks(n,t,onAdBreaks,onAdBreaksError):"object"==typeof n&&"cues"in n&&n.cues.length&&(!t&&n&&n.content&&n.content.output_duration&&(t=n.content.output_duration),sAdManager.populateZones(n.cues,t),sAdManager.setAdTrackerInfo(e.breaks,e.info),log("@getAdBreaks",t),onAdBreaks(n.cues,t))}function resetAdBreaks(e){log("@resetAdBreaks",e),currentAdBreaks=null,adTimerObj.hide(),sAdManager&&(sAdManager.setVideoInfo({isLive:live}),sAdManager.resetAdBreaks(e,onAdBreaks))}function onAdBreaks(e,t){var n,r;if(sAdManager){n=[];for(var i=0,a=e.length;i<a;i++)r=sAdManager.translateToPresentation(e[i].end,t).currentTime,log("subs->adBreaks",r),n.push(r)}controlObj.updateAdBreaks(n||e,t),currentAdBreaks=e||[],log("@onAdBreaks",JSON.stringify(e,null,3)),dispatchEvent("AD_BREAKS",e)}function onAdBreaksError(e){log("@onAdBreaksError",e)}function onBitrateUpdatedReturned(e){controlObj.setAvailableBitrates(defaultBitrateList,"auto",e)}function onVideoError(e,t,n,r){var i;log("@onVideoError",e,t,n,r),failoverInProgress||(i=eventManager.getErrorInfo(e)||eventManager.getErrorInfo("PLAY010"),dispatchError(i.code),showSlate(i.definition),toggleBufferSpinner(!1))}function setDuration(e){controlObj.setDuration(e),currentItem.duration=e,"function"==typeof callbacks.scheduleAdBreaks&&e&&callbackArgs.scheduleAdBreaks.length>1&&(callbackArgs.scheduleAdBreaks[1]=parseFloat(e),callbacks.scheduleAdBreaks.apply(manualAdScheduler,callbackArgs.scheduleAdBreaks),delete callbacks.scheduleAdBreaks,delete callbackArgs.scheduleAdBreaks)}function onBeforeVideoLoadReturned(e){log("@onBeforeVideoLoadReturned",e);var t,n,r,i,a=["dfp","freewheel"];if(onBeforeVideoLoadReturnedExpected){if("object"==typeof e)for(userParams.plugins=userParams.plugins||{},t=e.plugins,r=0;r<a.length;r++)n=a[r],t&&t[n]&&(isUpdateAdPluginInProgress=!0,userParams.plugins[n]=t[n],pluginLoader.updatePlugin(n,t[n],currentItem));if(e.adSlots){for(var o=0,s=e.adSlots.length;o<s;o++)if(e.adSlots[o].adConfig){manualAdScheduler=manualAdScheduler||new ManualAdScheduler(mediator,logger);break}i=videoManagerObj.getDuration()||currentItem.duration,manualAdScheduler&&(i?manualAdScheduler.scheduleAdBreaks(e.adSlots,i):(manualAdScheduler.checkPreroll(e.adSlots),callbacks.scheduleAdBreaks=manualAdScheduler.scheduleAdBreaks,callbackArgs.scheduleAdBreaks=[e.adSlots,i]))}pluginPollStarted||(log("calling pluginLoader.poll"),trackingPluginLoaderObj.poll(currentItem),pluginLoader.poll(currentItem),pluginPollStarted=!0),setMacros(),onBeforeVideoLoadReturnedExpected=!1,callbacks.onBeforeVideoLoadReturned.apply(null,callbackArgs.onBeforeVideoLoadReturned.concat(!0))}}function notifyVideoInfoUpdate(e,t){log("@notifyVideoInfoUpdate Video info updated",e);var n,r=playlistObj.mergeToItemWithId(e,t);r&&playlistObj.updateVisualPlaylist(),log("@notifyVideoInfoUpdate isMerged:",r),!currentItem||e!=currentItem.id||currentItem.formats&&!failoverInProgress?log("videoJSON update does not belong to the current item"):(currentItem=playlistObj.getItemWithId(e),prevItem&&(prevItem.isReady2Play=!1,prevItem.initialPlaybackRequested=!1,n=prevItem.id!=currentItem.id,log(n?"content has changed":"same content")),currentItem.formats?(onStaticMetadataAvailable(),registerBitrates(currentItem.formats),evaluateImpliedPlaybackStart(),updateState("bufferingVideoContent"),live="2"==currentItem.video_type,controlObj.setLive(live),controlObj.setPlayNextButton(playlistObj.hasNextItem())):(log("notifyVideoInfoUpdate no formats found"),loadNextVideo()),evaluateExpiration(),evaluateScheduleLookup())}function loadVideoWithId(e,t,n){log("@loadVideoWithId",e),log("Switching to the next video");timers.getSchedule&&(log("clearing timers.getSchedule",timers.getSchedule),clearTimeout(timers.getSchedule)),pausedTime=0,restartTv.reset(),switchMode(modes.VIDEO_ON_MAIN),currentItem&&(currentItem.startAt=0,currentItem.sourceLoaded=!1),seekingInProgress=!1,prevItem=currentItem,prevItem&&(prevItem.isReady2Play=!1,prevItem.initialPlaybackRequested=!1,evaluatePlaybackOrigin()),currentItem=playlistObj.getItemWithId(e),currentItem.startAt=0,currentItem.useBackupStream=!!t,is360ConfigOn()?enable360():disable360(),(autoPlay||playlistItemSelected||recommendationSelected)&&toggleBufferSpinner(!0),queue.length&&(currentItem.isExternal?(onStaticMetadataAvailable(),"smil"==currentItem.formats[0].format&&loaderObj?(log("smil detected"),loaderObj.fetchSmil(currentItem)):(controlObj.setLive(2==currentItem.video_type),controlObj.setPlayNextButton(playlistObj.hasNextItem()),live=2==currentItem.video_type,registerBitrates(currentItem.formats),evaluateImpliedPlaybackStart(),updateState("bufferingVideoContent"),playerConfig.deviceInfo.android&&setDuration(currentItem.duration)),evaluateExpiration(),evaluateScheduleLookup()):loaderObj&&(log("@loadNextVideo"),loaderObj.fetchVideoJSON(currentItem.id,currentItem.token,n)))}function setSource(e,t){log("@setSource"),stopTimer("monitorBufferLimit");var n,r="2"==currentItem.video_type,i={videoElement:componentNodes.videoContent,audioElement:componentNodes.audioContent,audioPosterElement:componentNodes.audioPosterElement,width:width,height:height,selectedBitrate:selectedBitrate,duration:currentItem.duration,uploadId:currentItem.upload_id,isLive:r,useBackup:currentItem.useBackupStream,poster:currentItem.src_image_url,offset:currentItem.startAt,timeDelta:timeDelta};if(r&&(segmentQueueInfo={}),restartTv.getMode()==RestartTv.Mode.VOD_EVENT&&(i.livePlayAt=restartTv.getBegin()),n=videoManagerObj.setSourceOnCompatiblePlayer(e,i,t))if(touchAvailable){var a=autoPlay&&checkAutoStart(!1);a||live||videoManagerObj.setVolume(currentVolume)}else setVolume(currentVolume);else log("@setSource failed"),toggleBufferSpinner(!1),splashObj.show("loadScreen",mode,currentItem.src_image_url);return n}function loadOriginalStream(){return log("@loadOriginalStream for",currentItem.upload_id),!(!currentItem||!currentItem.upload_id)&&(currentFailoverQueue={},play(currentItem.upload_id in failoverStationMapping?{id:failoverStationMapping[currentItem.upload_id],useBackupStream:!1}:{id:currentItem.upload_id,useBackupStream:!1}),!0)}function loadMainStream(){return log("@loadMainStream for",currentItem.upload_id),!(!currentItem||!currentItem.upload_id)&&(play({id:currentItem.upload_id,useBackupStream:!1}),!0)}function loadBackupStream(){return log("@loadBackupStream",!!videoManagerObj.hasBackupStream()),!!videoManagerObj.hasBackupStream()&&(log("@loadBackupStream for ",currentItem.upload_id),play({id:currentItem.upload_id,useBackupStream:!0}),!0)}function loadFailoverStream(){return log("loadFailoverStream"),!!currentItem.failover_channel&&(failoverStationMapping[currentItem.failover_channel]=currentItem.upload_id,play({id:currentItem.failover_channel}),!0)}function blacklistCapability(e){var t={PLAY309:1,PLAY450:1,PLAY455:1,PLAY456:1,PLAY457:1,PLAY458:1,PLAY460:1,PLAY470:1,PLAY499:1,SHAK001:1};return log("@blacklistCapability",e),e in t&&!currentItem.started&&videoManagerObj.evaluateError(e,"failover")}function displayStreamFailureSlate(e){log("@displayStreamFailureSlate");var t=eventManager.getErrorInfo(e);return showSlate(t&&t.definition||"The stream has failed to load."),timers.repeatFailover=setTimeout(loadOriginalStream,3e4),!0}function loadSource(){log("@loadSource");var e=setSource(currentItem.formats,onVideoError);return currentItem.sourceLoaded=e,dispatchEvent("MEDIA_SOURCE_SET"),mode==modes.VIDEO_ON_MAIN&&is360ConfigOn()?turnOn360View():turnOff360View(),e}function applyFailover(e){var t=currentItem.upload_id||currentItem.id;!t&&currentItem.formats&&currentItem.formats.length>0&&(t=util.md5(currentItem.formats[0].embed_url)),log("@applyFailover currentFailoverQueue:",JSON.stringify(currentFailoverQueue,null,3)),currentFailoverQueue[t]=currentFailoverQueue[t]||util.deepCopy(failoverSequence),failoverInProgress=!0;var n=currentFailoverQueue[t].length&&currentFailoverQueue[t][0];failoverReachedCriticalState=failoverReachedCriticalState||currentFailoverQueue[t].length<=1,dispatchError(e,null,failoverReachedCriticalState),videoManagerObj.destroySelectedVideoInstance(),n&&n in failoverServices&&"function"==typeof failoverServices[n]&&(log("@applyFailover proceeding with:",n),failoverServices[n](e)?"blacklistCapability"!=n&&currentFailoverQueue[t].shift():(currentFailoverQueue[t].shift(),applyFailover(e)))}function onStaticMetadataAvailable(){var e,t=[currentItem.id||currentItem.upload_id,currentItem.id||currentItem.upload_id,{video:currentItem.id||currentItem.upload_id,title:currentItem.def_title,description:currentItem.def_description,duration:currentItem.duration,poster:currentItem.src_image_url||currentItem.src_logo_url,thumbnail:currentItem.thumbnail||currentItem.src_logo_url,rating:currentItem.rating,live:"2"==currentItem.video_type,categories:currentItem.categories,tags:currentItem.tags,ownerId:currentItem.owner_id,previews:currentItem.previews,pvw_matrices:currentItem.pvw_matrices,derived_metadata:currentItem.derived_metadata}];contentInfo={type:{video:!0,adType:adTypes.PREROLL}},"2"==currentItem.video_type?currentItem.initialTitle=currentItem.def_title:delete currentItem.initialTitle,currentItem&&currentItem.custom_metadata&&updateCustomContentInfo(currentItem),currentItem&&currentItem.derived_metadata?(e=currentItem.isExternal?derivedMetadataManagerObj.Origin.APP_LEVEL_ITEM:derivedMetadataManagerObj.Origin.CONTENT_METADATA,derivedMetadataManagerObj.update(contentInfo,currentItem,e)):derivedMetadataManagerObj.update(contentInfo,{},derivedMetadataManagerObj.Origin.UNKNOWN),presentation={},segmentQueueInfo={},lastTimeIndex=0,contentInfo.lastContentTimeIndex=0,contentInfo.chapterIndex=0,currentItem.completed=!1,currentItem.started=!1,currentItem.firstQuartile=!1,currentItem.midPoint=!1,currentItem.thirdQuartile=!1,delete callbacks.scheduleAdBreaks,delete callbackArgs.scheduleAdBreaks,updateContentInfo(),setMacros(),log("@onStaticMetadataAvailable"),dispatchEvent.apply(null,["METADATA_LOADED"].concat(t))}function setMacros(){log("@setMacros"),pluginLoader.setMacros({MCP_ID:currentItem.mcp_id,VIDEO_ID:currentItem.upload_id,OWNER_ID:currentItem.owner_id,CATEGORIES:currentItem.categories?currentItem.categories.join(","):void 0,TITLE:currentItem.def_title,DESCRIPTION:currentItem.def_description,DURATION:currentItem.duration,PROGRAM_NAME:currentItem.program_name,HOST:userParams.host,PLAYER_INSTANCE:userParams.pInstance,IS_OFFSITE:!!userParams.shared})}function evaluatePlaybackOrigin(){playbackOrigin=recommendationSelected?isRecommendationSelectionManual?playbackOrigins.RECOMMENDATION_MANUAL:playbackOrigins.RECOMMENDATION_AUTO_ADVANCE:processingPlayApiCall?playbackOrigins.PLAY_API_METHOD:playlistItemSelected?playbackOrigins.PLAYLIST_MANUAL:playbackOrigins.PLAYLIST_AUTO_ADVANCE}function loadNextVideo(){log("@loadNextVideo");var e;if(pausedTime=0,switchMode(modes.VIDEO_ON_MAIN),currentItem&&(currentItem.startAt=0,currentItem.sourceLoaded=!1),seekingInProgress=!1,restartTv.reset(),prevItem=currentItem,currentItem=playlistObj.getNextItem(),log("currentItem set:",currentItem,userParams.startAt),userParams.startAt&&currentItem&&2!=currentItem.video_type&&(log("setting currentItem startAt to:",userParams.startAt),currentItem.startAt=userParams.startAt,userParams.startAt=0),prevItem&&(prevItem.isReady2Play=!1,prevItem.initialPlaybackRequested=!1,e=prevItem.id!=currentItem.id,log(e?"content has changed":"same content"),evaluatePlaybackOrigin()),log(queue.length,"items in playlist"),is360ConfigOn()?enable360():disable360(),queue.length)if(currentItem.formats){if(onStaticMetadataAvailable(),currentItem.formats.length&&"smil"==currentItem.formats[0].format&&loaderObj?(log("smil detected"),loaderObj.fetchSmil(currentItem)):(controlObj.setLive(2==currentItem.video_type),live=2==currentItem.video_type,evaluateImpliedPlaybackStart(),registerBitrates(currentItem.formats),playerConfig.deviceInfo&&playerConfig.deviceInfo.android&&setDuration(currentItem.duration)),userParams.revealMediaUrls&&dispatchEvent("MEDIA_URLS_SET",currentItem.formats),!live&&userParams.downloadable){for(var t,n=/mp4/,r=0;r<currentItem.formats.length&&!t;r++)n.test(currentItem.formats[r].format)&&(t=currentItem.formats[r].embed_url);controlObj.setDownload(t)}controlObj.setPlayNextButton(playlistObj.hasNextItem())}else loaderObj&&(log("@loadNextVideo"),loaderObj.fetchVideoJSON(parseInt(currentItem.id)),!1);return evaluateExpiration(),evaluateScheduleLookup(),!0}function loadPreviousVideo(){var e;log("Switching to the previous video"),pausedTime=0,restartTv.reset(),switchMode(modes.VIDEO_ON_MAIN),currentItem&&(currentItem.startAt=0,currentItem.sourceLoaded=!1),prevItem=currentItem,currentItem=playlistObj.getPreviousItem(),log("currentItem set:",currentItem.id,currentItem.title),userParams.startAt&&currentItem&&1==currentItem.video_type&&(currentItem.startAt=userParams.startAt,userParams.startAt=0),prevItem&&(prevItem.isReady2Play=!1,prevItem.initialPlaybackRequested=!1,e=prevItem.id!=currentItem.id,log(e?"content has changed":"same content")),log(queue.length,"items in playlist"),queue.length&&(currentItem.formats?(onStaticMetadataAvailable(),"smil"==currentItem.formats[0].format&&loaderObj?(log("smil detected"),loaderObj.fetchSmil(currentItem)):(controlObj.setLive(2==currentItem.video_type),live=2==currentItem.video_type,evaluateImpliedPlaybackStart(),updateState("bufferingVideoContent"),playerConfig.deviceInfo.android&&setDuration(currentItem.duration))):loaderObj&&(log("@loadNextVideo"),loaderObj.fetchVideoJSON(parseInt(currentItem.id)))),evaluateExpiration(),evaluateScheduleLookup()}function evaluateImpliedPlaybackStart(e){log("@evaluateImpliedPlaybackStart");for(var t,n=!0,r=!1,i=!1,a=arguments.length,o=[];a--;)o[a]=arguments[a];return userParams.useBeforeVideoLoadTriggers&&!e?(onBeforeVideoLoadReturnedExpected=!0,callbacks.onBeforeVideoLoadReturned=evaluateImpliedPlaybackStart,callbackArgs.onBeforeVideoLoadReturned=o,dispatchEvent("BEFORE_VIDEO_LOAD",currentItem,userParams),!1):(controlObj.setLive(2==currentItem.video_type),live=2==currentItem.video_type,util.getAutoPlaySupport().evaluationCompleted?(log("autoplay support:",util.getAutoPlaySupport()),userParams.disableMutedAutoplay&&(sessionAutoPlaySupport.mutedAutoPlay=!1),dispatchAutoPlayEvent(),autoStartCheckResult=t=checkAutoStart(!0),currentItem.exception?(log("dispatching :",JSON.stringify(currentItem)),dispatchEvent("PLAYER_ERROR",currentItem.exception.toString())):(log("autoStartExpected:",t),prevItem&&(n=prevItem.id!=currentItem.id,log(n?"content has changed":"same content")),n&&dispatchEvent("PLAYLIST_ITEM_CHANGED",getPlaylistIndex(),currentItem.id),log("@evaluateImpliedPlaybackStart","currentItem.play",currentItem.play),log("@evaluateImpliedPlaybackStart","hasContentChanged",currentItem.play,autoPlay,n),log("@evaluateImpliedPlaybackStart","playingStartFired",playingStartFired),!playingStartFired&&processingPlayApiCall&&deviceInfo.isMobileBrowser&&!deviceInfo.ott&&(i=!0,processingPlayApiCall=!1),log("@evaluateImpliedPlaybackStart",i,n,currentItem.play||t),!i&&(currentItem.play||t)&&n?r=!0:playlistItemSelected||recommendationSelected?r=!0:userParams.preload&&(loadSource(),r=!1),failoverInProgress||splashObj.show("loadScreen",mode,currentItem.src_image_url||null,null,r),r?(onPlayRequested(!0),toggleBufferSpinner(!0),updateState("bufferingVideoContent"),logoObj.show()):(controlObj.setVisibilityMode("hidden"),logoObj.hide(),controlObj.setVisibilityMode("hidden"),videoManagerObj.hide()),deviceInfo.android&&setDuration(currentItem.duration)),r):void util.registerAutoPlayDetectionCallback(evaluateImpliedPlaybackStart,o))}function evaluateExpiration(){timeDelta=loaderObj.getTimeDelta()||0;var e=(new Date).getTime()+timeDelta;log("@evaluateExpiration timeDelta",timeDelta),log("@evaluateExpiration",currentItem.ts_expire,e/1e3),currentItem.ts_expire&&e/1e3>currentItem.ts_expire&&(dispatchError("PLAY410"),log("content has expired"))}function evaluateScheduleLookup(){log("evaluating need for schedule",live,!!userParams,!!userParams.accessKey),live&&userParams&&userParams.accessKey&&(timers.getSchedule=setTimeout(loaderObj.getSchedule,1e4))}function onFullscreenChange(e){log("@onFullscreenChange","origin",e),log("@onFullscreenChange","document.fullscreenElement",!!document.fullscreenElement),log("@onFullscreenChange","document.mozFullScreenElement",!!document.mozFullScreenElement),log("@onFullscreenChange","document.webkitFullscreenElement",!!document.webkitFullscreenElement),log("@onFullscreenChange","videoManagerObj.videoContent().webkitDisplayingFullscreen",!!videoManagerObj.videoContent().webkitDisplayingFullscreen);var t=!!(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||this.webkitDisplayingFullscreen||videoManagerObj.videoContent().webkitDisplayingFullscreen);log("fullscreenchange",fullscreen,t),fullscreen!=t&&(log("correcting mode"),fullscreen=t,t?(controlObj.rescale(parseInt(util.getWindowSize().w),!0),splashObj.rescale(parseInt(util.getWindowSize().w),!0),componentNodes.userContainer.style.width=util.getWindowSize().w+"px",componentNodes.userContainer.style.height=util.getWindowSize().h+"px"):(log("rescaling to",width,"x",height),controlObj.rescale(parseInt(width)),splashObj.rescale(parseInt(width)),componentNodes.userContainer.style.width=width,componentNodes.userContainer.style.height=height,is360Enabled()&&sphericalRendererObj.resize(parseInt(width),parseInt(height)),(deviceInfo.ipad||deviceInfo.iphone)&&(videoManagerObj.getPaused()&&(updateState("pausedVideoContent"),controlObj.setPaused(!0),controlObj.setVisibilityMode("hidden"),splashObj.show("pauseScreen",mode,null,currentItem.duration-videoManagerObj.getCurrentTime())),"playingVideoContent"==state&&setTimeout(function(){log("ipad fullscreen triggered play"),videoManagerObj.play()},100)))),captionManagerObj.setFullscreenRatio(t?util.getWindowSize().w/parseInt(width):1),logoObj.resize(t?util.getWindowSize().h/parseInt(height):1),!fullscreen&&captionSetShown&&parseInt(width)<500&&toggleCaptionSettings(),videoManagerObj.setFullscreen(t),controlObj.setFullscreen(t),captionManagerObj.getCaptionType()==captionTypes.EMBEDDED&&controlObj.setAvailableCaptionLanguages(captionManagerObj.getAvailableLanguages(),captionManagerObj.getCurrentLanguage(),!1),timers.detectWindowSize=setTimeout(detectWindowSize,50),dispatchEvent(t?"USER_FULLSCREEN":"USER_CANCEL_FULLSCREEN")}function toggleFullscreen(){log("@toogleFullscreen",fullscreen),fullscreen?(fullscreen=!1,util.cancelFullScreen(),controlObj.rescale(parseInt(width)),splashObj.rescale(parseInt(width)),componentNodes.userContainer.style.width=width,componentNodes.userContainer.style.height=height,controlObj.setFullscreen(!1)):(fullscreen=!0,videoManagerObj.show(),!deviceInfo.isMobileBrowser||deviceInfo.android||pluginLoader.isAvailable("dfp")&&!pluginLoader.isCustomPlaybackUsed().dfp?(window.onresize=detectWindowSize,userParams.hasContainerFullscreenSupport?(util.requestFullScreen(componentNodes.videoContainer),is360Enabled()&&sphericalRendererObj.resize(util.getWindowSize().w,util.getWindowSize().h)):is360Enabled()?userParams.hasCanvasFullscreenSupport?util.requestFullScreen(componentNodes.canvasContent):(util.requestFullScreen(videoManagerObj.videoContent()),fullscreenOnVideoElement=!0):util.requestFullScreen(videoManagerObj.videoContent())):(util.requestFullScreen(videoManagerObj.videoContent()),fullscreenOnVideoElement=!0),deviceInfo.isMobileBrowser||(controlObj.rescale(parseInt(util.getWindowSize().w),!0),splashObj.rescale(parseInt(util.getWindowSize().w),!0),componentNodes.userContainer.style.width=util.getWindowSize().w+"px",componentNodes.userContainer.style.height=util.getWindowSize().h+"px",sphericalRendererObj&&sphericalRendererObj.resize(util.getWindowSize().w,util.getWindowSize().h)),controlObj.setFullscreen(!0))}function resize(e,t){log("@resize Resizing to:",e,"X",t);var n=util.getScaledFontSize(e);width=e,height=t,componentNodes.userContainer.style.width=width+"px",componentNodes.userContainer.style.height=height+"px",videoManagerObj.resize(e,t),adLearnMoreObj.rescale(e),adTimerObj.rescale(e),captionManagerObj.resize(t),is360Enabled()&&sphericalRendererObj.resize(e,t),controlObj.rescale(e),splashObj.rescale(e),captionSetObj.rescale(e),checkPlaylistNode(),componentNodes.videoContainer.style.width=width+"px",componentNodes.videoContainer.style.height=height+"px",componentNodes.adContent.style.width=width+"px",componentNodes.adContent.style.height=height+"px",componentNodes.share.style.width=width+"px",componentNodes.share.style.height=height+"px",componentNodes.search.style.width=width+"px",componentNodes.search.style.height=height+"px",componentNodes.recom.style.width=width+"px",componentNodes.recom.style.height=height+"px",componentNodes.slate.style.width=width+"px",componentNodes.slate.style.height=height+"px",(!pluginLoader.isAvailable("dfp")||pluginLoader.isAvailable("dfp")&&!pluginLoader.isCustomClickTrackingUsed().dfp)&&(componentNodes.adTracker.style.height=parseInt(height)-53+"px"),componentNodes.captionSet.style.width=parseInt(width)>=500?width:"640px",componentNodes.captionSet.style.height=parseInt(width)>=500?height:"360px",componentNodes.adTracker.style.fontSize=n+"px",componentNodes.skipAdButton.style.fontSize=(userParams.skip&&userParams.skip.sizeFactor?userParams.skip.sizeFactor:1)*n+"px",log("@scale width:",parseInt(width),"title font size:",componentNodes.adTracker.style.fontSize)}function initComponents(e,t,n){function r(){log("pollForDuration");var e=videoManagerObj.getDuration();i(e)?setDuration(e):setTimeout(r,300)}function i(e){return e&&!isNaN(e)&&e>2}function a(e){log("@onchange",e,e.type);var t="visible",n="hidden",r={focus:t,focusin:t,pageshow:t,blur:n,focusout:n,pagehide:n},i=this.hidden||this.mozHidden||this.webkitHidden||this.msHidden;e=e||window.event,e.type in r&&(i="hidden"==r[e.type]),log("@onchange>>>",i?"hidden":"visible")}function o(e){var t=videoManagerObj.getBufferEnd();log("@pollBuffer",t,mode),t?e():timers.pollBuffer=setTimeout(o.bind(null,e),200)}function s(e,t){var n,r,i;log("@subs->captionUpdate"),log("Received captionUpdate",JSON.stringify(e,null,3)),captionManagerObj.setCaptionType(captionTypes.SIDE_CAR),captionManagerObj.loadCaptionInfo(e),n=captionManagerObj.getAvailableLanguages(),log("CAPTION LANGUAGES-> ",JSON.stringify(n),t),r="string"==typeof t?t:null,controlObj.toggleCaptionSettingButton(!0),controlObj.setAvailableCaptionLanguages(n,r,!0),currentCaptionLanguage=captionManagerObj.getCurrentLanguage(),i=captionManagerObj.loadLanguage(currentCaptionLanguage),log("@subs->captionUpdate success?",i),i||(captionManagerObj.turnOff(),currentCaptionLanguage=null),
n&&n.length&&dispatchEvent("CAPTION_DETECTED",n)}function l(e){log("@extractAdTrackerInfo",e);var t,n;if(e)for(var r=0,i=e.length;r<i;r++)if((n=e[r])&&"vast_meta"==n.type){t=n.tracking,e.splice(r,1);break}return{ads:e,type:"linear",tracking:t}}function A(e){var t,n=JSON.parse(e);log("@onVastMetadata",n,segmentQueueInfo.currentAdCue),currentAdBreaks=null,sAdManager=sAdManager||new StitchedAdManager(mediator,logger,{dispatchEvent:dispatchEvent,dispatchError:dispatchError},componentNodes.adTracker,userParams),sAdManager.setVideoInfo({isLive:live}),sAdManager.populateZones([segmentQueueInfo.currentAdCue],1/0),t=l(n),sAdManager.setAdTrackerInfo([t],null),onAdBreaks([segmentQueueInfo.currentAdCue],1/0)}function d(e){console.error("@onVastMetadataError",e)}function c(e){var t,n,r;if("cue"==e.type)try{t=util.decodeURLParams("?"+e.payload),delete e.payload,dispatchEvent("CUE_POINT",util.merge(t,e)),log("@subs->cueUpdated cue:",JSON.stringify(t,null,3)),evaluateCue(t)}catch(t){console.error("Encountered an error while processing "+e.type+" payload")}else if("beacon"==e.type){try{t=JSON.parse(e.payload)}catch(t){return void console.error("Encountered an error while parsing "+e.type+" payload",t)}dispatchEvent("SEGMENT_BEACON",t),log("@subs->cueUpdated beacon:",JSON.stringify(t,null,3)),evaluateBeacon(t)}else"priv"==e.type&&(n=e.payload,r=/nielsen/.test(n.toLowerCase())?"nielsen":/anvato/.test(n.toLowerCase())?"anvato":"unknown",log("id3:",n),mediator.publish("id3TagDetected",n,r))}var u,g=!1;if(e||(e=640,t=360),"number"==typeof e&&(e=e.toString()),"number"==typeof t&&(t=t.toString()),-1==e.indexOf("%")&&-1==e.indexOf("px")&&(e+="px"),-1==t.indexOf("%")&&-1==t.indexOf("px")&&(t+="px"),width=e,height=t,initialWidth=parseFloat(e),initialHeight=parseFloat(t),u=util.getScaledFontSize(width),componentNodes.userContainer.style.width=width,componentNodes.userContainer.style.height=height,componentNodes.videoContainer.style.width=width,componentNodes.videoContainer.style.height=height,componentNodes.adContent.style.width=width,componentNodes.adContent.style.height=height,componentNodes.canvasContent.width=parseInt(width),componentNodes.canvasContent.height=parseInt(height),componentNodes.share.style.width=width,componentNodes.share.style.height=height,componentNodes.search.style.width=width,componentNodes.search.style.height=height,componentNodes.recom.style.width=width,componentNodes.recom.style.height=height,componentNodes.slate.style.width=width,componentNodes.slate.style.height=height,componentNodes.adTracker.style.height=parseInt(height)-53+"px",componentNodes.adTracker.style.fontSize=u+"px",componentNodes.skipAdButton.style.fontSize=(userParams.skip&&userParams.skip.sizeFactor?userParams.skip.sizeFactor:1)*u+"px",componentNodes.adTimer.style.fontSize=u+"px",componentNodes.adLearnMore.style.fontSize=u+"px",log("@scale width:",parseInt(width),"title font size:",componentNodes.adTracker.style.fontSize),componentNodes.captionSet.style.width=parseInt(width)>=500?width:"640px",componentNodes.captionSet.style.height=parseInt(width)>=500?height:"360px",userParams.pauseOnClick&&util.addEventListener(componentNodes.videoContainer,"click",function(e){var t={playingVideoContent:1,pausedVideoContent:1};e.target.id.indexOf("splash-img")>=0&&-1==e.target.id.indexOf("splash-share")&&-1==e.target.id.indexOf("play-button")&&state in t&&onPlayPauseRequested(!1)}),deviceInfo=playerConfig.deviceInfo||util.getDeviceInfo,touchAvailable=deviceInfo.isMobileBrowser||deviceInfo.smartTV,!Object.keys(componentNodes).length)throw new Error("ComponentNodes not populated yet");if(langObj=new Language(mediator,userParams,logger),langObj.init(),tr=langObj?langObj.tr:function(){return"--"},videoManagerObj=new VideoManager(mediator,deviceInfo,logger,userParams,externalMediaCallListener,{dispatchEvent:dispatchEvent,dispatchError:dispatchError}),videoManagerObj.setVideoInstanceType("HTML5"),videoManagerObj.init(componentNodes.videoContent,e,t),touchAvailable?log("initComponents autoPlay",autoPlay,"live",live):util.addClass(componentNodes.userContainer,"anv-no-touch"),userParams.hasVideoFullscreenSupport=util.checkFullscreen(componentNodes.videoContent),userParams.hasContainerFullscreenSupport=util.checkFullscreen(componentNodes.videoContainer),userParams.hasCanvasFullscreenSupport=util.checkFullscreen(componentNodes.canvasContent),"inlinePlayback"in userParams&&!userParams.inlinePlayback||!deviceInfo.iphone&&!deviceInfo.ipod||!util.isInlineVideoSupported()||videoManagerObj.toggleInlinePlayback(!0),adLearnMoreObj=new AdLearnMore(mediator,componentNodes.adLearnMore),adLearnMoreObj.init(e),"learnMore"in userParams&&adLearnMoreObj.applyStyle(userParams.learnMore),adTimerObj=new AdTimer(mediator,langObj,componentNodes.adTimer),adTimerObj.init(e),("info"in userParams&&!userParams.info||userParams.chromeless)&&(adTimerObj.disable(),util.removeClass(componentNodes.adTimer.parentNode,"ad-timer-wrapper-gradient",!0)),captionManagerObj=new CaptionManager(mediator,componentNodes.track,componentNodes.caption608Node,componentNodes.videoContent.textTracks,logger),captionManagerObj.init(e,t),captionSetObj=new CaptionSetting(mediator,componentNodes.captionSet,logger),captionSetObj.init(),shareObj=new Share(mediator,componentNodes.share,langObj,logger,deviceInfo,userParams,{dispatchError:dispatchError}),shareObj.init(),searchObj=new Search(mediator,componentNodes.search,langObj,logger),searchObj.init(),controlObj=new Control(mediator,langObj,logger,deviceInfo,userParams),controlObj.init(componentNodes.control),controlObj.setVisibilityMode("hidden"),"volume"in userParams&&(userParams.volume>1&&(userParams.volume=userParams.volume/100),postInitQueue.push({fn:setVolume,args:[userParams.volume]}),currentVolume=userParams.volume),(queue.length<2||"external"==userParams.playlistMode)&&controlObj.setPlaylistReady(!1),previewObj=new Preview(mediator,componentNodes.preview,logger),previewObj.init(),sliderPreviewObj=new SliderPreview(mediator,componentNodes.sliderPreview,logger),sliderPreviewObj.init(),splashObj=new Splash(mediator,componentNodes.splash,logger,deviceInfo,userParams),splashObj.init(),recomObj=new Recommendation(mediator,componentNodes.recom,logger,userParams),recomObj.init(),userParams.recom||userParams.recommendations){var f=userParams.recom||userParams.recommendations;"object"==typeof f&&"feed"==f.type&&f.id&&(feedObj=new Feed(logger),feedObj.init(f.id,feedObj.outputTypes.RECOMMENDATIONS,function(e){waitingForFeed&&e instanceof Array&&(recomObj.setRecommendations(sanitizeWithRecommendationBlackList(e,recommendationBlacklist)),toggleBufferSpinner(!1),waitingForFeed=!1)},function(){throw feedObj=null,toggleBufferSpinner(!1),waitingForFeed=!1,"Unable to load feed data."}))}adObj=new AdVideo(mediator),adObj.init(componentNodes.adContent,e,t),logoObj=new Logo(mediator,componentNodes.logo,logger,userParams.logo),logoObj.init(t),ratingObj=new Rating(mediator,componentNodes.rating,logger,userParams.rating),slateObj=new Slate(componentNodes.slate),derivedMetadataManagerObj=loaderObj.getDerivedMetadataManager(),touchAvailable?(util.addEventListener(componentNodes.userContainer,"touchstart",function(e){},!1),util.addEventListener(componentNodes.userContainer,"touchend",function(e){log("EVENT-> touchend")},!1),util.addEventListener(componentNodes.userContainer,"touchstart",function(e){log("EVENT-> touchstart"),captionSetShown||shareShown||searchShown||playlistShown||"loadScreen"==splashMode||mode!=modes.VIDEO_ON_MAIN||(state in{playingVideoContent:1,playingAdContent:1}&&(controlObj.setVisibilityMode("responsive"),controlObj.showTemporarily()),splashObj.show("hoverScreen",mode))},!1),util.addEventListener(componentNodes.userContainer,"touchmove",function(e){deviceInfo.iphone||deviceInfo.ipod||captionSetShown||shareShown||searchShown||playlistShown||mode!=modes.VIDEO_ON_MAIN||splashObj.show("hoverScreen",mode)},!1)):(util.addEventListener(componentNodes.userContainer,"mousemove",function(){captionSetShown||shareShown||searchShown||recommendationSelected||playlistShown||"loadScreen"==splashMode||"pauseScreen"==splashMode||"castScreen"==splashMode||"FLASH"==playerType&&!flashPlayerLoaded||(controlObj.showTemporarily(),mode==modes.VIDEO_ON_MAIN&&splashObj.show("hoverScreen",mode))},!1),util.addEventListener(componentNodes.userContainer,"mouseleave",function(){captionSetShown||shareShown||searchShown||playlistShown||"loadScreen"==splashMode||"pauseScreen"==splashMode||(log("mouse left"),controlObj.hide(),splashObj.hide())},!1)),pluginLoader=new PluginLoader(mediator,plugins,{videoContainerNode:componentNodes.videoContainer,videoNode:componentNodes.videoContent,adNode:componentNodes.adContent,adTimer:componentNodes.adTimer,skipAdButton:componentNodes.skipAdButton,adLearnMore:componentNodes.adLearnMore,clickTracker:componentNodes.adTracker,companions:userParams.companions},logger,userParams,{dispatchError:dispatchError,postWithWsse:loaderObj.postWithWsse,getDerivedMetadata:getDerivedMetadata,getConfigValue:getConfigValue},langObj),userParams&&window.top!==window.self&&(userParams.shared||userParams.width&&userParams.width.indexOf("%")>-1)&&(window.onresize=detectWindowSize),mediator.subscribe("loadeddata",function(e){log("@subs->loadeddata",e),seekingInProgress||(playingStartFired=!1,dispatchEvent("FIRST_FRAME_READY"))}),mediator.subscribe("loadedmetadata",function(e,t){if(log("@subs->loadedmetadata",e,t),log("loadedmetadata duration:",e,t,mode,videoManagerObj.getDuration(),currentItem.duration),e=parseInt(e),i(e))setDuration(e);else{var n=parseInt(currentItem.duration);live||(i(n)?setDuration(n):r())}}),mediator.subscribe("bufferLimitUpdated",function(e){userParams.revealBufferInfo&&(fastForwardInfo.bufferEnd=e,dispatchEvent("BUFFER_LIMIT_UPDATED",e))}),mediator.subscribe("userEvent",function(){var e=Array.prototype.slice.call(arguments);e.pop(),log("@userEvent",e),dispatchEvent.apply(null,e)}),mediator.subscribe("updateTime",function(e,t){var n,r,i=userParams.videoViewThreshold||3;if(presentation={},seekingInProgress&&currentItem.startAt&&e-currentItem.startAt>.2&&(toggleBufferSpinner(!1),seekingInProgress=!1),"videoOnChromecast"!=mode){if(sAdManager&&currentAdBreaks&&currentAdBreaks.length&&!isLinearAdPlaying("dfp")?(presentation=sAdManager.translateToPresentation(e,currentItem.duration),t="ad"==presentation.contentType?presentation.totalTime||t:presentation.totalTime,controlObj.setDuration(t),e=presentation.currentTime||e,presentation.currentTime=e,presentation.totalTime=t,"ad"==presentation.contentType?(mode!=modes.AD_ON_MAIN&&(switchMode(modes.AD_ON_MAIN),updateState("playingAdContent")),updateContentInfo(),sAdManager.updateState(presentation)):(sAdManager.updateState(presentation),"content"==presentation.contentType&&mode!=modes.VIDEO_ON_MAIN&&(switchMode(modes.VIDEO_ON_MAIN),updateState("playingVideoContent"),updateContentInfo(),currentItem.started&&dispatchEvent("VIDEO_STARTED",currentItem.id,currentItem.def_title))),live&&restartTv.getMode()!=RestartTv.Mode.NONE&&"ad"!=presentation.contentType||dispatchEvent("PRESENTATION_UPDATED",e,t,presentation.contentType,presentation.adIndex,presentation.totalAds),"ad"!==presentation.contentType||"info"in userParams&&!userParams.info?componentNodes.adTimer.parentNode.style.display="none":(n=parseInt(t-e),n>0&&splashObj.hide(),!live||userParams.showRemainingLiveAdDetail?(adTimerObj.updateTime(n,presentation.adIndex,presentation.totalAds),adTimerObj.show()):(adTimerObj.updateTime(-1,-1,-1),adTimerObj.show()),componentNodes.adTimer.parentNode.style.display="block")):"playingVideoContent"==state&&(live&&restartTv.getMode()!=RestartTv.Mode.NONE||dispatchEvent("PRESENTATION_UPDATED",e,currentItem.duration,"content",null,null),pluginLoader&&pluginLoader.updateTime&&lastTimeIndex!=e&&(pluginLoader.updateTime(e,currentItem.duration),manualAdScheduler&&manualAdScheduler.evaluateManualAdSchedule(e))),"playingVideoContent"==state){live?lastTimeIndex&&lastTimeIndex!=e&&(currentItem.started||(currentItem.started=!0,currentItem.completed=!1,currentItem.id=currentItem.id||currentItem.upload_id,updateContentInfo(),dispatchEvent("VIDEO_STARTED",currentItem.id,currentItem.def_title),previousTimeIndex=0,totalTimeViewed=0)):currentItem.started||(currentItem.started=!0,currentItem.completed=!1,currentItem.id=currentItem.id||currentItem.upload_id,updateContentInfo(),pluginLoader.sendBeacon("VIDEO_METADATA",contentInfo),updateState("playingVideoContent"),dispatchEvent("VIDEO_STARTED",currentItem.id,currentItem.def_title),previousTimeIndex=0,totalTimeViewed=0,ratingObj.update(currentItem.rating,currentItem.subratings)),Math.abs(e-previousTimeIndex)<=.6&&(totalTimeViewed+=e-previousTimeIndex,currentItem.timeViewed=totalTimeViewed,updateContentInfo()),previousTimeIndex=e,(userParams.videoViewStrict?Math.floor(e)==i:e>i)&&!viewCounted&&(updateContentInfo(),viewCounted=!0,pluginLoader.sendBeacon("VIDEO_VIEWED",contentInfo)),captionManagerObj&&"ad"!=presentation.contentType&&captionManagerObj.updateTime(presentation.currentTime||e),seekingInProgress||lastTimeIndex!=e||deviceInfo.iphone||deviceInfo.ipod||(videoManagerObj.getPaused()&&lastTimeIndex&&!(Math.abs(currentItem.startAt-e)<1.5)&&state in{playingVideoContent:1,playingAdContent:1}?(log("currentItem.started",currentItem.started),currentItem.started?(log("iOS 8 pause override failure measures taken  index"),videoManagerObj.pause(!0),updateState("pausedVideoContent"),controlObj.setPaused(!0),splashObj.show("pauseScreen",mode,null,currentItem.duration-videoManagerObj.getCurrentTime()),logoObj.hide()):(currentItem.sourceLoaded=!1,splashObj.show("loadScreen",mode,currentItem.src_image_url))):(deviceInfo.firefox&&(log("Wake up triggered play"),videoManagerObj.play()),!deviceInfo.ott||deviceInfo.ott&&"getReadyState"in videoManagerObj&&videoManagerObj.getReadyState())),lastTimeIndex=e,live||(!currentItem.thirdQuartile&&Math.abs(e-3*currentItem.duration/4)<.5?(currentItem.thirdQuartile=!0,dispatchEvent("VIDEO_THIRD_QUARTILE",currentItem.id,currentItem.def_title)):!currentItem.midPoint&&Math.abs(e-currentItem.duration/2)<.5?(log("VIDEO_FIRST_QUARTILE bug",currentItem.duration,e),currentItem.midPoint=!0,dispatchEvent("VIDEO_MID_POINT",currentItem.id,currentItem.def_title)):!currentItem.firstQuartile&&Math.abs(e-currentItem.duration/4)<.5&&(currentItem.firstQuartile=!0,dispatchEvent("VIDEO_FIRST_QUARTILE",currentItem.id,currentItem.def_title)));currentItem.lastMileStone=currentItem.lastMileStone||0;var a,o=Math.abs(currentItem.lastMileStone-e)>2;if(o&&((a=Math.floor(e))%4||(updateContentInfo(),currentItem.lastMileStone=a,pluginLoader.sendBeacon("VIDEO_VIEW_SEGMENT",contentInfo))),userParams.trackTimePeriod){var s,l;s=(new Date).getTime()/1e3,l=Math.floor(live?s:e),!(void 0===userParams.lastTrackedTime||void 0!==userParams.lastTrackedTime&&Math.abs(userParams.lastTrackedTime-l)>userParams.trackTimePeriod/2)||l%userParams.trackTimePeriod||(userParams.lastTrackedTime=l,dispatchEvent("TIME_UPDATED",Math.floor(userParams.lastTrackedTime),live,currentItem.upload_id,currentItem.def_title))}}"playingAdContent"==state?(controlObj.updateDuration(e),"number"==typeof t&&controlObj.setDuration(parseInt(t))):seekingInProgress?Math.abs(currentItem.startAt-e)<1.5&&!deviceInfo.ott?(seekingInProgress=!1,log("@subs->updateTime setting seekingInProgress to",seekingInProgress,currentItem.startAt,e),toggleBufferSpinner(!1)):userParams.lastTrackedTime=0:live?restartTv.getMode()!=RestartTv.Mode.NONE&&(r=restartTv.transformTimeInfo(e),controlObj.updateDuration(r.index,r.offset,r.duration),dispatchEvent("PRESENTATION_UPDATED",r.index,r.duration,"content",null,null)):controlObj.updateDuration(e),deviceInfo.android&&mode==modes.VIDEO_ON_MAIN&&Math.round(currentItem.duration)==Math.ceil(e)&&(log("publishing completedVideoContent"),mediator.publish("completedVideoContent"))}}),mediator.subscribe("playPauseClicked",onPlayPauseRequested),mediator.subscribe("adVideoPaused",function(e){updateState("pausedAdContent"),e&&dispatchEvent("IMPLICIT_PAUSE"),controlObj.setPaused(!0)}),mediator.subscribe("adVideoResumed",function(){updateState("playingAdContent"),controlObj.setPaused(!1)}),mediator.subscribe("adVideoClicked",function(){log("@adVideoClicked"),touchAvailable&&(splashObj.show("pauseScreen",mode),logoObj.hide(),pluginLoader.isAvailable("dfp")&&!pluginLoader.isCustomPlaybackUsed().dfp?pluginLoader.pause():videoManagerObj.pause(!0),updateState("pausedAdContent"))}),mediator.subscribe("playRequest",function(e){toggleCustomRecommendations(!1),onPlayRequested(e)}),mediator.subscribe("continueRequest",function(){log("@subs->continueRequest"),restoreState()}),mediator.subscribe("pauseRequest",onImpliedPauseRequest),mediator.subscribe("evaluatePausedState",function(){"playingAdContent"===state?updateState("pausedAdContent"):"playingVideoContent"===state&&updateState("pausedVideoContent")}),mediator.subscribe("completedVideoContent",function(){log("@subs->completedVideoContent"),videoManagerObj.cancelTimeNotification(),!util.getDeviceInfo.iphone&&playlistObj.hasNextItem()||util.cancelFullScreen(videoManagerObj.videoContent()),log("@subs->completedVideoContent"),state in{playingAdContent:1,pausedAdContent:1}?(updateState("completedAdContent"),captionManagerObj.show(),sAdManager&&currentAdBreaks&&currentAdBreaks.length&&(sAdManager.notifyPostrollEnd(),currentItem.completed=!0,currentItem.started=!1,currentItem.firstQuartile=!1,currentItem.midPoint=!1,currentItem.thirdQuartile=!1,currentItem.startAt=0,adTimerObj.hide(),mediator.publish("switchMode",modes.VIDEO_ON_MAIN))):state in{playingVideoContent:1,pausedVideoContent:1}&&(updateState("completedVideoContent"),currentItem.completed=!0,currentItem.started=!1,currentItem.firstQuartile=!1,currentItem.midPoint=!1,currentItem.thirdQuartile=!1,currentItem.startAt=0,dispatchEvent("VIDEO_COMPLETED",currentItem.id,currentItem.def_title),manualAdScheduler&&manualAdScheduler.hasPostroll&&manualAdScheduler.hasPostroll()?manualAdScheduler.notifyVideoEnd():pluginLoader.isAvailable("freewheel")?pluginLoader.notifyVideoEnd():pluginLoader.isAvailable("dfp")&&!pluginLoader.hasAllAdsCompleted().dfp?pluginLoader.notifyVideoEnd():mediator.publish("switchMode",modes.VIDEO_ON_MAIN))}),mediator.subscribe("fullscreenClicked",function(){log("Fullscreen clicked"),toggleFullscreen()}),util.addEventListener(document,"MSFullscreenChange",onFullscreenChange.bind(null,"MSFullscreenChange"),!1),util.addEventListener(document,"fullscreenChange",onFullscreenChange.bind(null,"fullscreenChange"),!1),util.addEventListener(document,"webkitfullscreenchange",onFullscreenChange.bind(null,"webkitfullscreenchange"),!1),util.addEventListener(document,"mozfullscreenchange",onFullscreenChange.bind(null,"mozfullscreenchange"),!1),userParams.externalVideoInterface||(util.addEventListener(videoManagerObj.videoContent(),"webkitbeginfullscreen",onFullscreenChange.bind(null,"webkitbeginfullscreen"),!1),util.addEventListener(videoManagerObj.videoContent(),"webkitendfullscreen",onFullscreenChange.bind(null,"webkitendfullscreen"),!1)),util.addEventListener(componentNodes.adContent,"webkitbeginfullscreen",onFullscreenChange.bind(null,"webkitbeginfullscreen"),!1),util.addEventListener(componentNodes.adContent,"webkitendfullscreen",onFullscreenChange.bind(null,"webkitendfullscreen"),!1);var p={visibilitychange:"hidden",mozvisibilitychange:"mozHidden",webkitvisibilitychange:"webkitHidden",onfocusin:null,onfocusout:null,onpageshow:null,onpagehide:null,onfocus:null,onblur:null};for(var h in p)if(p.hasOwnProperty(h)&&(util.addEventListener(document,h,a,!1),p[h]&&p[h]in document))break;mediator.subscribe("toggleSharePanel",function(){shareShown?(log("Share panel closed"),shareShown=!1,shareObj.hide(),restoreState()):(log("Share panel opened"),fullscreen&&deviceInfo.mac&&deviceInfo.safari&&(fullscreen=!1,util.cancelFullScreen(),controlObj.setFullscreen(!1),componentNodes.userContainer.style.width=width,componentNodes.userContainer.style.height=height),shareShown=!0,log(currentItem.upload_id,playerConfig.mcp_id,playerConfig.player_id),currentItem.upload_id&&playerConfig.mcp_id&&playerConfig.player_id?(log("Generating embed code for standard:",JSON.stringify(currentItem)),embedCode=loaderObj.generateEmbedCode({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id,anvack:userParams.accessKey,secret:userParams.secretKey}),shareLink=loaderObj.detectShareLink({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id,anvack:userParams.accessKey,secret:userParams.secretKey}),openGraphShareLink=loaderObj.generateShareLink({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id,anvack:userParams.accessKey,secret:userParams.secretKey},!0)):userParams.url?(log("Generating embed code for non-standard:",JSON.stringify(userParams)),embedCode=loaderObj.generateEmbedCode({u:userParams.url,live:userParams.live}),shareLink=loaderObj.detectShareLink({u:userParams.url,live:userParams.live}),openGraphShareLink=loaderObj.generateShareLink({u:userParams.url,live:userParams.live},!0)):userParams.key&&log("Generating embed code for non-standard:",JSON.stringify(userParams)),log("embed code:",embedCode),log("share link:",shareLink),shareObj.setTimeDelta(loaderObj.getTimeDelta()),shareObj.setEmbedCode(embedCode),shareObj.setShareLink(shareLink),shareObj.setOpenGraphShareLink(openGraphShareLink),shareObj.setDescription(currentItem.def_description),shareObj.setTitle(currentItem.def_title),shareObj.setMediaURL(currentItem.src_image_url),shareObj.show(live?null:{duration:currentItem.duration,currentTime:videoManagerObj.getCurrentTime()}),recallState=state,videoManagerObj.pause(!0),controlObj.setPaused(!0),controlObj.setVisibilityMode("hidden"),updateState("pausedVideoContent"))}),mediator.subscribe("updateEmbedInfo",function(e){shareLink=loaderObj.updateShareLink(shareLink,e),embedCode=loaderObj.updateEmbedCode(embedCode,e),shareObj.setEmbedCode(embedCode),shareObj.setShareLink(shareLink)}),mediator.subscribe("toggleSearchPanel",function(){searchShown?(log("Search panel closed"),searchShown=!1,searchObj.hide(),restoreState(),controlObj.setPaused(!1),controlObj.setVisibilityMode("responsive")):(log("Search panel opened"),fullscreen&&deviceInfo.mac&&deviceInfo.safari&&(fullscreen=!1,util.cancelFullScreen(),controlObj.setFullscreen(!1),componentNodes.userContainer.style.width=width,componentNodes.userContainer.style.height=height),searchObj.setCueList(captionManagerObj.getCueList(),captionManagerObj.getAvailableLanguages()),searchShown=!0,searchObj.show(),recallState=state,videoManagerObj.pause(!0),controlObj.setPaused(!0),controlObj.setVisibilityMode("hidden"),splashObj.hide(),updateState("pausedVideoContent"))}),mediator.subscribe("toggleCaptionSet",toggleCaptionSettings),mediator.subscribe("toggleCaptionSettingButton",function(e){log("received toggleCaptionSettingButton",e),controlObj.toggleCaptionSettingButton(e)}),mediator.subscribe("captionStyleUpdate",function(e){log("@subs->captionStyleUpdate",JSON.stringify(e,null,2)),captionManagerObj.setStyle(e)}),mediator.subscribe("captionStyleSet",function(e){log("@subs->captionStyleSet",JSON.stringify(e,null,2)),captionSetObj.setStyle(e)}),mediator.subscribe("captionThumbnailsRequest",function(e){for(var t=0;t<e.length;t++)e[t].frame=previewObj.getFrameInfo(e[t].begin,!0);searchObj.setThumbnailWidthHeight(previewObj.getWidthAndHeight(!0)),searchObj.redrawCueList(e)}),mediator.subscribe("posterLoaded",function(e){dispatchEvent("POSTER_LOADED")}),mediator.subscribe("splashDisplayed",function(e){"loadScreen"==e&&controlObj.setVisibilityMode("hidden"),splashMode=e}),mediator.subscribe("splashHidden",function(e){log("splashHidden"),splashMode=e}),mediator.subscribe("splashModeUpdated",function(e){splashMode=e}),mediator.subscribe("dispatchUserShare",function(){dispatchEvent("USER_SHARE")}),mediator.subscribe("adBreaks",function(e,t){sAdManager||controlObj.updateAdBreaks(e,t)}),mediator.subscribe("seekRequest",onSeekRequested),mediator.subscribe("previewDetected",function(e){deviceInfo.iphone||deviceInfo.ipod||setTimeout(function(){previewObj.loadPreviewMatrices(e),sliderPreviewObj.loadPreviewMatrices(e)},1500)}),mediator.subscribe("resetPreview",function(){setTimeout(function(){previewObj.reset(),sliderPreviewObj.reset()},1500)}),mediator.subscribe("previewRequest",function(e,t){(parseInt(width)>=300||fullscreen)&&(restartTv.getMode()!=RestartTv.Mode.NONE&&(e=restartTv.convertToRelativeTimeIndex(e)),previewObj.show(e,t))}),mediator.subscribe("sliderPreviewRequest",function(e,t){(parseInt(width)>=300||fullscreen)&&(seekingInProgress=!0,log("setting seekingInProgress to",seekingInProgress),touchAvailable&&controlObj.setVisibilityMode("visible"),sliderPreviewObj.show(e,t))}),mediator.subscribe("controlMoveEventsEnd",function(){captionManagerObj.setDrag(!0)}),mediator.subscribe("controlMoveEventsActive",function(){captionManagerObj.setDrag(!1)}),mediator.subscribe("showRecallLabel",function(e,t){controlObj.showRecallLabel(e,t)}),mediator.subscribe("hideRecallLabel",function(){controlObj.hideRecallLabel()}),mediator.subscribe("cancelPreviewRequest",function(){previewObj.hide()}),mediator.subscribe("cancelSliderPreviewRequest",function(){sliderPreviewObj.hide()}),mediator.subscribe("previewLoaded",function(){}),mediator.subscribe("volumeUpdate",function(e){log("@subs->volumeUpdate Updating volume to",e),"videoOnChromecast"==mode&&loaderObj.chromecast.setVolume(e),setVolume(e),0==e?(sAdManager&&sAdManager.onUserInteraction("USER_MUTE"),dispatchEvent("USER_MUTE"),isMute=!0):isMute&&(sAdManager&&sAdManager.onUserInteraction("USER_UNMUTE"),dispatchEvent("USER_UNMUTE"),isMute=!1)}),mediator.subscribe("adsLoaded",function(e){var t,n;"dfp"==e&&(t=pluginLoader.hasActiveAd().dfp,n=pluginLoader.isActiveAdLinear().dfp,log("@subs->adsLoaded",t,n),pluginLoader.setPostrollExpected(pluginLoader.hasPostroll().dfp),(!t||t&&!n)&&(log("@subs->adsLoaded (deferred) triggered play, hasActiveAd:",t),videoManagerObj.play(),updateState("playingVideoContent")))}),mediator.subscribe("nonLinearAdStarted",function(e){log("@subs->nonLinearAdStarted",e),"dfp"==e&&(dispatchEvent("NON_LINEAR_AD_DISPLAYED",e),componentNodes.adContent.style.visibility="visible",componentNodes.adContent.style.display="block",componentNodes.control.style.pointerEvents="none",componentNodes.splash.style.pointerEvents="none")}),mediator.subscribe("pluginReady",function(e){log("@subs->pluginReady",e);var t,n;"dfp"==e&&(n=pluginLoader.hasPreroll().dfp,log("@subs->pluginReady hasPreroll",e,n),t=currentItem.play||autoPlay,t&&"playingVideoContent"!=state&&(null===n?timers.resumeIfNoAd=setTimeout(evaluateResumeOnNoAd,500):n||(log("pluginReady triggered play"),videoManagerObj.play(),updateState("playingVideoContent"))),pluginLoader.setVolume(getVolume()),pluginLoader.setPostrollExpected(pluginLoader.hasPostroll().dfp))}),mediator.subscribe("videoReady2Play",function(e){var t=!1,n=!1,r=!1,i=checkAutoStart(!seekingInProgress),a=pluginLoader.isRequested("dfp")||pluginLoader.isRequested("freewheel");autoStartCheckResult=i,log("@subs->videoReady2Play",e),mode==modes.VIDEO_ON_MAIN?(updateState("ready2PlayVideoContent"),log("currentTime:",videoManagerObj.getCurrentTime()),log("startAt",currentItem.startAt),log("deferredSeekAt",userParams.deferredSeekAt),deviceInfo.ott||(currentItem.startAt=userParams.deferredSeekAt||currentItem.startAt),!live&&"canplay-mse-seeked"!=e&&Math.abs(videoManagerObj.getCurrentTime()-currentItem.startAt)>4?(log("Seeking to old position",e,deviceInfo.firetv&&0==videoManagerObj.getCurrentTime()&&"seeked"==e),videoManagerObj.seekTo(currentItem.startAt),seekingInProgress=!0,log("setting seekingInProgress to",seekingInProgress)):(currentItem.isReady2Play=!0,log("currentItem.play || autoStartExpected",currentItem.play,i),t=currentItem.play||i,n=playlistItemSelected||recommendationSelected,r=seekingInProgress,delete currentItem.startAt,seekingInProgress=!1,log("setting seekingInProgress to",seekingInProgress,videoManagerObj.getCurrentTime(),currentItem.startAt),deviceInfo.ott||delete userParams.deferredSeekAt,log("impliedAutoPlay:",t),log("selectionPlay:",n),log("afterSeekPlay:",r),log("currentItem.completed:",currentItem.completed),(t||n||r)&&"pausedVideoContent"!=prevState&&(playlistItemSelected&&(playlistItemSelected=!1),recommendationSelected&&(recommendationSelected=!1),log("@subs->videoReady2Play evaluating ad plugins...",pluginLoader.isRequested("dfp"),pluginLoader.isRequested("freewheel")),currentItem.ready2Play=!0,r||!a||a&&adPollIndex>AD_POLL_LIMIT?(log("videoReady2Play triggered play"),videoManagerObj.play(onPlaySucceeded,onPlayFailed),updateState("playingVideoContent"),adPollIndex=0):a&&(isUpdateAdPluginInProgress?isAdPollDeferred=!0:adRequested||adPollInProgress||pollAds())),"playingVideoContent"==prevState&&(log("videoReady2Play triggered play"),videoManagerObj.play(onPlaySucceeded,onPlayFailed),updateState("playingVideoContent"))),log("currentTime:",videoManagerObj.getCurrentTime()),log("startAt",currentItem.startAt),"pausedVideoContent"==prevState&&(updateState(prevState),toggleBufferSpinner(!1))):mode==modes.AD_ON_MAIN&&(updateState("ready2PlayAdContent"),updateState("playingAdContent"),controlObj.setPaused(!1),captionManagerObj.hide(),!live&&sAdManager&&(deviceInfo.ott||(currentItem.startAt=userParams.deferredSeekAt||currentItem.startAt),log("(AD_ON_MAIN) check",currentItem.startAt,videoManagerObj.getCurrentTime()),"number"==typeof currentItem.startAt&&Math.abs(videoManagerObj.getCurrentTime()-currentItem.startAt)>4?(log("(AD_ON_MAIN) Seeking to old position",e,deviceInfo.ott&&0==videoManagerObj.getCurrentTime()&&"seeked"==e),videoManagerObj.seekTo(currentItem.startAt),seekingInProgress=!0,log("setting seekingInProgress to",seekingInProgress)):(seekingInProgress=!1,delete currentItem.startAt,deviceInfo.ott||delete userParams.deferredSeekAt,log("videoReady2Play triggered play"),videoManagerObj.play(onPlaySucceeded,onPlayFailed))),prevState in{playingAdContent:1,pausedAdContent:1}&&updateState(prevState))}),mediator.subscribe("playing",function(){log("Received playing message",playingStartFired),failoverInProgress&&(failoverInProgress=!1,failoverReachedCriticalState=!1,hideSlate()),playingStartFired||(!currentItem.started&&videoManagerObj&&"External"==videoManagerObj.getType()&&live&&(currentItem.started=!0,currentItem.completed=!1,currentItem.id=currentItem.id||currentItem.upload_id,dispatchEvent("VIDEO_STARTED",currentItem.id,currentItem.def_title),updateState("playingVideoContent"),userParams.trackTimePeriod=2),deviceInfo.ie||deviceInfo.android?onPlaybackStart(!1):(clearTimeout(timers.pollBuffer),o(onPlaybackStart.bind(null,!0)))),splashObj.hide(),seekingInProgress?log("seeking in progress skipping toggleBufferSpinner"):toggleBufferSpinner(!1),log("Splash hidden"),state in{ready2PlayVideoContent:1,bufferingVideoContent:1,playingVideoContent:1,pausedVideoContent:1}?(videoManagerObj.show(),updateState("playingVideoContent"),controlObj.setPaused(!1),deviceInfo.iphone||deviceInfo.ipod||controlObj.setVisibilityMode("responsive"),log("Control shown"),logoObj.show(),splashObj.show("hoverScreen",mode),checkPlaylistNode()):state in{ready2PlayAdContent:1,pausedAdContent:1}&&(updateState("playingAdContent"),controlObj.setPaused(!1))}),mediator.subscribe("adReady2Play",function(){updateState("adReady2Play"),updateState(prevState)}),mediator.subscribe("savePauseVideoRequest",function(e){log("savePauseVideoRequest"),currentAd=e,updateState("pausedVideoContent"),controlObj.setLive(!1),pausedTime=videoManagerObj.getCurrentTime(),currentItem.startAt=videoManagerObj.getCurrentTime(),videoManagerObj.pause(!0),log("main video paused @",pausedTime)}),mediator.subscribe("switchMode",function(e){log("trying to switch mode",mode,e),switchMode(e),log("trying to switch mode",mode,e,"fullscreen",fullscreen),fullscreen&&(mode==modes.AD_ON_AD?componentNodes.videoContent.style.zIndex="":componentNodes.videoContent.style.zIndex=2147483648),
currentItem.completed&&mode==modes.VIDEO_ON_MAIN&&loadNextVideo()}),mediator.subscribe("restoreMode",function(){log("trying to restore mode",mode),restoreMode(),fullscreen&&(mode==modes.AD_ON_AD?componentNodes.videoContent.style.zIndex="":componentNodes.videoContent.style.zIndex=2147483648),currentItem.completed&&currentItem.startAt&&mode==modes.VIDEO_ON_MAIN&&loadNextVideo()}),mediator.subscribe("playingAdContent",function(e){updateState(e),controlObj.setPaused(!1)}),mediator.subscribe("completedAdContent",function(e){updateState(e)}),mediator.subscribe("loadResumeVideoRequest",function(e){if(log("@subs->loadResumeVideoRequest",!e),"FLASH"==playerType&&!flashPlayerLoaded)return void controlObj.setVisibilityMode("hidden");var t;"playingVideoContent"==state||e||(controlObj.setLive(live),currentItem.formats&&currentItem.formats.length&&setSource(currentItem.formats,onVideoError),t=videoManagerObj.getDuration(),t!=1/0||live||(t=parseInt(currentItem.duration)),log("@subs->loadResumeVideoRequest duration",t),t?controlObj.setDuration(t):r(),updateState("bufferingVideoContent"),toggleBufferSpinner(!0),log("setting current time to",pausedTime),currentItem.play=!0,updateState("playingVideoContent"))}),mediator.subscribe("adOverlayDisplayed",function(e){setTimeout(function(){var t;"FreeWheel"==e&&(t=componentNodes.videoContainer.lastChild,log("NODE NAME",t.nodeName),"SPAN"==t.nodeName&&(log("just detected SPAN"),t.style.zIndex="2147483649",t.style.position="absolute",t.style.top="100px",t.style.left="100px",t.style.width="900px",log(t.firstChild.contentWindow)))},0)}),mediator.subscribe("companionContent",function(e,t,n,r){log("just sent the companion content",n,r),loaderObj.processCompanion(e,t,n,r)}),mediator.subscribe("showAdLearnMore",function(){adLearnMoreObj.show()}),mediator.subscribe("hideAdLearnMore",function(){adLearnMoreObj.hide()}),mediator.subscribe("updateAdTimer",function(e,t,n){adTimerObj.updateTime(e,t,n),adTimerObj.show()}),mediator.subscribe("hideAdTimer",function(){adTimerObj.hide()}),mediator.subscribe("playlistItemSelected",function(){playlistItemSelected=!0,playbackOrigin=playbackOrigins.PLAYLIST_MANUAL,loadNextVideo()}),mediator.subscribe("togglePlaylistPanel",function(){playlistObj.toggle(),splashObj.hide()}),mediator.subscribe("playNextRequested",function(){playNext()}),mediator.subscribe("playlistDisplayed",function(e){playlistShown=e,controlObj.setVisibilityMode(playlistShown?"hidden":"responsive"),fetchDeferredMetadata()}),mediator.subscribe("completedPlaylist",function(){log("@subs->completedPlaylist"),dispatchEvent("PLAYLIST_COMPLETED",null),lastItemIdBeforeRecommendationAttempt=currentItem.id,setRecommendationItems(userParams.recom||userParams.recommendations)}),mediator.subscribe("loadingRecommendations",function(){toggleBufferSpinner(!0)}),mediator.subscribe("recommendationsReady",function(){toggleBufferSpinner(!1)}),mediator.subscribe("recommendationSelected",function(e,t){log("@subs->recommendationSelected");var n=util.deepCopy(e);n.url&&(n=processExternalVideo(n));var r=playlistObj.append(n);log("Result:",JSON.stringify(r)),recommendationSelected=!0,isRecommendationSelectionManual=t,splashObj.hide(),videoManagerObj.hide(),recomObj.hide(),toggleCustomRecommendations(!1),r.id?loadVideoWithId(r.id,null,onRecommendationLoadError.bind(null,r.id)):loadNextVideo(),log("recommendation selected:",JSON.stringify(e))}),mediator.subscribe("bitrateUpdate",function(e,t){log("@subs->bitrateUpdate"),e=util.getArrayUnique(e),defaultBitrateList=e,t=t||"auto",controlObj.setAvailableBitrates(e,t,{}),dispatchEvent("BITRATE_UPDATED",e)}),mediator.subscribe("streamError",function(e,t){log("@subs->streamError",e,t),e in{PLAY309:1,PLAY450:1,PLAY455:1,PLAY456:1,PLAY457:1,PLAY458:1,PLAY460:1,PLAY470:1,PLAY480:1,PLAY499:1,SHAK001:1,SHAK002:1,DRM001:1,DRM004:1,DRM010:1,DRM011:1,DRM020:1}&&applyFailover(e)}),mediator.subscribe("bitrateSelected",function(e){var t;videoManagerObj.isBitrateSwitchSupported()?videoManagerObj.setBitrate(e):(t=videoManagerObj.getCurrentTime(),selectedBitrate!=("auto"==e?400:parseInt(e))&&(currentItem.startAt=t,currentItem.play=!0,"auto"==e?(selectedBitrate=400,setSource(currentItem.formats,onVideoError)):(selectedBitrate=parseInt(e),setSource(availableBitrates[e],onVideoError)),restoreState(),toggleBufferSpinner(!0)))}),mediator.subscribe("bitrateChangeInProgress",function(e,t){log("@subs->bitrateChangeInProgress",e,t),controlObj.onBitrateChangeInProgress(e),dispatchEvent("BITRATE_CHANGE_IN_PROGRESS",e)}),mediator.subscribe("bitrateChanged",function(e){log("@subs->bitrateChanged",e),e&&(currentBitrate=e,controlObj.onBitrateChanged(e),dispatchEvent("BITRATE_CHANGED",e))}),mediator.subscribe("dfpConfigDetected",function(e){log("@subs->dfpConfigDetected",e),isUpdateAdPluginInProgress=!0,pluginLoader.updatePlugin("dfp",e,{})}),mediator.subscribe("pluginUpdated",function(e){log("@subs->pluginUpdated",e),"dfp"!=e&&"freewheel"!=e||(adRequested=!1,isAdPollDeferred&&(log("performing deferred ad poll"),isAdPollDeferred=!1,pollAds()),isUpdateAdPluginInProgress=!1)}),mediator.subscribe("captionUpdate",s),mediator.subscribe("captionLoaded",function(e){var t;t=captionManagerObj.getAvailableLanguages(),currentCaptionLanguage=captionManagerObj.getCurrentLanguage(),controlObj.setAvailableCaptionLanguages(t,currentCaptionLanguage,e)}),mediator.subscribe("captionCueAdded",function(e){log("@subs->captionCueAdded",e),captionManagerObj.showCue({begin:e.ts/1e3,text:e.text})}),mediator.subscribe("captionLanguageSelected",setCaption),mediator.subscribe("splashInfoUpdate",function(e){log("subs->splashInfoUpdate",e),splashObj.resetInfo(),(e.def_title||e.def_description)&&splashObj.setInfo(e.def_title,e.def_description)}),mediator.subscribe("languageLoaded",function(){controlObj.updateLanguage(),shareObj.updateLanguage(),searchObj.updateLanguage()}),mediator.subscribe("clientBandWith",function(e){dispatchEvent("CLIENT_BANDWIDTH",e)}),mediator.subscribe("catchLive",catchLive),mediator.subscribe("dispatchEvent",function(e,t){var n=Array.prototype.slice.call(arguments);n.splice(n.length-1,1),dispatchEvent.apply(null,n)}),mediator.subscribe("stereoButtonClicked",function(){sphericalRendererObj.isStereoscopic}),mediator.subscribe("chromecastButtonClicked",function(){loaderObj.chromecast.launchApp()}),mediator.subscribe("contentLanguageDetected",function(e){langObj.setLanguage(e),captionManagerObj.setDefaultLanguage(e)}),mediator.subscribe("id3TagDetected",onId3TagDetected),mediator.subscribe("caption608Detected",function(){var e=["en"],t=captionManagerObj.getAvailableLanguages(),n=captionManagerObj.getCurrentLanguage();t&&t.length||!e||!e.length||dispatchEvent("CAPTION_DETECTED",["en"]),captionManagerObj.setCaptionType(captionTypes.CEA608),captionManagerObj.setAvailableLanguages(e),controlObj.setAvailableCaptionLanguages(e,null,!1);for(var r=0;r<e.length;r++)if(e[r]===n){setCaption(n),controlObj.setAvailableCaptionLanguages(e,n,!1);break}var i;i=captionManagerObj.getCaptionType(),captionSetObj.setCaptionType(i)}),mediator.subscribe("caption608StyleRejected",function(e){captionManagerObj.getCaptionType()!=captionTypes.SIDE_CAR&&(captionManagerObj.setCaptionType(captionTypes.SIDE_CAR),captionSetObj.setCaptionType(captionTypes.SIDE_CAR),isCaptionStyledBeyondCea608Spec=!0,captionManagerObj.setStyle(e),setTimeout(setCaption.bind(null,currentCaptionLanguage),100))}),mediator.subscribe("caption608Updated",function(e,t){isCaptionStyledBeyondCea608Spec?(captionManagerObj.getCaptionType()!=captionTypes.SIDE_CAR&&(captionManagerObj.setCaptionType(captionTypes.SIDE_CAR),captionSetObj.setCaptionType(captionTypes.SIDE_CAR),setTimeout(setCaption.bind(null,currentCaptionLanguage),100)),captionManagerObj.showCea608Cue(e,t)):(captionManagerObj.getCaptionType()!=captionTypes.CEA608&&(captionManagerObj.setCaptionType(captionTypes.CEA608),captionSetObj.setCaptionType(captionTypes.CEA608)),captionManagerObj.updateCaption(e,t))}),mediator.subscribe("embeddedCaptionDetected",function(){captionManagerObj.setCaptionType(captionTypes.EMBEDDED);var e=captionManagerObj.getAvailableLanguages();controlObj.setAvailableCaptionLanguages(e,captionManagerObj.getCurrentLanguage(),!1),e&&e.length&&dispatchEvent("CAPTION_DETECTED",e)}),mediator.subscribe("segmentInfoUpdated",function(e){var t,n,r;log("subs->segmentInfoUpdated"),"master"==e.type&&e&&(e.timed_metadata&&(n=util.base64Decode(e.timed_metadata),log("subs->segmentInfoUpdated beacon:",n),n=util.decodeURLParams("?"+n),"beacon"==n.type&&n.payload&&(r=decodeURIComponent(n.payload),c({type:n.type,payload:r}))),e.stream_info_tag&&(t=util.base64Decode(e.stream_info_tag),log("subs->segmentInfoUpdated cue:",t))),currentItem.currentSegmentType!=e.type&&(log("subs->segmentInfoUpdated segment type changed to",e.type),currentItem.currentSegmentType=e.type,"ad"==e.type&&(void 0===currentItem.currentAdBreakIndex?currentItem.currentAdBreakIndex=0:currentItem.currentAdBreakIndex++,currentItem.currentAdIndex=0),dispatchEvent("SEGMENT_TYPE_CHANGED",currentItem.currentSegmentType))}),mediator.subscribe("sessionIdUpdated",function(e){e&&(window.onkeydown=function(t){120==t.keyCode&&t.ctrlKey&&t.shiftKey&&loaderObj.handleAdLogRequest(e)},loaderObj.dispatchEvent("KEY_VALUE_SET","sessionId",e))}),mediator.subscribe("segmentQueueUpdated",function(e){log("subs->segmentQueueUpdated",JSON.stringify(e,null,3));var t,n;segmentQueueInfo.currentSegmentType!=e.type&&(log("subs->segmentQueueUpdated segment type changed to",e.type),segmentQueueInfo.currentSegmentType=e.type,"ad"==e.type&&(void 0===segmentQueueInfo.currentAdBreakIndex?segmentQueueInfo.currentAdBreakIndex=0:segmentQueueInfo.currentAdBreakIndex++,segmentQueueInfo.currentAdIndex=0,segmentQueueInfo.currentAdOffset=0,delete segmentQueueInfo.currentAdCue,dispatchEvent("AD_IMMINENT",e.start_time-videoManagerObj.getCurrentTime()))),live&&e.vast_json&&(t=util.base64Decode(e.vast_json),t=JSON.parse(t),segmentQueueInfo.currentAdCue=segmentQueueInfo.currentAdCue||{start:e.start_time,ads:[]},n={duration:t.duration,offset:segmentQueueInfo.currentAdOffset},segmentQueueInfo.currentAdOffset+=t.duration,segmentQueueInfo.currentAdCue.ads.push(n),segmentQueueInfo.currentAdCue.ad_count=segmentQueueInfo.currentAdCue.ads.length,segmentQueueInfo.currentAdCue.end=segmentQueueInfo.currentAdOffset+segmentQueueInfo.currentAdCue.start,log("subs->segmentInfoUpdated",JSON.stringify(t,null,3)),log("subs->segmentInfoUpdated segmentQueueInfo.currentAdCue",JSON.stringify(segmentQueueInfo.currentAdCue,null,3)),util.download(t.vast_meta_url,null,A,d))}),mediator.subscribe("cueUpdated",c),mediator.subscribe("adBreakInfoDetected",function(e){e?getAdBreaks(e,currentItem.duration):resetAdBreaks(currentItem.duration)}),mediator.subscribe("playerTypeSet",function(e){playerType=e,componentNodes.playerType.innerHTML=playerType,"FLASH"!=playerType||flashPlayerLoaded||splashObj.disable()}),mediator.subscribe("flashPlayerLoaded",function(){flashPlayerLoaded=!0,splashObj.enable()}),mediator.subscribe("detectedSphericalRendererError",handle360Errors),mediator.subscribe("adSkipAllowed",function(){dispatchEvent("AD_SKIP_ALLOWED"),!pluginLoader.isCustomPlaybackUsed().dfp&&controlObj&&controlObj.setPointerEvents&&controlObj.setPointerEvents(!1)}),mediator.subscribe("adVideoSkipped",function(e,t,n){dispatchEvent("AD_SKIPPED",e,t,n)}),mediator.subscribe("loadedPluginSDKs",function(){log("@subs->loadedPluginSDKs"),setMacros()}),mediator.subscribe("backupFairplayCertUsed",function(){dispatchError("DRM030")}),mediator.subscribe("adSlotsDetected",function(e){var t=sanitizeAdSlotsPayload(e);dispatchEvent("AD_SLOTS_DETECTED",t),userParams.adSlots=t}),mediator.subscribe("adBreakReadyToPlay",function(){log("subs->adBreakReadyToPlay"),manualAdScheduler&&manualAdScheduler.onAdBreakReadyToPlay()}),mediator.subscribe("updatePlugin",updatePlugin),mediator.subscribe("pollAds",pollAds),mediator.subscribe("startAd",function(e){pluginLoader.startAd(!!e)}),mediator.subscribe("toggleBufferSpinner",function(e){toggleBufferSpinner(e)}),mediator.subscribe("criticalOfflineBuffer",function(e){log("@subs->criticalOfflineBuffer",e),toggleBufferSpinner(!0),lastStateBeforeCriticalOfflineBuffer=state,contentInfo.lastStateBeforeCriticalOfflineBuffer=lastStateBeforeCriticalOfflineBuffer,dispatchEvent("CRITICAL_OFFLINE_BUFFER",e)}),mediator.subscribe("lowBandwidthDetected",function(e){dispatchEvent("LOW_BANDWIDTH_DETECTED",Math.floor(e/1024))}),mediator.subscribe("bandwidthImprovementDetected",function(e){dispatchEvent("BANDWIDTH_IMPROVEMENT_DETECTED",Math.floor(e/1024))}),mediator.subscribe("liveSyncStatusUpdated",function(e){e||controlObj.setLiveSyncStatus(e)}),mediator.subscribe("setOffsetCorrectionProgress",function(e){seekingInProgress=e,e||(seekAllowed=!0)}),mediator.subscribe("setLive",function(e){controlObj.setLive(e),live=e,currentItem.video_type=e?"2":"1"}),mediator.subscribe("restartTvDetected",onRestartLiveDetected),mediator.subscribe("restartLiveRequested",function(){log("@subs->restartLiveRequested",currentItem.rstv.begin),currentItem.rstv&&currentItem.rstv.begin&&videoManagerObj.seekTo(parseInt(currentItem.rstv.begin))}),mediator.subscribe("liveOffsetDetected",function(e){log("subs->liveOffsetDetected",e),restartTv.setLiveOffset(e)}),mediator.subscribe("playlistUpdated",onPlaylistUpdated);var m={pluginLibraryRequested:1,pluginLibraryLoaded:1,vastRequested:1,vastLoaded:1,adMediaRequested:1,adMediaLoaded:1};for(var E in m)m.hasOwnProperty(E)&&mediator.subscribe(E,onPluginProgress.bind(null,E));updateState("playerReady"),"function"==typeof n&&n(),dispatchEvent("COMPONENTS_INITIALIZED"),(g=loadNextVideo())&&(log("calling pluginLoader.poll"),trackingPluginLoaderObj.poll(currentItem),pluginLoader.poll(currentItem),pluginPollStarted=!0)}function onPluginProgress(e,t){dispatchEvent(util.convertToUnderscore(e),t)}function onPlaylistUpdated(e){var t=e&&e.length>1&&"external"!=userParams.playlistMode;controlObj&&"function"==typeof controlObj.setPlaylistReady&&controlObj.setPlaylistReady(t),playlistObj.updateVisualPlaylist(),dispatchEvent("PLAYLIST_UPDATED",e)}function onRestartLiveDetected(e){log("@subs->restartTvDetected",e&&e.begin),restartTv.setConfig(e),controlObj.toggleRestartLiveMode(restartTv.getMode()!=RestartTv.Mode.NONE,restartTv.getBegin()),restartTv.setTimeDelta(loaderObj.getTimeDelta()||0),restartTv.setLiveOffset(null,!0),dispatchEvent("RESTART_RIGHTS_DETECTED",e)}function toggleCaptionSettings(){log("@toggleCaptionSettings"),captionSetShown?(captionSetObj.hide(),restoreState(),controlObj.setPaused(!1),controlObj.setVisibilityMode("responsive")):(captionSetObj.show(),recallState=state,videoManagerObj.pause(!0),controlObj.setPaused(!0),controlObj.setVisibilityMode("hidden"),splashObj.hide(),updateState("pausedVideoContent")),captionSetShown=!captionSetShown}function setCaption(e){if(log("@setCaption",e),"settings"==e)toggleCaptionSettings();else if(null==e)videoManagerObj.notifyCaptionStatus(!1),captionManagerObj.turnOff(),controlObj.setAvailableCaptionLanguages(captionManagerObj.getAvailableLanguages(),null,!1);else{videoManagerObj.notifyCaptionStatus(!0);var t=captionManagerObj.loadLanguage(e);log("@subs->captionUpdate success?",t),captionManagerObj.turnOn()}}function onRecommendationLoadError(e){log("@onRecommendationLoadError",e);var t,n={};n[e]=1,playlistObj.removeWithId(e),t=recomObj.getRecommendations(),t instanceof Array&&t.length?(log("onRecommendationLoadError triggering setRecommendationItems",t),dispatchError("PLAY600"),setRecommendationItems(userParams.recom||userParams.recommendations,t,n)||onNoValidRecommendationItem()):onNoValidRecommendationItem()}function sanitizeWithRecommendationBlackList(e,t){return t?e.filter(function(e){var n=e.id||e.mcpid;return!n&&e.url&&(n=util.md5(e.url)),!(n in t)}):e}function setRecommendationItems(e,t,n){var r,i=!1;if(recommendationBlacklist=util.merge(recommendationBlacklist,n||{}),t=t||currentItem.recommendations,e&&parseInt(width)>=500&&mode==modes.VIDEO_ON_MAIN)return"boolean"==typeof e&&t&&t.length>0?(r=sanitizeWithRecommendationBlackList(t,recommendationBlacklist),i=recomObj.setRecommendations(r)):"object"==typeof e&&(e.items?(r=sanitizeWithRecommendationBlackList(e.items,recommendationBlacklist),i=recomObj.setRecommendations(r,e.duration)):"feed"==e.type&&e.id?feedObj&&(waitingForFeed=!0,feedObj.isInitialized()?(r=sanitizeWithRecommendationBlackList(feedObj.getFetchedVideos(),recommendationBlacklist),i=recomObj.setRecommendations(r)):toggleBufferSpinner(!0)):currentItem.recommendations&&currentItem.recommendations.length>0&&(r=sanitizeWithRecommendationBlackList(currentItem.recommendations,recommendationBlacklist),i=recomObj.setRecommendations(r,e.duration))),i&&(recomObj.show(currentItem.def_title),toggleCustomRecommendations(!0),updateState("pausedVideoContent"),videoManagerObj.pause(!0),splashObj.hide(),controlObj.setVisibilityMode("hidden")),i}function onNoValidRecommendationItem(){log("@onNoValidRecommendationItem",lastItemIdBeforeRecommendationAttempt),dispatchError("PLAY601"),toggleBufferSpinner(!1),recommendationSelected=!1,loadVideoWithId(lastItemIdBeforeRecommendationAttempt)}function sanitizeAdSlotsPayload(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push({id:e[n].slot_id,timeIndex:parseFloat(e[n].ts),adConfig:null,repeat:!1,allowSeekOver:!1});return t}function checkPlaylistNode(){var e=!(deviceInfo.iphone||deviceInfo.ipod)||(!("inlinePlayback"in userParams)||userParams.inlinePlayback)&&util.isInlineVideoSupported();playlistObj&&componentNodes.playlist&&parseInt(width)>=500&&e&&(playlistCacheStarted||(playlistObj.setVisual(componentNodes.playlist,"visual","native"),setTimeout(function(){playlistObj.updateVisualPlaylist()},2e3),playlistCacheStarted=!0))}function onImpliedPauseRequest(){log("@onImpliedPauseRequest"),recallState||(mode==modes.VIDEO_ON_MAIN?(recallState=state,videoManagerObj.pause(!0),updateState("pausedVideoContent"),controlObj.setPaused(!0)):mode in{AD_ON_MAIN:1,AD_ON_AD:1}&&(recallState=state,pluginLoader.isAvailable("freewheel")||sAdManager?(videoManagerObj.pause(!0),updateState("pausedAdContent"),dispatchEvent("USER_PAUSE"),sAdManager&&sAdManager.onUserInteraction("USER_PAUSE")):pluginLoader.isAvailable("dfp")&&(pluginLoader.pause(),updateState("pausedAdContent"),dispatchEvent("USER_PAUSE")),controlObj.setPaused(!0),controlObj.setVisibilityMode("visible")))}function restoreState(){recallState&&(log("@restoreState",state,"->",recallState),updateState(recallState),"playingVideoContent"==recallState?(log("readyState",videoManagerObj.getReadyState()),seekingInProgress||(log("recall triggered play"),videoManagerObj.play()),controlObj.setPaused(!1)):"playingAdContent"==recallState?(pluginLoader.isAvailable("freewheel")||sAdManager?(updateState("playingAdContent"),videoManagerObj.play(),sAdManager&&sAdManager.onUserInteraction("USER_RESUME")):pluginLoader.isAvailable("dfp")&&(pluginLoader.resume(),updateState("playingAdContent")),controlObj.setPaused(!1),controlObj.setVisibilityMode("visible")):(videoManagerObj.pause(!0),controlObj.setPaused(!0)),recallState=null)}function onPlaybackStart(e){log("@onPlaybackStart"),playingStartFired||(log("@onPlaybackStart isAfterBufferPoll",e),log("@onPlaybackStart deferredSeekAt",userParams.deferredSeekAt),dispatchEvent("PLAYING_START",playbackOrigin),playingStartFired=!0,updateAutoPlaySupportAfterPlaybackStart(),releasePrematureEventQueue(),seekAllowed=!0),userParams.deferredSeekAt?performDeferredSeek():e&&toggleBufferSpinner(!1),playlistItemsWithoutMetadata.length&&(timers.fetchDeferredMetadata=setTimeout(fetchDeferredMetadata,DEFERRED_METADATA_FETCH_DELAY))}function performDeferredSeek(){log("@performDeferredSeek"),videoManagerObj.seekTo(userParams.deferredSeekAt),delete userParams.deferredSeekAt,seekingInProgress=!0}function detectWindowSize(){var e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0],i=e.innerWidth||n.clientWidth||r.clientWidth,a=e.innerHeight||n.clientHeight||r.clientHeight;window.top!==window.self||fullscreen||(a=initialHeight,i=initialWidth),log("Window resized to:",i,"X",a),resize(i,a),pluginLoader.resize(i,a,fullscreen)}function catchLive(){if(!isOnline)return void console.error("Browser is offline, the SDK can't honor catchLive call");"videoOnChromecast"==mode?playOnChromecast():(videoManagerObj.catchLive(),updateState("bufferingVideoContent"),dispatchEvent("USER_GOLIVE"),log("CatchingLive",pausedTime),currentItem.play=!0),controlObj.setLiveCatch()}function evaluateResumeOnNoAd(){log("@evaluateResumeOnNoAd");var e=pluginLoader.hasActiveAd().dfp,t=pluginLoader.isActiveAdLinear().dfp;log("@evaluateResumeOnNoAd",e),(!e||e&&!t)&&(log("@evaluateResumeOnNoAd pluginReady (deferred) triggered play, hasActiveAd:",e),videoManagerObj.play(),updateState("playingVideoContent"))}function pollAds(e){var t,n;if(log("@pollAds DFP ready:",pluginLoader.isReady("dfp")),log("@pollAds DFP available:",pluginLoader.isAvailable("dfp")),log("@pollAds DFP requested:",pluginLoader.isRequested("dfp")),log("@pollAds FreeWheel ready:",pluginLoader.isReady("freewheel")),log("@pollAds FreeWheel available:",pluginLoader.isAvailable("freewheel")),log("@pollAds FreeWheel requested:",pluginLoader.isRequested("freewheel")),adPollInProgress=!1,sAdManager&&currentAdBreaks&&currentAdBreaks.length)return log("canceling client-side ad due to presence of server-side ad"),adRequested=!1,adPollIndex=0,void videoManagerObj.play();pluginLoader.isAvailable("dfp")||pluginLoader.isAvailable("freewheel")||adPollIndex>AD_POLL_LIMIT||!pluginLoader.isRequested("dfp")&&!pluginLoader.isRequested("freewheel")?(log("@pollAds with readyState",videoManagerObj.getReadyState()),playingStartFired||toggleBufferSpinner(!0),t=playbackOrigin==playbackOrigins.INITIAL?autoStartCheckResult:playbackOrigin==playbackOrigins.PLAYLIST_AUTO_ADVANCE||playbackOrigin==playbackOrigins.RECOMMENDATION_AUTO_ADVANCE,n=0==userParams.volume||videoManagerObj.isMuted(),pluginLoader.isAvailable("dfp")?(videoManagerObj.show(),pluginLoader.initContainer(),pluginLoader.requestAds(t,n,e),adRequested=!0,adPollIndex=0):pluginLoader.isAvailable("freewheel")?(videoManagerObj.show(),pluginLoader.requestAds(),pluginLoader.notifyVideoBegin(currentItem),adRequested=!0,adPollIndex=0):mode==modes.VIDEO_ON_MAIN||mode==modes.AD_ON_MAIN&&sAdManager?(videoManagerObj.show(),adPollIndex>AD_POLL_LIMIT&&currentItem.isReady2Play&&(log("@pollAds ad polling timed out, content is ready, calling play"),videoManagerObj.play(),adPollIndex=0),"loadScreen"==splashMode&&toggleBufferSpinner(!0),(videoManagerObj.getReadyState()<2||videoManagerObj.getPaused())&&setTimeout(function(){videoManagerObj.getReadyState()<2&&(log("block triggered, async load (must be followed by subs->videoReady2Play)"),videoManagerObj.videoContent().load())},3e3),updateState(mode==modes.VIDEO_ON_MAIN?"playingVideoContent":"playingAdContent"),controlObj.setPaused(!1),controlObj.setVisibilityMode("hidden"),checkPlaylistNode()):(toggleBufferSpinner(!1),pluginLoader.resume(),splashObj.hide())):(pluginLoader.isRequested("dfp")||pluginLoader.isRequested("freewheel"))&&(log("@pollAds polling for the ads... trial#",adPollIndex),timers.pollAds=setTimeout(pollAds.bind(null,e),100*Math.pow(2,++adPollIndex)),adPollInProgress=!0)}function onPlayPauseRequested(e){var t,n,r=0;if(log("@onPlayPauseRequested playPauseClicked received while state =",state),"videoOnChromecast"==mode)t=loaderObj.chromecast.getState(),t in{playing:1,buffering:1}?(loaderObj.chromecast.pause(),controlObj.setPaused(!0)):(n=loaderObj.chromecast.getCastSession(),n&&n.media&&n.media.length?loaderObj.chromecast.play():playOnChromecast(),controlObj.setPaused(!1));else{if(state in{playerReady:1,bufferingVideoContent:1,ready2PlayVideoContent:1,adReady2Play:1,pausedVideoContent:1,completedVideoContent:1}){if(log("@onPlayPauseRequested Play button triggered play"),!isOnline)return void console.error("Browser is offline, the SDK can't honor play call");videoManagerObj.play(),shareObj.hide(),dispatchEvent("USER_PLAY"),state in{pausedVideoContent:1,pausedAdContent:1}&&dispatchEvent("USER_RESUME"),updateState("playingVideoContent"),controlObj.setPaused(!1),controlObj.setVisibilityMode("responsive")}else if("playingVideoContent"==state)videoManagerObj.pause(e),toggleBufferSpinner(!1),updateState("pausedVideoContent"),dispatchEvent("USER_PAUSE"),controlObj.setPaused(!0),controlObj.setVisibilityMode("hidden"),r=currentItem.duration-videoManagerObj.getCurrentTime(),splashObj.show("pauseScreen",mode,null,r),logoObj.hide();else if("pausedAdContent"==state){if(!isOnline)return void console.error("Browser is offline, the SDK can't honor play call");mode===modes.AD_ON_MAIN?(updateState("playingAdContent"),videoManagerObj.play(),sAdManager&&sAdManager.onUserInteraction("USER_RESUME")):mode===modes.AD_ON_AD&&(pluginLoader.resume(),updateState("playingAdContent"),splashObj.hide()),controlObj.setPaused(!1),controlObj.setVisibilityMode("visible"),dispatchEvent("USER_RESUME")}else"playingAdContent"==state&&(mode===modes.AD_ON_MAIN?(videoManagerObj.pause(e),updateState("pausedAdContent"),dispatchEvent("USER_PAUSE"),sAdManager&&sAdManager.onUserInteraction("USER_PAUSE")):mode===modes.AD_ON_AD&&(pluginLoader.pause(),updateState("pausedAdContent"),dispatchEvent("USER_PAUSE")),controlObj.setPaused(!0),controlObj.setVisibilityMode("visible"));isOnline||(lastStateBeforeCriticalOfflineBuffer=state)}}function prepareMutedAutoPlay(){log("@prepareMutedAutoPlay"),videoManagerObj.isMuted()||(log("@prepareMutedAutoPlay not muted, muting now"),controlObj.setVolume(userParams.volume||1),videoManagerObj.toggleMobileAutoPlay(!0),controlObj.toggleVolume())}function updateAutoPlaySupportAfterPlaybackStart(){getVolume()&&(sessionAutoPlaySupport.unmutedAutoPlay=!0),sessionAutoPlaySupport.mutedAutoPlay=!userParams.disableMutedAutoplay}function checkAutoStart(e){var t=util.getAutoPlaySupport(),n=util.merge(t,sessionAutoPlaySupport),r=void 0!==autoPlay?autoPlay:live,i=currentItem&&currentItem.formats?currentItem.formats:{};return!!r&&(!util.getDeviceInfo.iphone&&!util.getDeviceInfo.ipad||util.isInlineVideoSupported()&&!util.getDeviceInfo.firefox?n.unmutedAutoPlay?(log("@checkAutoStart unmutedAutoplay supported"),!0):n.mutedAutoPlay&&!videoManagerObj.isAudioOnly(i,live)?(log("@checkAutoStart mutedAutoplay supported"),e&&prepareMutedAutoPlay(),!0):!1!==n.unmutedAutoPlay&&(void 0!==n.mutedAutoPlay||!videoManagerObj.isAudioOnly(i,live)&&(e&&prepareMutedAutoPlay(),!0)):(dispatchError("PLAY511"),autoPlay=!1,!1))}function dispatchAutoPlayEvent(){var e,t=util.merge(util.getAutoPlaySupport(),sessionAutoPlaySupport),n=void 0!==autoPlay?autoPlay:live;t.evaluationCompleted&&(e=n?t.unmutedAutoPlay?AutoPlayStatus.UNMUTED:t.mutedAutoPlay?AutoPlayStatus.MUTED:AutoPlayStatus.BLOCKED:AutoPlayStatus.NONE,dispatchEvent("AUTOPLAY_STATUS",e))}function onId3TagDetected(e,t){log("@subs->id3TagDetected",e,t),contentInfo.id3Tags=contentInfo.id3Tags||{},contentInfo.id3Tags[t]=e,contentInfo.id3Tag=e,contentInfo.id3TagPublisher=t,"nielsen"==t&&dispatchEvent("ID3",e,t)}function onSeekRequested(e,t,n){log("onSeekRequested subs->seekRequest",e,n),Math.abs(e-videoManagerObj.getCurrentTime())>.5?(log("@subs->seekRequest to",e,"from",videoManagerObj.getCurrentTime()),e>videoManagerObj.getDuration()&&(e/=1e3),mode==modes.VIDEO_ON_MAIN&&e!=videoManagerObj.getCurrentTime()&&(seekingInProgress=!0,log("setting seekingInProgress to",seekingInProgress),e-videoManagerObj.getCurrentTime()&&dispatchEvent(e-videoManagerObj.getCurrentTime()>0?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",videoManagerObj.getCurrentTime(),e),0==e&&(e=.3),n&&"Control"==n&&(controlObj.updateDuration(e),!live&&sAdManager&&(e=sAdManager.translateToAbsoluteTime(e))),toggleBufferSpinner(!0),currentItem.startAt=e,videoManagerObj.seekTo(e)),touchAvailable&&controlObj.setVisibilityMode("responsive"),captionManagerObj.hideCue()):log("@subs->seekRequest to",e,"from",videoManagerObj.getCurrentTime(),"cancelled!")}function onPlayRequested(e){return log("@onPlayRequested",e),isOnline?(e&&dispatchEvent("USER_PLAY"),!currentItem||currentItem.sourceLoaded&&!failoverInProgress||(toggleBufferSpinner(!0),loadSource())?void(e?(currentItem.initialPlaybackRequested=!0,isAdPollDeferred||isUpdateAdPluginInProgress||failoverInProgress?isAdPollDeferred=!0:pollAds(e)):onPlayPauseRequested()):void log("@onPlayRequested load source failed")):void console.error("Browser is offline, the SDK can't honor play call")}function registerBitrates(e){log("registerBitrates loadedBitrate",currentBitrate);var t,n=0,r=e.length,i=[],a=deviceInfo.isMobileBrowser?"m3u8":"mp4";for(availableBitrates={};n<r;n++)t=e[n],"http"==t.protocol&&t.kbps&&!isNaN(parseInt(t.kbps))&&t.format&&t.format.indexOf(a)>-1&&(availableBitrates[t.kbps]=t);log("@registeredBitrates:");for(var o in availableBitrates)i.push(o);defaultBitrateList=i,controlObj.setAvailableBitrates(i,"number"==typeof currentBitrate?currentBitrate:"auto")}function generateEmbedCode(e,t){return'<iframe scrolling="no" frameborder="0" allowfullscreen webkitallowfullscreen mozallowfullscreen allow="autoplay; fullscreen" src="'+generateShareLink(e,t)+'"  width ="640" height="360"></iframe>'}function generateShareLink(e,t,n){var r,i;return userParams&&userParams.plugins&&(t.plugins=userParams.plugins),r=JSON.stringify(t),i=util.base64Encode(r),n?"http://c5.anvato.com/anvload.php?key="+i:e+"?key="+i}function queuePrematureEvents(e,t){return e in{AD_BREAK_STARTED:1,AD_STARTED:1,AD_COMPLETED:1,AD_BREAK_COMPLETED:1,VIDEO_STARTED:1,VIDEO_COMPLETED:1}&&!playingStartFired&&(prematureEventQueue.push(Array.prototype.slice.call(arguments)),log("@queuePrematureEvents adding to the queue",e),!0)}function releasePrematureEventQueue(){for(var e=0,t=prematureEventQueue.length;e<t;e++)log("@releasePrematureEventQueue for",prematureEventQueue[e][0]),dispatchEvent.apply(null,prematureEventQueue[e]);prematureEventQueue=[]}function dispatchEvent(e,t){var n,r=Array.prototype.slice.call(arguments,1),i=logger.getTime(),a={failoverInProgress:failoverInProgress};if(playingStartFired||(pluginLoader&&(pluginLoader.isRequested("dfp")||pluginLoader.isRequested("freewheel"))?"AD_BREAK_STARTED"==e&&(playingStartFired=!0,updateAutoPlaySupportAfterPlaybackStart(),dispatchEvent("PLAYING_START")):n=queuePrematureEvents.apply(null,Array.prototype.slice.call(arguments))),n)log("skipping premature event",e);else{contentInfo[e.toLowerCase()]=1;try{trackingPluginLoaderObj&&trackingPluginLoaderObj.sendBeacon(e,contentInfo,r,i),pluginLoader&&pluginLoader.sendBeacon(e,contentInfo,r,i,a)}catch(e){console.error("Error while calling send beacon",e.message)}delete contentInfo[e.toLowerCase()],eventManager.dispatchEvent(e,i,r)}}function unload(){log("@unload"),videoManagerObj.destroy(),userContainer.innerHTML=null,videoManagerObj=null,playerObj=null,splashObj=null,controlObj=null,previewObj=null,sliderPreviewObj=null,captionManagerObj=null}function getVolume(){return videoManagerObj.getVolume()}function setVolume(e){var t;log("@setVolume",e),videoManagerObj&&initCompleted&&(pluginLoader&&pluginLoader.isAvailable("dfp")&&(log("Updating ad volume to",e),pluginLoader.setVolume(e)),videoManagerObj.setVolume(e),t=videoManagerObj.isMuted()?0:videoManagerObj.getVolume(),controlObj.setVolume(t)),currentVolume=e,getVolume()&&playingStartFired&&(sessionAutoPlaySupport.unmutedAutoPlay=!0)}function showSlate(e){log("@showSlate"),pause(!0),slateObj.show(e),mute()}function hideSlate(){log("@hideSlate"),slateObj.hide()}function mute(){log("@mute"),(volumeBeforeMute=videoManagerObj.getVolume())>0&&(videoManagerObj.setVolume(0),autoStartCheckResult&&!playingStartFired||controlObj.toggleVolume(),controlObj.setVolume(0),currentVolume=0)}function unmute(){0==videoManagerObj.getVolume()&&(currentVolume=volumeBeforeMute<=0?.5:volumeBeforeMute,videoManagerObj.setVolume(currentVolume),controlObj.toggleVolume(),controlObj.setVolume(currentVolume),volumeBeforeMute=-1)}function hideAll(){splashObj.hide(),
controlObj.setVisibilityMode("hidden"),shareObj.hide(),recomObj.hide(),toggleCustomRecommendations(!1)}function displaySplashScreen(){splashObj.show("loadScreen",mode,currentItem.src_image_url)}function displayPauseScreen(){splashObj.show("pauseScreen",mode,null,currentItem.duration-videoManagerObj.getCurrentTime())}function displayControlBar(){controlObj.updateDuration(-50),controlObj.setVisibilityMode("visible")}function displayShareScreen(){embedCode=loaderObj.generateEmbedCode({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id}),shareLink=loaderObj.detectShareLink({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id}),openGraphShareLink=loaderObj.generateShareLink({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id},!0),shareObj.setEmbedCode(embedCode),shareObj.setShareLink(shareLink),shareObj.setOpenGraphShareLink(openGraphShareLink),shareObj.setDescription(currentItem.def_description),shareObj.setTitle(currentItem.def_title),shareObj.setMediaURL(currentItem.src_image_url),shareObj.show(live?null:{duration:currentItem.duration,currentTime:videoManagerObj.getCurrentTime()})}function displayEndScreen(){var e=userParams.recom||userParams.recommendations,t=!1;log("@displayEndScreen",e),"boolean"==typeof e&&currentItem.recommendations.length>0?(recomObj.setRecommendations(currentItem.recommendations),t=!0):"object"==typeof e&&(e.items?(recomObj.setRecommendations(e.items,e.duration),t=!0):currentItem.recommendations.length>0&&(recomObj.setRecommendations(currentItem.recommendations,e.duration),t=!0)),t&&(recomObj.show(currentItem.def_title),toggleCustomRecommendations(!0),updateState("pausedVideoContent"),videoManagerObj.pause(!0),splashObj.hide(),controlObj.setVisibilityMode("hidden"))}function evaluateCue(e){var t;e&&"cid"==e.type&&(t=e.dtmf||e.upid||e.upip),t&&(t!=currentItem.activeCid&&(log("@evaluateCue cid has changed to:",currentItem.activeCid),currentItem.activeCid=t,"onProgramChanged"in window&&onProgramChanged(null,t)),currentItem.lastActiveCidTimeIndex=videoManagerObj.getCurrentTime(),log("@evaluateCue",currentItem.lastActiveCidTimeIndex,currentItem.activeCid))}function evaluateBeacon(e){var t;if(e&&e.event_id){if(t=e.event_id,currentItem.activeCid){if("master"!=currentItem.currentSegmentType)return void log("@evaluateBeacon cid active and non-master segment, type ignoring eventId:",t);if(currentItem.lastActiveCidTimeIndex&&videoManagerObj.getCurrentTime()-currentItem.lastActiveCidTimeIndex<5)return void log("@evaluateBeacon cid active and time diff < 5secs, ignoring eventId:",t)}t!=currentItem.activeEventId&&(log("@evaluateBeacon",JSON.stringify(e,null,3),t,currentItem.activeEventId),log("@evaluateBeacon change detected in event id"),currentItem.activeEventId=t,currentItem.activeCid=null,currentItem.lastActiveCidTimeIndex=null,currentItem.def_title=e.title||currentItem.title,currentItem.def_description=e.description||currentItem.description,currentItem.startTime=e.ts_start,currentItem.endTime=e.ts_end,splashObj.resetInfo(),splashObj.setInfo(currentItem.def_title,currentItem.def_description),e.fields&&e.fields.dai_rules&&(currentItem.daiRules=e.fields.dai_rules),updateContentInfo(),"onProgramChanged"in window&&onProgramChanged(currentItem.activeEventId,null))}}function updateMetadata(e,t,n,r,i){log("@updateMetadata",i,e,t,JSON.stringify(n,null,3),JSON.stringify(r,null,3));var a,o,s=(new Date).getTime(),l=r&&"custom_metadata_map"in r?r.custom_metadata_map:{},A=(r&&"custom_metadata_map"in r&&r.custom_metadata_map,"changeProgram"===i?derivedMetadataManagerObj.Origin.APP_LEVEL_ITEM:derivedMetadataManagerObj.Origin.CONTENT_METADATA);if("metadata"==currentItem.metadataOrigin&&"schedule"==i)return void log("In-stream eventId/upid based metadata exists, ignoring schedule based metadata");t&&currentItem.upid!=t||e&&e!=currentItem.eventId?(currentItem.metadataOrigin=i,currentItem.eventId=e,currentItem.upid=t,currentItem.roviId=l.rovi_id,currentItem.def_title=n.title||currentItem.title,currentItem.def_description=n.description||currentItem.description,currentItem.episode_no=currentItem.episode_no||l.rovi_episode_number,currentItem.episodeTitle=l.rovi_episode_title,currentItem.talentName=l.rovi_credits,currentItem.startTime=r.ts_start,currentItem.endTime=r.ts_end,log("@updateMetadata:",currentItem.startTime,currentItem.endTime),currentItem.episodeTitle&&(currentItem.titleWithEpisode=[currentItem.def_title,l.rovi_episode_title].join("|")),currentItem.totalEventNumber=currentItem.totalEventNumber||{},currentItem.totalEventNumber.PROGRAM_CHANGED=(currentItem.totalEventNumber.PROGRAM_CHANGED||0)+1,contentInfo.chapterIndex=currentItem.totalEventNumber.PROGRAM_CHANGED-1,updateCustomContentInfo(r),derivedMetadataManagerObj.update(contentInfo,r,A),updateContentInfo(),dispatchEvent("PROGRAM_CHANGED",e,t,n,r),clearTimeout(timers.getSchedule),splashObj.resetInfo(),splashObj.setInfo(currentItem.def_title,currentItem.def_description),o=0):(log("@updateMetadata adding a 1-minute delay to schedule lookup"),o=6e4),r&&r.ts_end&&(timeDelta=loaderObj.getTimeDelta(),log("@updateMetadata",1e3*r.ts_end,s,timeDelta,o),a=1e3*parseInt(r.ts_end)-s-timeDelta+o,a>0?(timers.getSchedule=setTimeout(loaderObj.getSchedule,a),log("scheduled next after ",a/1e3)):(dispatchError("PLAY900"),timers.getSchedule=setTimeout(loaderObj.getSchedule,6e5),log("scheduled next after 10 minutes")))}function changeProgram(e,t){var n,r,i={},a=t,o=["title","description","rating","mvpdAuthenticationNeeded","tveCheckNeeded"];if(currentItem&&2==currentItem.video_type){for(n=0;n<o.length;n++)(r=o[n])in a&&(i[r]=a[r],delete a[r]);updateMetadata(e,null,i,a,"changeProgram")}}function updateDerivedMetadata(e){derivedMetadataManagerObj.update(contentInfo,{derivedMetadata:e},derivedMetadataManagerObj.Origin.APP_LEVEL_ITEM)}function setTimeDelta(e){log("@setTimeDelta",e),timeDelta=e}function setChromecastStatus(e,t,n){log("@setChromecastStatus",e,t,n,t?t.receiver.friendlyName:null);var r=document.getElementsByClassName("anv-chromecast-button");switch(chromecastMediaSession=n||chromecastMediaSession,e){case"active":chromecastSession=t,lastSplashMode=splashObj.getCurrentMode(),lastSplashPoster=splashObj.getCurrentPoster(),log("lastSplashMode:",lastSplashMode),mode="videoOnChromecast",splashObj.show("castScreen",mode,currentItem.src_image_url),controlObj.setVisibilityMode("visible"),toggleBufferSpinner(!1);break;case"buffering":case"playing":case"paused":splashObj.show("castScreen",mode,currentItem.src_image_url),controlObj.setVisibilityMode("visible"),controlObj.setPaused("paused"==e);break;case"none":case"error":case"idle":lastSplashMode&&splashObj.show(lastSplashMode,mode,lastSplashPoster),controlObj.setVisibilityMode("hidden")}chromecastInfo.status=e,splashObj.setChromecastInfo(e,t?t.receiver.friendlyName:"");for(var i=0,a=r.length;i<a;i++)r[i].setAttribute("state",e in{none:1,idle:1,error:1}?e:"active")}function onChromecastEvent(e){switch(log("@onChromecastEvent",e.name,JSON.stringify(e.args)),e.name){case"METADATA":splashObj.setInfo(e.args[0],e.args[1]);break;case"PROGRAM_CHANGED":e.args.length>3&&(log("@onChromecastEvent~",e.name,JSON.stringify(e,null,3)),splashObj.setInfo(e.args[2].title,e.args[2].description));break;case"VERIFICATION_STATUS":chromecastInfo.isVerified=e.args[0],chromecastInfo.token=e.args[1],e.args[0]?chromecastSession&&chromecastSession.media&&chromecastSession.media.length?log("@setChromecastStatus joined an existing session with media",chromecastMediaSession,chromecastSession):playOnChromecast():log("Chromecast receiver did not approve authenticity")}}function playOnChromecast(){log("@playOnChromecast",JSON.stringify(chromecastInfo,null,3));var e,t=!0;if(userParams.accessKey?e=userParams.xUrl?{xUrl:userParams.xUrl,accessKey:userParams.accessKey,title:userParams.title,description:userParams.description,thumbnail:userParams.thumbnail,poster:userParams.poster,live:userParams.live}:userParams.url?{url:userParams.url,format:userParams.format,drm:userParams.drm,accessKey:userParams.accessKey,title:userParams.title,description:userParams.description,thumbnail:userParams.thumbnail,poster:userParams.poster,live:userParams.live}:{video:currentItem.upload_id,accessKey:userParams.accessKey}:(userParams.video&&userParams.mcp?e={video:userParams.video,mcp:userParams.mcp}:userParams.url&&(e={url:userParams.url,title:userParams.title,description:userParams.description,thumbnail:userParams.thumbnail,poster:userParams.poster,live:userParams.live}),t=!1),e.accessControl=userParams.accessControl,e.user=userParams.user,e.debug=userParams.debug,e.derivedMetadata=userParams.derivedMetadata,e.mvpd=userParams.accessControl&&userParams.accessControl.mvpd||userParams.mvpd,t){e=JSON.stringify(e);try{e=util.aesStdEncrypt("ecb",e,chromecastInfo.token,"base64")}catch(e){return log("Failed to encrypt the payload"),void dispatchError("CCSND010",e.message)}}loaderObj.chromecast.play(e)}function fastForward(e,t){var n=videoManagerObj.getCurrentTime();if(!live){if(e){if(e<=0)return void log("@fastForward delta can not be zero or negative");fastForwardInfo.until=(fastForwardInfo.until||n)+e}else if(t){if(t<n)return void log("@fastForward until can not be less than current time");fastForwardInfo.until=t}timers.evaluateFastForward||(fastForwardInfo.lastTimeIndex=videoManagerObj.getCurrentTime(),videoManagerObj.setPlaybackRate(2),timers.evaluateFastForward=setTimeout(evaluateFastForward,2e3))}}function evaluateFastForward(e){e=e||0,log("evaluateFastForward",e,JSON.stringify(fastForwardInfo,null,3));var t,n=videoManagerObj.getCurrentTime(),r=videoManagerObj.getPlaybackRate(),i=n-fastForwardInfo.lastTimeIndex;if(fastForwardInfo.until&&n>=fastForwardInfo.until)return log("@evaluateFastForward until time reached",n,fastForwardInfo.until),videoManagerObj.resetPlaybackRate(),fastForwardInfo.until=0,void delete timers.evaluateFastForward;if(Math.abs(fastForwardInfo.bufferEnd-n)<4)return log("@evaluateFastForward defaulting to seek since no buffer",fastForwardInfo.bufferEnd,n,fastForwardInfo.until),videoManagerObj.resetPlaybackRate(),seekTo(fastForwardInfo.until),fastForwardInfo.until=0,void delete timers.evaluateFastForward;if(i/2>=.7*r)t=r+2,log("@evaluateFastForward speeding up to",t),videoManagerObj.setPlaybackRate(t);else if(i/2<.7*r){if(t=r-1,log("@evaluateFastForward speeding down due to",n,fastForwardInfo.lastTimeIndex),log("@evaluateFastForward speeding down to",t,i,r),t<=1)return log("@evaluateFastForward defaulting to seek",t),videoManagerObj.resetPlaybackRate(),seekTo(fastForwardInfo.until),fastForwardInfo.until=0,void delete timers.evaluateFastForward;videoManagerObj.setPlaybackRate(t)}fastForwardInfo.lastTimeIndex=n,timers.evaluateFastForward=setTimeout(function(){evaluateFastForward(e++)},2e3)}function getPlaybackRate(){return videoManagerObj.getPlaybackRate()}function seekTo(e,t){log("@seek",e),live||(t&&sAdManager&&(e=sAdManager.translateToAbsoluteTime(e)),seekAllowed?onSeekRequested(e):(log("@seek deferring seekTo",e),userParams.startAt=e,userParams.deferredSeekAt=e))}function setExternalMediaCallListener(e){log("@setExternalMediaCallListener"),externalMediaCallListener=e}function directExternalVideoEvents(e){log("@directExternalVideoEvents"),userParams.externalVideoInterface&&videoManagerObj.onExternalVideoEvent(e)}function setStartType(e,t){log("@setStartType",e,t),userStartTypeOverride.startType=e,userStartTypeOverride.applyAutoForNext=t,userStartTypeOverride.autoForNextContentId=null,userStartTypeOverride.autoForNextVideoType=null}function playNext(e){if(e=void 0!==e&&e,playlistObj&&!playlistObj.hasNextItem())return void dispatchError("PLAY920");processingPlayApiCall=e,loadNextVideo()}function playPrevious(e){if(e=void 0!==e&&e,playlistObj&&!playlistObj.hasPreviousItem())return void dispatchError("PLAY921");processingPlayApiCall=e,loadPreviousVideo()}function getThumbnail(){return currentItem?currentItem.thumbnail||currentItem.src_logo_url:null}function getPoster(){return currentItem?currentItem.src_image_url||currentItem.src_logo_url:null}function handle360Errors(e){log("@subs->detectedSphericalRendererError",e,"SecurityError"==e),disable360(),"SecurityError"==e&&(log("@subs->detectedSphericalRendererError phericalRendererObj destroyed"),dispatchError("PLAY361"),isWebGLCorsSupported=!1,!1!==userParams.display360ErrorSlate&&slateObj.show("The browser does not support 360 view.")),e==ERROR_360_NOT_SUPPORTED&&(isWebGLSupported||dispatchError("PLAY360"),isWebGLCorsSupported||dispatchError("PLAY361"),!1!==userParams.display360ErrorSlate&&slateObj.show("The browser does not support 360 view."))}function is360ConfigOn(){var e=!!currentItem&&currentItem["360_type"]==SPHERICAL_MCP_360_TYPE,t=userParams[360];return log("360 turn on: "+(e||t)),e||t}function is360Supported(){return log("360 compatibility: "+(isWebGLSupported&&isWebGLCorsSupported)),isWebGLSupported&&isWebGLCorsSupported}function is360Enabled(){return log("360 enable: "+!!sphericalRendererObj),!!sphericalRendererObj}function turnOn360View(){is360Supported()&&is360ConfigOn()&&(is360Enabled()?(log("Turning On 360 view"),sphericalRendererObj.show(),videoManagerObj.setSpherical(!0)):(log("360 is not yet enabled, enabling 360"),enable360(turnOn360View)))}function turnOff360View(){is360Enabled()&&(log("Turning Off 360 view"),sphericalRendererObj.hide()),videoManagerObj.setSpherical(!1)}function onThreeScriptLoad(){for(log("360 Script Loaded, start onload callbacks"),enable360();threeScriptOnLoadCallbackQueue&&threeScriptOnLoadCallbackQueue.length;){var e=threeScriptOnLoadCallbackQueue.shift();e&&e()}}function enable360(e){if(is360ConfigOn()){if(!is360Supported())return void handle360Errors();componentNodes.videoContent.crossOrigin="anonymous";var t=currentItem&&currentItem["360_type"]?currentItem["360_type"]:userParams[360];"undefined"==typeof THREE?(e&&threeScriptOnLoadCallbackQueue.push(e),threeScriptRequested||(log("Loading 360 script"),threeScriptRequested=!0,util.loadJS(userParams.baseURL+"lib/three.min.js",onThreeScriptLoad))):function(){log("360 SphericalRenderer created."),sphericalRendererObj||(sphericalRendererObj=new SphericalRenderer(componentNodes.videoContent,componentNodes.canvasContent,"stereo"==t,logger,mediator)),e&&e()}()}}function disable360(){videoManagerObj.setSpherical(!1),componentNodes.canvasContent.style.display="none",threeScriptOnLoadCallbackQueue=[],sphericalRendererObj&&(log("Destroying 360 object"),sphericalRendererObj.destroy(),sphericalRendererObj=null)}function processExternalVideo(e){var t=util.getUrlParts(e.url),n=util.md5(e.url);return{id:e.id||n,video_type:e.live?2:1,formats:[{embed_url:e.url,format:e.format,protocol:t.protocol,upload_id:e.id||n,kbps:e.bitrate||"400"}],src_image_url:e.image,def_title:e.title,def_description:e.description,derived_metadata:e.derivedMetadata,language:e.language||"en",isExternal:!0}}function playByIndex(e){log("@playByIndex");var t=playlistObj.getItemWithIndex(e);t?play(t.id):log("@playByIndex invalid index")}function play(e){log("@play",typeof e);var t;if(!isOnline)return void console.error("Browser is offline, the SDK can't honor play call");if(controlObj.setDownload(),void 0===e)state in{playingAdContent:1,playingVideoContent:1}?log("@play Ignoring play call since state is already",state):onPlayRequested(!currentItem.initialPlaybackRequested);else{if(t=addToPlaylist(e,!0),!t.length)return;seekAllowed=!1,log("External Playlist item:",JSON.stringify(t[0])),playlistItemSelected=!(deviceInfo.isMobileBrowser||deviceInfo.smartTV)||deviceInfo.ott,processingPlayApiCall=!0,loadVideoWithId(t[0].id,t[0].useBackupStream)}}function pause(e){log("@pause"),state in{playingAdContent:1,playingVideoContent:1}?onPlayPauseRequested(e):log("@pause Ignoring pause call since state is already",state)}function hardPause(e){log("@hardPause"),pause(e),"hardPause"in videoManagerObj&&videoManagerObj.hardPause()}function initCustomInterface(w,h,initCallback){controllerInterfaceObj=new ControllerInterface(mediator,logger,userParams),controllerInterfaceObj.init(userParams,componentNodes.customControllerContainer,function(overrides){for(var key in overrides){var name=key.charAt(0).toUpperCase()+key.slice(1);eval(name+" = overrides[key]")}initComponents(w,h,initCallback),toggleCustomRecommendations(!1)})}function getAdDuration(){if(mode==modes.AD_ON_MAIN||mode==modes.AD_ON_AD){if(pluginLoader.isAvailable("dfp")&&pluginLoader.isActiveAdLinear().dfp)return pluginLoader.getAdDuration().dfp;if(pluginLoader.isAvailable("freewheel"))return pluginLoader.getAdDuration().freewheel;if(sAdManager)return presentation.currentAdDuration}}function updatePlugin(e,t){log("@updatePlugin",e,t),pluginLoader.updatePlugin(e,t,currentItem||{})}function toggleCustomUI(e){userParams.customUIController&&(componentNodes.customControllerContainer.style.display=e?"block":"none")}function toggleCustomRecommendations(e){if(controllerInterfaceObj){var t=controllerInterfaceObj.getUserCustomizedInterfaces(),n="recommendation"in t,r=!1;for(var i in t)if(t.hasOwnProperty(i)&&"recommendation"!=i){r=!0;break}e&&n||!e&&r&&!n?componentNodes.customControllerContainer.style.display="block":(!e&&!r||e&&r&&!n)&&(componentNodes.customControllerContainer.style.display="none")}}function setRecommendations(e){log("@setRecommendations",e),currentItem&&(currentItem.recommendations=e,userParams.recom=!0)}function getPlaylistIndex(){return log("@getPlaylistIndex:",playlistObj.getPlaylistIndex()),playlistObj.getPlaylistIndex()}function evaluateMissingMetadata(e){playlistItemsWithoutMetadata=[];for(var t=0,n=e.length;t<n;t++)void 0!==e[t].def_title||void 0!==e[t].src_image_url||e[t].isExternal||playlistItemsWithoutMetadata.push(e[t])}function fetchDeferredMetadata(){for(var e=0,t=playlistItemsWithoutMetadata.length;e<t;e++)loaderObj.fetchVideoJSON(playlistItemsWithoutMetadata[e].upload_id||playlistItemsWithoutMetadata[e].id,playlistItemsWithoutMetadata[e].token);playlistItemsWithoutMetadata=[]}function startAd(){pluginLoader.startAd()}function onlineCallback(){log("@onlineCallback"),isOnline=!0,dispatchEvent("BROWSER_ONLINE",lastStateBeforeCriticalOfflineBuffer),lastStateBeforeCriticalOfflineBuffer in{playingVideoContent:1,playingAdContent:1}&&videoManagerObj.play(),stopTimer("monitorBufferLimit"),videoManagerObj.resumeDownload()}function offlineCallback(){log("@offlineCallback"),isOnline=!1,videoManagerObj.stopDownload(),monitorBufferLimit(),lastStateBeforeCriticalOfflineBuffer=state,dispatchEvent("BROWSER_OFFLINE",lastStateBeforeCriticalOfflineBuffer)}function monitorBufferLimit(){var e=videoManagerObj.getRemainingBuffer();log("@monitorBufferLimit",e),e<=8?(videoManagerObj.pause(!0),mediator.publish("criticalOfflineBuffer",e)):(stopTimer("monitorBufferLimit"),timers.monitorBufferLimit=setTimeout(monitorBufferLimit,1e3))}function stopTimer(e){e&&timers[e]&&(clearTimeout(timers[e]),delete timers[e])}function addToPlaylist(e,t){var n,r,i=[],a=[],o={string:1,number:1};if(t&&playlistObj.clear(),i=e.constructor==Array?e:[e],0==i.length)return[];for(var s=0;s<i.length;s++)if(null!=i[s]){var l="object"==typeof i[s]&&!!i[s].url;if(l)n=processExternalVideo(i[s]);else if("object"==typeof i[s])n=i[s];else{if(!(typeof i[s]in o))continue;n={id:""+i[s]}}r=playlistObj.append(n),a.push(r)}return evaluateMissingMetadata(a),playlistItemsWithoutMetadata.length&&(timers.fetchDeferredMetadata=setTimeout(fetchDeferredMetadata,DEFERRED_METADATA_FETCH_DELAY/10)),a}function onViewabilityChange(e){null!==viewability&&dispatchEvent("VIEWABILITY_CHANGED",e),viewability=e,userParams.autoplayViewability&&e>userParams.autoplayViewability&&!autoPlay&&!currentItem.initialPlaybackRequested&&(autoPlay=!0,checkAutoStart(!0)&&(onPlayRequested(!0),toggleBufferSpinner(!0),updateState("bufferingVideoContent"),logoObj.show()))}function isLinearAdPlaying(e){return pluginLoader.isAvailable(e)&&pluginLoader.hasActiveAd()[e]&&pluginLoader.isActiveAdLinear()[e]}var isCaptionStyledBeyondCea608Spec=!1,currentCaptionLanguage=null,seekingInProgress=!1,recallState,splashMode="loadScreen",live=!1,autoPlay,ERROR_360_NOT_SUPPORTED="360 is not supported",SPHERICAL_MCP_360_TYPE="equirectangular",threeScriptRequested=!1,threeScriptOnLoadCallbackQueue=[],componentNodes,userContainer,playerStates=["initPlayer","playerReady","bufferingVideoContent","ready2PlayVideoContent","playingVideoContent","pausedVideoContent","completedVideoContent","fetchingVideoContent","ready2PlayAdContent","playingAdContent","pausedAdContent","completedAdContent","adOverlayDisplayed","adOverlayHidden"],transitions={initPlayer:{playerReady:1},playerReady:{bufferingVideoContent:1},bufferingVideoContent:{ready2PlayVideoContent:1},ready2PlayVideoContent:{playingVideoContent:1,pausedVideoContent:1},playingVideoContent:{pausedVideoContent:1,completedVideoContent:1},pausedVideoContent:{playingVideoContent:1,ready2PlayAdContent:1,adOverlayDisplayed:1,bufferingVideoContent:1},completedVideoContent:{fetchingVideoContent:1,ready2PlayAdContent:1,adOverlayDisplayed:1},fetchingVideoContent:{bufferingVideoContent:1},ready2PlayAdContent:{pausedAdContent:1,playingAdContent:1},playingAdContent:{pausedAdContent:1,completedAdContent:1},pausedAdContent:{playingAdContent:1},completedAdContent:{ready2PlayVideoContent:1},adOverlayHidden:{ready2PlayVideoContent:1}},state="initPlayer",deviceInfo,prevState,fullscreen=!1,shareShown=!1,searchShown=!1,captionSetShown=!1,initialWidth,initialHeight,width,height,plugins={},userParams={},queue,queueURL,prevMode,prevPlayerType,initCompleted=!1,postInitQueue=[],modes={VIDEO_ON_MAIN:"VIDEO_ON_MAIN",AD_ON_MAIN:"AD_ON_MAIN",AD_ON_AD:"AD_ON_AD"},mode=modes.VIDEO_ON_MAIN,presentation,pausedTime,playbackOrigins={INITIAL:0,PLAYLIST_MANUAL:1,PLAYLIST_AUTO_ADVANCE:2,RECOMMENDATION_MANUAL:3,RECOMMENDATION_AUTO_ADVANCE:4,PLAY_API_METHOD:5},AutoPlayStatus={BLOCKED:"BLOCKED",MUTED:"MUTED",NONE:"NONE",UNMUTED:"UNMUTED"},manualAdScheduler,derivedMetadataManagerObj,videoManagerObj,langObj,adObj,controlObj,previewObj,sliderPreviewObj,captionManagerObj,captionSetObj,logoObj,ratingObj,shareObj,searchObj,playlistObj,splashObj,recomObj,slateObj,controllerInterfaceObj,adLearnMoreObj,adTimerObj,playerObj=this,sphericalRendererObj,pluginLoader,trackingPluginLoaderObj=trackingPluginLoader,sAdManager,currentAdBreaks,prevItem,currentItem,segmentQueueInfo={},currentAd,timeDelta=0,currentBitrate,selectedBitrate=400,volumeBeforeMute=1,currentVolume=1,firstTouchTime=-1,playlistCacheStarted=!1,playlistItemSelected=!1,playbackOrigin=playbackOrigins.INITIAL,processingPlayApiCall=!1,recommendationSelected=!1,isRecommendationSelectionManual=!1,playlistShown=!1,touchAvailable=!1,embedCode,shareLink,openGraphShareLink,viewCounted=!1,lastTimeIndex,lastSplashMode,lastSplashPoster,chromecastSession,chromecastMediaSession,chromecastInfo={},failoverSequence=["loadBackupStream","loadMainStream","loadFailoverStream","blacklistCapability","displayStreamFailureSlate"],currentFailoverQueue={},failoverServices={loadBackupStream:loadBackupStream,loadMainStream:loadMainStream,loadFailoverStream:loadFailoverStream,displayStreamFailureSlate:displayStreamFailureSlate,blacklistCapability:blacklistCapability},failoverInProgress=!1,failoverReachedCriticalState=!1,failoverStationMapping={},pluginPollStarted=!1,onBeforeVideoLoadReturnedExpected=!1,adPollIndex=0,adPollInProgress=!1,fullscreenOnVideoElement=!1,adRequested=!1,isUpdateAdPluginInProgress=!1,isAdPollDeferred=!1,AD_POLL_LIMIT=5,feedObj,prematureEventQueue=[],callbacks={},callbackArgs={},flashPlayerLoaded=!1,playerType,playingStartFired=!1,bufferingCompleted=!0,mediator=new Mediator,logger=loggerObj||new Logger(!0,!0,100),log=logger.getLogFn("Player"),seekAllowed=!1,totalTimeViewed=0,previousTimeIndex=0;log("STATE-> ",state);var fastForwardInfo={until:0,lastTimeIndex:0},timers={};loaderObj&&log("LOADER->",loaderObj.constructor.name);var availableBitrates={},adTypes={PREROLL:"09",POSTROLL:"10",MIDROLL:"11"},captionTypes={SIDE_CAR:"sideCar",CEA608:"cea608",EMBEDDED:"embedded"},currentCaptionStyle,contentInfo={type:{video:!0,adType:adTypes.PREROLL}},macros={},userStartTypeOverride={},sessionAutoPlaySupport={},tr,isWebGLSupported=util.isWebGLSupported(),isWebGLCorsSupported=util.isWebGLCorsSupported(),isMute=!1,isOnline=!0,lastStateBeforeCriticalOfflineBuffer,autoStartCheckResult=!1,waitingForFeed=!1,recommendationBlacklist={},playlistItemsWithoutMetadata=[],DEFERRED_METADATA_FETCH_DELAY=1e4,defaultBitrateList,lastItemIdBeforeRecommendationAttempt=null,RestartTv=RestartTvWithDefault.default,Slate=Es6Slate.default,PlayerEventManager=Es6PlayerEventManager.default,restartTv=new RestartTv,eventManager=new PlayerEventManager(logger),viewability=null;return{init:function(e,t,n,r,i){log("initializing with user div:",e),util.addEventListener(window,"beforeunload",function(){dispatchEvent("PLAYER_EXIT")}),userParams=r||{},plugins=userParams.plugins||{},selectedBitrate=userParams.initialBitrate||selectedBitrate,componentNodes=playerHelper.decorate(e,userParams,log),playlistObj=new Playlist(mediator,"playlistNode",logger,{dispatchError:dispatchError},userParams),playlistObj.init(queue,!0,!1),onPlaylistUpdated(playlistObj.getPlaylist()),evaluateMissingMetadata(queue),userParams.loop&&playlistObj.setLoopThrough(!0),userParams.hasVideoFullscreenSupport=util.checkFullscreen(componentNodes.videoContent),userParams.hasContainerFullscreenSupport=util.checkFullscreen(componentNodes.videoContainer),userParams.hasCanvasFullscreenSupport=util.checkFullscreen(componentNodes.canvasContent),autoPlay=userParams.autoplay,userParams.customUIController?userParams.customUIController.customControllerURL?util.loadJS(userParams.baseURL+"lib/webcomponents-lite.js",function(){initCustomInterface(t,n,i)}):userParams.customUIController.loadAssets&&initCustomInterface(t,n,i):initComponents(t,n,i),initCompleted=!0,log("calling post-initialization queued functions");for(var a=0;a<postInitQueue.length;a++){var o=postInitQueue[a];o.fn&&"function"==typeof o.fn&&o.fn.apply(null,o.args||[])}postInitQueue=[],util.getConnectionStatus(onlineCallback,offlineCallback)},updateLayout:function(e,t,n){n=n||!1,resize(e,t,n)},play:play,playByIndex:playByIndex,pause:pause,hardPause:hardPause,onTimeUpdated:function(e,t){controlObj.setDuration(t),controlObj.updateDuration(e)},setPlaylist:function(e){log("@setPlaylist"),"string"==typeof e?queueURL=e:e instanceof Array&&(queue=e)},getPlaylist:function(){return queue},getState:function(){return state},getTitle:function(){return currentItem&&currentItem.def_title?currentItem.def_title:null},getDescription:function(){return currentItem&&currentItem.def_description?currentItem.def_description:null},getDuration:function(){var e=videoManagerObj.getDuration();return e||currentItem.duration},getAdDuration:getAdDuration,setLanguage:function(e){langObj.setLanguage(e)},notifyVideoInfoUpdate:function(e,t){notifyVideoInfoUpdate(e,t)},addListener:function(e,t){eventManager.addListener(e,t)},setListener:function(e){eventManager.setListener(e)},setExternalMediaCallListener:setExternalMediaCallListener,unload:unload,getShareLink:function(e){return currentItem.upload_id&&playerConfig.mcp_id&&playerConfig.player_id?(log("Generating embed code for standard:",JSON.stringify(currentItem)),loaderObj.generateSharelink({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id},!!e)):userParams.url?(log("Generating embed code for non-standard:",JSON.stringify(userParams)),loaderObj.generateShareLink({u:userParams.url,live:userParams.live},!!e)):null},getEmbedCode:function(){return currentItem.upload_id&&playerConfig.mcp_id&&playerConfig.player_id?(log("Generating embed code for standard:",JSON.stringify(currentItem)),loaderObj.generateEmbedCode({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id})):userParams.url?(log("Generating embed code for non-standard:",JSON.stringify(userParams)),loaderObj.generateEmbedCode({u:userParams.url,live:userParams.live})):null},getVolume:getVolume,setVolume:setVolume,isFullscreen:function(){return fullscreen},setFullscreen:function(e){!fullscreen&&e&&toggleFullscreen()},getBitrates:function(){return defaultBitrateList},setBitrate:function(e){mediator.publish("bitrateSelected",e)},getCaptionLanguages:function(){var e=captionManagerObj.getAvailableLanguages();return!e.length&&live&&deviceInfo.ott&&(e=["en"]),e},getCurrentCaptionLanguage:function(){return captionManagerObj.getCurrentLanguage()},setCaption:setCaption,setCaptionStyle:function(e){log("@setCaptionStyle",JSON.stringify(e,null,2)),captionManagerObj.setStyle(e)},showCaption:function(){log("@showCaption"),log("@showCaption sidecars:",captionManagerObj.getCurrentLanguage()),log("@showCaption embedded:",videoManagerObj.hasEmbedCaption()),videoManagerObj.hasEmbedCaption()?videoManagerObj.enableEmbedCaption():captionManagerObj.getCurrentLanguage()?captionManagerObj.show():live&&deviceInfo.ott&&videoManagerObj.loadOpenCaption()},hideCaption:function(){log("@hideCaption"),log("@hideCaption sidecars:",captionManagerObj.getCurrentLanguage()),log("@hideCaption embedded:",videoManagerObj.hasEmbedCaption()),videoManagerObj.hasEmbedCaption()?videoManagerObj.disableEmbedCaption():live&&deviceInfo.ott&&videoManagerObj.unloadOpenCaption(),captionManagerObj.getCurrentLanguage()&&captionManagerObj.hide()},getPlayerLanguages:function(){return"en"},setPlayerLanguage:function(e){},seekTo:seekTo,getCurrentTime:function(){return videoManagerObj.getCurrentTime()},mute:mute,unmute:unmute,setLogo:function(e){logoObj.setLogo(e)},showLogo:function(){logoObj.show()},hideLogo:function(){logoObj.hide()},hideControlBar:function(){controlObj.setVisibilityMode("hidden")},showControlBar:function(){controlObj.setVisibilityMode("responsive")},showException:function(e){dispatchEvent("PLAYER_ERROR",e)},showSlate:showSlate,hideSlate:hideSlate,block:showSlate,unblock:function(e){e==util.md5("anvrocks")&&(slateObj.hide(),unmute(),live?catchLive():videoManagerObj.play())},catchLive:catchLive,resize:resize,hideAll:hideAll,displaySplashScreen:displaySplashScreen,displayPauseScreen:displayPauseScreen,displayControlBar:displayControlBar,displayEndScreen:displayEndScreen,displayShareScreen:displayShareScreen,updateMetadata:updateMetadata,updateDerivedMetadata:updateDerivedMetadata,setTimeDelta:setTimeDelta,setChromecastStatus:setChromecastStatus,onChromecastEvent:onChromecastEvent,fastForward:fastForward,getPlaybackRate:getPlaybackRate,directExternalVideoEvents:directExternalVideoEvents,setStartType:setStartType,replayEvents:function(){log("@replayEvents"),pluginLoader.replayEvents()},trackCustomEvent:function(e,t){pluginLoader.trackCustomEvent(e,contentInfo,t)},resetHeartbeat:function(){pluginLoader.resetHeartbeat()},optOutNielsen:function(){pluginLoader.optOutNielsen()},optInNielsen:function(){pluginLoader.optInNielsen()},playNext:function(){playNext(!0)},playPrevious:function(){playPrevious(!0)},getThumbnail:getThumbnail,getPoster:getPoster,showMono:function(){sphericalRendererObj&&sphericalRendererObj.showMono()},showStereo:function(){sphericalRendererObj&&sphericalRendererObj.showStereo()},skipAd:function(){pluginLoader.isCustomPlaybackUsed().dfp&&pluginLoader.skipAd()},onBeforeVideoLoadReturned:onBeforeVideoLoadReturned,onBitrateUpdatedReturned:onBitrateUpdatedReturned,updatePlugin:updatePlugin,setRecommendations:setRecommendations,getPlaylistIndex:getPlaylistIndex,startAd:startAd,changeProgram:changeProgram,addToPlaylist:addToPlaylist,removePlaylistItemWithId:function(e){playlistObj.removeWithId(e)},removePlaylistItemWithIndex:function(e){playlistObj.removeWithIndex(e)},onViewabilityChange:onViewabilityChange}}return Player}),define("Subscription",["util"],function(e){function t(t){function n(){log("@decorateLogin"),t.innerHTML="",t.style.background="#fff",a.wrapper=e.generateChild(t,"div","login-dialog","login-dialog"),a.errorMessage=e.generateChild(a.wrapper,"div","login-error","login-error"),
e.generateChild(a.wrapper,"div","title","social-title full-width","Login with your Anvato account"),console.log(">>>",a),a.email=e.generateChild(a.wrapper,"input","email","email full-width"),a.password=e.generateChild(a.wrapper,"input","password","password full-width"),a.password.type="password",forgot=e.generateChild(a.wrapper,"a","password","forgot full-width","I forgot my password"),forgot.href="http://www.anvato.com",a.email.placeholder="Email",a.email.name="username",a.password.name="password",a.password.placeholder="Password",a.login=e.generateChild(a.wrapper,"button","login","login","LOGIN"),a.login.onclick=function(){r()}}function r(){log("onLoginRequest",a.email.value,a.password.value),i&&(log("calling credentialCallback"),a.errorMessage.innerHTML="",i(a.email.value,a.password.value))}var i,a={},o={401:"Wrong username or password. Please try again."};return log="undefined"!=typeof logger?logger.getLogFn("Subscription"):function(){console.log.apply(console,["[!Subscription!]\t"].concat(Array.prototype.slice.call(arguments)))},{displayLoginDialog:function(e){log("@diplayLoginDialog"),i=e,n(),t.style.display="block"},setErrorMessage:function(e){a.errorMessage.innerHTML=o[e]||"You are not authorized."},hideLoginDialog:function(){a.errorMessage.innerHTML="",t.style.display="none"}}}return t}),define("Chromecast",["util"],function(e){function t(t,n,r,i){function a(){e.loadJS("//www.gstatic.com/cv/js/sender/v1/cast_sender.js"),o()}function o(e){Te("@checkCastSender trial#",e),e=e||0,chrome.cast&&chrome.cast.isAvailable?(Te("@checkCastSender castSender ready"),s()):setTimeout(function(){o(++e)},100*Math.pow(2,e))}function s(){var e,t=["0AE3CFD5","BD4F329F","A4F703F3","85DA1632","9D26E851","76BFC04E","CDC27129",chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID];i&&i.plugins&&i.plugins.chromecast&&"object"==typeof i.plugins.chromecast&&"appId"in i.plugins.chromecast&&(e=i.plugins.chromecast.appId),e=e||t[5],Te("@initializeCastApi selected appId",e);var n=[chrome.cast.AutoJoinPolicy.PAGE_SCOPED,chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED,chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED],r=new chrome.cast.SessionRequest(e),a=new chrome.cast.ApiConfig(r,d,f,n[2]);chrome.cast.initialize(a,l,A)}function l(){if(Te("@onInitSuccess"),me=JSON.parse(localStorage.getItem("storedSession"))){Te("@onInitSuccess cached",me.id);var e=me.timestamp,t=(new Date).getTime();Te("@onInitSuccess cached",t,e,t-e,Qe),t-e<Qe&&Te("@onInitSuccess cached still valid",me.id)}}function A(e){Te("@onInitError",e)}function d(e){Te("@sessionListener: "+e.sessionId),Ee||c(e)}function c(e){Te("@onSessionAvailable",e.sessionId),Ee=e,ye=Be.ACTIVE,u(ye,Ee),0!=Ee.media.length&&(Te("onSessionAvailable",JSON.stringify(Ee.media,null,3)),Te("Found "+Ee.media.length+" existing media sessions."),L("sessionListener",Ee.media[0])),me&&Te("@onSessionAvailable storedSession",me.id),Ee.addMediaListener(L.bind(null,"addMediaListener")),Ee.addUpdateListener(p.bind(null)),Ee.addMessageListener("urn:x-cast:com.anvato.chromecast",H),Ee.addMessageListener("urn:x-cast:com.br.chromecast",H),g()}function u(e,n,i){Te("@notifyChromecastStatus",e,n,i),t.setChromecastStatus(e,n,i),r.dispatchEvent("CHROMECAST_STATUS",e,n?n.receiver.friendlyName:void 0,n?n.appId:void 0,n?n.displayName:void 0)}function g(){var t=JSON.stringify(r.getVerificationObject());t=e.aesStdEncrypt("ecb",t,"98a5ad0983ef8977","base64"),z({type:"verification",content:t})}function f(e){"available"===e?(Te("receiver found"),ye=Be.IDLE):(ye=Be.NONE,Te("receiver list empty")),u(ye)}function p(e){Te("@sessionUpdateListener",JSON.stringify(arguments)),e||(ye=Be.IDLE,u(ye),Ee=null)}function h(){Te("@launchApp launching app..."),Te("@launchApp requesting new session"),chrome.cast.requestSession(E,I)}function m(){Te("@stopApp"),Ee.leave(y,v)}function E(e){Te("session success: "+e.sessionId,JSON.stringify(e,null,3),!!Ee),C(e.sessionId),Ee||c(e)}function I(e){console.error("Chromecast launch error",e),u(ye)}function y(){Te("App stopped successfully"),Ee=null,ye=Be.IDLE,u(ye)}function v(){Te("App could not be stopped!")}function C(e){if("undefined"!=typeof Storage){var t={id:e,timestamp:(new Date).getTime()};localStorage.setItem("storedSession",JSON.stringify(t))}}function b(t,n){if(Te("@decryptWithSenderToken",t,n),"string"==typeof n){try{n=e.aesStdDecrypt("ecb",n,t,"base64")}catch(e){return void Te("@decryptWithSenderToken error while decrypting the payload",e.message)}try{n=JSON.parse(n)}catch(e){return void Te("@decryptWithSenderToken error while parsing the payload")}}return n}function B(t,n){if("object"==typeof n){try{n=JSON.stringify(n)}catch(e){return void Te("@decryptWithSenderToken error while stringifying the payload")}try{n=e.aesStdEncrypt("ecb",n,t,"base64")}catch(e){return void Te("@decryptWithSenderToken error while encrypting the payload")}}return n}function w(e,t){Te("@loadQueue",JSON.stringify(e,null,3),t);for(var n,r,a,o,s=[],l=0,A=e.length;l<A;l++)o={},o.video=e[l].upload_id||e[l].id,o.title=e[l].def_title,o.description=e[l].def_description,o.thumbnail=e[l].src_image_url,i&&(o.accessKey=i.accessKey,o.mcp=i.mcp),n=new chrome.cast.media.MediaInfo("Stream from Anvato Player SDK"),n.customData=o,n.metadata=new chrome.cast.media.GenericMediaMetadata,n.metadata.metadataType=chrome.cast.media.MetadataType.GENERIC,n.contentType="application/x-mpegurl",n.metadata.images=[],r=new chrome.cast.media.QueueItem(n),r.autoplay=!0,r.itemId=null,r.media=n,r.preloadTime=10,r.startTime=0,s.push(r);a=new chrome.cast.media.QueueLoadRequest(s),a.startIndex=t||0,a.items=s,a.repeatMode=chrome.cast.media.RepeatMode.OFF,Te("calling queueLoad"),Ee.queueLoad(a,Q.bind(null,"loadQueue"),T)}function S(e){Te("@loadMedia",JSON.stringify(e,null,3));var t,n;if(!Ee)return void Te("no session");"string"==typeof e&&(Te("@loadMedia loading with video:","encrypted"),e=b(we.token,e),Te("decrypted and parsed encrypted payload"),i&&i.plugins&&"object"==typeof i.plugins.chromecast&&i.plugins.chromecast.proxyUrl&&(e.proxyUrl=i.plugins.chromecast.proxyUrl)),"object"==typeof e&&(e.accessKey&&e.video?(e.plugins=i.plugins,e.accessControl=i.accessControl,e.poster=i.poster,e.thumbnail=i.thumbnail,Te("@loadMedia loading with non-encrypted payload",JSON.stringify(e,null,3)),n=!0):e.url?Te("@loadMedia loading with url",e.url):e.video&&e.mcp&&!e.accessKey&&r&&"lookupVideoJson"in r&&(Te("@loadMedia loading with non-tkx flow",e.video),e.videoJson=r.lookupVideoJson(e.video))),t=new chrome.cast.media.MediaInfo("Stream from Anvato Player SDK"),t.customData=n?B(we.token,e):e,n&&(t.customData={encrypted:t.customData}),Te("@loadMedia loading with final payload",JSON.stringify(t.customData,null,3)),t.metadata=new chrome.cast.media.TvShowMediaMetadata,t.metadata.metadataType=chrome.cast.media.MetadataType.TV_SHOW,"dash"==e.format?t.contentType="application/dash+xml":t.contentType="application/x-mpegurl";var a=new chrome.cast.media.QueueItem(t);a.autoplay=!0,a.itemId=null,a.media=t,a.preloadTime=10,a.startTime=e.startAt||0;var o=[a],s=new chrome.cast.media.QueueLoadRequest(o);s.startIndex=0,s.items=o,s.repeatMode=chrome.cast.media.RepeatMode.OFF,Te("calling queueLoad"),Ee.queueLoad(s,L.bind(null,"loadMedia"),T)}function Q(e,t){Te("@onQueueLoadSuccess",arguments),L(e,t)}function T(e){console.error("@onQueueLoadError",e)}function D(e,t){Te("@play",JSON.stringify(e,null,3),t,i),e?("object"==typeof e&&(e.video_type&&e.upload_id||e.id&&e.src_image_url)&&(e=[e]),"object"==typeof e&&e.length?w(e,t):S(e)):Ie.play(null,R.bind(this,"playing started for "+Ie.sessionId),_)}function k(e){Te("@playRecommendation",JSON.stringify(e,null,3)),W("loadRecommendation",e)}function R(e){Te("@mediaCommandSuccessCallback",e)}function _(e){Te("@mediaCommandErrorCallback",e)}function M(){Ie.pause(null,R.bind(this,"paused "+Ie.sessionId),_)}function N(){Te("@stopMedia"),Ie&&Ie.stop(null,R.bind(this,"stopped "+Ie.sessionId),_)}function L(e,t){Te("@onMediaDiscovered",e,t),"sessionListener"==e&&(launchVideoData=null),Te("new media session ID:"+t.mediaSessionId),Ie=t,Ie.addUpdateListener(O),mediaCurrentTime=Ie.currentTime,Te("@onMediaDiscovered STATE:",Ie.playerState),ye=Ie.playerState.toLowerCase(),u(ye,Ee,Ie),Te("@onMediaDiscovered interval set?",!Ce.currentTime,Ce.currentTime),Ce.currentTime||(Ce.currentTime=setInterval(P.bind(this),Se))}function O(e){Te("@onMediaStatusUpdate",JSON.stringify(arguments,null,3)),Te("@onMediaStatusUpdate STATE:",Ie.playerState),ye=Ie.playerState.toLowerCase(),u(ye,Ee,Ie),e?Ie.playerState:currentMediaTime=0}function P(){if(Te("@updateCurrentTime",!Ee||!Ie),Ee&&Ie)if(Ie.media&&null!=Ie.media.duration){var e=Ie.getEstimatedTime();Te("timeIndex",e,Ie.media.duration),t&&"onTimeUpdated"in t&&t.onTimeUpdated(1e3*e,1e3*Ie.media.duration)}else Ce.currentTime&&!Ie.media&&(clearInterval(Ce.currentTime),Te("@updateCurrentTime cleared inverval",Ce.currentTime),delete Ce.currentTime)}function F(e,t){Te("@setReceiverVolume",e,t),Ee&&(t?Ee.setReceiverMuted(!0,R.bind(this,"media set-volume done"),U):(Ee.setReceiverVolumeLevel(e,R.bind(this,"media set-volume done"),U),ve=e))}function U(e){Te("@onError",e)}function x(){F(ve,!0),Te("media muted")}function G(){F(ve,!1),Te("media unmuted")}function V(e){F(e,!1)}function H(e,n){Te("@listener received:",e);var i=JSON.parse(n);switch(Te("@listener received:",JSON.stringify(i,null,3)),i.name){case"METADATA_LOADED":break;case"PROGRAM_CHANGED":i.args.length;break;case"VERIFICATION_STATUS":i.args.length>1&&(we.isVerified=i.args[0],we.token=i.args[1]),Te("@listener~VERIFICATION_STATUS",JSON.stringify(we,null,3))}i&&"name"in i&&(r.dispatchEvent.apply(r,[i.name].concat(i.args)),t&&"onChromecastEvent"in t&&t.onChromecastEvent(i))}function j(){return ye}function Y(){return Ee}function K(){return Ie}function J(e){Te("Seeking "+Ie.sessionId+":"+Ie.mediaSessionId+" to "+e/1e3+"sec."),be=0;var t=new chrome.cast.media.SeekRequest;t.currentTime=e/1e3,Ie.seek(t,q.bind(this,"media seek done"),U)}function q(e){Te("@onSeekSuccess",e),setTimeout(function(){be=1},Se)}function W(e,t){z({type:"rpc",content:{name:e,args:Array.prototype.slice.call(arguments,1)}})}function z(e){Te("@sendMessage",JSON.stringify(e,null,3)),Ee.sendMessage("urn:x-cast:com.anvato.chromecast",e,function(){},function(){})}function Z(e,t){Te("@sendCustomMessage",e,JSON.stringify(t,null,3)),Ee.sendMessage(e,t,function(){},function(){})}function X(e,t){Te("@toggleCaption",e,t),W("toggleCaption",e,t)}function $(e){Te("@addToQueue",JSON.stringify(e,null,3));var t,n,r,a,o={};o.video=e.id,o.title=e.def_title,o.description=e.def_description,o.thumbnail=e.src_image_url,i&&(o.accessKey=i.accessKey,o.mcp=i.mcp),t=new chrome.cast.media.MediaInfo("Stream from Anvato Player SDK"),t.customData=o,t.metadata=new chrome.cast.media.GenericMediaMetadata,t.metadata.metadataType=chrome.cast.media.MetadataType.GENERIC,t.contentType="application/x-mpegurl",t.metadata.images=[],n=new chrome.cast.media.QueueItem(t),n.autoplay=!0,n.itemId=null,n.media=t,n.preloadTime=10,n.startTime=0,r=[n],a=new chrome.cast.media.QueueInsertItemsRequest(r),a.items=r,Ie.queueInsertItems(a,ee,te)}function ee(){Te("@onAddToQueueSuccess",JSON.stringify(arguments,null,3))}function te(){Te("@onAddToQueueError",JSON.stringify(arguments,null,3))}function ne(e){Te("@removeFromQueue",JSON.stringify(e,null,3)),Ie.queueRemoveItem(e.queueIndex,re,ie)}function re(){Te("@onRemoveFromQueueSuccess")}function ie(){Te("@onRemoveFromQueueError")}function ae(e){Te("@reorderQueue",JSON.stringify(e,null,3));for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n].queueIndex);var i=new chrome.cast.media.QueueReorderItemsRequest(t);i.itemIds=t,Ie.queueReorderItems(i,oe,se)}function oe(){Te("@onReorderQueueSuccess")}function se(){Te("@onReorderQueueError")}function le(){Ie.queueNext(Ae,de)}function Ae(){Te("@onPlayNextSuccess")}function de(){Te("@onPlayNextError")}function ce(){Ie.queuePrev(ue,ge)}function ue(){Te("@onPlayPreviousSuccess")}function ge(){Te("@onPlayPreviousError")}function fe(e){var t;new chrome.cast.media.TextTrackStyle;e&&(t=new chrome.cast.media.EditTracksInfoRequest(void 0,e),Ie.editTracksInfo(t,pe,he))}function pe(){Te("@setCaptionStyleSuccess")}function he(){console.error("@setCaptionStyleError")}var me,Ee,Ie,ye,ve,Ce={},be=1,Be={IDLE:"idle",ACTIVE:"active",BUFFERING:"buffering",PLAYING:"playing",PAUSED:"paused",NONE:"none",ERROR:"error"},we={},Se=1e3,Qe=6e5,Te=n?n.getLogFn("Chromecast"):function(){console.log.apply(console,["[!Chromecast!]\t"].concat(Array.prototype.slice.call(arguments)))};return{init:a,launchApp:h,stopApp:m,play:D,playNext:le,playPrevious:ce,addToQueue:$,removeFromQueue:ne,reorderQueue:ae,playRecommendation:k,pause:M,stop:N,mute:x,unmute:G,setVolume:V,getState:j,getCastSession:Y,getMediaSession:K,seekTo:J,sendMessage:z,sendCustomMessage:Z,customCall:W,toggleCaption:X,sendVerificationRequest:g,setCaptionStyle:fe}}return t}),define("pluginNielsen",["util"],function(e){function t(t,n,r,i){function a(t,n){switch(c("@sendBeacon",t,JSON.stringify(n)),d=n,l={},l.type="dtvr"==s.type?"content":d.type.video?"content":"ad",l.channelName=d.contentId,l.adModel=n.derivedMetadata$adModel||"1","dtvr"!=s.type&&(l.assetId=d.contentId,l.title=d.contentTitle,l.length=d.duration,A.assetid=d.type.adId,s.mapping&&(s.mapping.video||s.mapping.ad?(l=e.merge(l,i.getDerivedMetadata(d,E.VIDEO)),A=e.merge(l,i.getDerivedMetadata(d,E.AD))):l=e.merge(l,i.getDerivedMetadata(d,E.MAPPING)))),c("@sendBeacon",t),t){case"METADATA_LOADED":u=!1,g=!1,f=!1;break;case"ID3":!p.programChangedFallbackTimer&&d.id3TagPublisher&&d.id3TagPublisher.indexOf("nielsen")>-1&&(c("@track->sendID3",d.id3Tag,d.id3TagPublisher),o.ggPM("sendID3",d.id3Tag));break;case"TIME_UPDATED":case"AD_TIME_UPDATED":"dtvr"!=s.type&&(c("@track->setPlayheadPosition"),d.live?o.ggPM("setPlayheadPosition",Date.now()/1e3):o.ggPM("setPlayheadPosition",d.timeIndex));break;case"AD_STARTED":"dtvr"!=s.type&&o.ggPM("loadMetadata",A);break;case"AD_FIRST_QUARTILE":case"AD_MID_POINT":case"AD_THIRD_QUARTILE":break;case"AD_COMPLETED":c("@track->stop"),"dtvr"!=s.type&&(d.live?o.ggPM("stop",Date.now()/1e3):o.ggPM("stop",d.timeIndex));break;case"PLAYING_START":g||(d.live?(p.programChangedFallbackTimer=setTimeout(function(){c("@track->play"),"dtvr"!=s.type?o.ggPM("play",Date.now()/1e3):o.ggPM("play",l),c("@track->loadMetadata (as fallback for PROGRAM_CHANGED scheduled by PLAYING_START)",JSON.stringify(l,null,3)),o.ggPM("loadMetadata",l),f=!0,delete p.programChangedFallbackTimer},h),p.invalidateFallbackUsedFlag=setTimeout(function(){c("resetting programChangedFallbackUsed flag since next PROGRAM_CHANGED can not be ignored after a long time"),f=void 0,u=!0},m)):(c("@track->play"),"dtvr"!=s.type?o.ggPM("play",d.timeIndex):o.ggPM("play",l),c("@track->loadMetadata",JSON.stringify(l,null,3)),o.ggPM("loadMetadata",l)));break;case"VIDEO_FIRST_QUARTILE":case"VIDEO_MID_POINT":case"VIDEO_THIRD_QUARTILE":break;case"VIDEO_COMPLETED":c("@track->end"),o.ggPM("end",d.timeIndex),g=!1;break;case"USER_PAUSE":c("@track->pause"),d.live?o.ggPM("pause",Date.now()/1e3):o.ggPM("pause",d.timeIndex);break;case"USER_RESUME":c("@track->play"),"dtvr"!=s.type?d.live?o.ggPM("play",Date.now()/1e3):o.ggPM("play",d.timeIndex):o.ggPM("play",l);break;case"PROGRAM_CHANGED":p.programChangedFallbackTimer&&(clearTimeout(p.programChangedFallbackTimer),delete p.programChangedFallbackTimer),f?(f=void 0,u=!0):(u&&(c("@track->end"),o.ggPM("end",Date.now()/1e3)),c("@track->play"),"dtvr"!=s.type?o.ggPM("play",Date.now()/1e3):o.ggPM("play",l),c("@track->loadMetadata"),o.ggPM("loadMetadata",l),u=!0)}}var o,s=t,l={},A={},d={},c=r?r.getLogFn("Nielsen"):function(){console.log.apply(console,["[!Nielsen!]\t"].concat(Array.prototype.slice.call(arguments)))},u=!1,g=!1,f=!1,p={},h=15e3,m=6e5,E={MAPPING:"plugins:nielsen:mapping:",VIDEO:"plugins:nielsen:mapping:video:",AD:"plugins:nielsen:mapping:ad:"};return s&&s.apid&&s.sfcode?(window._nolggGlobalParams=e.deepCopy(s),window.NOLCMB?(c("Initializing Nielsen instance"),delete window._nolggGlobalParams.optOut,delete window._nolggGlobalParams.type,o=window.NOLCMB.getInstance(s.instanceName||void 0),c("plugin config ",JSON.stringify(s,null,3)),c("init with ",JSON.stringify(window._nolggGlobalParams,null,3)),o.ggInitialize(window._nolggGlobalParams),n.publish("nielsenInitialized",s),o._ggPM=o.ggPM,o.ggPM=function(e,t){c("Sending:",e,JSON.stringify(t)),o._ggPM(e,t)},{sendBeacon:a}):("dispatchError"in i&&i.dispatchError("NIEL002"),null)):(c("dispatching error NIEL001"),"dispatchError"in i&&i.dispatchError("NIEL001"),null)}return t}),define("TrackingPluginLoader",["util","pluginNielsen"],function(e,t){function n(e,n,r,i,a,o,s){function l(e,t){v("@loadPlugin",e);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");v("@loadPlugin",e),n.appendChild(r),b[e].appended=!0,r.onload=function(){v("just loaded the script with source:",this.src,e),b[e].ready=!0},t&&t in b[e].src?r.src=b[e].src[t]:"defaultEnvironment"in b[e]&&b[e].defaultEnvironment in b[e].src?r.src=b[e].src[b[e].defaultEnvironment]:r.src=b[e].src}function A(e){v("@checkPlugin",e);var t=!1;switch(e){case"googleAnalytics":break;case"nielsen":t=void 0!==window.NOLCMB}b[e].ready=t,v("@checkPlugin",e,"ready?:",t)}function d(r,a){switch(v("@initPlugin",r,JSON.stringify(n,null,3)),r){case"googleAnalytics":break;case"nielsen":b.nielsen.instance=new t(n.nielsen,e,i,o),null==b.nielsen.instance&&(b.nielsen.initFailed=!0)}b[r].init=!0}function c(e,t){h.apply(null,["sendBeacon"].concat(Array.prototype.slice.call(arguments)))}function u(){v("@replayEvents"),h.apply(null,["replayEvents"].concat(Array.prototype.slice.call(arguments)))}function g(){v("@resetHeartbeat"),h.apply(null,["resetHeartbeat"].concat(Array.prototype.slice.call(arguments)))}function f(){v("@optOutNielsen"),h.apply(null,["optOutNielsen"].concat(Array.prototype.slice.call(arguments)))}function p(){v("@optInNielsen"),h.apply(null,["optInNielsen"].concat(Array.prototype.slice.call(arguments)))}function h(){var e=Array.prototype.slice.call(arguments,1),t={};for(var r in b)b.hasOwnProperty(r)&&n[r]&&!b[r].initFailed&&(b[r].instance&&b[r].init?(y[r]&&y[r].length&&m(r),arguments[0]in b[r].instance&&(v("Invoking ",arguments[0],"on plugin:",r),t[r]=b[r].instance[arguments[0]].apply(null,e))):(v("plugin not ready adding beacon to the queue for",r),y[r]=y[r]||[],y[r].push(arguments)));return t}function m(e){var t,n;if(v("@emptyBeaconQueue for ",e,"total items",y[e].length),b[e]&&b[e].instance&&!b[e].initFailed)for(;y[e].length;)t=y[e].shift(),n=Array.prototype.slice.call(t,1),v("@emptyBeaconQueue queue item",e),t[0]in b[e].instance&&b[e].instance[t[0]].apply(null,n)}function E(t){v("@polling trial #",++C);var r,i=!1;for(var a in n)n.hasOwnProperty(a)&&(v("@poll checking",a),n.hasOwnProperty(a)&&n[a]&&a in b&&b[a].moduleAvailable&&I(a)&&(v(">>>@poll checking",a),b[a].src&&!b[a].appended&&("environment"in n[a]&&(r=n[a].environment),l(a,r),i=!0),b[a].appended&&!b[a].ready&&(A(a),i=!0),!b[a].ready||b[a].init||b[a].initFailed||(d(a,t),i=!0)));i?setTimeout(E.bind(null,t),10*C*C):(v("loadedTrackingPluginSDKs"),e&&e.publish("loadedTrackingPluginSDKs"))}function I(e){return!(e in{dfp:1,freewheel:1})||n[e]&&(!n[e].clientSide&&!n[e].serverSide||n[e].clientSide)}var y={},v=i?i.getLogFn("TrackingPluginLoader"):function(){console.log.apply(console,["[!TrackingPluginLoader!]\t"].concat(Array.prototype.slice.call(arguments)))},C=0,b={nielsen:{defaultEnvironment:"production",src:{cert:"//secure-cert.imrworldwide.com/novms/js/2/ggcmb500.js",production:"//secure-us.imrworldwide.com/novms/js/2/ggcmb500.js"},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==t}};return{replayEvents:u,resetHeartbeat:g,optOutNielsen:f,optInNielsen:p,poll:E,sendBeacon:c,isActive:function(e){return!!(e in b&&b[e].moduleAvailable)&&b[e].init},isAvailable:function(e){return!!(e in b&&b[e].moduleAvailable)&&b[e].init},isReady:function(e){return!!(e in b&&b[e].moduleAvailable)&&b[e].ready},isRequested:function(e){return e in b&&b[e].moduleAvailable&&e in n}}}return n}),define("Notification",["util"],function(e){function t(t,n,r,i,a){function o(e,t,n){n=n||{},B=t,p=n.link,m=n.maximize,E=n.minimize,v.innerHTML=e||"",e&&p&&s()}function s(){for(var t=v.getElementsByTagName("a"),n=0,r=t.length;n<r;n++)e.addEventListener(t[n],"click",p,!1)}function l(e,t){v.innerHTML=e||v.innerHTML,t=t||{},p=t.link||p,m=t.maximize||m,E=t.minimize||E,v.innerHTML&&p&&s(),b=!0,B?(I.style.display="block",y.style.display="none"):(I.style.display="none",y.style.display="block")}function A(){I.style.display="none",y.style.display="none",u()}function d(){n&&"getState"in n&&(h=n.getState(),w("lastPlayerState",h))}function c(){n&&"pause"in n&&n.pause()}function u(){n&&"play"in n&&n.play()}function g(){B?(b=!b,w("@toggleViewMode",b?"minimized":"maximized"),I.style.display=b?"block":"none",y.style.display=b?"none":"block",b?(E&&E(),h&&h.indexOf("playing")>-1&&u()):(m&&m(),d(),c())):A()}function f(e){e&&(e.location=e.location||"tr",e.location=e.location.toLowerCase(),e.sizeFactor=e.sizeFactor||1,I.style[e.location.indexOf("l")>-1?"left":"right"]="0",I.style[e.location.indexOf("b")>-1?"bottom":"top"]="0",I.style[e.location.indexOf("r")>-1?"left":"right"]="",I.style[e.location.indexOf("t")>-1?"bottom":"top"]="",I.style.height=e.sizeFactor*I.parentNode.offsetHeight/6+"px",e.margin?I.style.margin=e.margin:(I.marginTop&&(I.style.marginTop=e.marginTop),I.marginRight&&(I.style.marginRight=e.marginRight),I.marginBottom&&(I.style.marginBottom=e.marginBottom),I.marginLeft&&(I.style.marginLeft=e.marginLeft)))}var p,h,m,E,I=e.generateChild(t,"img","anv-notification-button","notification-button"),y=e.generateChild(t,"div","anv-notification-dialog","notification-dialog"),v=e.generateChild(y,"span","anv-notification-dialog-content","notification-dialog-content"),C=e.generateChild(y,"div","anv-notification-close-btn","notification-close-btn"),b=!0,B=!1,w=void 0!==a?a.getLogFn("Subscription"):function(){console.log.apply(console,["[!Subscription!]\t"].concat(Array.prototype.slice.call(arguments)))};return I.src=i.baseURL+"img/whiteinfo.png",C.style.background='url("'+i.baseURL+'img/sprite32.png") -415px -92px',f(r),t.appendChild(I),t.appendChild(y),y.appendChild(C),y.appendChild(v),I.onclick=g,C.onclick=g,{init:o,display:l,hide:A,toggleViewMode:g,applyConfig:f}}return t}),define("PlaylistAdapter",["util","Feed"],function(e,t){function n(n,r,i,a){function o(e){e=e.videos;var t,n,r=JSON.parse(JSON.stringify(e)),i=e.length;for(t=0;t<i;t++)r[t].upload_id=e[t].id,n=e[t].title,delete r[t].title,r[t].def_title=n,n=e[t].description,delete r[t].description,r[t].def_description=n,r[t].src_image_url=e[t].src_image_url||e[t].thumbnail;return r}function s(t){for(var i=[],a=0,o=t.length;a<o;a++)"object"==typeof t[a]?t[a].url?i.push({id:t[a].id||e.md5(t[a].url),isExternal:!!t[a].url,upload_id:t[a].id||e.md5(t[a].url),video_type:t[a].live||r?2:1,formats:[{embed_url:t[a].url,format:t[a].format||"m3u8",protocol:"http",upload_id:t[a].id||e.md5(t[a].url),kbps:t[a].bitrate||"400",cdn_name:t[a].cdn||n.cdn}],src_image_url:t[a].poster||n.poster||t[a].thumbnail||n.thumbnail,thumbnail:t[a].thumbnail||n.thumbnail,def_title:t[a].title||n.title,def_description:t[a].description||n.description,language:t[a].language||n.language||"en",derived_metadata:t[a].derivedMetadata||n.derivedMetadata,plugins:t[a].plugins}):i.push({id:t[a].id,upload_id:t[a].id,token:t[a].token}):i.push({id:t[a],upload_id:t[a]});return i}function l(t,r){var i=String(t).toLocaleLowerCase(),a=n.playlistBaseURL||u[i];a?e.loadJS(a+r+".js?ts="+(new Date).getTime()):console.error("The provided mcp does not have a registered playlist path in the SDK")}function A(e){feedObj=new t(a),feedObj.init(e,feedObj.outputTypes.PLAYLIST,function(e){playlist=e,"function"==typeof c&&c(playlist)},function(){throw"Unable to load feed data."})}function d(e,t){if(void 0===e)throw"Data not set.";if(c=t,Array.isArray(e)){var n=s(e);"function"==typeof c&&c(n)}else if("object"==typeof e){if("feed"!=e.type)throw"Incorrect playlist type.";A(e.id)}else l(i,e)}window.anvatoPlaylistJSONLoaded=function(e){var t=o(e);"function"==typeof c&&c(t)};var c,u={anv:"//mcp-download.storage.googleapis.com/anv-playlists/",cbs:"//cbslocal-download.storage.googleapis.com/anv-playlists/",next:"//sa-mcp.storage.googleapis.com/playlists/"};a&&a.getLogFn("PlaylistAdapter");return{invoke:d,loadPlaylistJSON:l}}return n}),define("Loader",["Logger","Player","Subscription","Chromecast","TrackingPluginLoader","util","mediator","Notification","PlaylistAdapter"],function(e,t,n,r,i,a,o,s,l){function A(e){function o(){return He?He.getTimeDelta():0}function A(e){window.manifestFileHandler=e}function d(e,t,n,r){Mt("@directCompanion",e,"X",t,"content:",n,"additional:",r);var i=r&&r.type?r.type:"html",a=r&&r.creative_type?r.creative_type:null,o=r&&r.data?r.data:n;o&&(o={data:encodeURIComponent(o),clickTarget:r&&r.click?r.click:void 0,creativeView:r&&r.tracking&&r.tracking.creativeView?r.tracking.creativeView:void 0}),we(Dt.COMPANION_AVAILABLE,i,a,e,t,o),St.companionInjectFn&&(Mt("companionInjectFn available",Ye.pInstance,e,t),St.companionInjectFn(Ye.pInstance,e,t,n,r))}function c(e){for(var t in e)Nt.setItem(t,e[t])}function u(e){var t={};for(var n in e){var r=Nt.getItem(n);t[n]=r}return t}function g(e,t,n){Mt("@postWithWsse",JSON.stringify(e,null,3),!!Je.onWsseResponse);var r=a.generateWsseHeader(e.username,e.password);vt.wsseResponse=t||Je.onWsseResponse.bind(Je),vt.wsseError=n||Je.onWsseResponse.bind(Je),e.apiPayload&&"object"==typeof e.apiPayload&&(e.apiPayload=JSON.stringify(e.apiPayload)),a.sendPostRequest(e.apiUrl,e.apiPayload,f,p,{"X-WSSE":r},!1)}function f(e){var t;Mt("@onWsseResponse",e,typeof e);try{e=JSON.parse(e)}catch(e){return void p(e)}vt.wsseResponse&&"report_suites"in e&&"object"==typeof e.report_suites&&"length"in e.report_suites&&(t=e.report_suites.join(","),Mt("@onWsseResponse",t),vt.wsseResponse(t))}function p(e){Mt("wsseError",e,typeof e),vt.wsseError&&vt.wsseError(e)}function h(e,t){Mt("@loadPlayerJSON",e,t),ut=!1;var n=e+"/";null!=t&&""!=t&&"default"!=t?(Et=It[e]||Et,Mt("Loading Anvato player JSON @: "+Et+n+t+".js"),a.loadJS(Et+n+t+".js")):(at=it,ut=!0,y())}function m(e,t,n,r,i){Mt("@loadVideoJSON",e,t,n,r,i);var o=Ye&&Ye.videoEnv?Ye.videoEnv.toLowerCase():"stage",s=at&&at.dynamic_urls?at.dynamic_urls[o]:null;if(Mt("@loadVideoJSON"),At=!1,He&&Ye.accessKey&&!r&&!i)Mt("@loadVideoJSON using TVE for videoJSON",Ye.accessKey),we(Dt.TIME_DELTA,He.getTimeDelta());else if(je&&Ye.media)Mt("@loadVideoJSON using DataAPI for videoJSON",Ye.media);else if(Mt("@loadVideoJSON using non-DataAPI/non-TVE flow"),e&&e.toLowerCase()in yt&&n)Qe=Qe||yt[e.toLowerCase()]+n+".js",Qe=(Qe.indexOf("http")>-1?"":"http:")+Qe,a.loadJS(yt[e.toLowerCase()]+n+".js");else if(e&&n&&s)Qe=Qe||s+"?m="+e+"&v="+n+"&mvpd="+Ye.mvpd+"&hzip="+Ye.homezip+"&gzip="+Ye.geozip,a.loadJS(s+"?m="+e+"&v="+n+"&t="+(new Date).getTime());else if(r)a.loadJS(r);else{if(!i)throw new Error("Could not detect any videoJSON url for the provided mcp");if(Mt("@loadVideoJSON detected videoJsonSource with type",typeof i),"string"==typeof i){i=i.replace(/(anvatoVideoJSONLoaded\()(.*)(\);?)/,"$2");try{i=JSON.parse(i)}catch(e){console.error("Error while parsing external videoJSON payload",e)}}anvatoVideoJSONLoaded(i)}}function E(e){var t=document.head,n=document.createElement("link");n.href=e,n.type="text/css",n.rel="stylesheet",t.appendChild(n)}function I(){var e={"[[IS_DESKTOP]]":!a.getDeviceInfo.isMobileBrowser,"[[IS_MOBILE]]":a.getDeviceInfo.isMobileBrowser,"[[IS_IE11]]":a.getDeviceInfo.win&&a.getDeviceInfo.ie&&a.getDeviceInfo.browserInfo&&a.getDeviceInfo.browserInfo.length>1&&"Trident"==a.getDeviceInfo.browserInfo[0]&&"7.0"==a.getDeviceInfo.browserInfo[1]};for(var t in Ye)Ye.hasOwnProperty(t)&&"string"==typeof Ye[t]&&Ye[t]in e&&(Mt("@evaluateDevicetypeMacro, replacing with boolean value for",t),Ye[t]=e[Ye[t]],Mt("@evaluateDevicetypeMacro, replaced with",Ye[t]))}function y(){Mt("@onPlayerJSONLoaded mode",Ct);var e=a.getDeviceInfo;I(),Bt=!(e.ipad||e.ipod||e.iphone||e.android),Ye&&(Ye.desktop=(Bt||ht)&&!pt),"video"==Ct?(Mt("calling callback for mode",Ct),accessControl&&accessControl.loadVideoJSON(ke,De,Ne,Le,Oe)):"playlist"==Ct?et.invoke(Fe,function(e){st=e,R()}):"media"==Ct&&accessControl&&accessControl.getMediaJSON(Ye.media,v,B),ue(at)}function v(e){Mt("@onMediaJSON",e),"exception"in e?(Mt("exception",JSON.stringify(e.exception,null,3)),we(Dt.SUBSCRIBER_AUTHORIZATION_STATUS,!1),Xe?Xe.setErrorMessage(e.exception.code):C()):(je&&!je.getBlocked()&&("published_urls"in e?(Ct="video",w(e)):Ct="playlist"),Xe&&(we(Dt.SUBSCRIBER_AUTHORIZATION_STATUS,!0),Xe.hideLoginDialog(),Je&&"unblock"in Je&&je&&je.getBlocked()&&(Je.unblock(a.md5("anvrocks")),je.setBlocked(!1))))}function C(){var e=document.createElement("div"),t=document.body;e.style.width="100%",e.style.height="100%",e.style.position="relative",e.style.margin="auto",e.style.top="0",e.style.bottom="0",e.style.left="0",e.style.right="0",e.style.zIndex="2147483649",t.style.position="relative",e.id="anv-login-wrapper",e.className="anv-login-wrapper",t.insertBefore(e,t.firstChild),Xe=new n(e),Xe.displayLoginDialog(b)}function b(e,t){accessControl&&accessControl.getMediaJSON(Ye.media,v,B,e,t)}function B(e){Mt("@onMediaJSONError",e)}function w(e){ot=e,At=!0,e&&e.user&&accessControl&&(Mt("user detected inside videoJSON"),e.user.tve_station&&accessControl.setStationInfo(e.user.tve_station),e.failover_channel&&accessControl.setFailoverChannel(e.failover_channel)),S()}function S(e){Mt("calling callback; playerLoaded?",lt),ot&&"upload_id"in ot&&(dt[ot.upload_id]=ot),lt&&q()}function Q(e){Mt("@onVideoJSONFetched",e.upload_id);var t;e&&"upload_id"in e&&(dt[e.upload_id]=e),t=D(e),T(e.upload_id,t),wt++,Mt("videoJSON #",e.upload_id,wt,"/",Tt),wt!=Tt||bt||(Mt("All videoJSONs fetched"),ct=!0,lt&&q())}function T(e,t){if(lt&&gt)Mt("Notifying player about video id:",e),Je.notifyVideoInfoUpdate(e,t);else for(var n=0,r=st.length;n<r;n++)st[n].id==e&&(st[n]=x(st[n],t))}function D(e){var t,n=e.captions,r=e.previews?{url:e.previews.url,n:e.previews.n,twp:e.previews.twp,thp:e.previews.thp,tws:e.previews.tws,ths:e.previews.ths}:{},i=e.pvw_matrices;return t={"360_type":e["360_type"],exception:ot.exception,upload_id:ot.upload_id,id:ot.upload_id,formats:e.published_urls,video_type:e.video_type,captions:n,duration:e.duration,previews:r,pvw_matrices:i,src_image_url:Ye.poster||ot.src_image_url||ot.src_logo_url,thumbnail:e.thumbnail||e.src_logo_url,def_title:Ye.title||e.def_title,def_description:Ye.description||e.def_description,recommendations:e.recommendations,language:e.common&&e.common.language?e.common.language:"en",ts_published:e.ts_published,ts_airdate:e.ts_airdate,ts_expire:e.ts_expire,channel:e.source_channel_id,season:e.season,program_name:e.program_name,group:e.group,episode_no:e.episode_no,categories:e.categories,rstv:e.rstv,tags:e.def_tags,primary_category:e.primary_category,rating:e.common&&e.common.rating?e.common.rating:7,subratings:e.common&&e.common.subratings?e.common.subratings:"",owner_id:e.owner_id,mcp_id:e.mcp_id,dma:e.user&&e.user.tve_station&&e.user.tve_station.dma_code?e.user.tve_station.dma_code:null,failover_channel:e.failover_channel,common:e.common,ad_slots:e.ad_slots,custom_metadata:k(e.custom_metadata),derived_metadata:e.derived_metadata,plugins:e.plugins},Ye.ownerId=e.owner_id,Re=e.owner_id,Ye.startTime&&(t.startTime=Ye.startTime),Ye.endTime&&(t.endTime=Ye.endTime),t}function k(e){var t={};if(e&&"0"in e){for(var n in e)e.hasOwnProperty(n)&&"name"in e[n]&&"value"in e[n]&&(t[e[n].name]=e[n].value);return t}return e}function R(){Mt("@onInitialPlaylistReady");var e,t;Tt=Math.min(st.length,Tt),Mt("maxVideoJsonPrefetch:",Tt);for(var e=0;e<Tt;e++)st[e].formats&&st[e].formats.length?wt++:(t=!0,O(st[e].id,st[e].token));t||(ct=!0,lt&&q())}function _(e){Mt("@fetchSmil",JSON.stringify(e,null,3),!!accessControl,!!e.formats);var t={title:e.def_title,sport_name:e.sportName,
team_name_1:e.teamNames&&e.teamNames.length?e.teamNames[0]:void 0,team_name_2:e.teamNames&&e.teamNames.length>1?e.teamNames[1]:void 0,league_name:e.leagueNames,callsign:e.operatingUnit,channel_id:e.channelId};accessControl&&e.formats?(Qt.guid=e.id,accessControl.getSmilResource(e.formats[0].embed_url,M,e.authorization,e.channelId,e.rating,t)):Mt("no item or accessControl to send request")}function M(e){var t={formats:e.formats},n=a.getParameterByName("mcptkxstreamid",t.formats[0].embed_url);Qt.sanitizedPayload=t,Mt("@onSmilFetched",JSON.stringify(t,null,3)),n&&Ye.accessKey?accessControl.getVideoJSON(n,N,L):Je.notifyVideoInfoUpdate(Qt.guid,t)}function N(e){Mt("@onVideoJSONSuccess",JSON.stringify(e,null,3)),Qt.sanitizedPayload.formats=e.published_urls,Qt.sanitizedPayload.mcp_id=e.mcp_id,Qt.sanitizedPayload.owner_id=e.owner_id,Je.notifyVideoInfoUpdate(Qt.guid,Qt.sanitizedPayload),Ct="playlist"}function L(e){Je.notifyVideoInfoUpdate(Qt.guid,Qt.sanitizedPayload)}function O(e,t,n){Mt("@fetchVideoJSON",e,t);var r=Ye&&Ye.videoEnv?Ye.videoEnv.toLowerCase():"qa",i=at.dynamic_urls[r];Mt("@fetchVideoJSON",e,"use accessControl.loadVideoJSON:",!!He,!!accessControl,!!Ye.accessKey),At=!1;var o;"object"==typeof e&&(Mt("@fetchVideoJSON override",o),o=e,o.mcpid&&(o.video=o.mcpid,o.poster=o.src_image_url),o.accessKey&&o.video?(Mt("@fetchVideoJSON tkx flow for",o.accessKey,o.video),Ye.accessKey=o.accessKey,e=o.video):o.video?(Mt("@fetchVideoJSON non-tkx flow for",o.video),e=o.video):o.url&&Mt("@fetchVideoJSON direct flow for",o.url)),He&&accessControl&&Ye.accessKey?(Mt("@fetchVideoJSON using accessControl.loadVideoJSON"),accessControl.loadVideoJSON(ke,De,e,null,null,t,n)):ke.toLowerCase()in yt?a.loadJS(yt[ke.toLowerCase()]+e+".js"):(Ye.mvpd=Ye.mvpd||"",Ye.homezip=Ye.homezip||"",Ye.geozip=Ye.geozip||"",a.loadJS(i+"?m="+ke+"&v="+e+"&mvpd="+Ye.mvpd+"&hzip="+Ye.homezip+"&gzip="+Ye.geozip))}function P(e){Mt("@fetchDecryptionKey"),He?He.getDecryptionKey(Ye.accessKey,e,F,U):"setDecryptionKey"in Je&&(Mt("calling setDecryptionKey on playerObj"),Je.setDecryptionKey(e,null))}function F(e){var t;try{t=JSON.parse(e)}catch(e){return void Mt("Error while parsing the decryptInfo")}"setDecryptionKey"in Je&&e&&(Mt("calling setDecryptionKey on playerObj"),Je.setDecryptionKey(t.keyref,e))}function U(e,t){Mt("Failed to retrieve decryption key for",e),"setDecryptionKey"in Je&&(Mt("calling setDecryptionKey on playerObj"),Je.setDecryptionKey(e,null))}function x(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function G(t){var n,r,i;if(t)Mt("mergedConfig",JSON.stringify(t)),Ye=t,Te=t.key,Fe=t.playlist,Ue=t.feed,ke=t.mcp,Me=t.mpx,De=t.player,Ne=t.video,Le=t.videoJsonUrl,Oe=t.videoJson,Pe=t.media,xe=t.url,Ge=t.xUrl,Ve=t.format,ft=t.autoplay,ht=t.flash,mt=t.live;else{Ye=window.iFrameConfig,Te=a.getParameterByName("key"),Fe=a.getParameterByName("playlist"),ke=a.getParameterByName("mcp"),Me=a.getParameterByName("mpx"),De=a.getParameterByName("player"),Ne=a.getParameterByName("video"),Le=a.getParameterByName("videojsonurl"),Oe=a.getParameterByName("videojson"),Pe=a.getParameterByName("media"),xe=a.getParameterByName("url"),Ve=a.getParameterByName("format"),ft=a.getParameterByName("autoplay"),ht=a.getParameterByName("flash"),mt=a.getParameterByName("live"),Ke=a.getParameterByName("ccastid"),Ye.shared=!0,r=document.getElementsByTagName("script"),i=r[r.length-1],Ye.baseURL=V(i),Ye.plugins=a.merge(Ye.plugins,Ye.offsitePlugins);for(n in Ye.plugins)Ye.plugins.hasOwnProperty(n)&&!Ye.plugins[n]&&delete Ye.plugins[n]}Ye.startAt=Ye.startAt||a.getParameterByName("anvt"),Ye.baseURL=Ye.baseURL||"http://w3.cdn.anvato.net/player/prod/v3/",pt=!0,Ye.html5=!0,Ye.jsHls=!0,Mt("Parameters:",Pe,ke,De,Ne,Te,Fe,Ue,xe,Ge,Ke,Ye),Ke&&(Ye.plugins=Ye.plugins||{},Ye.plugins.chromecast={appId:Ke}),xe?(Ct="URL",j()):Ge?(Ct="video",h()):Te?Y(Te):Pe?(Mt("currentMediaId",Pe),Ct="media",h()):ke||Le||Oe?(Fe||Ue?(Ct="playlist",et=new l(Ye,mt,ke,e)):(Ne||Le||Oe)&&(Ct="video"),h(ke,De)):ke||!Fe&&!Ue?Me?(Mt("Detected mpx in user params"),Ct="mpx",H()):(Ct="URL",at=it,ut=!0,At=!0,ue()):(Ct="playlist",et=new l(Ye,mt,ke,e),h())}function V(e){var t=e.src;return t=t.replace(/scripts\/anvplayer\.min\.js.*/,""),t&&t.length||(t=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),t.length&&"/"!=t[t.length-1]&&(t+="/"),Mt("@detectBaseURL",t),t}function H(){function e(e,t){function n(e,n){Mt("@preloadCallback->getSmilPlaylist chunkIndex:",n),Mt("@preloadCallback",e.length),!n&&He&&"getTimeDelta"in He&&we(Dt.TIME_DELTA,He.getTimeDelta()),we(Dt.PLAYLIST_CHUNK_AVAILABLE,n,e,!!t),n||(st=e,Mt("first startTime:",new Date(st[0].startTime)),ct=!0,Mt("THE SMIL PLAYLIST:",st.length),lt&&q())}st=accessControl.getSmilPlaylist(e.entries,Tt,n)}function t(e){function t(e,t){Mt("@preloadCallback->getSmilPlaylist chunkIndex:",t,JSON.stringify(e)),Mt("@preloadCallback",e.length),st=e,ct=!0,Mt("THE SMIL PLAYLIST:",st.length),lt&&q()}st=accessControl.getSmilPlaylist(e.entries,Tt,t)}accessControl.processMpxRequest(),Ye.video?accessControl.getItemWithGuid(Ye.video,t):accessControl.getFeed(e),at=it,ue()}function j(){at=it,ut=!0,At=!0,I(),ue()}function Y(e){var t;Mt("@loadWithKey",e),t=JSON.parse(a.base64Decode(e)),pt=pt||t.html5,t.m||t.mcp?(ke=t.m||t.mcp,De=t.p||t.player,t.pl||t.playlist?(Fe=t.pl||t.playlist,Ct="playlist"):(t.v||t.video)&&(Ne=t.v||t.video,Ct="video"),h(ke,De)):(t.u||t.url)&&(Ct="URL",xe=t.u||t.url,Ve=t.format,mt=t.live,Mt("Loading external URL",xe),j())}function K(e,t){Mt("@evaluate3rdPartyCookies");for(var n=0,r=e.length;n<r;n++)if("formats"in e[n]&&e[n].formats)for(var i=0,a=e[n].formats.length;i<a;i++)if("akamai"==(e[n].formats[i]&&e[n].formats[i].cdn_name?e[n].formats[i].cdn_name.toLowerCase():""))return Mt("checking 3rdPartyCookies..."),void J(t)}function J(t){var n=a.getDeviceInfo;if(Mt("@check3rdPartyCookies ","isIE",n.ie),!n.ie&&(!n.safari||n.mac)&&!n.ott&&Ye&&(!("checkCookieBlocker"in Ye)||Ye.checkCookieBlocker)){var r,i=document.body;Mt("checking 3rd party cookies"),r=Ye.baseURL&&Ye.secureSocket?/googleapis\.com/i.test(Ye.baseURL)?"//gcp.cdn.anvato.net/anvtp/":"//storage.googleapis.com/anvato-cdn-west/anvtp/":"//gcp.cdn.anvato.net/anvtp/";var o=r+"anvtp.html",s=document.createElement("iframe");s.style.display="none",s.src=o+"?pinstance="+t+"&tsoffset="+e.getInitialOffset(),i.appendChild(s)}}function q(){function t(e){Mt("@onNielsenDialogMaximized"),a.setCookie("nielsen_notification_displayed",!0,e)}Mt("@onPlayerLoaded");var n,r,i;i=Ye&&Ye.pInstance?Ye.pInstance:"anv-player",lt=!0,!Bt&&!ht||pt||(Je=document.getElementById(i),Je.style.position="relative",Mt("Flash tag ready","OBJECT"==Je.tagName)),Mt("Internal callback after player loaded"),(ct||At)&&(Mt("Setting playlist..."),"video"==Ct?(st.push(D(ot)),Ct="playlist",bt=!0):"URL"==Ct&&st.push({id:Ye.id||a.md5(xe),isExternal:!0,video_type:mt?2:1,formats:[{embed_url:xe,format:Ve||"m3u8",protocol:"http",upload_id:"0",kbps:"400",cdn_name:Ye.cdn}],src_image_url:Ye.poster,def_title:Ye.title,def_description:Ye.description,derived_metadata:Ye.derivedMetadata,language:Ye.language?Ye.language:"en"}),Mt("Check flash, forcedFlash",Bt,ht),Ye.loaderURL=Ye.baseURL+"anvload.html",K(st,Ye.pInstance),Mt("version",St.version),!Bt&&!ht||pt?(Je.setPlaylist(st),window.top===window.self?(Mt("NOT Running inside an IFRAME"),n=at.width,r=at.height):(Mt("Running inside an IFRAME"),n=de().width,r=de().height),Mt("initializing the HTML5 player"),Je.init(i,n,r,Ye,W)):(Je.setParams(Ye),Ye&&Ye.accessControl&&Ye.accessControl.onDemand?st.length&&(st[0].sponsorEnabled||st[0].upload_id==Ye.deepLinkId)&&Je.setPlaylist(st):Je.setPlaylist(st),"setVersion"in Je&&Je.setVersion("Anvato Universal Player v"+St.version),Mt("onLoaded fn:",typeof St.onLoad),St.onLoad&&St.onLoad(Je)),gt=!0,Z(Je)),We=new s(document.body,Je,null,Ye,e),We.init(null,!0,null),Mt("notificationObj init"),qe.subscribe("nielsenInitialized",function(e){Mt("subs->nielsenInitialized",JSON.stringify(e,null,3));var n=a.getCookie("nielsen_notification_displayed");Mt("nielsenNotificationDisplayed?",!!n),(!1 in e||e.optOut)&&!n&&("object"==typeof e.optOut&&We.applyConfig(e.optOut),We.display("Our properties may feature Nielsen's proprietary measurement software which will allow to contribute to market research, like Nielsen's TV Ratings. To learn more about this information, please <a target='_blank' href='http://www.nielsen.com/digitalprivacy'>click here</a>. Nielsen's software may collect your choices with regards to it.",{maximize:t.bind(null,e&&e.optOut&&"period"in e.optOut?e.optOut.period:1/0)}))}),ze.poll({})}function W(){"function"==typeof St.onLoad&&St.onLoad(Je)}function z(){return He&&Ye.accessKey?He.getVerificationObject(Ye.accessKey):{}}function Z(t){Mt("@evaluateChromecast",Ye);var n=a.getDeviceInfo,i={lookupVideoJson:X,getVerificationObject:z,dispatchEvent:we};n.chrome&&!n.isMobileBrowser&&Ye&&Ye.plugins&&Ye.plugins.chromecast&&(Mt("@evaluateChromecast browser supports chromecast"),Ze=new r(t,e,i,Ye),window.chromecast=Ze,St.chromecast=Ze,Ze.init())}function X(e){return Mt("@lookupVideoJson videoId",e),"number"==typeof e&&(e=e.toString()),e in dt?dt[e]:(Mt("@lookupVideoJson videoId",e,"not found"),null)}function $(e){return Mt("@generateEmbedCode",JSON.stringify(e)),'<iframe scrolling="no" frameborder="0" allowfullscreen webkitallowfullscreen mozallowfullscreen allow="autoplay; fullscreen" src="'+ne(e)+'"  width ="640" height="360"></iframe>'}function ee(){accessControl&&accessControl.getSchedule()}function te(){var e,t=Ye.shareLink||window.location.href;return Ye&&Ye.deepLinkId&&(e=t.indexOf("?")>-1?"&":"?",t=t+e+"mcpid="+Ye.deepLinkId+"&referrer=OKCT"),t}function ne(e,t){var n,r={},i={plugins:1,html5:1,format:1,token:1,360:1,drm:1,live:1};Ye.hashPrefix?(n=Ye.baseURL.replace(new RegExp(Ye.hashPrefix+"/"),""),Mt("@generateShareLink sanitized share link:",n)):n=Ye.baseURL,"string"==typeof e&&(e=JSON.parse(e)),e.v?(r.m=ke,r.p=De,r.v=e.v):e.u?r.u=e.u:!e.v&&Ye.url&&(r.u=Ye.url),Ye&&Ye.accessKey&&(r.anvack=Ye.accessKey),r.shareLink=te();for(var o in i)i.hasOwnProperty(o)&&Ye&&o in Ye&&(r[o]=Ye[o]);var s=JSON.stringify(r);a.getUrlParts(n).protocol||(n=window.location.protocol+n);var l=a.base64Encode(s);return t?"http://c5.anvato.com/anvload.php?key="+encodeURIComponent(l):n+"anvload.html?key="+encodeURIComponent(l)}function re(e,t,n,r){var i=ie(n,r);Mt("injectAdTargetingValues macros",JSON.stringify(i,null,3));var o,s,l,A,d,c={};return"dfp"==e&&(t.keyValues||t.shareKeyValues)&&(o=a.getParameterByName("cust_params",t.adTagUrl),l=a.decodeURLParams(t.adTagUrl),A=a.getBaseUrl(t.adTagUrl),s=a.decodeURLParams("?"+o),s=Ye.shared&&t&&"shareKeyValues"in t?a.merge(s,t.shareKeyValues):a.merge(s,t.keyValues),Mt("keyValues",JSON.stringify(s,null,3)),Mt("urlParams",JSON.stringify(l,null,3)),Mt("serverUrl",A),s=ae(i,s),Mt(">keyValues",JSON.stringify(s,null,3)),s=a.encodeURLParams(s),s=s.replace(/\=/g,"%3D"),s=s.replace(/&/g,"%26"),s=s.replace(/\%C/g,"%2C"),l.cust_params=s,l=a.encodeURLParams(l,!0),d=A+"?"+l,Mt("adTagUrl",d),Mt("cust_params",s),c.adTagUrl=d,c.cust_params=s),c}function ie(e,t){return{MCP_ID:e.mcp_id,VIDEO_ID:e.upload_id,OWNER_ID:e.owner_id,CATEGORIES:e.categories?e.categories.join(","):void 0,TITLE:e.def_title,DESCRIPTION:e.def_description,DURATION:e.duration}}function ae(e,t){var n,r=/(.*)\[\[(.*)\]\](.*)/;for(var i in t)t.hasOwnProperty(i)&&(n=r.exec(t[i]),Mt("parts",JSON.stringify(n)),n&&n.length>3&&n[2]in e&&(t[i]=n[1]+e[n[2]]+n[3]));return t}function oe(e){Ye&&(Ye.deepLinkId=e)}function se(e,t){return a.updateURLParam(e,"anvt",t)}function le(e,t){var n,r=/(.*)( +src=\")([^\"]*)(\".*)/,i=r.exec(e);return i.length>4?(n=i[3],n=a.updateURLParam(n,"anvt",t),e.replace(r,"$1$2"+n+"$4")):e}function Ae(e,t){Mt("@getSocialWindowURL",JSON.stringify(e,null,3)),"string"==typeof e&&(e=JSON.parse(e));var n,r,i=Ye&&Ye.openGraphInfo&&Ye.openGraphInfo.image?Ye.openGraphInfo.image:Ye.baseURL+"img/anvatologo.png",o=e.socialType,s=(e.info,e.msg),l=e.mediaURL||i,A=e.videoTitle,d=e.videoDesc;switch(A=A.replace(/"/g,""),d=d.replace(/"/g,""),r=te(),t&&(r=se(r,t)),o){case"facebook":n="http://www.facebook.com/sharer.php?u="+encodeURIComponent(r);break;case"twitter":s=d?a.uTF8Encode(d):a.uTF8Encode(A),Mt("msg",s,"description",d),n="http://twitter.com/intent/tweet?url="+encodeURIComponent(r),s&&(n=n+"&text="+s);break;case"google":n="https://plus.google.com/share?url="+encodeURIComponent(r);break;case"pinterest":n="http://pinterest.com/pin/create/button/?url="+encodeURIComponent(r),l&&(n=n+"&media="+a.uTF8Encode(l)),d?n=n+"&description="+a.uTF8Encode(d):A&&(n=n+"&description="+a.uTF8Encode(A));break;case"stumbleupon":n="http://www.stumbleupon.com/submit?url="+encodeURIComponent(r)+"&title="+a.uTF8Encode(A);break;case"reddit":n="http://reddit.com/submit?url="+encodeURIComponent(r)+"&title="+a.uTF8Encode(A);break;case"email":s=Ye&&Ye.emailShareTemplate?Ye.emailShareTemplate:"I'm watching [[TITLE]] on [[SHARE_LINK]]",s=s.replace(/\[\[TITLE\]\]/g,A),s=s.replace(/\[\[SHARE_LINK\]\]/g,r),n="mailto:?subject="+encodeURIComponent(A)+"&body="+encodeURIComponent(s)}return Mt("@getSocialWindowURL url",n),n}function de(){var e=0,t=0;return"number"==typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientWidth,t=document.body.clientHeight),{width:e,height:t}}function ce(e){Mt("@evaluateBlackListedFlashVersion",JSON.stringify(swfobject.getFlashPlayerVersion()));var t,n,r=[[18,0,0]];if(r&&r.length)for(var i=0,a=r.length;i<a;i++){t=r[i];for(var o=0,s=Math.min(t.length,e.pv.length);o<s;o++)n=e.pv[o]==t[o]&&(!o||n);if(n){Mt("blackListedVersionDetected",t.join("-")),Be("LOAD021","Blacklisted Adobe Flash Player plugin version detected: "+t.join("."));break}}}function ue(n){Mt("@initPlayer");var r;r=Ye&&Ye.pInstance?Ye.pInstance:"anv-player",$e=Ye&&(Ye.flashpath||Ye.flashPath)?Ye.flashPath||Ye.flashpath:Ye.baseURL+"flash/";var o,s,l=a.getDeviceInfo,A=l.isMobileBrowser||l.smartTV;Ye&&Ye.plugins&&Ye.plugins.heartbeatBeta&&!Ye.flashpath&&!Ye.flashPath&&($e+="heartbeat/"),Mt("@initPlayer",JSON.stringify(l,null,3),navigator.userAgent,navigator.platform),e&&(Mt("Logger: ",Ye.debug),Ye.debug?e.on(Ye.debug):e.off()),Bt=!A,Mt("Browser",l.browserInfo.length>1?l.browserInfo[0]+"|"+l.browserInfo[1]:"");var d=["googleAnalytics","nielsen","heartbeatShared"],c={};if(Ye&&Ye.plugins)for(var u in Ye.plugins)Ye.plugins.hasOwnProperty(u)&&-1!=d.indexOf(u)&&(c[u]=Ye.plugins[u]);if(qe=new Mediator,ze=new i(qe,c,null,e,Ye,{dispatchEvent:we,dispatchError:Be,postWithWsse:g,getDerivedMetadata:Se},null),proxyDispatcher.setTrackingPluginLoader(ze),!Je)if(!Bt&&!ht||pt)at.mcp_id=ke,Mt("playerConf autoplay",at.autoplay),at.loaderPageURL=(Ye.baseURL.indexOf("http")>-1?"":"http:")+Ye.baseURL+"anvload.html",at.deviceInfo=l,pe(Ye.baseURL),Je=Je||new t(St,e,at,rt,ze),lt=!0,"video"==Ct&&At&&q(),"playlist"==Ct&&ct&&q(),"URL"==Ct&&q(),"mpx"==Ct&&q();else{Mt("Loading Flash Player from",$e);var f=document.getElementById(r);f&&Mt("flash container tagname:",f.tagName);var p=$e+"anvplayer.swf";if(f=f||document.createElement("div"),Mt("Flash version",l.pv[0],"-",l.pv[1],JSON.stringify(l.pv)),l.pv[0]<10&&l.pv[1]<3)return void fe();Ye&&Ye.enforceFlashBlacklist&&ce(l),l.pv[0]>=10&&l.pv[1]>=3&&(p=$e+"anvplayer10.3.swf"),l.pv[0]>=11&&l.pv[1]>=2&&(p=$e+"anvplayer.swf"),""==f.id&&(Mt("player container is not available, adding to the document body"),f.id=r,document.body.appendChild(f)),window.top===window.self?(Mt("NOT Running inside an IFRAME"),o=at.width||at.config.width,s=at.height||at.config.height):(Mt("Running inside an IFRAME"),o=de().width,s=de().height),f.style.width=o+"px",f.style.height=s+"px",Mt("Swfobject loaded");var h={style:Ye.baseURL+"flash/css/anvflash.css",config:$e+"videojs/integrate.js",logFunction:"flashLog",browserInfo:l.browserInfo.length>1?l.browserInfo[0]+l.browserInfo[1]:""},m={scale:"exactFit",allowfullscreen:!0,allowScriptAccess:"always",wmode:Ye&&Ye.wmode?Ye.wmode:Ye.useDirectWMode?"direct":"opaque"},E={},I=l.ie?"?nocache="+Math.floor(99999*Math.random()):"";Mt("Calling embed SWF with wmode:",m.wmode),swfobject.embedSWF(p+I,r,o,s,"10.3.0",$e+"expressInstall.swf",h,m,E,ge)}}function ge(e){Mt("@onEmbedSWFResult",e.success)}function fe(){Mt("onMissingFlashPlugin");var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("img"),r=document.body;e.style.width="100%",e.style.height="100%",e.style.position="relative",e.style.margin="auto",e.style.top="0",e.style.bottom="0",e.style.left="0",e.style.right="0",e.style.textAlign="center",e.style.fontFamily="Arial, sans-serif",e.style.zIndex="2147483649",r.style.position="relative",t.innerHTML="Please install the latest Adobe Flash Player Plugin to watch this content.",n.src=Ye.baseURL+"img/getadobeflash.png",t.style.display="inline-block",t.style.display="inline-block",t.style.width="100%",t.style.marginTop="20%",t.style.marginBottom="10px",n.style.display="inline-block",n.style.width="30%",n.style.maxWidth="204px",n.style.minWidth="150px",n.style.cursor="pointer",n.onclick=function(){a.openURIInNewWindow("http://get.adobe.com/flashplayer/","anvadobedownload")},e.appendChild(t),e.appendChild(n),r.insertBefore(e,r.firstChild),Be("LOAD020")}function pe(e){Mt("baseURL:",e);var t=document.head,n=document.createElement("style"),r='url("'+e+'img/sprite32.png")',i='url("'+e+'img/castsprite.png")';n.innerHTML=".anv-download-btn{background-image:"+r+"} .anv-chromecast-button{background-image:"+i+"}.anv-splash-cast-status-icon{background-image:"+i+"}.anv-play-pause-btn{background-image: "+r+";}.anv-play-next-btn{background-image: "+r+";}.anv-restart-live-btn{background-image: "+r+";}.anv-volume-icon-btn{background-image: "+r+";}.anv-playlist-btn{background-image: "+r+";}.anv-caption-btn{background-image: "+r+";}.anv-search-btn{background-image: "+r+";background-position:  -258px 0px}.anv-quality-btn-icon{background-image: "+r+";}.anv-fullscreen-btn{background-image: "+r+";}.anv-share-social-btn{background-image: "+r+";}.anv-share-close-btn, .anv-search-close-btn{background-image: "+r+";}.anv-no-touch .anv-share-close-btn:hover,.anv-no-touch .anv-search-close-btn:hover{background-image: "+r+"; }.anv-playlist-close{background-image: "+r+"; }.anv-no-touch .anv-playlist-close:hover{background-image: "+r+";}.anv-search-icon{background-image: "+r+";}.anv-splash-share{background-image: "+r+'; background-position: -382px 0 ;}.anv-splash-spinning-wheel{background: url("'+e+'img/loadingsprite.png");}.anv-recommendation-share{background-image: '+r+"; background-position: -382px 0 ;}.anv-recommendation-replay{background-image: "+r+"; background-position: -415px 0 ;}.anv-caption-set-close{background-image: "+r+"; background-position: -415px -92px;}.anv-no-touch .anv-caption-set-close:hover{background-image: "+r+'; background-position: -415px -129px;}.anv-slate-outer{background: url("'+e+'img/outer.png") no-repeat;}.anv-slate-inner{background: url("'+e+'img/inner.png") no-repeat;}',t.appendChild(n)}function he(){return st}function me(e){var t={sessionId:"{{SESSION_ID}}",ownerId:"{{OWNER_ID}}",videoId:"{{VIDEO_ID}}"},n=Ye.adLogURL.replace(t.sessionId,e||"");n=n.replace(t.ownerId,Ye.ownerId||""),n=n.replace(t.videoId,Ye.video||""),Mt(e,"@checkAdLogAvailability",n),a.download(n+"&test=1",null,Ee,Ie)}function Ee(e){var t={sessionId:"{{SESSION_ID}}",ownerId:"{{OWNER_ID}}",videoId:"{{VIDEO_ID}}"},n=Ye.adLogURL.replace(t.sessionId,_e||"");n=n.replace(t.ownerId,Ye.ownerId||""),n=n.replace(t.videoId,Ye.video||""),Mt("@onAdLogAvailability",e);try{e=JSON.parse(e),e.allowed&&(Mt("@onAdLogAvailability opening",n),a.openURIInNewWindow(n))}catch(e){Mt("@onAdLogAvailability",e.message)}}function Ie(e){Mt("@onAdLogAvailabilityError",e)}function ye(e){Mt("@setListener"),nt=e,we(Dt.LOADER_READY)}function ve(e){Mt("@setExternalMediaCallListener"),rt=e}function Ce(e,t){kt[e]=t,Dt[e]=e}function be(e,t,n){Rt[e]={code:e,info:t,isCritical:n}}function Be(e,t){Mt("@dispatchError",e),e in Rt&&we(Dt.PLAYER_ERROR,Rt[e].code,t||Rt[e].info,Rt[e].isCritical)}function we(t,n){var r=Array.prototype.slice.call(arguments,1);if(Mt("@dispatchEvent dispatching event",t,JSON.stringify(r),typeof e),nt){for(var i=0,a=_t.length;i<a;i++)Mt("@dispatchEvent dispatching from the queue",_t[i].name),nt(_t[i]);_t=[],nt({name:t,time:e&&e.getTime?e.getTime():"",info:kt[t],args:r})}else Mt("@dispatchEvent adding to the queue",t),_t.push({name:t,time:e&&e.getTime?e.getTime():"",info:kt[t],args:r})}function Se(e,t,n,r){return tt.update(e,{}),tt.get(e,Ye,t,n,r)}var Qe,Te,De,ke,Re,_e,Me,Ne,Le,Oe,Pe,Fe,Ue,xe,Ge,Ve,He,je,Ye,Ke,Je,qe,We,ze,Ze,Xe,$e,et,tt,nt,rt,it={player_id:"default",default_player:"osmf",height:360,width:640,config:{height:360,width:640,autoplay:!1,autorewind:!0,max_bitrate:1200,min_bitrate:300,seek:0,language:"en",cdn:"akamai"},video_url:"http://mcp-download.s3.amazonaws.com/videos-qaanv-mcp/",playlist_url:"http://mcp-download.s3.amazonaws.com/playlists-qa-mcp/",dynamic:!0,dynamic_urls:{qa:"http://qa.tkx.mcp.anv.bz/video.php",stage:"http://tkxstage.mcp.anvato.net/video.php",dev:"http://dev.tkx.mcp.anv.bz/video.php"}},at=null,ot=null,st=[],lt=!1,At=!1,dt={},ct=!1,ut=!1,gt=!1,ft=!1,pt=!1,ht=!1,mt=!1,Et="//v9.anv.bz.s3.amazonaws.com/players/",It={sgun:"http://sgun-players.s3.amazonaws.com/player/"},yt={sgun:"//sgun-mcp-download.s3.amazonaws.com/videos_mcp_dev_3247/",qa:"//mcp-download.s3.amazonaws.com/videos-qaanv-mcp/",lin:"//ep-lin-publish.s3.amazonaws.com/videos_lin/",uni:"//vmscdn-download.s3.amazonaws.com/videos_mcm/",univison:"//vmscdn-download.s3.amazonaws.com/videos_mcm/",dev:"//fs2go-stage-mcp-download.s3.amazonaws.com/videos-fs2go-mcp/",sps:"//sps-publish.s3.amazonaws.com/videos/",spsstg:"//sps-publish.s3.amazonaws.com/videos-stg/",anv:"//mcp-download.s3.amazonaws.com/anv-videos/",gray:"//gray-publish.s3.amazonaws.com/mcp/",hearst:"//s3.amazonaws.com/hearst-publish/mcp/",cbs:"//cbslocal-download.s3.amazonaws.com/anv-videos/",telemundo:"//telemundo-mcp-download.s3.amazonaws.com/mcp/",next:"//mcp1.s3.amazonaws.com/publish/"},vt={},Ct="video",bt=!1,Bt=!0,wt=0,St=this,Qt={},Tt=2,Dt={},kt={},Rt={},_t=[],Mt=e?e.getLogFn("Loader"):function(){console.log.apply(console,["[!Loader!]\t"].concat(Array.prototype.slice.call(arguments)))};window.flashLog=e?e.getLogFn("Flash"):function(){console.log.apply(console,["[!Flash!]\t"].concat(Array.prototype.slice.call(arguments)))};var Nt={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,r,i,a){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var o="; expires=Fri, 31 Dec 9999 23:59:59 GMT";if(n)switch(n.constructor){case Number:o=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:o="; expires="+n;break;case Date:o="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+o+(i?"; domain="+i:"")+(r?"; path="+r:"")+(a?"; secure":""),!0},removeItem:function(e,t,n){return!(!e||!this.hasItem(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e}};this.getTimeDelta=o,window.getTimeDelta=o,this.setManifestHandler=A,window.setManifestHandler=A,this.processCompanion=d,window.processCompanion=d,window.anvSetCookies=c,this.anvSetCookies=c,window.anvGetCookies=u,this.anvGetCookies=u,window.postWithWsse=g,this.postWithWsse=g,this.setTVEInstance=function(e){He=He||e},this.setDataAPIInstance=function(e){je=je||e},this.loadVideoJSON=m,window.anvatoPlayerJSONLoaded=function(e){Mt("@anvatoPlayerJSONLoaded playerJSON:",JSON.stringify(e,null,3)),Mt("@anvatoPlayerJSONLoaded mergedConfig:",JSON.stringify(Ye,null,3)),Ye=a.merge(e.config,Ye),Mt("@anvatoPlayerJSONLoaded mergedConfig after merge:",JSON.stringify(Ye,null,3)),at=e,ut=!0,Mt(at),Ye.stylesheetUrl&&E(Ye.stylesheetUrl),y()},this.logout=function(e){"subscription"==e&&Xe&&(Mt("@logout for subscription"),Je&&"block"in Je&&je&&(je.logout(),je.setBlocked(!0),Je.block("Your are not authorized to watch the content"),we(Dt.SUBSCRIBER_AUTHORIZATION_STATUS,!1),Xe.displayLoginDialog(b)))},window.anvatoVideoJSONLoaded=function(e){Mt("@anvatoVideoJSONLoaded"),ot=e,At=!0,e&&e.user&&accessControl&&(Mt("user detected inside videoJSON"),e.user.tve_station&&accessControl.setStationInfo(e.user.tve_station),e.failover_channel&&accessControl.setFailoverChannel(e.failover_channel)),"video"==Ct?S():"playlist"==Ct&&Q(e)},window.fetchSmil=_,this.fetchSmil=_,this.updateMvpd=function(e){Ye&&(Ye.mvpd=e)},window.fetchVideoJSON=O,this.fetchVideoJSON=O,this.addToQueue=function(e){Ze.addToQueue(e)},window.fetchDecryptionKey=P,this.check3rdPartyCookies=J,window.onPlayerLoaded=q,window.generateEmbedCode=$,this.generateEmbedCode=$,window.generateShareLink=te,this.detectShareLink=te,this.generateShareLink=ne,window.getSchedule=ee,this.getSchedule=ee,this.injectAdTargetingValues=re,window.injectAdTargetingValues=re,window.updateShareLink=se,this.updateShareLink=se,window.updateEmbedCode=le,this.updateEmbedCode=le,this.setDeepLink=oe,window.getSocialWindowURL=Ae,function(){Mt("registering events"),Ce("COMPANION_AVAILABLE","A companion is available for injection"),Ce("LOADER_READY","Loader is ready"),Ce("SUBSCRIBER_AUTHORIZATION_STATUS","Subscriber authorization status has changed"),Ce("PLAYLIST_CHUNK_AVAILABLE","Playlist chunk is available"),Ce("TIME_DELTA","Time difference between client and server detected"),Ce("PLAYER_ERROR","Player has thrown an error"),Ce("CHROMECAST_STATUS","Chromecast status has changed"),Ce("VERIFICATION_STATUS","Verification status has changed"),Ce("METADATA","Program metadata is available"),Ce("PROGRAM_CHANGED","Program has changed"),Ce("KEY_VALUE_SET","Player has sent a key-value pair")}(),function(){Mt("registering errors"),be("LOAD020","Missing/outdated Adobe Flash Player plugin",!0),be("LOAD021","Blacklisted Adobe Flash Player plugin version detected",!1),be("NIEL001","Nielsen tracking parameters are not given",!1),be("NIEL002","Nielsen could not be initialized",!1)}(),this.version="2",this.getPlaylist=he,this.load=G,this.loadWithKey=Y,this.loadVideo=m,this.loadPlaylist=function(){et&&et.loadPlaylistJSON?et.loadPlaylistJSON.apply(et,arguments):console.error("playlistAdapter is not initialized")},this.onLoad=null,this.setExternalLogFn=function(t){e.setExposeFn(t)},this.generateEmbedCode=$,this.generateShareLink=ne,this.setCompanionInjector=function(e){Mt("@setCompanionInjector"),this.companionInjectFn=e},this.getChannelObj=function(){return accessControl?accessControl.getChannelObj():null},this.filterPlaylistByChannel=function(e){return accessControl?accessControl.filterSmilPlaylist(e):null},this.getLoggerInstance=function(){return e},this.handleAdLogRequest=function(e){var t;Mt("@handleAdLogRequest",Ye.adLogURL,ke,Re,e,Ye.mcp,Ye.video,Ye),"qa"==ke?(Mt("currentMcpId: "+ke),_e=e,me(e)):(t="http://demo.anv.bz/player/session.html?session_id="+e,a.openURIInNewWindow(t))},this.setListener=ye,this.dispatchEvent=we,this.setExternalMediaCallListener=ve,this.getTrackingPluginLoader=function(){return ze},this.printConfig=function(){console.log("================== mergedConfig for "+Ye.pInstance+" ===================\n",JSON.stringify(Ye,null,3))},this.getDerivedMetadataManager=function(){return tt},this.setDerivedMetadataManager=function(e){tt=e}}return A}),define("ProxyDispatcher",["util"],function(e){function t(){function t(e){if(o&&e&&e.derived_metadata)for(var t in e.derived_metadata)e.derived_metadata.hasOwnProperty(t)&&(o["derivedMetadata$"+t]=e.derived_metadata[t])}var n=null,r=null,i=!1,a=null,o={duration:100,timeIndex:0,contentTitle:"Sample video",contentDefinition:"desc",videoURL:"http://anvato-ads.s3.amazonaws.com/ua/13/09/30/130930_382/2552732_B52BE5CB3666494F8535E9A2F82DDB1C_130930_2552732_Days_of_our_Lives_1200.m3u8",videoId:"2552845",playerId:"HTML5Player",appURL:"https://w3.cdn.anvato.net/player/prod/v3/anvload.html",type:{video:!0,adType:null,adId:null}},s={AD_BEACON:1,CUE_POINT:1,SEGMENT_BEACON:1};return{setListener:function(e){n=e},setTrackingPluginLoader:function(e){a=e},dispatch:function(l){var A,d,c={};"METADATA_LOADED"==l.name&&(c=l.args[2],o.contentId=c.video||"",o.contentTitle=c.title||"",o.contentDefinition=c.description||"",o.live=c.live||!1,o.categories=c.categories||"",o.duration=c.duration||0,o.rating=c.rating||1,o.type=o.type||{},o.type.video=!0,o.type.adType=null,t(c)),"PROGRAM_CHANGED"==l.name&&(c=l.args&&l.args.length>2?l.args[2]:{},d=l.args&&l.args.length>3?l.args[3]:{},"derived_metadata"in d&&t(d),o.live=!0,o.contentTitle=c.title||"",o.contentDefinition=c.description||""),"AD_STARTED"==l.name&&(c=l.args[0],o.type.video=!1,o.type.adType=c[3],o.type.adId=c[0]),"VIDEO_STARTED"==l.name&&(o.type.video=!0),"ID3"==l.name&&(o.id3Tag=l.args[0],o.id3TagPublisher=l.args[1]),"TIME_UPDATED"==l.name&&(o.timeIndex=l.args[0]),"AD_TIME_UPDATED"==l.name&&(o.timeIndex=l.args[0]),!a||l.name in s||a.sendBeacon(l.name,o),n&&(r&&(l.time=r.getTime()),"AD_BEACON"==l.name&&l.args.length&&"event"in l.args[0]&&"VastMeta"==l.args[0].event&&"url"in l.args[0]&&(A=e.deepCopy(l),A.name="AD_REQUEST",A.info="Ad request URL for Digital Ad Insertion is available",A.args=[l.args[0].url],n(A)),l.name in s&&!i||n(l))},setLogger:function(e){r=e},toggleBeacons:function(e){i=e}}}return t}),define("LocalAgent",[],function(){function e(){function e(e){if("string"==typeof e.data&&e.data.indexOf("frm")>-1&&e.data.indexOf("to")>-1&&e.data.indexOf("content")>-1){var t=JSON.parse(e.data);(t.to==i||"entitlement"==t.type&&"remoteAgent"!=t.to)&&n(t)}}function t(e,t,n,r){var i={frm:e,to:t,type:n,content:r};i=JSON.stringify(i),parent?parent.window.postMessage(i,"*"):console.warn("Player iframe seems to be detached from the page")}function n(e){var n;"call"==e.type&&(e.content.fn in o?n=o[e.content.fn].apply(null,Array.prototype.slice.call(e.content.args)):a[e.to]&&e.content.fn in a[e.to]&&(n=a[e.to].parentNode?a[e.to][e.content.fn].apply(a[e.to],Array.prototype.slice.call(e.content.args)):a[e.to][e.content.fn].apply(null,Array.prototype.slice.call(e.content.args))),t(e.to,e.frm,"response",{uid:e.content.uid,response:n})),"entitlement"==e.type&&a.accessControlInstance&&e.content.fn&&e.content.fn in a.accessControlInstance&&a.accessControlInstance[e.content.fn].apply(null,Array.prototype.slice.call(e.content.args)),"externalVideo"==e.type&&a[e.to].directExternalVideoEvents(e.content)}function r(e,n,r,i,a){t(e,"remoteAgent","companion",JSON.stringify({width:n,height:r,payload:i,additional:a}))}var i,a={},o=null;return bind(window.parent,"message",e,!1),{send:function(e,n,r,i){t(e,n,r,i)},setLoader:function(e){o=e,o.setCompanionInjector(r)},registerPlayer:function(e,t){i=e,a[e]=t},registerAccessControlInstance:function(e){a.accessControlInstance=e},registerExternalVideoInstance:function(e){a.externalVideoInstance=e}}}return e}),define("DerivedMetadataManager",["util"],function(e){function t(){function t(e,t,n,r,i){var a,o,s,l,A,d,c=n+(r||""),u="derivedMetadata$",g={};if(n&&e){for(A=c.split(":"),d=r?A.length:A.length-1,l=0,len=d;l<len;l++){if(!(a=a||t))return i;if(len,!a)return i;a=a[A[l]]}if(!r){
for(s in a)a.hasOwnProperty(s)&&(o=a[s],void 0!=e[u+o]?g[s]=e[u+o]:void 0!=e[o]?g[s]=e[o]:g[s]=o);return g}return void 0===a?i:void 0!=e[u+a]?e[u+a]:void 0!=e[a]?e[a]:a}return i}function n(){var t,n,r={};for(t=0;t<a.length;t++)n=a[t],o[n]&&(r=e.merge(r,o[n]));return r}function r(t,r,a){var s,l,A;if(r&&(a="number"==typeof a?a:i.UNKNOWN,A=o[a]||{},s=r.derived_metadata||r.derivedMetadata||{},o[a]=e.merge(A,s),s=n(),t))for(l in s)s.hasOwnProperty(l)&&(t["derivedMetadata$"+l]=s[l])}var i={APP_LEVEL_CONFIG:0,APP_LEVEL_ITEM:1,CONTENT_METADATA:2,REMOTE_CONFIG:3,UNKNOWN:4},a=[i.UNKNOWN,i.REMOTE_CONFIG,i.CONTENT_METADATA,i.APP_LEVEL_CONFIG,i.APP_LEVEL_ITEM],o={};return{Origin:i,get:t,update:r}}return t}),function(e,t){if("function"==typeof define&&define.amd)define("es6!configHelper",["exports","util"],t);else if("undefined"!=typeof exports)t(exports,require("util"));else{var n={exports:{}};t(n.exports,e.util),e.unknown=n.exports}}(this,function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,r){var i=e&&e.plugins&&e.plugins[r];if(i)if("object"!=n(i.serverSide)&&i.serverSide){delete i.serverSide;var a=t.default.deepCopy(i);e.plugins[r]={},e.plugins[r].serverSide=a}else if(!i.clientSide&&!i.serverSide){var o=t.default.deepCopy(i);e.plugins[r]={},e.plugins[r].clientSide=o}}function i(e,t,n,r){t&&t.constructor==Object&&(n||n.constructor==Object)&&(e in n||r&&r in n)&&(e in t||(t[e]=n[r||e]))}function a(e,t,n){!t.hasOwnProperty(e)&&n.hasOwnProperty(e)&&(t[e]=n[e])}function o(e,n,r,i){n.hasOwnProperty(e)?n[e]=i?t.default.merge(r[e],n[e]):t.default.merge(n[e],r[e]):n[e]=r[e]}function s(e,t){e.api&&(t.api=e.api),i("flashPath",t,e),i("emailServer",t,e),i("streamTokenizationCheck",t,e),i("nativeHlsOnSafari",t,e),i("nativeHlsOnSafariForVod",t,e),i("nativeHlsOnSafariForLive",t,e),i("preferredCdn",t,e),i("adLogURL",t,e,"ad_log_url"),i("profile",t,e,"client"),i("playlistBaseURL",t,e),i("offsitePlugins",t,e),i("playerSelectionType",t,e),i("disableAutoBitrateSwitchCap",t,e),i("autoBitrateSwitchCapScale",t,e),i("mseOptimizationMode",t,e)}function l(e,t){var n={},r={serverURL:"server_url",networkId:"network_id",profileId:"profile_id",siteSectionId:"site_section_id",videoAssetId:"video_asset_id"};for(var i in r)r.hasOwnProperty(i)&&(n[i]=e[i]||t[r[i]]);return n}function A(e,r,i,s){i.plugins=i.plugins||{};var A=i.plugins,d=e.adobepass;if(d){var c=i.accessControl||{};c.authenticator="adobepass",c.authorizer="adobepass",c.serverUrl=c.serverUrl||d.server_url,c.requestor=c.requestor||d.requestor,c.resourceId=c.resourceId||d.resource_id,c.defaultPicker=c.defaultPicker||d.default_picker,c.geolocation=c.geolocation||d.geo_location,c.preview="preview"in c?c.preview:!(!d.temp_pass_short&&!d.temp_pass_long)&&{},"object"==n(c.preview)&&(c.preview.long=c.preview.long||d.temp_pass_long,c.preview.short=c.preview.short||d.temp_pass_short,c.preview.checkPeriod=c.preview.checkPeriod||d.check_period),i.accessControl=c}e.freewheel&&0!=A.freewheel&&(A.freewheel=A.freewheel||{},A.freewheel.serverSide=A.freewheel.serverSide||{},A.freewheel.serverSide=l(A.freewheel.serverSide,e.freewheel),"adPing"in e.freewheel&&(i.adPing="adPing"in i?!!i.adPing:!!e.freewheel.adPing,i.clientSideAdTracking=i.adPing),"clientSideAdTracking"in e.freewheel&&(i.clientSideAdTracking="clientSideAdTracking"in i?!!i.clientSideAdTracking:!!e.freewheel.clientSideAdTracking,i.adPing=i.clientSideAdTracking)),A&&A.freewheel&&A.freewheel.clientSide&&A.freewheel.serverSide&&"object"!=n(A.freewheel.clientSide)&&(A.freewheel.clientSide=t.default.deepCopy(A.freewheel.serverSide)),e.omniture&&(A.omniture="omniture"in A?A.omniture:{},A.omniture?(A.omniture.account=A.omniture.account||e.omniture.report_suite_id,A.omniture.trackingServer=A.omniture.trackingServer||e.omniture.tracking_server,r.client&&(i.profile=i.profile||r.client)):delete A.omniture),e.dfp&&(A.dfp=A.dfp||{},A.dfp.serverSide=A.dfp.serverSide||{},A.dfp.serverSide=t.default.merge(e.dfp,A.dfp.serverSide),"adPing"in e.dfp&&(i.adPing="adPing"in i?!!i.adPing:!!e.dfp.adPing,i.clientSideAdTracking=i.adPing),"clientSideAdTracking"in e.dfp&&(i.clientSideAdTracking="clientSideAdTracking"in i?!!i.clientSideAdTracking:!!e.dfp.clientSideAdTracking,i.adPing=i.clientSideAdTracking),"clientSide"in e.dfp&&(A.dfp.clientSide=A.dfp.clientSide||{},A.dfp.clientSide=t.default.merge(e.dfp.clientSide,A.dfp.clientSide))),e.realTimeAnalytics&&a("realTimeAnalytics",A,e),e.cloudVideoAnalytics&&o("cloudVideoAnalytics",A,e,!0),e.chromecast&&a("chromecast",A,e),e.heartbeat&&(e.heartbeat.version=e.heartbeat.version||"1.5",e.heartbeat.publisherId=e.heartbeat.publisherId||e.heartbeat.publisher,o("heartbeat",A,e,!0)),e.comscore&&o("comscore",A,e,!0),e.moat&&(e.moat.serverSide&&A&&A.moat&&A.moat.serverSide&&(A.moat.serverSide=t.default.merge(e.moat.serverSide,A.moat.serverSide)),e.moat.clientSide&&A&&A.moat&&A.moat.clientSide&&(A.moat.clientSide=t.default.merge(e.moat.clientSide,A.moat.clientSide)),o("moat",A,e,!0)),e.nielsen&&o("nielsen",A,e,!0);for(var u in e)(A[u]&&A[u].hasOwnProperty("script")||e[u]&&e[u].hasOwnProperty("script"))&&o(u,A,e,!0);r.settings&&r.settings.initialBitrates&&s.deviceType&&s.deviceType in r.settings.initialBitrates&&(i.initialBitrate=i.initialBitrate||r.settings.initialBitrates[s.deviceType])}function d(e,i,a,o,l,d){var c=e?t.default.deepCopy(e):{};d("resolveConfigs",c,i),r(c,"dfp"),r(c,"freewheel"),a.update(null,c,a.Origin.APP_LEVEL_CONFIG),a.update(null,i,a.Origin.REMOTE_CONFIG),i&&(s(i,c),i.plugins&&A(i.plugins,i,c,l));var u=c&&c.plugins;u&&u.heartbeat&&("1.5"==u.heartbeat.version||o)&&(u.heartbeatBeta=t.default.deepCopy(u.heartbeat),delete c.plugins.heartbeat);var g=u&&u.dfp;return g&&g.clientSide&&g.serverSide&&"object"!=n(c.plugins.dfp.clientSide)&&(g.clientSide={},g.clientSide.adTagUrl=g.serverSide.prerollAdTag),u&&u.chromecast&&(c.chromecastEnabled=!0),d("dstConfig",JSON.stringify(c,null,3)),c}Object.defineProperty(e,"__esModule",{value:!0}),e.resolveConfigs=d,t=function(e){return e&&e.__esModule?e:{default:e}}(t)}),function(e){function t(n,r){function i(e){if(i[e]!==p)return i[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=i("json-stringify")&&i("json-parse");else{var n,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var A=r.stringify,d="function"==typeof A&&E;if(d){(n=function(){return 1}).toJSON=n;try{d="0"===A(0)&&"0"===A(new a)&&'""'==A(new o)&&A(m)===p&&A(p)===p&&A()===p&&"1"===A(n)&&"[1]"==A([n])&&"[null]"==A([p])&&"null"==A(null)&&"[null,null,null]"==A([p,m,null])&&A({a:[n,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===A(null,n)&&"[\n 1,\n 2\n]"==A([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==A(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==A(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==A(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==A(new l(-1))}catch(e){d=!1}}t=d}if("json-parse"==e){var c=r.parse;if("function"==typeof c)try{if(0===c("0")&&!c(!1)){n=c(s);var u=5==n.a.length&&1===n.a[0];if(u){try{u=!c('"\t"')}catch(e){}if(u)try{u=1!==c("01")}catch(e){}if(u)try{u=1!==c("1.")}catch(e){}}}}catch(e){u=!1}t=u}}return i[e]=!!t}n||(n=e.Object()),r||(r=e.Object());var a=n.Number||e.Number,o=n.String||e.String,s=n.Object||e.Object,l=n.Date||e.Date,A=n.SyntaxError||e.SyntaxError,d=n.TypeError||e.TypeError,c=n.Math||e.Math,u=n.JSON||e.JSON;"object"==typeof u&&u&&(r.stringify=u.stringify,r.parse=u.parse);var g,f,p,h=s.prototype,m=h.toString,E=new l(-0xc782b5b800cec);try{E=-109252==E.getUTCFullYear()&&0===E.getUTCMonth()&&1===E.getUTCDate()&&10==E.getUTCHours()&&37==E.getUTCMinutes()&&6==E.getUTCSeconds()&&708==E.getUTCMilliseconds()}catch(e){}if(!i("json")){var I=i("bug-string-char-index");if(!E)var y=c.floor,v=[0,31,59,90,120,151,181,212,243,273,304,334],C=function(e,t){return v[t]+365*(e-1970)+y((e-1969+(t=+(t>1)))/4)-y((e-1901+t)/100)+y((e-1601+t)/400)};(g=h.hasOwnProperty)||(g=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=m?g=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,g=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,g.call(this,e)});var b={boolean:1,number:1,string:1,undefined:1},B=function(e,t){var n=typeof e[t];return"object"==n?!!e[t]:!b[n]};if(f=function(e,t){var n,r,i,a=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)g.call(r,i)&&a++;return n=r=null,a?f=2==a?function(e,t){var n,r={},i="[object Function]"==m.call(e);for(n in e)i&&"prototype"==n||g.call(r,n)||!(r[n]=1)||!g.call(e,n)||t(n)}:function(e,t){var n,r,i="[object Function]"==m.call(e);for(n in e)i&&"prototype"==n||!g.call(e,n)||(r="constructor"===n)||t(n);(r||g.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],f=function(e,t){var n,i,a="[object Function]"==m.call(e),o=!a&&"function"!=typeof e.constructor&&B(e,"hasOwnProperty")?e.hasOwnProperty:g;for(n in e)a&&"prototype"==n||!o.call(e,n)||t(n);for(i=r.length;n=r[--i];o.call(e,n)&&t(n));}),f(e,t)},!i("json-stringify")){var w={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},S=function(e,t){return("000000"+(t||0)).slice(-e)},Q=function(e){for(var t='"',n=0,r=e.length,i=!I||r>10,a=i&&(I?e.split(""):e);n<r;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=w[o];break;default:if(o<32){t+="\\u00"+S(2,o.toString(16));break}t+=i?a[n]:e.charAt(n)}}return t+'"'},T=function(e,t,n,r,i,a,o){var s,l,A,c,u,h,E,I,v,b,B,w,D,k,R,_;try{s=t[e]}catch(e){}if("object"==typeof s&&s)if("[object Date]"!=(l=m.call(s))||g.call(s,"toJSON"))"function"==typeof s.toJSON&&("[object Number]"!=l&&"[object String]"!=l&&"[object Array]"!=l||g.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&s<1/0){if(C){for(u=y(s/864e5),A=y(u/365.2425)+1970-1;C(A+1,0)<=u;A++);for(c=y((u-C(A,0))/30.42);C(A,c+1)<=u;c++);u=1+u-C(A,c),h=(s%864e5+864e5)%864e5,E=y(h/36e5)%24,I=y(h/6e4)%60,v=y(h/1e3)%60,b=h%1e3}else A=s.getUTCFullYear(),c=s.getUTCMonth(),u=s.getUTCDate(),E=s.getUTCHours(),I=s.getUTCMinutes(),v=s.getUTCSeconds(),b=s.getUTCMilliseconds();s=(A<=0||A>=1e4?(A<0?"-":"+")+S(6,A<0?-A:A):S(4,A))+"-"+S(2,c+1)+"-"+S(2,u)+"T"+S(2,E)+":"+S(2,I)+":"+S(2,v)+"."+S(3,b)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if("[object Boolean]"==(l=m.call(s)))return""+s;if("[object Number]"==l)return s>-1/0&&s<1/0?""+s:"null";if("[object String]"==l)return Q(""+s);if("object"==typeof s){for(k=o.length;k--;)if(o[k]===s)throw d();if(o.push(s),B=[],R=a,a+=i,"[object Array]"==l){for(D=0,k=s.length;D<k;D++)w=T(D,s,n,r,i,a,o),B.push(w===p?"null":w);_=B.length?i?"[\n"+a+B.join(",\n"+a)+"\n"+R+"]":"["+B.join(",")+"]":"[]"}else f(r||s,function(e){var t=T(e,s,n,r,i,a,o);t!==p&&B.push(Q(e)+":"+(i?" ":"")+t)}),_=B.length?i?"{\n"+a+B.join(",\n"+a)+"\n"+R+"}":"{"+B.join(",")+"}":"{}";return o.pop(),_}};r.stringify=function(e,t,n){var r,i,a,o;if("function"==typeof t||"object"==typeof t&&t)if("[object Function]"==(o=m.call(t)))i=t;else if("[object Array]"==o){a={};for(var s,l=0,A=t.length;l<A;s=t[l++],("[object String]"==(o=m.call(s))||"[object Number]"==o)&&(a[s]=1));}if(n)if("[object Number]"==(o=m.call(n))){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else"[object String]"==o&&(r=n.length<=10?n:n.slice(0,10));return T("",(s={},s[""]=e,s),i,a,r,"",[])}}if(!i("json-parse")){var D,k,R=o.fromCharCode,_={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},M=function(){throw D=k=null,A()},N=function(){for(var e,t,n,r,i,a=k,o=a.length;D<o;)switch(i=a.charCodeAt(D)){case 9:case 10:case 13:case 32:D++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=I?a.charAt(D):a[D],D++,e;case 34:for(e="@",D++;D<o;)if((i=a.charCodeAt(D))<32)M();else if(92==i)switch(i=a.charCodeAt(++D)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=_[i],D++;break;case 117:for(t=++D,n=D+4;D<n;D++)(i=a.charCodeAt(D))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||M();e+=R("0x"+a.slice(t,D));break;default:M()}else{if(34==i)break;for(i=a.charCodeAt(D),t=D;i>=32&&92!=i&&34!=i;)i=a.charCodeAt(++D);e+=a.slice(t,D)}if(34==a.charCodeAt(D))return D++,e;M();default:if(t=D,45==i&&(r=!0,i=a.charCodeAt(++D)),i>=48&&i<=57){for(48==i&&(i=a.charCodeAt(D+1))>=48&&i<=57&&M(),r=!1;D<o&&(i=a.charCodeAt(D))>=48&&i<=57;D++);if(46==a.charCodeAt(D)){for(n=++D;n<o&&(i=a.charCodeAt(n))>=48&&i<=57;n++);n==D&&M(),D=n}if(101==(i=a.charCodeAt(D))||69==i){for(i=a.charCodeAt(++D),43!=i&&45!=i||D++,n=D;n<o&&(i=a.charCodeAt(n))>=48&&i<=57;n++);n==D&&M(),D=n}return+a.slice(t,D)}if(r&&M(),"true"==a.slice(D,D+4))return D+=4,!0;if("false"==a.slice(D,D+5))return D+=5,!1;if("null"==a.slice(D,D+4))return D+=4,null;M()}return"$"},L=function(e){var t,n;if("$"==e&&M(),"string"==typeof e){if("@"==(I?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=N());n||(n=!0))n&&(","==e?"]"==(e=N())&&M():M()),","==e&&M(),t.push(L(e));return t}if("{"==e){for(t={};"}"!=(e=N());n||(n=!0))n&&(","==e?"}"==(e=N())&&M():M()),","!=e&&"string"==typeof e&&"@"==(I?e.charAt(0):e[0])&&":"==N()||M(),t[e.slice(1)]=L(N());return t}M()}return e},O=function(e,t,n){var r=P(e,t,n);r===p?delete e[t]:e[t]=r},P=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if("[object Array]"==m.call(i))for(r=i.length;r--;)O(i,r,n);else f(i,function(e){O(i,e,n)});return n.call(e,t,i)};r.parse=function(e,t){var n,r;return D=0,k=""+e,n=L(N()),"$"!=N()&&M(),D=k=null,t&&"[object Function]"==m.call(t)?P((r={},r[""]=n,r),"",t):n}}}return r.runInContext=t,r}var n="object"==typeof global&&global;if(!n||n.global!==n&&n.window!==n||(e=n),"object"!=typeof exports||!exports||exports.nodeType||isLoader){var r=e.JSON,i=t(e,e.JSON3={noConflict:function(){return e.JSON=r,i}});e.JSON={parse:i.parse,stringify:i.stringify}}else t(e,exports)}(this),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],i=arguments.length>=2?arguments[1]:void 0,a=0;a<n;a++)if(a in t){var o=t[a];e.call(i,o,a,t)&&r.push(o)}return r}),Date.prototype.toISOString||function(){function e(e){return e<10?"0"+e:e}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}(),function(){if(!window.console){window.console={};for(var e=["log","info","warn","error","debug","trace","dir","group","groupCollapsed","groupEnd","time","timeEnd","profile","profileEnd","dirxml","assert","count","markTimeline","timeStamp","clear"],t=0;t<e.length;t++)window.console[e[t]]||(window.console[e[t]]=function(){})}}(),Array.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0;n<this.length;n++)if(this[n]==e)return n;return-1}),function(){function e(e){this.message=e}var t="undefined"!=typeof exports?exports:self,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var r,i,a=String(t),o=0,s=n,l="";a.charAt(0|o)||(s="=",o%1);l+=s.charAt(63&r>>8-o%1*8)){if((i=a.charCodeAt(o+=.75))>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|i}return l}),t.atob||(t.atob=function(t){var r=String(t).replace(/=+$/,"");if(r.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,a,o=0,s=0,l="";a=r.charAt(s++);~a&&(i=o%4?64*i+a:a,o++%4)?l+=String.fromCharCode(255&i>>(-2*o&6)):0)a=n.indexOf(a);return l})}(),function(e){function t(e,t){for(var n in t)e[n]=t[n]}if(!("DataView"in e&&"ArrayBuffer"in e)){var n=function(){if("function"==typeof Object.getOwnPropertyNames&&!("prototype"in Object.getOwnPropertyNames)){var e={enumerable:!1};return function(t,n){Object.defineProperty(t,n,e)}}return function(){}}(),r=e.ArrayBuffer=function(){function e(e){for(var t=[],n=e.length%8,r=0;n--;)t[r]=s[e[r++]];for(n=e.length>>3;n--;)t.push(s[e[r]],s[e[r+1]],s[e[r+2]],s[e[r+3]],s[e[r+4]],s[e[r+5]],s[e[r+6]],s[e[r+7]]),r+=8;return t}function r(e){try{return o.apply(null,e)}catch(e){}for(var t="",n=e.length%8,r=0;n--;)t+=l[e[r++]];for(n=e.length>>3;n--;)t+=l[e[r]]+l[e[r+1]]+l[e[r+2]]+l[e[r+3]]+l[e[r+4]]+l[e[r+5]]+l[e[r+6]]+l[e[r+7]],r+=8;return t}function i(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t}function a(t){if(t instanceof a)this._data=t._data.slice();else if("string"==typeof t)this._data=e(t);else{if((t>>=0)<0)throw new RangeError("ArrayBuffer length must be non-negative");this._data=i(t)}this.byteLength=this._data.length,n(this,"_data")}var o=(Math.min,Math.max,String.fromCharCode),s={},l=[];return function(){for(var e=0;e<256;++e)s[l[e]=o(e)]=e,e>=128&&(s[o(63232+e)]=e)}(),t(a,{toByteString:function(e){if(!(e instanceof a))throw new TypeError("ArrayBuffer.toByteString requires an ArrayBuffer");return r(e._data)}}),t(a.prototype,{slice:function(e,t){var n=new a(0);return n._data=this._data.slice(e,t),n.byteLength=n._data.length,n}}),a}();e.DataView=function(){function e(e,t,n,r,i){var a,o,s=e.buffer._data,t=e.byteOffset+t,l=8*i-r-1,A=(1<<l)-1,d=A>>1,c=-7,u=n?i-1:0,f=n?-1:1,p=s[t+u];for(u+=f,a=p&(1<<-c)-1,p>>=-c,c+=l;c>0;a=256*a+s[t+u],u+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+s[t+u],u+=f,c-=8);if(0===a)a=1-d;else{if(a===A)return o?NaN:p?-1/0:1/0;o+=g(2,r),a-=d}return(p?-1:1)*o*g(2,a-r)}function n(e,t,n,r,i,a){var o,s,l,A=e.buffer._data,t=e.byteOffset+t,d=8*a-i-1,c=(1<<d)-1,p=c>>1,h=23===i?g(2,-24)-g(2,-77):0,m=r?0:a-1,E=r?1:-1,I=n<0||0===n&&1/n<0?1:0;for(n<0&&(n=-n),n!==n||n===1/0?(s=n!==n?1:0,o=c):(o=u(n)/f|0,n*(l=g(2,-o))<1&&(o--,l*=2),n+=o+p>=1?h/l:h*g(2,1-p),n*l>=2&&(o++,l/=2),o+p>=c?(s=0,o=c):o+p>=1?(s=(n*l-1)*g(2,i),o+=p):(s=n*g(2,p-1)*g(2,i),o=0));i>=8;A[t+m]=255&s,m+=E,s/=256,i-=8);for(o=o<<i|s,d+=i;d>0;A[t+m]=255&o,m+=E,o/=256,d-=8);A[t+m-E]|=128*I}function i(e,t){return e.buffer._data[t+e.byteOffset]}function a(e,t,n){var r=e.buffer._data,i=t+e.byteOffset,a=n?p:m;return r[i+a[0]]|r[i+a[1]]<<8}function o(e,t,n){var r=e.buffer._data,i=t+e.byteOffset,a=n?h:E;return r[i+a[0]]|r[i+a[1]]<<8|r[i+a[2]]<<16|r[i+a[3]]<<24}function s(e,t,n){if(e<0)throw new RangeError("Tried to write to a negative index");if(e+t>n)throw new RangeError("Tried to write "+t+" bytes past the end of a buffer at index "+e+" of "+n)}function l(e,t,n){var r=e.buffer._data,i=t+e.byteOffset;s(i,1,r.length),r[i]=255&n}function A(e,t,n,r){var i=e.buffer._data,a=r?p:m,o=t+e.byteOffset;s(o,2,i.length),i[o+a[0]]=255&n,i[o+a[1]]=n>>>8&255}function d(e,t,n,r){var i=e.buffer._data,a=r?h:E,o=t+e.byteOffset;s(o,4,i.length),i[o+a[0]]=255&n,i[o+a[1]]=n>>>8&255,i[o+a[2]]=n>>>16&255,i[o+a[3]]=n>>>24&255}function c(e,t,n){if(!(e instanceof r))throw new TypeError("DataView must be initialized with an ArrayBuffer");if(this.byteOffset=void 0===t?e.byteOffset>>0:t>>0,this.byteOffset<0)throw new RangeError("DataView byteOffset must be non-negative");if(this.byteLength=void 0===n?e.byteLength-this.byteOffset>>0:n>>0,this.byteLength<0)throw new RangeError("DataView byteLength must be non-negative");if(this.byteOffset+this.byteLength>e.byteLength)throw new RangeError("DataView byteOffset and byteLength greater than ArrayBuffer byteLength");this.buffer=e}var u=Math.log,g=Math.pow,f=Math.LN2,p=[1,0],h=[3,2,1,0],m=[0,1],E=[0,1,2,3];return t(c.prototype,{getFloat32:function(t,n){return e(this,t,n,23,4)},getFloat64:function(t,n){return e(this,t,n,52,8)},getInt8:function(e){var t=i(this,e);return 128&t?-256^t:t},getInt16:function(e,t){var n=a(this,e,t);return 32768&n?-65536^n:n},getInt32:function(e,t){var n=o(this,e,t);return 2147483648&n?-4294967296^n:n},getUint8:function(e){return i(this,e)},getUint16:function(e,t){return a(this,e,t)},getUint32:function(e,t){return o(this,e,t)},setFloat32:function(e,t,r){n(this,e,t,r,23,4)},setFloat64:function(e,t,r){n(this,e,t,r,52,8)},setInt8:function(e,t){l(this,e,t<0?256|t:t)},setInt16:function(e,t,n){A(this,e,t<0?65536|t:t,n)},setInt32:function(e,t,n){d(this,e,t<0?4294967296|t:t,n)},setUint8:function(e,t){l(this,e,t)},setUint16:function(e,t,n){A(this,e,t,n)},setUint32:function(e,t,n){d(this,e,t,n)}}),c}()}}((0,eval)("this")),require.config({baseUrl:("undefined"!=typeof anvp&&anvp.baseURL?anvp.baseURL:"")+"scripts",paths:{swfobject:"../lib/swfobject",three:"../lib/three",AnvatoMse:"../lib/AnvatoMse",AnvatoDash:"../lib/AnvatoDash2",Shaka:"../lib/shaka-player.compiled",Promise:"../lib/es6Promise",hlscore:"../lib/hlscore","hlscore-asm":"../lib/hlscore-asm","base64-hlscore-wasm":"../lib/base64-hlscore-wasm",polyfill:"../lib/polyfill",aesjs:"../lib/aesjs",clipboard:"../lib/clipboard",es6:"../lib/es6",babel:"../node_modules/@babel/standalone/babel.min"}}),function(){window.Promise||require(["Promise"])}(),require(["util","tveapi","DataAPI","AccessControl","Loader","ProxyDispatcher","LocalAgent","Logger","DerivedMetadataManager","es6!configHelper"],function(e,t,n,r,i,a,o,s,l,A){return function(){function d(t){U=e.merge(t,U)}function c(e){F.accessKey=F.accessKey||U.accessKey,U&&(U.configV4?S.getConfigV4(F.accessKey,f.bind(null,e),p):S.getConfig(F.accessKey,f.bind(null,e),p))}function u(e,n){d(e),S=new t(U,b),c(g.bind(null,n))}function g(e){window.accessControl=new r(anvLoader.getLoggerInstance(),window.lAgent,window.sender,window.tve),"function"==typeof e&&(anvLoader.onLoad=e),accessControl.init(U)}function f(t,n){B("Remote config:",JSON.stringify(n,null,3));var r=w==F.IFRAME;n?U=A.resolveConfigs(U,n,G,r,e.getDeviceInfo,B):U&&U.plugins&&U.plugins.heartbeat&&("1.5"==U.plugins.heartbeat.version||w==F.IFRAME)&&(U.plugins.heartbeatBeta=e.deepCopy(U.plugins.heartbeat),delete U.plugins.heartbeat),F.callback&&(F.callback(),"function"==typeof t&&t())}function p(e){B("Remote config error:",e)}function h(e){T&&T.send(D,"remoteAgent","event",e)}function m(e){T&&T.send(D,"remoteAgent","externalVideo",e)}function E(){function e(e){window.anvPlayer=e,accessControl.registerPlayer(e)}B("@initIframe"),B(window.location.href),window.anvLoader=new i(b),anvLoader.version=N,Q="media"in U?new n(b):null,window.accessControl=new r(anvLoader.getLoggerInstance(),null,null,S,Q),B("@initIframe",JSON.stringify(U,null,3)),window.iFrameConfig=U,accessControl.init(),anvLoader.setDerivedMetadataManager(G),anvLoader.onLoad=e}function I(e,t){var n=document.head,r=document.createElement("style");r.setAttribute("data-id",e),r.innerHTML=t,n.appendChild(r)}function y(){function e(e){B("@showInside isFlash",!!e.parentNode,!!accessControl);var t=[],n=!!e.parentNode;if(T.registerPlayer(D,e),e.getWidth=function(){var e=document.getElementById(D);return e?e.clientWidth:null},e.getHeight=function(){var e=document.getElementById(D);return e?e.clientHeight:null},e.injectStyle=function(e,t){I(e,t)},accessControl&&(accessControl.registerPlayer(e),e.authenticate=accessControl.authenticate,e.triggerUserInteraction=accessControl.onUserInteraction,window.onUserInteraction=accessControl.onUserInteraction,e.setSelectedProvider=accessControl.setSelectedProvider,e.getPreviewState=accessControl.getPreviewState,e.setToken=accessControl.setToken,e.setMVPD=accessControl.setMVPD),n)t=e.getAPIMethods(),t.push("getWidth"),t.push("getHeight"),t.push("authenticate"),t.push("triggerUserInteraction"),t.push("setSelectedProvider"),t.push("getPreviewState"),t.push("injectStyle"),t.push("setToken"),t.push("setMVPD"),U&&U.width&&U.width.indexOf("%")>-1&&(window.onresize=function(){var t=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],a=t.innerWidth||r.clientWidth||i.clientWidth;t.innerHeight||r.clientHeight||i.clientHeight;e.setAttribute("width",a),e.setAttribute("height",a*(9/16))});else{e.setListener(h),e.setExternalMediaCallListener(m);for(var r in e)t.push(r)}T.send(D,"remoteAgent","register",t)}if(B("@initIframedJS"),U.version=N,U.built=L,U.revision=O,U.excludedModules=P,U&&("mcp"in U||"accessKey"in U||"key"in U||"url"in U||"playlist"in U||"mpx"in U||"media"in U||"videoJsonUrl"in U||"videoJson"in U)){B("Loading IFRAMED JS"),window.anvLoader=new i(b),anvLoader.version=N,anvLoader.setListener(h),anvLoader.setExternalMediaCallListener(m),anvLoader.setDerivedMetadataManager(G),T.setLoader(window.anvLoader),proxyDispatcher.toggleBeacons(U.revealBeacons),proxyDispatcher.setListener(h),Q="media"in U?new n(b):null,anvLoader.onLoad=e,window.accessControl=new r(anvLoader.getLoggerInstance(),T,D,S,Q),accessControl.setListener(h),T.registerAccessControlInstance(accessControl),accessControl.init(U);var t=[];for(var a in anvLoader)t.push(a);T.send(D,"remoteAgent","register",t),T.send(D,"remoteAgent","event",{name:"KEY_VALUE_SET",info:"Player has sent a key-value pair",time:b.getTime(),args:["mergedConfig",U]})}}function v(){window.logger=b,window.anvLoader=new i(b),anvLoader.version=N,window.tve=S,window.lAgent=T,window.sender=D,anvLoader.setDerivedMetadataManager(G)}var C,b,B,w,S,Q,T,D,k,R,_,M,N="3.2.8",L="1",O="13e59dd",P=[],F={IFRAME:"IFRAME",IFRAMED_JS:"IFRAMED_JS",MANUAL:"MANUAL",accessKey:null,debug:!1,callback:null},U={},x={qa:"anvato_mcpqa_demo_web_stage_18b55e00db5a13faa8d03ae6e41f6f5bcb15b922",lin:"anvato_mcp_lin_web_prod_4c36fbfd4d8d8ecae6488656e21ac6d1ac972749",univison:"anvato_mcp_univision_web_prod_37fe34850c99a3b5cdb71dab10a417dd5cdecafa",uni:"anvato_mcp_univision_web_prod_37fe34850c99a3b5cdb71dab10a417dd5cdecafa",dev:"anvato_mcp_fs2go_web_prod_c7b90a93e171469cdca00a931211a2f556370d0a",sps:"anvato_mcp_sps_web_prod_54bdc90dd6ba21710e9f7074338365bba28da336",spsstg:"anvato_mcp_sps_web_prod_54bdc90dd6ba21710e9f7074338365bba28da336",anv:"anvato_mcp_anv_web_prod_791407490f4c1ef2a4bcb21103e0cb1bcb3352b3",gray:"anvato_mcp_gray_web_prod_4c10f067c393ed8fc453d3930f8ab2b159973900",hearst:"anvato_mcp_hearst_web_prod_5356c3de0fc7c90a3727b4863ca7fec3a4524a99",cbs:"anvato_mcp_cbs_web_prod_02f26581ff80e5bda7aad28226a8d369037f2cbe",telemundo:"anvato_mcp_telemundo_web_prod_c5278d51ad46fda4b6ca3d0ea44a7846a054f582"},G=new l;switch(window.proxyDispatcher=new a,window.Loader=i,w=function(){return e.getParameterByName("videojsonurl")||e.getParameterByName("key")||e.getParameterByName("mcp")||e.getParameterByName("url")||e.getParameterByName("media")?F.IFRAME:window.top!==window.self?F.IFRAMED_JS:F.MANUAL}()){case F.IFRAME:U=function(){var t,n=/\?(.*)/,r=n.exec(window.location.search),i={},a={m:"mcp",v:"video",p:"player",pl:"playlist",u:"url",videojsonurl:"videoJsonUrl",anvack:"accessKey"};if(null==r)return i;t=r[1].split("&");for(var o=0,s=t.length;o<s;o++){var l,A,d,c;if(d=/(\w*)\=(.+$)/g.exec(t[o]),3==d.length)if(l=d[1],A=decodeURIComponent(d[2]),"key"==l){c=JSON.parse(e.base64Decode(A));for(var u in c)c.hasOwnProperty(u)&&(l=u in a?a[u]:u,i[l]=c[u])}else i[l]=A}return i.hashPrefix="q1u1cgbnh06q",i.player=i.player||"default",i}(),U.excludedModules=P,window.iFrameConfig=U,F.debug=e.getParameterByName("debug"),F.accessKey=U.accessKey,F.callback=E;break;case F.IFRAMED_JS:T=new o,k=document.getElementsByTagName("script");for(var V=0,H=k.length;V<H;V++)if(k[V].getAttribute("data-anvp")){R=k[V];break}M=R.getAttribute("data-anvp"),_=M?JSON.parse(M.replace(/[\']/g,'"')):null,D=_&&_.pInstance||"default",U=_,_&&_.pInstance&&"undefined"!=typeof anvp&&anvp[_.pInstance]&&anvp[_.pInstance].config&&(U=merge(_,anvp[_.pInstance].config)),F.debug=U.debug,F.accessKey=U.accessKey,F.callback=y;break;case F.MANUAL:F.callback=v}b=new s(F.debug,!0,100,U.absTime,{dispatchEvent:h},U.logChunks),e.isSecureSocket()&&U&&(U.secureSocket=!0);try{U.host=e.getUrlParts(U.parentPageURL).host,U.referrer=e.getUrlParts(U.referrerURL).referrer}catch(e){console.error("error while detecting parent host/referrer",e,U.parentPageURL,U.referrerURL)}proxyDispatcher.setLogger(b),B=b.getLogFn("Main"),B("Utilized embed option:",w),B("thisScriptTag",R),B("@anvplayer data-anvp:",JSON.stringify(_)),B("@anvplayer mergedConfig:",JSON.stringify(U)),w!=F.MANUAL&&!F.accessKey&&U.mcp&&x[U.mcp.toLowerCase()]&&(U.accessKey=x[U.mcp.toLowerCase()],F.accessKey=U.accessKey,w==F.IFRAME&&(window.iFrameConfig.accessKey=U.accessKey),B("no accessKey given, tkxified the flow by injecting accessKey:",U.accessKey)),w!=F.MANUAL&&(S=new t(U,b),c()),C=e.getCookie("DEVICE_ID"),C||(C=e.createUUID(),e.setCookie("DEVICE_ID",C,new Date(Date.now()+15552e6))),U.deviceId=C,window.initPlayer=u}()});